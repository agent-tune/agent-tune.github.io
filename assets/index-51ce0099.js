function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var o={exports:{}},a={},i={exports:{}},s={},l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function S(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||x}function C(){}function E(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||x}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=S.prototype;var I=E.prototype=new C;I.constructor=E,w(I,S.prototype),I.isPureReactComponent=!0;var N=Array.isArray,T=Object.prototype.hasOwnProperty,R={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function $(e,t,n){var r,o={},a=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:l,type:e,key:a,ref:i,props:o,_owner:R.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var O=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var i=!1;if(null===e)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case l:case u:i=!0}}if(i)return o=o(i=e),e=""===r?"."+A(i,0):r,N(o)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),L(o,t,n,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=""===r?".":r+":",N(e))for(var s=0;s<e.length;s++){var c=r+A(a=e[s],s);i+=L(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),s=0;!(a=e.next()).done;)i+=L(a=a.value,t,n,c=r+A(a,s++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function P(e,t,n){if(null==e)return e;var r=[],o=0;return L(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},z={transition:null},B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:z,ReactCurrentOwner:R};function j(){throw Error("act(...) is not supported in production builds of React.")}s.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},s.Component=S,s.Fragment=c,s.Profiler=p,s.PureComponent=E,s.StrictMode=d,s.Suspense=g,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,s.act=j,s.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=w({},e.props),o=e.key,a=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,i=R.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)T.call(t,u)&&!_.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:l,type:e.type,key:o,ref:a,props:r,_owner:i}},s.createContext=function(e){return(e={$$typeof:h,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},s.createElement=$,s.createFactory=function(e){var t=$.bind(null,e);return t.type=e,t},s.createRef=function(){return{current:null}},s.forwardRef=function(e){return{$$typeof:m,render:e}},s.isValidElement=M,s.lazy=function(e){return{$$typeof:b,_payload:{_status:-1,_result:e},_init:D}},s.memo=function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},s.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},s.unstable_act=j,s.useCallback=function(e,t){return F.current.useCallback(e,t)},s.useContext=function(e){return F.current.useContext(e)},s.useDebugValue=function(){},s.useDeferredValue=function(e){return F.current.useDeferredValue(e)},s.useEffect=function(e,t){return F.current.useEffect(e,t)},s.useId=function(){return F.current.useId()},s.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},s.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},s.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},s.useMemo=function(e,t){return F.current.useMemo(e,t)},s.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},s.useRef=function(e){return F.current.useRef(e)},s.useState=function(e){return F.current.useState(e)},s.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},s.useTransition=function(){return F.current.useTransition()},s.version="18.3.1",i.exports=s;var W=i.exports;const V=n(W),H=e({__proto__:null,default:V},[W]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var U=W,G=Symbol.for("react.element"),q=Symbol.for("react.fragment"),Y=Object.prototype.hasOwnProperty,K=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,n){var r,o={},a=null,i=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(i=t.ref),t)Y.call(t,r)&&!X.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:G,type:e,key:a,ref:i,props:o,_owner:K.current}}a.Fragment=q,a.jsx=Q,a.jsxs=Q,o.exports=a;var Z=o.exports,J=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),ee="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,te="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ne="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(te):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var re=["top","right","bottom","left","width","height","size","weight"],oe="undefined"!=typeof MutationObserver,ae=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&s()}function i(){ne(a)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){ee&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),oe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ee&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;re.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ie=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},se=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||te},le=he(0,0,0,0);function ue(e){return parseFloat(e)||0}function ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ue(e["border-"+n+"-width"])}),0)}function de(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return le;var r=se(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],a=e["padding-"+o];t[o]=ue(a)}return t}(r),a=o.left+o.right,i=o.top+o.bottom,s=ue(r.width),l=ue(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=ce(r,"left","right")+a),Math.round(l+i)!==n&&(l-=ce(r,"top","bottom")+i)),!function(e){return e===se(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+i)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return he(o.left,o.top,s,l)}var pe="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof se(e).SVGGraphicsElement}:function(e){return e instanceof se(e).SVGElement&&"function"==typeof e.getBBox};function fe(e){return ee?pe(e)?function(e){var t=e.getBBox();return he(0,0,t.width,t.height)}(e):de(e):le}function he(e,t,n,r){return{x:e,y:t,width:n,height:r}}var me=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=he(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=fe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ge=function(e,t){var n,r,o,a,i,s,l,u=(r=(n=t).x,o=n.y,a=n.width,i=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),ie(l,{x:r,y:o,width:a,height:i,top:o,right:r+a,bottom:i+o,left:r}),l);ie(this,{target:e,contentRect:u})},ve=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new J,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof se(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new me(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof se(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new ge(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),be="undefined"!=typeof WeakMap?new WeakMap:new J,ye=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ae.getInstance(),r=new ve(t,n,this);be.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ye.prototype[e]=function(){var t;return(t=be.get(this))[e].apply(t,arguments)}}));var xe=void 0!==te.ResizeObserver?te.ResizeObserver:ye;function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(null,arguments)}function ke(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function Se(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Ce(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}window.ResizeObserver||(window.ResizeObserver=xe);var Ee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ie=Ce((function(e){return Ee.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Ne=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Te="-ms-",Re="-moz-",_e="-webkit-",$e="comm",Me="rule",Oe="decl",Ae="@keyframes",Le=Math.abs,Pe=String.fromCharCode,De=Object.assign;function Fe(e){return e.trim()}function ze(e,t,n){return e.replace(t,n)}function Be(e,t){return e.indexOf(t)}function je(e,t){return 0|e.charCodeAt(t)}function We(e,t,n){return e.slice(t,n)}function Ve(e){return e.length}function He(e){return e.length}function Ue(e,t){return t.push(e),e}var Ge=1,qe=1,Ye=0,Ke=0,Xe=0,Qe="";function Ze(e,t,n,r,o,a,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:Ge,column:qe,length:i,return:""}}function Je(e,t){return De(Ze("",null,null,"",null,null,0),e,{length:-e.length},t)}function et(){return Xe=Ke<Ye?je(Qe,Ke++):0,qe++,10===Xe&&(qe=1,Ge++),Xe}function tt(){return je(Qe,Ke)}function nt(){return Ke}function rt(e,t){return We(Qe,e,t)}function ot(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function at(e){return Ge=qe=1,Ye=Ve(Qe=e),Ke=0,[]}function it(e){return Qe="",e}function st(e){return Fe(rt(Ke-1,ct(91===e?e+2:40===e?e+1:e)))}function lt(e){for(;(Xe=tt())&&Xe<33;)et();return ot(e)>2||ot(Xe)>3?"":" "}function ut(e,t){for(;--t&&et()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return rt(e,nt()+(t<6&&32==tt()&&32==et()))}function ct(e){for(;et();)switch(Xe){case e:return Ke;case 34:case 39:34!==e&&39!==e&&ct(Xe);break;case 40:41===e&&ct(e);break;case 92:et()}return Ke}function dt(e,t){for(;et()&&e+Xe!==57&&(e+Xe!==84||47!==tt()););return"/*"+rt(t,Ke-1)+"*"+Pe(47===e?e:et())}function pt(e){for(;!ot(tt());)et();return rt(e,Ke)}function ft(e){return it(ht("",null,null,null,[""],e=at(e),0,[0],e))}function ht(e,t,n,r,o,a,i,s,l){for(var u=0,c=0,d=i,p=0,f=0,h=0,m=1,g=1,v=1,b=0,y="",x=o,w=a,k=r,S=y;g;)switch(h=b,b=et()){case 40:if(108!=h&&58==je(S,d-1)){-1!=Be(S+=ze(st(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=st(b);break;case 9:case 10:case 13:case 32:S+=lt(h);break;case 92:S+=ut(nt()-1,7);continue;case 47:switch(tt()){case 42:case 47:Ue(gt(dt(et(),nt()),t,n),l);break;default:S+="/"}break;case 123*m:s[u++]=Ve(S)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+c:-1==v&&(S=ze(S,/\f/g,"")),f>0&&Ve(S)-d&&Ue(f>32?vt(S+";",r,n,d-1):vt(ze(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(Ue(k=mt(S,t,n,u,c,o,s,y,x=[],w=[],d),a),123===b)if(0===c)ht(S,t,k,k,x,a,d,s,w);else switch(99===p&&110===je(S,3)?100:p){case 100:case 108:case 109:case 115:ht(e,k,k,r&&Ue(mt(e,k,k,0,0,o,s,y,o,x=[],d),w),o,w,d,s,r?x:w);break;default:ht(S,k,k,k,[""],w,0,s,w)}}u=c=f=0,m=v=1,y=S="",d=i;break;case 58:d=1+Ve(S),f=h;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==(Xe=Ke>0?je(Qe,--Ke):0,qe--,10===Xe&&(qe=1,Ge--),Xe))continue;switch(S+=Pe(b),b*m){case 38:v=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(Ve(S)-1)*v,v=1;break;case 64:45===tt()&&(S+=st(et())),p=tt(),c=d=Ve(y=S+=pt(nt())),b++;break;case 45:45===h&&2==Ve(S)&&(m=0)}}return a}function mt(e,t,n,r,o,a,i,s,l,u,c){for(var d=o-1,p=0===o?a:[""],f=He(p),h=0,m=0,g=0;h<r;++h)for(var v=0,b=We(e,d+1,d=Le(m=i[h])),y=e;v<f;++v)(y=Fe(m>0?p[v]+" "+b:ze(b,/&\f/g,p[v])))&&(l[g++]=y);return Ze(e,t,n,0===o?Me:s,l,u,c)}function gt(e,t,n){return Ze(e,t,n,$e,Pe(Xe),We(e,2,-2),0)}function vt(e,t,n,r){return Ze(e,t,n,Oe,We(e,0,r),We(e,r+1,-1),r)}function bt(e,t){for(var n="",r=He(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function yt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Oe:return e.return=e.return||e.value;case $e:return"";case Ae:return e.return=e.value+"{"+bt(e.children,r)+"}";case Me:e.value=e.props.join(",")}return Ve(n=bt(e.children,r))?e.return=e.value+"{"+n+"}":""}var xt=function(e,t,n){for(var r=0,o=0;r=o,o=tt(),38===r&&12===o&&(t[n]=1),!ot(o);)et();return rt(e,Ke)},wt=function(e,t){return it(function(e,t){var n=-1,r=44;do{switch(ot(r)){case 0:38===r&&12===tt()&&(t[n]=1),e[n]+=xt(Ke-1,t,n);break;case 2:e[n]+=st(r);break;case 4:if(44===r){e[++n]=58===tt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Pe(r)}}while(r=et());return e}(at(e),t))},kt=new WeakMap,St=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||kt.get(n))&&!r){kt.set(e,!0);for(var o=[],a=wt(t,o),i=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<i.length;u++,l++)e.props[l]=o[s]?a[s].replace(/&\f/g,i[u]):i[u]+" "+a[s]}}},Ct=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Et(e,t){switch(function(e,t){return 45^je(e,0)?(((t<<2^je(e,0))<<2^je(e,1))<<2^je(e,2))<<2^je(e,3):0}(e,t)){case 5103:return _e+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _e+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _e+e+Re+e+Te+e+e;case 6828:case 4268:return _e+e+Te+e+e;case 6165:return _e+e+Te+"flex-"+e+e;case 5187:return _e+e+ze(e,/(\w+).+(:[^]+)/,_e+"box-$1$2"+Te+"flex-$1$2")+e;case 5443:return _e+e+Te+"flex-item-"+ze(e,/flex-|-self/,"")+e;case 4675:return _e+e+Te+"flex-line-pack"+ze(e,/align-content|flex-|-self/,"")+e;case 5548:return _e+e+Te+ze(e,"shrink","negative")+e;case 5292:return _e+e+Te+ze(e,"basis","preferred-size")+e;case 6060:return _e+"box-"+ze(e,"-grow","")+_e+e+Te+ze(e,"grow","positive")+e;case 4554:return _e+ze(e,/([^-])(transform)/g,"$1"+_e+"$2")+e;case 6187:return ze(ze(ze(e,/(zoom-|grab)/,_e+"$1"),/(image-set)/,_e+"$1"),e,"")+e;case 5495:case 3959:return ze(e,/(image-set\([^]*)/,_e+"$1$`$1");case 4968:return ze(ze(e,/(.+:)(flex-)?(.*)/,_e+"box-pack:$3"+Te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_e+e+e;case 4095:case 3583:case 4068:case 2532:return ze(e,/(.+)-inline(.+)/,_e+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ve(e)-1-t>6)switch(je(e,t+1)){case 109:if(45!==je(e,t+4))break;case 102:return ze(e,/(.+:)(.+)-([^]+)/,"$1"+_e+"$2-$3$1"+Re+(108==je(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Be(e,"stretch")?Et(ze(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==je(e,t+1))break;case 6444:switch(je(e,Ve(e)-3-(~Be(e,"!important")&&10))){case 107:return ze(e,":",":"+_e)+e;case 101:return ze(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_e+(45===je(e,14)?"inline-":"")+"box$3$1"+_e+"$2$3$1"+Te+"$2box$3")+e}break;case 5936:switch(je(e,t+11)){case 114:return _e+e+Te+ze(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _e+e+Te+ze(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _e+e+Te+ze(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _e+e+Te+e+e}return e}var It=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Oe:e.return=Et(e.value,e.length);break;case Ae:return bt([Je(e,{value:ze(e.value,"@","@"+_e)})],r);case Me:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bt([Je(e,{props:[ze(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return bt([Je(e,{props:[ze(t,/:(plac\w+)/,":"+_e+"input-$1")]}),Je(e,{props:[ze(t,/:(plac\w+)/,":-moz-$1")]}),Je(e,{props:[ze(t,/:(plac\w+)/,Te+"input-$1")]})],r)}return""}))}}],Nt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,a=e.stylisPlugins||It,i={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;s.push(e)}));var l,u,c,d,p=[yt,(d=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(u=[St,Ct].concat(a,p),c=He(u),function(e,t,n,r){for(var o="",a=0;a<c;a++)o+=u[a](e,t,n,r)||"";return o});o=function(e,t,n,r){l=n,bt(ft(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ne({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:o};return h.sheet.hydrate(s),h},Tt={exports:{}},Rt={},_t="function"==typeof Symbol&&Symbol.for,$t=_t?Symbol.for("react.element"):60103,Mt=_t?Symbol.for("react.portal"):60106,Ot=_t?Symbol.for("react.fragment"):60107,At=_t?Symbol.for("react.strict_mode"):60108,Lt=_t?Symbol.for("react.profiler"):60114,Pt=_t?Symbol.for("react.provider"):60109,Dt=_t?Symbol.for("react.context"):60110,Ft=_t?Symbol.for("react.async_mode"):60111,zt=_t?Symbol.for("react.concurrent_mode"):60111,Bt=_t?Symbol.for("react.forward_ref"):60112,jt=_t?Symbol.for("react.suspense"):60113,Wt=_t?Symbol.for("react.suspense_list"):60120,Vt=_t?Symbol.for("react.memo"):60115,Ht=_t?Symbol.for("react.lazy"):60116,Ut=_t?Symbol.for("react.block"):60121,Gt=_t?Symbol.for("react.fundamental"):60117,qt=_t?Symbol.for("react.responder"):60118,Yt=_t?Symbol.for("react.scope"):60119;function Kt(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case $t:switch(e=e.type){case Ft:case zt:case Ot:case Lt:case At:case jt:return e;default:switch(e=e&&e.$$typeof){case Dt:case Bt:case Ht:case Vt:case Pt:return e;default:return t}}case Mt:return t}}}function Xt(e){return Kt(e)===zt}Rt.AsyncMode=Ft,Rt.ConcurrentMode=zt,Rt.ContextConsumer=Dt,Rt.ContextProvider=Pt,Rt.Element=$t,Rt.ForwardRef=Bt,Rt.Fragment=Ot,Rt.Lazy=Ht,Rt.Memo=Vt,Rt.Portal=Mt,Rt.Profiler=Lt,Rt.StrictMode=At,Rt.Suspense=jt,Rt.isAsyncMode=function(e){return Xt(e)||Kt(e)===Ft},Rt.isConcurrentMode=Xt,Rt.isContextConsumer=function(e){return Kt(e)===Dt},Rt.isContextProvider=function(e){return Kt(e)===Pt},Rt.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===$t},Rt.isForwardRef=function(e){return Kt(e)===Bt},Rt.isFragment=function(e){return Kt(e)===Ot},Rt.isLazy=function(e){return Kt(e)===Ht},Rt.isMemo=function(e){return Kt(e)===Vt},Rt.isPortal=function(e){return Kt(e)===Mt},Rt.isProfiler=function(e){return Kt(e)===Lt},Rt.isStrictMode=function(e){return Kt(e)===At},Rt.isSuspense=function(e){return Kt(e)===jt},Rt.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Ot||e===zt||e===Lt||e===At||e===jt||e===Wt||"object"==typeof e&&null!==e&&(e.$$typeof===Ht||e.$$typeof===Vt||e.$$typeof===Pt||e.$$typeof===Dt||e.$$typeof===Bt||e.$$typeof===Gt||e.$$typeof===qt||e.$$typeof===Yt||e.$$typeof===Ut)},Rt.typeOf=Kt,Tt.exports=Rt;var Qt=Tt.exports,Zt={};Zt[Qt.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zt[Qt.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};function Jt(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var en=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},tn=function(e,t,n){en(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var nn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rn=/[A-Z]|^ms/g,on=/_EMO_([^_]+?)_([^]*?)_EMO_/g,an=function(e){return 45===e.charCodeAt(1)},sn=function(e){return null!=e&&"boolean"!=typeof e},ln=Ce((function(e){return an(e)?e:e.replace(rn,"-$&").toLowerCase()})),un=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(on,(function(e,t,n){return dn={name:t,styles:n,next:dn},t}))}return 1===nn[e]||an(e)||"number"!=typeof t||0===t?t:t+"px"};function cn(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return dn={name:o.name,styles:o.styles,next:dn},o.name;var a=n;if(void 0!==a.styles){var i=a.next;if(void 0!==i)for(;void 0!==i;)dn={name:i.name,styles:i.styles,next:dn},i=i.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=cn(e,t,n[o])+";";else for(var a in n){var i=n[a];if("object"!=typeof i){var s=i;null!=t&&void 0!==t[s]?r+=a+"{"+t[s]+"}":sn(s)&&(r+=ln(a)+":"+un(a,s)+";")}else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=cn(e,t,i);switch(a){case"animation":case"animationName":r+=ln(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var u=0;u<i.length;u++)sn(i[u])&&(r+=ln(a)+":"+un(a,i[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=dn,l=n(e);return dn=s,cn(e,t,l)}}var u=n;if(null==t)return u;var c=t[u];return void 0!==c?c:u}var dn,pn=/label:\s*([^\s;{]+)\s*(;|$)/g;function fn(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";dn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,o+=cn(n,t,a)):o+=a[0];for(var i=1;i<e.length;i++){if(o+=cn(n,t,e[i]),r)o+=a[i]}pn.lastIndex=0;for(var s,l="";null!==(s=pn.exec(o));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:u,styles:o,next:dn}}var hn=!!H.useInsertionEffect&&H.useInsertionEffect,mn=hn||function(e){return e()},gn=hn||W.useLayoutEffect,vn=W.createContext("undefined"!=typeof HTMLElement?Nt({key:"css"}):null),bn=vn.Provider,yn=function(e){return W.forwardRef((function(t,n){var r=W.useContext(vn);return e(t,r,n)}))},xn=W.createContext({}),wn=yn((function(e,t){var n=fn([e.styles],void 0,W.useContext(xn)),r=W.useRef();return gn((function(){var e=t.key+"-global",o=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,i=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),null!==i&&(a=!0,i.setAttribute("data-emotion",e),o.hydrate([i])),r.current=[o,a],function(){o.flush()}}),[t]),gn((function(){var e=r.current,o=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&tn(t,n.next,!0),o.tags.length){var a=o.tags[o.tags.length-1].nextElementSibling;o.before=a,o.flush()}t.insert("",n,o,!1)}}),[t,n.name]),null}));function kn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fn(t)}var Sn=function(){var e=kn.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Cn=Ie,En=function(e){return"theme"!==e},In=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Cn:En},Nn=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},Tn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return en(t,n,r),mn((function(){return tn(t,n,r)})),null};const Rn=function e(t,n){var r,o,a=t.__emotion_real===t,i=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var s=Nn(t,n,a),l=s||In(i),u=!l("as");return function(){var c=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==c[0]||void 0===c[0].raw)d.push.apply(d,c);else{d.push(c[0][0]);for(var p=c.length,f=1;f<p;f++)d.push(c[f],c[0][f])}var h=yn((function(e,t,n){var r=u&&e.as||i,a="",c=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=W.useContext(xn)}"string"==typeof e.className?a=Jt(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var h=fn(d.concat(c),t.registered,p);a+=t.key+"-"+h.name,void 0!==o&&(a+=" "+o);var m=u&&void 0===s?In(r):l,g={};for(var v in e)u&&"as"===v||m(v)&&(g[v]=e[v]);return g.className=a,g.ref=n,W.createElement(W.Fragment,null,W.createElement(Tn,{cache:t,serialized:h,isStringTag:"string"==typeof r}),W.createElement(r,g))}));return h.displayName=void 0!==r?r:"Styled("+("string"==typeof i?i:i.displayName||i.name||"Component")+")",h.defaultProps=t.defaultProps,h.__emotion_real=h,h.__emotion_base=i,h.__emotion_styles=d,h.__emotion_forwardProp=s,Object.defineProperty(h,"toString",{value:function(){return"."+o}}),h.withComponent=function(t,r){return e(t,we({},n,r,{shouldForwardProp:Nn(h,r,!0)})).apply(void 0,d)},h}};var _n=Rn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){_n[e]=_n(e)}));const $n=_n;function Mn(e){const{styles:t,defaultTheme:n={}}=e,r="function"==typeof t?e=>{return t(null==(r=e)||0===Object.keys(r).length?n:e);var r}:t;return Z.jsx(wn,{styles:r})}
/**
 * @mui/styled-engine v5.16.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function On(e,t){return $n(e,t)}function An(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function Ln(e){if(W.isValidElement(e)||!An(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=Ln(e[n])})),t}function Pn(e,t,n={clone:!0}){const r=n.clone?we({},e):e;return An(e)&&An(t)&&Object.keys(t).forEach((o=>{W.isValidElement(t[o])?r[o]=t[o]:An(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&An(e[o])?r[o]=Pn(e[o],t[o],n):n.clone?r[o]=An(t[o])?Ln(t[o]):t[o]:r[o]=t[o]})),r}const Dn=["values","unit","step"];function Fn(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=ke(e,Dn),a=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>we({},e,{[t.key]:t.val})),{})})(t),i=Object.keys(a);function s(e){return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"==typeof t[e]?t[e]:e)-r/100}${n})`}function u(e,o){const a=i.indexOf(o);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==a&&"number"==typeof t[i[a]]?t[i[a]]:o)-r/100}${n})`}return we({keys:i,values:a,up:s,down:l,between:u,only:function(e){return i.indexOf(e)+1<i.length?u(e,i[i.indexOf(e)+1]):s(e)},not:function(e){const t=i.indexOf(e);return 0===t?s(i[1]):t===i.length-1?l(i[t]):u(e,i[i.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},o)}const zn={borderRadius:4};function Bn(e,t){return t?Pn(e,t,{clone:!1}):e}const jn={xs:0,sm:600,md:900,lg:1200,xl:1536},Wn={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${jn[e]}px)`};function Vn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||Wn;return t.reduce(((r,o,a)=>(r[e.up(e.keys[a])]=n(t[a]),r)),{})}if("object"==typeof t){const e=r.breakpoints||Wn;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||jn).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function Hn(e={}){var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function Un(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Gn({values:e,breakpoints:t,base:n}){const r=n||function(e,t){if("object"!=typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(e,t),o=Object.keys(r);if(0===o.length)return e;let a;return o.reduce(((t,n,r)=>(Array.isArray(e)?(t[n]=null!=e[r]?e[r]:e[a],a=r):"object"==typeof e?(t[n]=null!=e[n]?e[n]:e[a],a=n):t[n]=e,t)),{})}function qn(e){if("string"!=typeof e)throw new Error(Se(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Yn(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function Kn(e,t,n,r=n){let o;return o="function"==typeof e?e(n):Array.isArray(e)?e[n]||r:Yn(e,n)||r,t&&(o=t(o,r,e)),o}function Xn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,a=e=>{if(null==e[t])return null;const a=e[t],i=Yn(e.theme,r)||{};return Vn(e,a,(e=>{let r=Kn(i,o,e);return e===r&&"string"==typeof e&&(r=Kn(i,o,`${t}${"default"===e?"":qn(e)}`,e)),!1===n?r:{[n]:r}}))};return a.propTypes={},a.filterProps=[t],a}const Qn={m:"margin",p:"padding"},Zn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Jn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},er=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!Jn[e])return[e];e=Jn[e]}const[t,n]=e.split(""),r=Qn[t],o=Zn[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),tr=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],nr=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];function rr(e,t,n,r){var o;const a=null!=(o=Yn(e,t,!1))?o:n;return"number"==typeof a?e=>"string"==typeof e?e:a*e:Array.isArray(a)?e=>"string"==typeof e?e:a[e]:"function"==typeof a?a:()=>{}}function or(e){return rr(e,"spacing",8)}function ar(e,t){if("string"==typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:`-${n}`}function ir(e,t,n,r){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=ar(t,n),e)),{})}(er(n),r);return Vn(e,e[n],o)}function sr(e,t){const n=or(e.theme);return Object.keys(e).map((r=>ir(e,t,r,n))).reduce(Bn,{})}function lr(e){return sr(e,tr)}function ur(e){return sr(e,nr)}function cr(...e){const t=e.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),n=e=>Object.keys(e).reduce(((n,r)=>t[r]?Bn(n,t[r](e)):n),{});return n.propTypes={},n.filterProps=e.reduce(((e,t)=>e.concat(t.filterProps)),[]),n}function dr(e){return"number"!=typeof e?e:`${e}px solid`}function pr(e,t){return Xn({prop:e,themeKey:"borders",transform:t})}lr.propTypes={},lr.filterProps=tr,ur.propTypes={},ur.filterProps=nr;const fr=pr("border",dr),hr=pr("borderTop",dr),mr=pr("borderRight",dr),gr=pr("borderBottom",dr),vr=pr("borderLeft",dr),br=pr("borderColor"),yr=pr("borderTopColor"),xr=pr("borderRightColor"),wr=pr("borderBottomColor"),kr=pr("borderLeftColor"),Sr=pr("outline",dr),Cr=pr("outlineColor"),Er=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=rr(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:ar(t,e)});return Vn(e,e.borderRadius,n)}return null};Er.propTypes={},Er.filterProps=["borderRadius"],cr(fr,hr,mr,gr,vr,br,yr,xr,wr,kr,Er,Sr,Cr);const Ir=e=>{if(void 0!==e.gap&&null!==e.gap){const t=rr(e.theme,"spacing",8),n=e=>({gap:ar(t,e)});return Vn(e,e.gap,n)}return null};Ir.propTypes={},Ir.filterProps=["gap"];const Nr=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=rr(e.theme,"spacing",8),n=e=>({columnGap:ar(t,e)});return Vn(e,e.columnGap,n)}return null};Nr.propTypes={},Nr.filterProps=["columnGap"];const Tr=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=rr(e.theme,"spacing",8),n=e=>({rowGap:ar(t,e)});return Vn(e,e.rowGap,n)}return null};Tr.propTypes={},Tr.filterProps=["rowGap"];function Rr(e,t){return"grey"===t?t:e}cr(Ir,Nr,Tr,Xn({prop:"gridColumn"}),Xn({prop:"gridRow"}),Xn({prop:"gridAutoFlow"}),Xn({prop:"gridAutoColumns"}),Xn({prop:"gridAutoRows"}),Xn({prop:"gridTemplateColumns"}),Xn({prop:"gridTemplateRows"}),Xn({prop:"gridTemplateAreas"}),Xn({prop:"gridArea"}));function _r(e){return e<=1&&0!==e?100*e+"%":e}cr(Xn({prop:"color",themeKey:"palette",transform:Rr}),Xn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rr}),Xn({prop:"backgroundColor",themeKey:"palette",transform:Rr}));const $r=Xn({prop:"width",transform:_r}),Mr=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||jn[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:_r(t)}};return Vn(e,e.maxWidth,t)}return null};Mr.filterProps=["maxWidth"];const Or=Xn({prop:"minWidth",transform:_r}),Ar=Xn({prop:"height",transform:_r}),Lr=Xn({prop:"maxHeight",transform:_r}),Pr=Xn({prop:"minHeight",transform:_r});Xn({prop:"size",cssProperty:"width",transform:_r}),Xn({prop:"size",cssProperty:"height",transform:_r});cr($r,Mr,Or,Ar,Lr,Pr,Xn({prop:"boxSizing"}));const Dr={border:{themeKey:"borders",transform:dr},borderTop:{themeKey:"borders",transform:dr},borderRight:{themeKey:"borders",transform:dr},borderBottom:{themeKey:"borders",transform:dr},borderLeft:{themeKey:"borders",transform:dr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:dr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Er},color:{themeKey:"palette",transform:Rr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rr},backgroundColor:{themeKey:"palette",transform:Rr},p:{style:ur},pt:{style:ur},pr:{style:ur},pb:{style:ur},pl:{style:ur},px:{style:ur},py:{style:ur},padding:{style:ur},paddingTop:{style:ur},paddingRight:{style:ur},paddingBottom:{style:ur},paddingLeft:{style:ur},paddingX:{style:ur},paddingY:{style:ur},paddingInline:{style:ur},paddingInlineStart:{style:ur},paddingInlineEnd:{style:ur},paddingBlock:{style:ur},paddingBlockStart:{style:ur},paddingBlockEnd:{style:ur},m:{style:lr},mt:{style:lr},mr:{style:lr},mb:{style:lr},ml:{style:lr},mx:{style:lr},my:{style:lr},margin:{style:lr},marginTop:{style:lr},marginRight:{style:lr},marginBottom:{style:lr},marginLeft:{style:lr},marginX:{style:lr},marginY:{style:lr},marginInline:{style:lr},marginInlineStart:{style:lr},marginInlineEnd:{style:lr},marginBlock:{style:lr},marginBlockStart:{style:lr},marginBlockEnd:{style:lr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ir},rowGap:{style:Tr},columnGap:{style:Nr},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_r},maxWidth:{style:Mr},minWidth:{transform:_r},height:{transform:_r},maxHeight:{transform:_r},minHeight:{transform:_r},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};const Fr=function(){function e(e,t,n,r){const o={[e]:t,theme:n},a=r[e];if(!a)return{[e]:t};const{cssProperty:i=e,themeKey:s,transform:l,style:u}=a;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const c=Yn(n,s)||{};if(u)return u(o);return Vn(o,t,(t=>{let n=Kn(c,l,t);return t===n&&"string"==typeof t&&(n=Kn(c,l,`${e}${"default"===t?"":qn(t)}`,t)),!1===i?n:{[i]:n}}))}return function t(n){var r;const{sx:o,theme:a={}}=n||{};if(!o)return null;const i=null!=(r=a.unstable_sxConfig)?r:Dr;function s(n){let r=n;if("function"==typeof n)r=n(a);else if("object"!=typeof n)return n;if(!r)return null;const o=Hn(a.breakpoints),s=Object.keys(o);let l=o;return Object.keys(r).forEach((n=>{const o=(s=r[n],u=a,"function"==typeof s?s(u):s);var s,u;if(null!=o)if("object"==typeof o)if(i[n])l=Bn(l,e(n,o,a,i));else{const e=Vn({theme:a},o,(e=>({[n]:e})));!function(...e){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]),n=new Set(t);return e.every((e=>n.size===Object.keys(e).length))}(e,o)?l=Bn(l,e):l[n]=t({sx:o,theme:a})}else l=Bn(l,e(n,o,a,i))})),Un(s,l)}return Array.isArray(o)?o.map(s):s(o)}}();Fr.filterProps=["sx"];const zr=Fr;function Br(e,t){const n=this;if(n.vars&&"function"==typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}const jr=["breakpoints","palette","spacing","shape"];function Wr(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:a={}}=e,i=ke(e,jr),s=Fn(n),l=function(e=8){if(e.mui)return e;const t=or({spacing:e}),n=(...e)=>(0===e.length?[1]:e).map((e=>{const n=t(e);return"number"==typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(o);let u=Pn({breakpoints:s,direction:"ltr",components:{},palette:we({mode:"light"},r),spacing:l,shape:we({},zn,a)},i);return u.applyStyles=Br,u=t.reduce(((e,t)=>Pn(e,t)),u),u.unstable_sxConfig=we({},Dr,null==i?void 0:i.unstable_sxConfig),u.unstable_sx=function(e){return zr({sx:e,theme:this})},u}function Vr(e=null){const t=W.useContext(xn);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}const Hr=Wr();function Ur(e=Hr){return Vr(e)}function Gr({styles:e,themeId:t,defaultTheme:n={}}){const r=Ur(n),o="function"==typeof e?e(t&&r[t]||r):e;return Z.jsx(Mn,{styles:o})}const qr=["sx"];function Yr(e){const{sx:t}=e,n=ke(e,qr),{systemProps:r,otherProps:o}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:Dr;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let a;return a=Array.isArray(t)?[r,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return An(n)?we({},r,n):r}:we({},r,t),we({},o,{sx:a})}const Kr=e=>e,Xr=(()=>{let e=Kr;return{configure(t){e=t},generate:t=>e(t),reset(){e=Kr}}})();function Qr(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Qr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zr(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Qr(e))&&(r&&(r+=" "),r+=t);return r}const Jr=["className","component"];const eo={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function to(e,t,n="Mui"){const r=eo[t];return r?`${n}-${r}`:`${Xr.generate(e)}-${t}`}function no(e,t,n="Mui"){const r={};return t.forEach((t=>{r[t]=to(e,t,n)})),r}const ro=["ownerState"],oo=["variants"],ao=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function io(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const so=Wr(),lo=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function uo({defaultTheme:e,theme:t,themeId:n}){return r=t,0===Object.keys(r).length?e:t[n]||t;var r}function co(e){return e?(t,n)=>n[e]:null}function po(e,t){let{ownerState:n}=t,r=ke(t,ro);const o="function"==typeof e?e(we({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>po(e,we({ownerState:n},r))));if(o&&"object"==typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=ke(o,oo);return e.forEach((e=>{let o=!0;"function"==typeof e.props?o=e.props(we({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style(we({ownerState:n},r,n)):e.style))})),t}return o}function fo(e={}){const{themeId:t,defaultTheme:n=so,rootShouldForwardProp:r=io,slotShouldForwardProp:o=io}=e,a=e=>zr(we({},e,{theme:uo(we({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(e,i={})=>{((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:d=co(lo(l))}=i,p=ke(i,ao),f=void 0!==u?u:l&&"Root"!==l&&"root"!==l||!1,h=c||!1;let m=io;"Root"===l||"root"===l?m=r:l?m=o:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=On(e,we({shouldForwardProp:m,label:undefined},p)),v=e=>"function"==typeof e&&e.__emotion_real!==e||An(e)?r=>po(e,we({},r,{theme:uo({theme:r.theme,defaultTheme:n,themeId:t})})):e,b=(r,...o)=>{let i=v(r);const l=o?o.map(v):[];s&&d&&l.push((e=>{const r=uo(we({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const o=r.components[s].styleOverrides,a={};return Object.entries(o).forEach((([t,n])=>{a[t]=po(n,we({},e,{theme:r}))})),d(e,a)})),s&&!f&&l.push((e=>{var r;const o=uo(we({},e,{defaultTheme:n,themeId:t}));return po({variants:null==o||null==(r=o.components)||null==(r=r[s])?void 0:r.variants},we({},e,{theme:o}))})),h||l.push(a);const u=l.length-o.length;if(Array.isArray(r)&&u>0){const e=new Array(u).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const c=g(i,...l);return e.muiName&&(c.muiName=e.muiName),c};return g.withConfig&&(b.withConfig=g.withConfig),b}}const ho=fo();function mo(e,t){const n=we({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=we({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?o&&Object.keys(o)?(n[r]=we({},a),Object.keys(o).forEach((e=>{n[r][e]=mo(o[e],a[e])}))):n[r]=a:n[r]=o}else void 0===n[r]&&(n[r]=e[r])})),n}function go(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?mo(t.components[n].defaultProps,r):r}function vo({props:e,name:t,defaultTheme:n,themeId:r}){let o=Ur(n);r&&(o=o[r]||o);return go({theme:o,name:t,props:e})}const bo="undefined"!=typeof window?W.useLayoutEffect:W.useEffect;function yo(e,t=0,n=1){return function(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}(e,t,n)}function xo(e){if(e.type)return e;if("#"===e.charAt(0))return xo(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Se(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Se(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}function wo(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function ko(e){let t="hsl"===(e=xo(e)).type||"hsla"===e.type?xo(function(e){e=xo(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,a=r*Math.min(o,1-o),i=(e,t=(e+n/30)%12)=>o-a*Math.max(Math.min(t-3,9-t,1),-1);let s="rgb";const l=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),wo({type:s,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function So(e,t){return e=xo(e),t=yo(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,wo(e)}function Co(e,t){if(e=xo(e),t=yo(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return wo(e)}function Eo(e,t){if(e=xo(e),t=yo(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return wo(e)}function Io(e,t=.15){return ko(e)>.5?Co(e,t):Eo(e,t)}function No(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))}function To(e,t=166){let n;function r(...r){clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}return r.clear=()=>{clearTimeout(n)},r}function Ro(e,t){var n,r;return W.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)}function _o(e){return e&&e.ownerDocument||document}function $o(e){return _o(e).defaultView||window}function Mo(e,t){"function"==typeof e?e(t):e&&(e.current=t)}let Oo=0;const Ao=H["useId".toString()];function Lo(e){if(void 0!==Ao){const t=Ao();return null!=e?e:t}return function(e){const[t,n]=W.useState(e),r=e||t;return W.useEffect((()=>{null==t&&(Oo+=1,n(`mui-${Oo}`))}),[t]),r}(e)}function Po({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=W.useRef(void 0!==e),[a,i]=W.useState(t);return[o?e:a,W.useCallback((e=>{o||i(e)}),[])]}function Do(e){const t=W.useRef(e);return bo((()=>{t.current=e})),W.useRef(((...e)=>(0,t.current)(...e))).current}function Fo(...e){return W.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{Mo(e,t)}))}),e)}class zo{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new zo}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}let Bo=!0,jo=!1;const Wo=new zo,Vo={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ho(e){e.metaKey||e.altKey||e.ctrlKey||(Bo=!0)}function Uo(){Bo=!1}function Go(){"hidden"===this.visibilityState&&jo&&(Bo=!0)}function qo(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return Bo||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!Vo[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function Yo(){const e=W.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Ho,!0),t.addEventListener("mousedown",Uo,!0),t.addEventListener("pointerdown",Uo,!0),t.addEventListener("touchstart",Uo,!0),t.addEventListener("visibilitychange",Go,!0))}),[]),t=W.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!qo(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(jo=!0,Wo.start(100,(()=>{jo=!1})),t.current=!1,!0)},ref:e}}function Ko(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let Xo;function Qo(){if(Xo)return Xo;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Xo="reverse",e.scrollLeft>0?Xo="default":(e.scrollLeft=1,0===e.scrollLeft&&(Xo="negative")),document.body.removeChild(e),Xo}function Zo(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(Qo()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}const Jo=e=>{const t=W.useRef({});return W.useEffect((()=>{t.current=e})),t.current},ea={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function ta(e,t,n=void 0){const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}const na=W.createContext(null);function ra(){return W.useContext(na)}const oa="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";function aa(e){const{children:t,theme:n}=e,r=ra(),o=W.useMemo((()=>{const e=null===r?n:function(e,t){if("function"==typeof t)return t(e);return we({},e,t)}(r,n);return null!=e&&(e[oa]=null!==r),e}),[n,r]);return Z.jsx(na.Provider,{value:o,children:t})}const ia=["value"],sa=W.createContext();function la(e){let{value:t}=e,n=ke(e,ia);return Z.jsx(sa.Provider,we({value:null==t||t},n))}const ua=W.createContext(void 0);function ca({value:e,children:t}){return Z.jsx(ua.Provider,{value:e,children:t})}const da={};function pa(e,t,n,r=!1){return W.useMemo((()=>{const o=e&&t[e]||t;if("function"==typeof n){const a=n(o),i=e?we({},t,{[e]:a}):a;return r?()=>i:i}return we({},t,e?{[e]:n}:n)}),[e,t,n,r])}function fa(e){const{children:t,theme:n,themeId:r}=e,o=Vr(da),a=ra()||da,i=pa(r,o,n),s=pa(r,a,n,!0),l="rtl"===i.direction;return Z.jsx(aa,{theme:s,children:Z.jsx(xn.Provider,{value:i,children:Z.jsx(la,{value:l,children:Z.jsx(ca,{value:null==i?void 0:i.components,children:t})})})})}const ha=["className","component","disableGutters","fixed","maxWidth","classes"],ma=Wr(),ga=ho("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${qn(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),va=e=>vo({props:e,name:"MuiContainer",defaultTheme:ma});const ba={black:"#000",white:"#fff"},ya={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},xa={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},wa={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ka={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Sa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ca={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ea={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ia=["mode","contrastThreshold","tonalOffset"],Na={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ba.white,default:ba.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ta={text:{primary:ba.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ba.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ra(e,t,n,r){const o=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Eo(e.main,o):"dark"===t&&(e.dark=Co(e.main,a)))}function _a(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=ke(e,Ia),a=e.primary||function(e="light"){return"dark"===e?{main:Sa[200],light:Sa[50],dark:Sa[400]}:{main:Sa[700],light:Sa[400],dark:Sa[800]}}(t),i=e.secondary||function(e="light"){return"dark"===e?{main:xa[200],light:xa[50],dark:xa[400]}:{main:xa[500],light:xa[300],dark:xa[700]}}(t),s=e.error||function(e="light"){return"dark"===e?{main:wa[500],light:wa[300],dark:wa[700]}:{main:wa[700],light:wa[400],dark:wa[800]}}(t),l=e.info||function(e="light"){return"dark"===e?{main:Ca[400],light:Ca[300],dark:Ca[700]}:{main:Ca[700],light:Ca[500],dark:Ca[900]}}(t),u=e.success||function(e="light"){return"dark"===e?{main:Ea[400],light:Ea[300],dark:Ea[700]}:{main:Ea[800],light:Ea[500],dark:Ea[900]}}(t),c=e.warning||function(e="light"){return"dark"===e?{main:ka[400],light:ka[300],dark:ka[700]}:{main:"#ed6c02",light:ka[500],dark:ka[900]}}(t);function d(e){const t=function(e,t){const n=ko(e),r=ko(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Ta.text.primary)>=n?Ta.text.primary:Na.text.primary;return t}const p=({color:e,name:t,mainShade:n=500,lightShade:o=300,darkShade:a=700})=>{if(!(e=we({},e)).main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw new Error(Se(11,t?` (${t})`:"",n));if("string"!=typeof e.main)throw new Error(Se(12,t?` (${t})`:"",JSON.stringify(e.main)));return Ra(e,"light",o,r),Ra(e,"dark",a,r),e.contrastText||(e.contrastText=d(e.main)),e},f={dark:Ta,light:Na};return Pn(we({common:we({},ba),mode:t,primary:p({color:a,name:"primary"}),secondary:p({color:i,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:s,name:"error"}),warning:p({color:c,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:ya,contrastThreshold:n,getContrastText:d,augmentColor:p,tonalOffset:r},f[t]),o)}const $a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const Ma={textTransform:"uppercase"},Oa='"Roboto", "Helvetica", "Arial", sans-serif';function Aa(e,t){const n="function"==typeof t?t(e):t,{fontFamily:r=Oa,fontSize:o=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,p=ke(n,$a),f=o/14,h=d||(e=>e/u*f+"rem"),m=(e,t,n,o,a)=>{return we({fontFamily:r,fontWeight:e,fontSize:h(t),lineHeight:n},r===Oa?{letterSpacing:(i=o/t,Math.round(1e5*i)/1e5)+"em"}:{},a,c);var i},g={h1:m(a,96,1.167,-1.5),h2:m(a,60,1.2,-.5),h3:m(i,48,1.167,0),h4:m(i,34,1.235,.25),h5:m(i,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(i,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(i,16,1.5,.15),body2:m(i,14,1.43,.15),button:m(s,14,1.75,.4,Ma),caption:m(i,12,1.66,.4),overline:m(i,12,2.66,1,Ma)};return Pn(we({htmlFontSize:u,pxToRem:h,fontFamily:r,fontSize:o,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:l},g),p,{clone:!1})}function La(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}const Pa=["none",La(0,2,1,-1,0,1,1,0,0,1,3,0),La(0,3,1,-2,0,2,2,0,0,1,5,0),La(0,3,3,-2,0,3,4,0,0,1,8,0),La(0,2,4,-1,0,4,5,0,0,1,10,0),La(0,3,5,-1,0,5,8,0,0,1,14,0),La(0,3,5,-1,0,6,10,0,0,1,18,0),La(0,4,5,-2,0,7,10,1,0,2,16,1),La(0,5,5,-3,0,8,10,1,0,3,14,2),La(0,5,6,-3,0,9,12,1,0,3,16,2),La(0,6,6,-3,0,10,14,1,0,4,18,3),La(0,6,7,-4,0,11,15,1,0,4,20,3),La(0,7,8,-4,0,12,17,2,0,5,22,4),La(0,7,8,-4,0,13,19,2,0,5,24,4),La(0,7,9,-4,0,14,21,2,0,5,26,4),La(0,8,9,-5,0,15,22,2,0,6,28,5),La(0,8,10,-5,0,16,24,2,0,6,30,5),La(0,8,11,-5,0,17,26,2,0,6,32,5),La(0,9,11,-5,0,18,28,2,0,7,34,6),La(0,9,12,-6,0,19,29,2,0,7,36,6),La(0,10,13,-6,0,20,31,3,0,8,38,7),La(0,10,13,-6,0,21,33,3,0,8,40,7),La(0,10,14,-6,0,22,35,3,0,8,42,7),La(0,11,14,-7,0,23,36,3,0,9,44,8),La(0,11,15,-7,0,24,38,3,0,9,46,8)],Da=["duration","easing","delay"],Fa={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},za={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ba(e){return`${Math.round(e)}ms`}function ja(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function Wa(e){const t=we({},Fa,e.easing),n=we({},za,e.duration);return we({getAutoHeightDuration:ja,create:(e=["all"],r={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:i=0}=r;return ke(r,Da),(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"==typeof o?o:Ba(o)} ${a} ${"string"==typeof i?i:Ba(i)}`)).join(",")}},e,{easing:t,duration:n})}const Va={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ha=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ua(e={},...t){const{mixins:n={},palette:r={},transitions:o={},typography:a={}}=e,i=ke(e,Ha);if(e.vars)throw new Error(Se(18));const s=_a(r),l=Wr(e);let u=Pn(l,{mixins:(c=l.breakpoints,d=n,we({toolbar:{minHeight:56,[c.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[c.up("sm")]:{minHeight:64}}},d)),palette:s,shadows:Pa.slice(),typography:Aa(s,a),transitions:Wa(o),zIndex:we({},Va)});var c,d;return u=Pn(u,i),u=t.reduce(((e,t)=>Pn(e,t)),u),u.unstable_sxConfig=we({},Dr,null==i?void 0:i.unstable_sxConfig),u.unstable_sx=function(e){return zr({sx:e,theme:this})},u}const Ga=Ua();function qa(){return Ur(Ga)}function Ya({props:e,name:t}){return vo({props:e,name:t,defaultTheme:Ga})}const Ka=e=>io(e)&&"classes"!==e,Xa=io,Qa=fo({defaultTheme:Ga,rootShouldForwardProp:Ka}),Za=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)},Ja=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach((n=>{const[r,o]=e[n];t[r]=o})),t};function ei(e){return Object.keys(e)}function ti(e,t){if(!e)throw new Error(t)}function ni(e,t){return t}const ri=e=>{const t=e.length;let n=0,r="";for(;n<t;n++){const t=e[n];if(null==t)continue;let o;switch(typeof t){case"boolean":break;case"object":if(Array.isArray(t))o=ri(t);else{ti(!ni(0,!1)),o="";for(const e in t)t[e]&&e&&(o&&(o+=" "),o+=e)}break;default:o=t}o&&(r&&(r+=" "),r+=o)}return r};const{createCssAndCx:oi}={createCssAndCx:function(e){const{cache:t}=e,n=(...e)=>{const n=fn(e,t.registered);tn(t,n,!1);const r=`${t.key}-${n.name}`;{const n=e[0];(function(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)})(n)&&ii.saveClassNameCSSObjectMapping(t,r,n)}return r};return{css:n,cx:(...e)=>{const r=ri(e),o=ii.fixClassName(t,r,n);return function(e,t,n){const r=[],o=Jt(e,r,n);return r.length<2?n:o+t(r)}(t.registered,n,o)}}}};function ai(e){const{useCache:t}=e;return{useCssAndCx:function(){const e=t(),{css:n,cx:r}=function(e,t){var n;const r=W.useRef();return(!r.current||t.length!==(null===(n=r.current.prevDeps)||void 0===n?void 0:n.length)||r.current.prevDeps.map(((e,n)=>e===t[n])).indexOf(!1)>=0)&&(r.current={v:e(),prevDeps:[...t]}),r.current.v}((()=>oi({cache:e})),[e]);return{css:n,cx:r}}}}const ii=(()=>{const e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,n,r)=>{let o=e.get(t);void 0===o&&(o=new Map,e.set(t,o)),o.set(n,r)},fixClassName:(t,n,r)=>{const o=e.get(t);return ri(function(e){let t=!1;return e.map((([e,n])=>{if(void 0===n)return e;let r;if(t)r={"&&":n};else{r=e;for(const e in n)if(e.startsWith("@media")){t=!0;break}}return r}))}(n.split(" ").map((e=>[e,null==o?void 0:o.get(e)]))).map((e=>"string"==typeof e?e:r(e))))}}})();function si(e){if(!(e instanceof Object)||"function"==typeof e)return e;const t=[];for(const n in e){const r=e[n],o=typeof r;if("string"!==o&&("number"!==o||isNaN(r))&&"boolean"!==o&&null!=r)return e;t.push(`${n}:${o}_${r}`)}return"xSqLiJdLMd9s"+t.join("|")}function li(e,t,n){if(!(t instanceof Object))return e;const r={};return ei(e).forEach((o=>r[o]=n(e[o],t[o]))),ei(t).forEach((n=>{if(n in e)return;const o=t[n];"string"==typeof o&&(r[n]=o)})),r}let ui=0;function ci(e){const{useTheme:t,cache:n}=e,{useCache:r}=fi({cacheProvidedAtInception:n}),{useCssAndCx:o}=ai({useCache:r});return{makeStyles:function(e){const{name:n,uniqId:a=""+ui++}=null!=e?e:{},i="object"!=typeof n?n:Object.keys(n)[0];return function(e){const n="function"==typeof e?e:()=>e;return function(e,s){const l=t();let{css:u,cx:c}=o();const d=r();let p=W.useMemo((()=>{const t={},r="undefined"!=typeof Proxy&&new Proxy({},{get:(e,n)=>("symbol"==typeof n&&ti(!1),t[n]=`${d.key}-${a}${void 0!==i?`-${i}`:""}-${n}-ref`)}),o=n(l,e,r||{}),s=Ja(ei(o).map((e=>{const n=o[e];return n.label||(n.label=`${void 0!==i?`${i}-`:""}${e}`),[e,`${u(n)}${ni(0,e in t)?` ${t[e]}`:""}`]})));return ei(t).forEach((e=>{e in s||(s[e]=t[e])})),s}),[d,u,c,l,si(e)]);{const e=null==s?void 0:s.props.classes;p=W.useMemo((()=>li(p,e,c)),[p,si(e),c])}{const e=(({classes:e,theme:t,muiStyleOverridesParams:n,css:r,cx:o,name:a})=>{var i,s;if("makeStyle no name"!==a){if(void 0!==n&&void 0===a)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}else a=void 0;let l;try{l=void 0===a?void 0:(null===(s=null===(i=t.components)||void 0===i?void 0:i[a])||void 0===s?void 0:s.styleOverrides)||void 0}catch(c){}const u=W.useMemo((()=>{if(void 0===l)return;const e={};for(const o in l){const a=l[o];a instanceof Object&&(e[o]=r("function"==typeof a?a({theme:t,ownerState:null==n?void 0:n.ownerState,...null==n?void 0:n.props}):a))}return e}),[l,si(null==n?void 0:n.props),si(null==n?void 0:n.ownerState),r]);return{classes:e=W.useMemo((()=>li(e,u,o)),[e,u,o])}})({classes:p,css:u,cx:c,name:null!=i?i:"makeStyle no name",idOfUseStyles:a,muiStyleOverridesParams:s,theme:l});void 0!==e.classes&&(p=e.classes),void 0!==e.css&&(u=e.css),void 0!==e.cx&&(c=e.cx)}return{classes:p,theme:l,css:u,cx:c}}}},useStyles:function(){const e=t(),{css:n,cx:r}=o();return{theme:e,css:n,cx:r}}}}const di=W.createContext(void 0);function pi(e){const{children:t,value:n}=e;return V.createElement(di.Provider,{value:n},t)}const{createUseCache:fi}={createUseCache:function(e){const{cacheProvidedAtInception:t}=e;return{useCache:function(){var e;const n=W.useContext(vn),r=W.useContext(di),o=null!==(e=null!=t?t:r)&&void 0!==e?e:n;if(null===o)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join("\n"));return o}}}};function hi(e){return e.charAt(0).toUpperCase()+e.slice(1)}function mi(e){const{useTheme:t,cache:n}=e,{makeStyles:r}=ci({useTheme:t,cache:n});function o(e,t,n){const o="string"==typeof e?(()=>{const t=e,n=function({children:e,...n}){return W.createElement(t,n,e)};return Object.defineProperty(n,"name",{value:hi(t)}),n})():e,a=(()=>{{const{name:e}=null!=n?n:{};if(void 0!==e)return"object"!=typeof e?e:Object.keys(e)[0]}let e;{const t=o.displayName;"string"==typeof t&&""!==t&&(e=t)}e:{if(void 0!==e)break e;const t=o.name;"string"==typeof t&&""!==t&&(e=t)}if(void 0!==e)return e=e.replace(/\$/g,"usd"),e=e.replace(/\(/g,"_").replace(/\)/g,"_"),e=e.replace(/[^a-zA-Z0-9-_]/g,"_"),e})(),i=r({...n,name:a})("function"==typeof t?(e,n,r)=>yi(t(e,n,r)):yi(t));function s(e){for(const t in e)if("root"!==t)return!0;return!1}const l=W.forwardRef((function(t,n){const{className:r,classes:a,...l}=t,{classes:u,cx:c}=i(t,{props:t}),d=c(u.root,r);return gi.set(u,{...u,root:d}),V.createElement(o,{ref:n,className:s(u)?r:d,..."string"==typeof e?{}:{classes:u},...l})}));return void 0!==a&&(l.displayName=`${hi(a)}WithStyles`,Object.defineProperty(l,"name",{value:l.displayName})),l}return o.getClasses=bi,{withStyles:o}}const gi=new WeakMap,vi="getClasses should only be used in conjunction with withStyles";function bi(e){const t=e.classes;if(void 0===t)throw new Error(vi);const n=gi.get(t);if(void 0===n)throw new Error(vi);return n}function yi(e){const t={},n={};return Object.keys(e).forEach((r=>(r.startsWith("@media")?n:t)[r]=e[r])),Object.keys(n).forEach((e=>{const r=n[e];Object.keys(r).forEach((n=>{var o;return t[n]={...null!==(o=t[n])&&void 0!==o?o:{},[e]:r[n]}}))})),t}const xi=(()=>{const e="object"==typeof document&&"function"==typeof(null===document||void 0===document?void 0:document.getElementById),t="undefined"!=typeof jest,n="undefined"!=typeof mocha,r="undefined"!=typeof __vitest_worker__;return!(e||t||n||r)})();let wi=0;const ki=[];function Si(e){const{useContext:t,useCache:n,useCssAndCx:r,usePlugin:o,name:a,doesUseNestedSelectors:i}=e;return{withParams:()=>Si({...e}),withName:t=>Si({...e,name:"object"!=typeof t?t:Object.keys(t)[0]}),withNestedSelectors:()=>Si({...e,doesUseNestedSelectors:!0}),create:e=>{const s="x"+wi++;if(void 0!==a)for(;;){const e=ki.find((e=>e.name===a));if(void 0===e)break;ki.splice(ki.indexOf(e),1)}const l="function"==typeof e?e:()=>e;return function(u){var c,d,p;const{classesOverrides:f,...h}=null!=u?u:{},m=t(),{css:g,cx:v}=r(),b=n(),y=function(e){const{cache:t,cssObjectByRuleNameOrGetCssObjectByRuleName:n,classesOverridesRef:r,paramsAndPluginParamsRef:o,idOfUseStyles:a,context:i,getClasses:s}=e;e:{const e=Ci.get(t);if(void 0===e)break e;const s=e.get(n);if(void 0===s)break e;const l=s.get(r);if(void 0===l)break e;const u=l.get(o);if(void 0===u)break e;const c=u.find((({context:e})=>{if(e===i)return!0;if(ei(e).length!==ei(i).length)return!1;for(const t in e)if(si(e[t])!==si(i[t]))return!1;return!0}));if(void 0!==c){if((null==c?void 0:c.idOfUseStyles)===a)return c.result;u.splice(u.indexOf(c),1)}}const l=s();{Ci.has(t)||Ci.set(t,new WeakMap);const e=Ci.get(t);ti(void 0!==e),e.has(n)||e.set(n,new Map);const s=e.get(n);ti(void 0!==s),s.has(r)||(s.size>200&&s.clear(),s.set(r,new Map));const u=s.get(r);if(ti(void 0!==u),!u.has(o)){{const e="string"==typeof o?257:5;u.size<e||u.clear()}u.set(o,[])}let c=u.get(o);ti(void 0!==c),c.length>5&&(c=[]),c.push({idOfUseStyles:a,context:i,result:l})}return l}({cache:b,cssObjectByRuleNameOrGetCssObjectByRuleName:e,classesOverridesRef:si(f),paramsAndPluginParamsRef:si(h),idOfUseStyles:s,context:m,getClasses:()=>{const e={},t=l({...u,...m,...i?{classes:"undefined"==typeof Proxy?{}:new Proxy({},{get:(t,n)=>{if("symbol"==typeof n&&ti(!1),xi&&void 0===a)throw new Error(["tss-react: In SSR setups, in order to use nested selectors, you must also give a unique name to the useStyle function.",'Solution: Use tss.withName("ComponentName").withNestedSelectors<...>()... to set a name.'].join("\n"));e:{if(void 0===a)break e;let e=ki.find((e=>e.name===a&&e.idOfUseStyles===s));void 0===e&&(e={name:a,idOfUseStyles:s,nestedSelectorRuleNames:new Set},ki.push(e)),e.nestedSelectorRuleNames.add(n)}e:{if(void 0===a)break e;if(void 0!==ki.find((e=>e.name===a&&e.idOfUseStyles!==s&&e.nestedSelectorRuleNames.has(n))))throw new Error([`tss-react: There are in your codebase two different useStyles named "${a}" that`,`both use use the nested selector ${n}.\n`,"This may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.\n","Solution: Ensure each useStyles using nested selectors has a unique name.\n",'Use: tss.withName("UniqueName").withNestedSelectors<...>()...'].join(" "))}return e[n]=`${b.key}-${void 0!==a?a:s}-${n}-ref`}})}:{}});let n=Ja(ei(t).map((n=>{const r=t[n];return r.label||(r.label=`${void 0!==a?`${a}-`:""}${n}`),[n,`${g(r)}${ni(0,n in e)?` ${e[n]}`:""}`]})));return ei(e).forEach((t=>{t in n||(n[t]=e[t])})),n=li(n,f,v),n}}),x=o({classes:y,css:g,cx:v,idOfUseStyles:s,name:a,...m,...h});return{classes:null!==(c=x.classes)&&void 0!==c?c:y,css:null!==(d=x.css)&&void 0!==d?d:g,cx:null!==(p=x.cx)&&void 0!==p?p:v,...m}}}}}const Ci=new WeakMap;const{tss:Ei}=function(e){wi=0,ki.splice(0,ki.length);const{useContext:t,usePlugin:n,cache:r}=e,{useCache:o}=fi({cacheProvidedAtInception:r}),{useCssAndCx:a}=ai({useCache:o});return{tss:Si({useContext:t,useCache:o,useCssAndCx:a,usePlugin:null!=n?n:({classes:e,cx:t,css:n})=>({classes:e,cx:t,css:n}),name:void 0,doesUseNestedSelectors:!1})}}({useContext:()=>({})});Ei.create({});const Ii=function(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=On("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(zr);return W.forwardRef((function(e,i){const s=Ur(n),l=Yr(e),{className:u,component:c="div"}=l,d=ke(l,Jr);return Z.jsx(a,we({as:c,ref:i,className:Zr(u,o?o(r):r),theme:t&&s[t]||s},d))}))}({defaultTheme:Ua(),defaultClassName:"MuiBox-root",generateClassName:Xr.generate});function Ni(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ni(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ti(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ni(e))&&(r&&(r+=" "),r+=t);return r}function Ri(e){return"string"==typeof e}function _i(e,t,n){return void 0===e||Ri(e)?t:we({},t,{ownerState:we({},t.ownerState,n)})}function $i(e,t){return"function"==typeof e?e(t):e}function Mi(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function Oi(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=e;if(!t){const e=Ti(null==o?void 0:o.className,null==r?void 0:r.className,a,null==n?void 0:n.className),t=we({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),i=we({},n,o,r);return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const i=function(e,t=[]){if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}(we({},o,r)),s=Mi(r),l=Mi(o),u=t(i),c=Ti(null==u?void 0:u.className,null==n?void 0:n.className,a,null==o?void 0:o.className,null==r?void 0:r.className),d=we({},null==u?void 0:u.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=we({},u,n,l,s);return c.length>0&&(p.className=c),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}}const Ai=["elementType","externalSlotProps","ownerState"];function Li(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o}=e,a=ke(e,Ai),i=$i(r,o),{props:s,internalRef:l}=Oi(we({},a,{externalSlotProps:i}));return _i(n,we({},s,{ref:Fo(l,null==i?void 0:i.ref,null==(t=e.additionalProps)?void 0:t.ref)}),o)}function Pi(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Di(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const Fi=function(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:a,trim:i=!1}=e;return(e,{inputValue:s,getOptionLabel:l})=>{let u=i?s.trim():s;n&&(u=u.toLowerCase()),t&&(u=Pi(u));const c=u?e.filter((e=>{let r=(a||l)(e);return n&&(r=r.toLowerCase()),t&&(r=Pi(r)),"start"===o?0===r.indexOf(u):r.indexOf(u)>-1})):e;return"number"==typeof r?c.slice(0,r):c}}(),zi=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function Bi(e){const{unstable_isActiveElementInListbox:t=zi,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:a=!1,blurOnSelect:i=!1,clearOnBlur:s=!e.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=(e.multiple?[]:null),disableClearable:d=!1,disableCloseOnSelect:p=!1,disabled:f,disabledItemsFocusable:h=!1,disableListWrap:m=!1,filterOptions:g=Fi,filterSelectedOptions:v=!1,freeSolo:b=!1,getOptionDisabled:y,getOptionLabel:x=e=>{var t;return null!=(t=e.label)?t:e},groupBy:w,handleHomeEndKeys:k=!e.freeSolo,id:S,includeInputInList:C=!1,inputValue:E,isOptionEqualToValue:I=(e,t)=>e===t,multiple:N=!1,onChange:T,onClose:R,onHighlightChange:_,onInputChange:$,onOpen:M,open:O,openOnFocus:A=!1,options:L,readOnly:P=!1,selectOnFocus:D=!e.freeSolo,value:F}=e,z=Lo(S);let B=x;B=e=>{const t=x(e);return"string"!=typeof t?String(t):t};const j=W.useRef(!1),V=W.useRef(!0),H=W.useRef(null),U=W.useRef(null),[G,q]=W.useState(null),[Y,K]=W.useState(-1),X=o?0:-1,Q=W.useRef(X),[Z,J]=Po({controlled:F,default:c,name:u}),[ee,te]=Po({controlled:E,default:"",name:u,state:"inputValue"}),[ne,re]=W.useState(!1),oe=W.useCallback(((e,t)=>{if(!(N?Z.length<t.length:null!==t)&&!s)return;let n;if(N)n="";else if(null==t)n="";else{const e=B(t);n="string"==typeof e?e:""}ee!==n&&(te(n),$&&$(e,n,"reset"))}),[B,ee,N,$,te,s,Z]),ae=W.useRef();W.useEffect((()=>{const e=Z!==ae.current;ae.current=Z,ne&&!e||b&&!e||oe(null,Z)}),[Z,oe,ne,ae,b]);const[ie,se]=Po({controlled:O,default:!1,name:u,state:"open"}),[le,ue]=W.useState(!0),ce=!N&&null!=Z&&ee===B(Z),de=ie&&!P,pe=de?g(L.filter((e=>!v||!(N?Z:[Z]).some((t=>null!==t&&I(e,t))))),{inputValue:ce&&le?"":ee,getOptionLabel:B}):[],fe=ie&&pe.length>0&&!P,he=Do((e=>{-1===e?H.current.focus():G.querySelector(`[data-tag-index="${e}"]`).focus()}));W.useEffect((()=>{N&&Y>Z.length-1&&(K(-1),he(-1))}),[Z,N,Y,he]);const me=Do((({event:e,index:t,reason:r="auto"})=>{if(Q.current=t,-1===t?H.current.removeAttribute("aria-activedescendant"):H.current.setAttribute("aria-activedescendant",`${z}-option-${t}`),_&&_(e,-1===t?null:pe[t],r),!U.current)return;const o=U.current.querySelector(`[role="option"].${n}-focused`);o&&(o.classList.remove(`${n}-focused`),o.classList.remove(`${n}-focusVisible`));const a=U.current.parentElement.querySelector('[role="listbox"]');if(!a)return;if(-1===t)return void(a.scrollTop=0);const i=U.current.querySelector(`[data-option-index="${t}"]`);if(i&&(i.classList.add(`${n}-focused`),"keyboard"===r&&i.classList.add(`${n}-focusVisible`),a.scrollHeight>a.clientHeight&&"mouse"!==r)){const e=i,t=a.clientHeight+a.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?a.scrollTop=n-a.clientHeight:e.offsetTop-e.offsetHeight*(w?1.3:0)<a.scrollTop&&(a.scrollTop=e.offsetTop-e.offsetHeight*(w?1.3:0))}})),ge=Do((({event:e,diff:t,direction:n="next",reason:o="auto"})=>{if(!de)return;const a=function(e,t){if(!U.current||-1===e)return-1;let n=e;for(;;){if("next"===t&&n===pe.length||"previous"===t&&-1===n)return-1;const e=U.current.querySelector(`[data-option-index="${n}"]`),r=!h&&(!e||e.disabled||"true"===e.getAttribute("aria-disabled"));if(!(e&&!e.hasAttribute("tabindex")||r))return n;n+="next"===t?1:-1}}((()=>{const e=pe.length-1;if("reset"===t)return X;if("start"===t)return 0;if("end"===t)return e;const n=Q.current+t;return n<0?-1===n&&C?-1:m&&-1!==Q.current||Math.abs(t)>1?0:e:n>e?n===e+1&&C?-1:m||Math.abs(t)>1?e:0:n})(),n);if(me({index:a,reason:o,event:e}),r&&"reset"!==t)if(-1===a)H.current.value=ee;else{const e=B(pe[a]);H.current.value=e;0===e.toLowerCase().indexOf(ee.toLowerCase())&&ee.length>0&&H.current.setSelectionRange(ee.length,e.length)}})),ve=W.useCallback((()=>{if(!de)return;const e=N?Z[0]:Z;if(0!==pe.length&&null!=e){if(U.current)if(null==e)Q.current>=pe.length-1?me({index:pe.length-1}):me({index:Q.current});else{const t=pe[Q.current];if(N&&t&&-1!==Di(Z,(e=>I(t,e))))return;const n=Di(pe,(t=>I(t,e)));-1===n?ge({diff:"reset"}):me({index:n})}}else ge({diff:"reset"})}),[pe.length,!N&&Z,v,ge,me,de,ee,N]),be=Do((e=>{Mo(U,e),e&&ve()}));W.useEffect((()=>{ve()}),[ve]);const ye=e=>{ie||(se(!0),ue(!0),M&&M(e))},xe=(e,t)=>{ie&&(se(!1),R&&R(e,t))},ke=(e,t,n,r)=>{if(N){if(Z.length===t.length&&Z.every(((e,n)=>e===t[n])))return}else if(Z===t)return;T&&T(e,t,n,r),J(t)},Se=W.useRef(!1),Ce=(e,t,n="selectOption",r="options")=>{let o=n,a=t;if(N){a=Array.isArray(Z)?Z.slice():[];const e=Di(a,(e=>I(t,e)));-1===e?a.push(t):"freeSolo"!==r&&(a.splice(e,1),o="removeOption")}oe(e,a),ke(e,a,o,{option:t}),p||e&&(e.ctrlKey||e.metaKey)||xe(e,o),(!0===i||"touch"===i&&Se.current||"mouse"===i&&!Se.current)&&H.current.blur()};const Ee=(e,t)=>{if(!N)return;""===ee&&xe(e,"toggleInput");let n=Y;-1===Y?""===ee&&"previous"===t&&(n=Z.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===Z.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===Z.length||"previous"===t&&-1===n)return-1;const e=G.querySelector(`[data-tag-index="${n}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),K(n),he(n)},Ie=e=>{j.current=!0,te(""),$&&$(e,"","clear"),ke(e,N?[]:null,"clear")},Ne=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Y&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(K(-1),he(-1)),229!==t.which))switch(t.key){case"Home":de&&k&&(t.preventDefault(),ge({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":de&&k&&(t.preventDefault(),ge({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ge({diff:-5,direction:"previous",reason:"keyboard",event:t}),ye(t);break;case"PageDown":t.preventDefault(),ge({diff:5,direction:"next",reason:"keyboard",event:t}),ye(t);break;case"ArrowDown":t.preventDefault(),ge({diff:1,direction:"next",reason:"keyboard",event:t}),ye(t);break;case"ArrowUp":t.preventDefault(),ge({diff:-1,direction:"previous",reason:"keyboard",event:t}),ye(t);break;case"ArrowLeft":Ee(t,"previous");break;case"ArrowRight":Ee(t,"next");break;case"Enter":if(-1!==Q.current&&de){const e=pe[Q.current],n=!!y&&y(e);if(t.preventDefault(),n)return;Ce(t,e,"selectOption"),r&&H.current.setSelectionRange(H.current.value.length,H.current.value.length)}else b&&""!==ee&&!1===ce&&(N&&t.preventDefault(),Ce(t,ee,"createOption","freeSolo"));break;case"Escape":de?(t.preventDefault(),t.stopPropagation(),xe(t,"escape")):l&&(""!==ee||N&&Z.length>0)&&(t.preventDefault(),t.stopPropagation(),Ie(t));break;case"Backspace":if(N&&!P&&""===ee&&Z.length>0){const e=-1===Y?Z.length-1:Y,n=Z.slice();n.splice(e,1),ke(t,n,"removeOption",{option:Z[e]})}break;case"Delete":if(N&&!P&&""===ee&&Z.length>0&&-1!==Y){const e=Y,n=Z.slice();n.splice(e,1),ke(t,n,"removeOption",{option:Z[e]})}}},Te=e=>{re(!0),A&&!j.current&&ye(e)},Re=e=>{t(U)?H.current.focus():(re(!1),V.current=!0,j.current=!1,a&&-1!==Q.current&&de?Ce(e,pe[Q.current],"blur"):a&&b&&""!==ee?Ce(e,ee,"blur","freeSolo"):s&&oe(e,Z),xe(e,"blur"))},_e=e=>{const t=e.target.value;ee!==t&&(te(t),ue(!1),$&&$(e,t,"input")),""===t?d||N||ke(e,null,"clear"):ye(e)},$e=e=>{me({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Me=()=>{Se.current=!0},Oe=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ce(e,pe[t],"selectOption"),Se.current=!1},Ae=e=>t=>{const n=Z.slice();n.splice(e,1),ke(t,n,"removeOption",{option:Z[e]})},Le=e=>{ie?xe(e,"toggleInput"):ye(e)},Pe=e=>{e.target.getAttribute("id")!==z&&e.preventDefault()},De=()=>{H.current.focus(),D&&V.current&&H.current.selectionEnd-H.current.selectionStart==0&&H.current.select(),V.current=!1},Fe=e=>{""!==ee&&ie||Le(e)};let ze=b&&ee.length>0;ze=ze||(N?Z.length>0:null!==Z);let Be=pe;return w&&(Be=pe.reduce(((e,t,n)=>{const r=w(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])),f&&ne&&Re(),{getRootProps:(e={})=>we({"aria-owns":fe?`${z}-listbox`:null},e,{onKeyDown:Ne(e),onMouseDown:Pe,onClick:De}),getInputLabelProps:()=>({id:`${z}-label`,htmlFor:z}),getInputProps:()=>({id:z,value:ee,onBlur:Re,onFocus:Te,onChange:_e,onMouseDown:Fe,"aria-activedescendant":de?"":null,"aria-autocomplete":r?"both":"list","aria-controls":fe?`${z}-listbox`:void 0,"aria-expanded":fe,autoComplete:"off",ref:H,autoCapitalize:"none",spellCheck:"false",role:"combobox"}),getClearProps:()=>({tabIndex:-1,onClick:Ie}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Le}),getTagProps:({index:e})=>we({key:e,"data-tag-index":e,tabIndex:-1},!P&&{onDelete:Ae(e)}),getListboxProps:()=>({role:"listbox",id:`${z}-listbox`,"aria-labelledby":`${z}-label`,ref:be,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:({index:e,option:t})=>{const n=(N?Z:[Z]).some((e=>null!=e&&I(t,e))),r=!!y&&y(t);return{key:B(t),tabIndex:-1,role:"option",id:`${z}-option-${e}`,onMouseOver:$e,onClick:Oe,onTouchStart:Me,"data-option-index":e,"aria-disabled":r,"aria-selected":n}},id:z,inputValue:ee,value:Z,dirty:ze,popupOpen:de,focused:ne||-1!==Y,anchorEl:G,setAnchorEl:q,focusedTag:Y,groupedOptions:Be}}function ji(e){return to("MuiBadge",e)}no("MuiBadge",["root","badge","invisible"]);const Wi=["badgeContent","component","children","invisible","max","slotProps","slots","showZero"],Vi=W.forwardRef((function(e,t){const{component:n,children:r,max:o=99,slotProps:a={},slots:i={},showZero:s=!1}=e,l=ke(e,Wi),{badgeContent:u,max:c,displayValue:d,invisible:p}=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,a=Jo({badgeContent:t,max:r});let i=n;!1!==n||0!==t||o||(i=!0);const{badgeContent:s,max:l=r}=i?a:e;return{badgeContent:s,invisible:i,max:l,displayValue:s&&Number(s)>l?`${l}+`:s}}(we({},e,{max:o})),f=we({},e,{badgeContent:u,invisible:p,max:c,showZero:s}),h=(e=>{const{invisible:t}=e;return ta({root:["root"],badge:["badge",t&&"invisible"]},ji,void 0)})(f),m=n||i.root||"span",g=Li({elementType:m,externalSlotProps:a.root,externalForwardedProps:l,additionalProps:{ref:t},ownerState:f,className:h.root}),v=i.badge||"span",b=Li({elementType:v,externalSlotProps:a.badge,ownerState:f,className:h.badge});return Z.jsxs(m,we({},g,{children:[r,Z.jsx(v,we({},b,{children:d}))]}))}));function Hi(e){return e.substring(2).toLowerCase()}function Ui(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,i=W.useRef(!1),s=W.useRef(null),l=W.useRef(!1),u=W.useRef(!1);W.useEffect((()=>(setTimeout((()=>{l.current=!0}),0),()=>{l.current=!1})),[]);const c=Fo(t.ref,s),d=Do((e=>{const t=u.current;u.current=!1;const r=_o(s.current);if(!l.current||!s.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(i.current)return void(i.current=!1);let a;a=e.composedPath?e.composedPath().indexOf(s.current)>-1:!r.documentElement.contains(e.target)||s.current.contains(e.target),a||!n&&t||o(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:c};return!1!==a&&(f[a]=p(a)),W.useEffect((()=>{if(!1!==a){const e=Hi(a),t=_o(s.current),n=()=>{i.current=!0};return t.addEventListener(e,d),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,d),t.removeEventListener("touchmove",n)}}}),[d,a]),!1!==r&&(f[r]=p(r)),W.useEffect((()=>{if(!1!==r){const e=Hi(r),t=_o(s.current);return t.addEventListener(e,d),()=>{t.removeEventListener(e,d)}}}),[d,r]),Z.jsx(W.Fragment,{children:W.cloneElement(t,f)})}const Gi=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function qi(e){const t=[],n=[];return Array.from(e.querySelectorAll(Gi)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Yi(){return!0}function Ki(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=qi,isEnabled:i=Yi,open:s}=e,l=W.useRef(),u=W.useRef(null),c=W.useRef(null),d=W.useRef(null),p=W.useRef(null),f=W.useRef(!1),h=W.useRef(null),m=Fo(t.ref,h),g=W.useRef(null);W.useEffect((()=>{s&&h.current&&(f.current=!n)}),[n,s]),W.useEffect((()=>{if(!s||!h.current)return;const e=_o(h.current);return h.current.contains(e.activeElement)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex",-1),f.current&&h.current.focus()),()=>{o||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}}),[s]),W.useEffect((()=>{if(!s||!h.current)return;const e=_o(h.current),t=t=>{const{current:n}=h;if(null!==n)if(e.hasFocus()&&!r&&i()&&!l.current){if(!n.contains(e.activeElement)){if(t&&p.current!==t.target||e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let r=[];if(e.activeElement!==u.current&&e.activeElement!==c.current||(r=a(h.current)),r.length>0){var o,s;const e=Boolean((null==(o=g.current)?void 0:o.shiftKey)&&"Tab"===(null==(s=g.current)?void 0:s.key)),t=r[0],n=r[r.length-1];e?n.focus():t.focus()}else n.focus()}}else l.current=!1},n=t=>{g.current=t,!r&&i()&&"Tab"===t.key&&e.activeElement===h.current&&t.shiftKey&&(l.current=!0,c.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);const o=setInterval((()=>{"BODY"===e.activeElement.tagName&&t()}),50);return()=>{clearInterval(o),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}),[n,r,o,i,s,a]);const v=e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0};return Z.jsxs(W.Fragment,{children:[Z.jsx("div",{tabIndex:s?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),W.cloneElement(t,{ref:m,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),Z.jsx("div",{tabIndex:s?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}var Xi="top",Qi="bottom",Zi="right",Ji="left",es="auto",ts=[Xi,Qi,Zi,Ji],ns="start",rs="end",os="viewport",as="popper",is=ts.reduce((function(e,t){return e.concat([t+"-"+ns,t+"-"+rs])}),[]),ss=[].concat(ts,[es]).reduce((function(e,t){return e.concat([t,t+"-"+ns,t+"-"+rs])}),[]),ls=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function us(e){return e?(e.nodeName||"").toLowerCase():null}function cs(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ds(e){return e instanceof cs(e).Element||e instanceof Element}function ps(e){return e instanceof cs(e).HTMLElement||e instanceof HTMLElement}function fs(e){return"undefined"!=typeof ShadowRoot&&(e instanceof cs(e).ShadowRoot||e instanceof ShadowRoot)}const hs={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];ps(o)&&us(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});ps(r)&&us(r)&&(Object.assign(r.style,a),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function ms(e){return e.split("-")[0]}var gs=Math.max,vs=Math.min,bs=Math.round;function ys(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function xs(){return!/^((?!chrome|android).)*safari/i.test(ys())}function ws(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&ps(e)&&(o=e.offsetWidth>0&&bs(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&bs(r.height)/e.offsetHeight||1);var i=(ds(e)?cs(e):window).visualViewport,s=!xs()&&n,l=(r.left+(s&&i?i.offsetLeft:0))/o,u=(r.top+(s&&i?i.offsetTop:0))/a,c=r.width/o,d=r.height/a;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function ks(e){var t=ws(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ss(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&fs(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Cs(e){return cs(e).getComputedStyle(e)}function Es(e){return["table","td","th"].indexOf(us(e))>=0}function Is(e){return((ds(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ns(e){return"html"===us(e)?e:e.assignedSlot||e.parentNode||(fs(e)?e.host:null)||Is(e)}function Ts(e){return ps(e)&&"fixed"!==Cs(e).position?e.offsetParent:null}function Rs(e){for(var t=cs(e),n=Ts(e);n&&Es(n)&&"static"===Cs(n).position;)n=Ts(n);return n&&("html"===us(n)||"body"===us(n)&&"static"===Cs(n).position)?t:n||function(e){var t=/firefox/i.test(ys());if(/Trident/i.test(ys())&&ps(e)&&"fixed"===Cs(e).position)return null;var n=Ns(e);for(fs(n)&&(n=n.host);ps(n)&&["html","body"].indexOf(us(n))<0;){var r=Cs(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function _s(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $s(e,t,n){return gs(e,vs(t,n))}function Ms(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Os(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const As={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,s=ms(n.placement),l=_s(s),u=[Ji,Zi].indexOf(s)>=0?"height":"width";if(a&&i){var c=function(e,t){return Ms("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Os(e,ts))}(o.padding,n),d=ks(a),p="y"===l?Xi:Ji,f="y"===l?Qi:Zi,h=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],m=i[l]-n.rects.reference[l],g=Rs(a),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=h/2-m/2,y=c[p],x=v-d[u]-c[f],w=v/2-d[u]/2+b,k=$s(y,w,x),S=l;n.modifiersData[r]=((t={})[S]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Ss(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ls(e){return e.split("-")[1]}var Ps={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ds(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=i.x,f=void 0===p?0:p,h=i.y,m=void 0===h?0:h,g="function"==typeof c?c({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=i.hasOwnProperty("x"),b=i.hasOwnProperty("y"),y=Ji,x=Xi,w=window;if(u){var k=Rs(n),S="clientHeight",C="clientWidth";if(k===cs(n)&&"static"!==Cs(k=Is(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),o===Xi||(o===Ji||o===Zi)&&a===rs)x=Qi,m-=(d&&k===w&&w.visualViewport?w.visualViewport.height:k[S])-r.height,m*=l?1:-1;if(o===Ji||(o===Xi||o===Qi)&&a===rs)y=Zi,f-=(d&&k===w&&w.visualViewport?w.visualViewport.width:k[C])-r.width,f*=l?1:-1}var E,I=Object.assign({position:s},u&&Ps),N=!0===c?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:bs(n*o)/o||0,y:bs(r*o)/o||0}}({x:f,y:m},cs(n)):{x:f,y:m};return f=N.x,m=N.y,l?Object.assign({},I,((E={})[x]=b?"0":"",E[y]=v?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",E)):Object.assign({},I,((t={})[x]=b?m+"px":"",t[y]=v?f+"px":"",t.transform="",t))}var Fs={passive:!0};var zs={left:"right",right:"left",bottom:"top",top:"bottom"};function Bs(e){return e.replace(/left|right|bottom|top/g,(function(e){return zs[e]}))}var js={start:"end",end:"start"};function Ws(e){return e.replace(/start|end/g,(function(e){return js[e]}))}function Vs(e){var t=cs(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Hs(e){return ws(Is(e)).left+Vs(e).scrollLeft}function Us(e){var t=Cs(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Gs(e){return["html","body","#document"].indexOf(us(e))>=0?e.ownerDocument.body:ps(e)&&Us(e)?e:Gs(Ns(e))}function qs(e,t){var n;void 0===t&&(t=[]);var r=Gs(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=cs(r),i=o?[a].concat(a.visualViewport||[],Us(r)?r:[]):r,s=t.concat(i);return o?s:s.concat(qs(Ns(i)))}function Ys(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ks(e,t,n){return t===os?Ys(function(e,t){var n=cs(e),r=Is(e),o=n.visualViewport,a=r.clientWidth,i=r.clientHeight,s=0,l=0;if(o){a=o.width,i=o.height;var u=xs();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:i,x:s+Hs(e),y:l}}(e,n)):ds(t)?function(e,t){var n=ws(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ys(function(e){var t,n=Is(e),r=Vs(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=gs(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=gs(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+Hs(e),l=-r.scrollTop;return"rtl"===Cs(o||n).direction&&(s+=gs(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:s,y:l}}(Is(e)))}function Xs(e,t,n,r){var o="clippingParents"===t?function(e){var t=qs(Ns(e)),n=["absolute","fixed"].indexOf(Cs(e).position)>=0&&ps(e)?Rs(e):e;return ds(n)?t.filter((function(e){return ds(e)&&Ss(e,n)&&"body"!==us(e)})):[]}(e):[].concat(t),a=[].concat(o,[n]),i=a[0],s=a.reduce((function(t,n){var o=Ks(e,n,r);return t.top=gs(o.top,t.top),t.right=vs(o.right,t.right),t.bottom=vs(o.bottom,t.bottom),t.left=gs(o.left,t.left),t}),Ks(e,i,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Qs(e){var t,n=e.reference,r=e.element,o=e.placement,a=o?ms(o):null,i=o?Ls(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case Xi:t={x:s,y:n.y-r.height};break;case Qi:t={x:s,y:n.y+n.height};break;case Zi:t={x:n.x+n.width,y:l};break;case Ji:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=a?_s(a):null;if(null!=u){var c="y"===u?"height":"width";switch(i){case ns:t[u]=t[u]-(n[c]/2-r[c]/2);break;case rs:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function Zs(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,a=n.strategy,i=void 0===a?e.strategy:a,s=n.boundary,l=void 0===s?"clippingParents":s,u=n.rootBoundary,c=void 0===u?os:u,d=n.elementContext,p=void 0===d?as:d,f=n.altBoundary,h=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=Ms("number"!=typeof g?g:Os(g,ts)),b=p===as?"reference":as,y=e.rects.popper,x=e.elements[h?b:p],w=Xs(ds(x)?x:x.contextElement||Is(e.elements.popper),l,c,i),k=ws(e.elements.reference),S=Qs({reference:k,element:y,strategy:"absolute",placement:o}),C=Ys(Object.assign({},y,S)),E=p===as?C:k,I={top:w.top-E.top+v.top,bottom:E.bottom-w.bottom+v.bottom,left:w.left-E.left+v.left,right:E.right-w.right+v.right},N=e.modifiersData.offset;if(p===as&&N){var T=N[o];Object.keys(I).forEach((function(e){var t=[Zi,Qi].indexOf(e)>=0?1:-1,n=[Xi,Qi].indexOf(e)>=0?"y":"x";I[e]+=T[n]*t}))}return I}const Js={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=ms(g),b=l||(v===g||!h?[Bs(g)]:function(e){if(ms(e)===es)return[];var t=Bs(e);return[Ws(e),t,Ws(t)]}(g)),y=[g].concat(b).reduce((function(e,n){return e.concat(ms(n)===es?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?ss:l,c=Ls(r),d=c?s?is:is.filter((function(e){return Ls(e)===c})):ts,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=Zs(e,{placement:n,boundary:o,rootBoundary:a,padding:i})[ms(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,k=new Map,S=!0,C=y[0],E=0;E<y.length;E++){var I=y[E],N=ms(I),T=Ls(I)===ns,R=[Xi,Qi].indexOf(N)>=0,_=R?"width":"height",$=Zs(t,{placement:I,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),M=R?T?Zi:Ji:T?Qi:Xi;x[_]>w[_]&&(M=Bs(M));var O=Bs(M),A=[];if(a&&A.push($[N]<=0),s&&A.push($[M]<=0,$[O]<=0),A.every((function(e){return e}))){C=I,S=!1;break}k.set(I,A)}if(S)for(var L=function(e){var t=y.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},P=h?3:1;P>0;P--){if("break"===L(P))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function el(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function tl(e){return[Xi,Zi,Qi,Ji].some((function(t){return e[t]>=0}))}const nl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,i=Zs(t,{elementContext:"reference"}),s=Zs(t,{altBoundary:!0}),l=el(i,r),u=el(s,o,a),c=tl(l),d=tl(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}};const rl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=void 0===o?[0,0]:o,i=ss.reduce((function(e,n){return e[n]=function(e,t,n){var r=ms(e),o=[Ji,Xi].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=a[0],s=a[1];return i=i||0,s=(s||0)*o,[Ji,Zi].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,a),e}),{}),s=i[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}};const ol={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Qs({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const al={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0!==i&&i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,g=Zs(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=ms(t.placement),b=Ls(t.placement),y=!b,x=_s(v),w="x"===x?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,I="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(k){if(a){var R,_="y"===x?Xi:Ji,$="y"===x?Qi:Zi,M="y"===x?"height":"width",O=k[x],A=O+g[_],L=O-g[$],P=f?-C[M]/2:0,D=b===ns?S[M]:C[M],F=b===ns?-C[M]:-S[M],z=t.elements.arrow,B=f&&z?ks(z):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=j[_],V=j[$],H=$s(0,S[M],B[M]),U=y?S[M]/2-P-H-W-I.mainAxis:D-H-W-I.mainAxis,G=y?-S[M]/2+P+H+V+I.mainAxis:F+H+V+I.mainAxis,q=t.elements.arrow&&Rs(t.elements.arrow),Y=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,K=null!=(R=null==N?void 0:N[x])?R:0,X=O+G-K,Q=$s(f?vs(A,O+U-K-Y):A,O,f?gs(L,X):L);k[x]=Q,T[x]=Q-O}if(s){var Z,J="x"===x?Xi:Ji,ee="x"===x?Qi:Zi,te=k[w],ne="y"===w?"height":"width",re=te+g[J],oe=te-g[ee],ae=-1!==[Xi,Ji].indexOf(v),ie=null!=(Z=null==N?void 0:N[w])?Z:0,se=ae?re:te-S[ne]-C[ne]-ie+I.altAxis,le=ae?te+S[ne]+C[ne]-ie-I.altAxis:oe,ue=f&&ae?function(e,t,n){var r=$s(e,t,n);return r>n?n:r}(se,te,le):$s(f?se:re,te,f?le:oe);k[w]=ue,T[w]=ue-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function il(e,t,n){void 0===n&&(n=!1);var r,o,a=ps(t),i=ps(t)&&function(e){var t=e.getBoundingClientRect(),n=bs(t.width)/e.offsetWidth||1,r=bs(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=Is(t),l=ws(e,i,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&(("body"!==us(t)||Us(s))&&(u=(r=t)!==cs(r)&&ps(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:Vs(r)),ps(t)?((c=ws(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=Hs(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function sl(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var ll={placement:"bottom",modifiers:[],strategy:"absolute"};function ul(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function cl(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,a=void 0===o?ll:o;return function(e,t,n){void 0===n&&(n=a);var o,i,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},ll,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:s,setOptions:function(n){var o="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},a,s.options,o),s.scrollParents={reference:ds(e)?qs(e):e.contextElement?qs(e.contextElement):[],popper:qs(t)};var i,u,p=function(e){var t=sl(e);return ls.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(r,s.options.modifiers),u=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return s.orderedModifiers=p.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var a=o({state:s,name:t,instance:c,options:r}),i=function(){};l.push(a||i)}})),c.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(ul(t,n)){s.rects={reference:il(t,Rs(n),"fixed"===s.options.strategy),popper:ks(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var o=s.orderedModifiers[r],a=o.fn,i=o.options,l=void 0===i?{}:i,d=o.name;"function"==typeof a&&(s=a({state:s,options:l,name:d,instance:c})||s)}else s.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(o())}))}))),i}),destroy:function(){d(),u=!0}};if(!ul(e,t))return c;function d(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var dl=cl({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=void 0===o||o,i=r.resize,s=void 0===i||i,l=cs(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,Fs)})),s&&l.addEventListener("resize",n.update,Fs),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Fs)})),s&&l.removeEventListener("resize",n.update,Fs)}},data:{}},ol,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,a=n.adaptive,i=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,u={placement:ms(t.placement),variation:Ls(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ds(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ds(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},hs,rl,Js,al,As,nl]}),pl={exports:{}},fl={},hl={exports:{}},ml={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],u=[],c=1,d=null,p=3,f=!1,h=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var o=n(u);null!==o;){if(null===o.callback)r(u);else{if(!(o.startTime<=e))break;r(u),o.sortIndex=o.expirationTime,t(l,o)}o=n(u)}}function x(e){if(m=!1,y(e),!h)if(null!==n(l))h=!0,M(w);else{var t=n(u);null!==t&&O(x,t.startTime-e)}}function w(t,o){h=!1,m&&(m=!1,v(E),E=-1),f=!0;var a=p;try{for(y(o),d=n(l);null!==d&&(!(d.expirationTime>o)||t&&!T());){var i=d.callback;if("function"==typeof i){d.callback=null,p=d.priorityLevel;var s=i(d.expirationTime<=o);o=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),y(o)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&O(x,g.startTime-o),c=!1}return c}finally{d=null,p=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,E=-1,I=5,N=-1;function T(){return!(e.unstable_now()-N<I)}function R(){if(null!==C){var t=e.unstable_now();N=t;var n=!0;try{n=C(!0,t)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"==typeof b)k=function(){b(R)};else if("undefined"!=typeof MessageChannel){var _=new MessageChannel,$=_.port2;_.port1.onmessage=R,k=function(){$.postMessage(null)}}else k=function(){g(R,0)};function M(e){C=e,S||(S=!0,k())}function O(t,n){E=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,M(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,o,a){var i=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:o,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(r.sortIndex=a,t(u,r),null===n(l)&&r===n(u)&&(m?(v(E),E=-1):m=!0,O(x,a-i))):(r.sortIndex=s,t(l,r),h||f||(h=!0,M(w))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(ml),hl.exports=ml;var gl=hl.exports,vl=W,bl=gl;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function yl(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xl=new Set,wl={};function kl(e,t){Sl(e,t),Sl(e+"Capture",t)}function Sl(e,t){for(wl[e]=t,e=0;e<t.length;e++)xl.add(t[e])}var Cl=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),El=Object.prototype.hasOwnProperty,Il=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nl={},Tl={};function Rl(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var _l={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_l[e]=new Rl(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_l[t]=new Rl(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_l[e]=new Rl(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_l[e]=new Rl(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_l[e]=new Rl(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_l[e]=new Rl(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_l[e]=new Rl(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_l[e]=new Rl(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_l[e]=new Rl(e,5,!1,e.toLowerCase(),null,!1,!1)}));var $l=/[\-:]([a-z])/g;function Ml(e){return e[1].toUpperCase()}function Ol(e,t,n,r){var o=_l.hasOwnProperty(t)?_l[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!El.call(Tl,e)||!El.call(Nl,e)&&(Il.test(e)?Tl[e]=!0:(Nl[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace($l,Ml);_l[t]=new Rl(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace($l,Ml);_l[t]=new Rl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace($l,Ml);_l[t]=new Rl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_l[e]=new Rl(e,1,!1,e.toLowerCase(),null,!1,!1)})),_l.xlinkHref=new Rl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_l[e]=new Rl(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Al=vl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ll=Symbol.for("react.element"),Pl=Symbol.for("react.portal"),Dl=Symbol.for("react.fragment"),Fl=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),Bl=Symbol.for("react.provider"),jl=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Hl=Symbol.for("react.suspense_list"),Ul=Symbol.for("react.memo"),Gl=Symbol.for("react.lazy"),ql=Symbol.for("react.offscreen"),Yl=Symbol.iterator;function Kl(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Yl&&e[Yl]||e["@@iterator"])?e:null}var Xl,Ql=Object.assign;function Zl(e){if(void 0===Xl)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return"\n"+Xl+e}var Jl=!1;function eu(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var o=u.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zl(e):""}function tu(e){switch(e.tag){case 5:return Zl(e.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return e=eu(e.type,!1);case 11:return e=eu(e.type.render,!1);case 1:return e=eu(e.type,!0);default:return""}}function nu(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Dl:return"Fragment";case Pl:return"Portal";case zl:return"Profiler";case Fl:return"StrictMode";case Vl:return"Suspense";case Hl:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case jl:return(e.displayName||"Context")+".Consumer";case Bl:return(e._context.displayName||"Context")+".Provider";case Wl:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ul:return null!==(t=e.displayName||null)?t:nu(e.type)||"Memo";case Gl:t=e._payload,e=e._init;try{return nu(e(t))}catch(n){}}return null}function ru(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nu(t);case 8:return t===Fl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function ou(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function au(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function iu(e){e._valueTracker||(e._valueTracker=function(e){var t=au(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function su(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=au(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function lu(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function uu(e,t){var n=t.checked;return Ql({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function cu(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ou(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function du(e,t){null!=(t=t.checked)&&Ol(e,"checked",t,!1)}function pu(e,t){du(e,t);var n=ou(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?hu(e,t.type,n):t.hasOwnProperty("defaultValue")&&hu(e,t.type,ou(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function hu(e,t,n){"number"===t&&lu(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mu=Array.isArray;function gu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ou(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function vu(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(yl(91));return Ql({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bu(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(yl(92));if(mu(n)){if(1<n.length)throw Error(yl(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ou(n)}}function yu(e,t){var n=ou(t.value),r=ou(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ku(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?wu(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Su,Cu,Eu=(Cu=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Su=Su||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Su.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Cu(e,t)}))}:Cu);function Iu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tu=["Webkit","ms","Moz","O"];function Ru(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Nu.hasOwnProperty(e)&&Nu[e]?(""+t).trim():t+"px"}function _u(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=Ru(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Nu).forEach((function(e){Tu.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nu[t]=Nu[e]}))}));var $u=Ql({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mu(e,t){if(t){if($u[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(yl(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(yl(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(yl(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(yl(62))}}function Ou(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Lu(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pu=null,Du=null,Fu=null;function zu(e){if(e=Of(e)){if("function"!=typeof Pu)throw Error(yl(280));var t=e.stateNode;t&&(t=Lf(t),Pu(e.stateNode,e.type,t))}}function Bu(e){Du?Fu?Fu.push(e):Fu=[e]:Du=e}function ju(){if(Du){var e=Du,t=Fu;if(Fu=Du=null,zu(e),t)for(e=0;e<t.length;e++)zu(t[e])}}function Wu(e,t){return e(t)}function Vu(){}var Hu=!1;function Uu(e,t,n){if(Hu)return e(t,n);Hu=!0;try{return Wu(e,t,n)}finally{Hu=!1,(null!==Du||null!==Fu)&&(Vu(),ju())}}function Gu(e,t){var n=e.stateNode;if(null===n)return null;var r=Lf(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(yl(231,t,typeof n));return n}var qu=!1;if(Cl)try{var Yu={};Object.defineProperty(Yu,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Yu,Yu),window.removeEventListener("test",Yu,Yu)}catch(Cu){qu=!1}function Ku(e,t,n,r,o,a,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Xu=!1,Qu=null,Zu=!1,Ju=null,ec={onError:function(e){Xu=!0,Qu=e}};function tc(e,t,n,r,o,a,i,s,l){Xu=!1,Qu=null,Ku.apply(ec,arguments)}function nc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function rc(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function oc(e){if(nc(e)!==e)throw Error(yl(188))}function ac(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=nc(e)))throw Error(yl(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return oc(o),e;if(a===r)return oc(o),t;a=a.sibling}throw Error(yl(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=a;break}if(s===r){i=!0,r=o,n=a;break}s=s.sibling}if(!i){for(s=a.child;s;){if(s===n){i=!0,n=a,r=o;break}if(s===r){i=!0,r=a,n=o;break}s=s.sibling}if(!i)throw Error(yl(189))}}if(n.alternate!==r)throw Error(yl(190))}if(3!==n.tag)throw Error(yl(188));return n.stateNode.current===n?e:t}(e))?ic(e):null}function ic(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ic(e);if(null!==t)return t;e=e.sibling}return null}var sc=bl.unstable_scheduleCallback,lc=bl.unstable_cancelCallback,uc=bl.unstable_shouldYield,cc=bl.unstable_requestPaint,dc=bl.unstable_now,pc=bl.unstable_getCurrentPriorityLevel,fc=bl.unstable_ImmediatePriority,hc=bl.unstable_UserBlockingPriority,mc=bl.unstable_NormalPriority,gc=bl.unstable_LowPriority,vc=bl.unstable_IdlePriority,bc=null,yc=null;var xc=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(wc(e)/kc|0)|0},wc=Math.log,kc=Math.LN2;var Sc=64,Cc=4194304;function Ec(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ic(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~o;0!==s?r=Ec(s):0!==(a&=i)&&(r=Ec(a))}else 0!==(i=n&~o)?r=Ec(i):0!==a&&(r=Ec(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-xc(t)),r|=e[n],t&=~o;return r}function Nc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tc(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Rc(){var e=Sc;return!(4194240&(Sc<<=1))&&(Sc=64),e}function _c(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $c(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xc(t)]=n}function Mc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xc(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Oc=0;function Ac(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Lc,Pc,Dc,Fc,zc,Bc=!1,jc=[],Wc=null,Vc=null,Hc=null,Uc=new Map,Gc=new Map,qc=[],Yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(e,t){switch(e){case"focusin":case"focusout":Wc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":Uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(t.pointerId)}}function Xc(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=Of(t))&&Pc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Qc(e){var t=Mf(e.target);if(null!==t){var n=nc(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=rc(n)))return e.blockedOn=t,void zc(e.priority,(function(){Dc(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Zc(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ud(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Of(n))&&Pc(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null,t.shift()}return!0}function Jc(e,t,n){Zc(e)&&n.delete(t)}function ed(){Bc=!1,null!==Wc&&Zc(Wc)&&(Wc=null),null!==Vc&&Zc(Vc)&&(Vc=null),null!==Hc&&Zc(Hc)&&(Hc=null),Uc.forEach(Jc),Gc.forEach(Jc)}function td(e,t){e.blockedOn===t&&(e.blockedOn=null,Bc||(Bc=!0,bl.unstable_scheduleCallback(bl.unstable_NormalPriority,ed)))}function nd(e){function t(t){return td(t,e)}if(0<jc.length){td(jc[0],e);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Wc&&td(Wc,e),null!==Vc&&td(Vc,e),null!==Hc&&td(Hc,e),Uc.forEach(t),Gc.forEach(t),n=0;n<qc.length;n++)(r=qc[n]).blockedOn===e&&(r.blockedOn=null);for(;0<qc.length&&null===(n=qc[0]).blockedOn;)Qc(n),null===n.blockedOn&&qc.shift()}var rd=Al.ReactCurrentBatchConfig,od=!0;function ad(e,t,n,r){var o=Oc,a=rd.transition;rd.transition=null;try{Oc=1,sd(e,t,n,r)}finally{Oc=o,rd.transition=a}}function id(e,t,n,r){var o=Oc,a=rd.transition;rd.transition=null;try{Oc=4,sd(e,t,n,r)}finally{Oc=o,rd.transition=a}}function sd(e,t,n,r){if(od){var o=ud(e,t,n,r);if(null===o)rf(e,t,r,ld,n),Kc(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Wc=Xc(Wc,e,t,n,r,o),!0;case"dragenter":return Vc=Xc(Vc,e,t,n,r,o),!0;case"mouseover":return Hc=Xc(Hc,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Uc.set(a,Xc(Uc.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Gc.set(a,Xc(Gc.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Kc(e,r),4&t&&-1<Yc.indexOf(e)){for(;null!==o;){var a=Of(o);if(null!==a&&Lc(a),null===(a=ud(e,t,n,r))&&rf(e,t,r,ld,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else rf(e,t,r,null,n)}}var ld=null;function ud(e,t,n,r){if(ld=null,null!==(e=Mf(e=Lu(r))))if(null===(t=nc(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=rc(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ld=e,null}function cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pc()){case fc:return 1;case hc:return 4;case mc:case gc:return 16;case vc:return 536870912;default:return 16}default:return 16}}var dd=null,pd=null,fd=null;function hd(){if(fd)return fd;var e,t,n=pd,r=n.length,o="value"in dd?dd.value:dd.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return fd=o.slice(e,1<t?1-t:void 0)}function md(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function gd(){return!0}function vd(){return!1}function bd(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?gd:vd,this.isPropagationStopped=vd,this}return Ql(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),t}var yd,xd,wd,kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=bd(kd),Cd=Ql({},kd,{view:0,detail:0}),Ed=bd(Cd),Id=Ql({},Cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wd&&(wd&&"mousemove"===e.type?(yd=e.screenX-wd.screenX,xd=e.screenY-wd.screenY):xd=yd=0,wd=e),yd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Nd=bd(Id),Td=bd(Ql({},Id,{dataTransfer:0})),Rd=bd(Ql({},Cd,{relatedTarget:0})),_d=bd(Ql({},kd,{animationName:0,elapsedTime:0,pseudoElement:0})),$d=Ql({},kd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Md=bd($d),Od=bd(Ql({},kd,{data:0})),Ad={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pd[e])&&!!t[e]}function Fd(){return Dd}var zd=Ql({},Cd,{key:function(e){if(e.key){var t=Ad[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=md(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ld[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(e){return"keypress"===e.type?md(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?md(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Bd=bd(zd),jd=bd(Ql({},Id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Wd=bd(Ql({},Cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd})),Vd=bd(Ql({},kd,{propertyName:0,elapsedTime:0,pseudoElement:0})),Hd=Ql({},Id,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ud=bd(Hd),Gd=[9,13,27,32],qd=Cl&&"CompositionEvent"in window,Yd=null;Cl&&"documentMode"in document&&(Yd=document.documentMode);var Kd=Cl&&"TextEvent"in window&&!Yd,Xd=Cl&&(!qd||Yd&&8<Yd&&11>=Yd),Qd=String.fromCharCode(32),Zd=!1;function Jd(e,t){switch(e){case"keyup":return-1!==Gd.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var tp=!1;var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!np[e.type]:"textarea"===t}function op(e,t,n,r){Bu(r),0<(t=af(t,"onChange")).length&&(n=new Sd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ap=null,ip=null;function sp(e){Qp(e,0)}function lp(e){if(su(Af(e)))return e}function up(e,t){if("change"===e)return t}var cp=!1;if(Cl){var dp;if(Cl){var pp="oninput"in document;if(!pp){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),pp="function"==typeof fp.oninput}dp=pp}else dp=!1;cp=dp&&(!document.documentMode||9<document.documentMode)}function hp(){ap&&(ap.detachEvent("onpropertychange",mp),ip=ap=null)}function mp(e){if("value"===e.propertyName&&lp(ip)){var t=[];op(t,ip,e,Lu(e)),Uu(sp,t)}}function gp(e,t,n){"focusin"===e?(hp(),ip=n,(ap=t).attachEvent("onpropertychange",mp)):"focusout"===e&&hp()}function vp(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return lp(ip)}function bp(e,t){if("click"===e)return lp(t)}function yp(e,t){if("input"===e||"change"===e)return lp(t)}var xp="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function wp(e,t){if(xp(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!El.call(t,o)||!xp(e[o],t[o]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sp(e,t){var n,r=kp(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kp(r)}}function Cp(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Cp(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ep(){for(var e=window,t=lu();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=lu((e=t.contentWindow).document)}return t}function Ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Np(e){var t=Ep(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cp(n.ownerDocument.documentElement,n)){if(null!==r&&Ip(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Sp(n,a);var i=Sp(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tp=Cl&&"documentMode"in document&&11>=document.documentMode,Rp=null,_p=null,$p=null,Mp=!1;function Op(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Mp||null==Rp||Rp!==lu(r)||("selectionStart"in(r=Rp)&&Ip(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},$p&&wp($p,r)||($p=r,0<(r=af(_p,"onSelect")).length&&(t=new Sd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rp)))}function Ap(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lp={animationend:Ap("Animation","AnimationEnd"),animationiteration:Ap("Animation","AnimationIteration"),animationstart:Ap("Animation","AnimationStart"),transitionend:Ap("Transition","TransitionEnd")},Pp={},Dp={};function Fp(e){if(Pp[e])return Pp[e];if(!Lp[e])return e;var t,n=Lp[e];for(t in n)if(n.hasOwnProperty(t)&&t in Dp)return Pp[e]=n[t];return e}Cl&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete Lp.animationend.animation,delete Lp.animationiteration.animation,delete Lp.animationstart.animation),"TransitionEvent"in window||delete Lp.transitionend.transition);var zp=Fp("animationend"),Bp=Fp("animationiteration"),jp=Fp("animationstart"),Wp=Fp("transitionend"),Vp=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Up(e,t){Vp.set(e,t),kl(t,[e])}for(var Gp=0;Gp<Hp.length;Gp++){var qp=Hp[Gp];Up(qp.toLowerCase(),"on"+(qp[0].toUpperCase()+qp.slice(1)))}Up(zp,"onAnimationEnd"),Up(Bp,"onAnimationIteration"),Up(jp,"onAnimationStart"),Up("dblclick","onDoubleClick"),Up("focusin","onFocus"),Up("focusout","onBlur"),Up(Wp,"onTransitionEnd"),Sl("onMouseEnter",["mouseout","mouseover"]),Sl("onMouseLeave",["mouseout","mouseover"]),Sl("onPointerEnter",["pointerout","pointerover"]),Sl("onPointerLeave",["pointerout","pointerover"]),kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kl("onBeforeInput",["compositionend","keypress","textInput","paste"]),kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yp));function Xp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,i,s,l){if(tc.apply(this,arguments),Xu){if(!Xu)throw Error(yl(198));var u=Qu;Xu=!1,Qu=null,Zu||(Zu=!0,Ju=u)}}(r,t,void 0,e),e.currentTarget=null}function Qp(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;Xp(o,s,u),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;Xp(o,s,u),a=l}}}if(Zu)throw e=Ju,Zu=!1,Ju=null,e}function Zp(e,t){var n=t[Rf];void 0===n&&(n=t[Rf]=new Set);var r=e+"__bubble";n.has(r)||(nf(t,e,2,!1),n.add(r))}function Jp(e,t,n){var r=0;t&&(r|=4),nf(n,e,r,t)}var ef="_reactListening"+Math.random().toString(36).slice(2);function tf(e){if(!e[ef]){e[ef]=!0,xl.forEach((function(t){"selectionchange"!==t&&(Kp.has(t)||Jp(t,!1,e),Jp(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ef]||(t[ef]=!0,Jp("selectionchange",!1,t))}}function nf(e,t,n,r){switch(cd(t)){case 1:var o=ad;break;case 4:o=id;break;default:o=sd}n=o.bind(null,t,n,e),o=void 0,!qu||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function rf(e,t,n,r,o){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=Mf(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}s=s.parentNode}}r=r.return}Uu((function(){var r=a,o=Lu(n),i=[];e:{var s=Vp.get(e);if(void 0!==s){var l=Sd,u=e;switch(e){case"keypress":if(0===md(n))break e;case"keydown":case"keyup":l=Bd;break;case"focusin":u="focus",l=Rd;break;case"focusout":u="blur",l=Rd;break;case"beforeblur":case"afterblur":l=Rd;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Wd;break;case zp:case Bp:case jp:l=_d;break;case Wp:l=Vd;break;case"scroll":l=Ed;break;case"wheel":l=Ud;break;case"copy":case"cut":case"paste":l=Md;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jd}var c=!!(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Gu(h,p))&&c.push(of(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,o),i.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Au||!(u=n.relatedTarget||n.fromElement)||!Mf(u)&&!u[Tf])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Mf(u):null)&&(u!==(d=nc(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Nd,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=jd,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:Af(l),f=null==u?s:Af(u),(s=new c(m,h+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,Mf(o)===r&&((c=new c(p,h+"enter",u,n,o)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=sf(f))h++;for(f=0,m=p;m;m=sf(m))f++;for(;0<h-f;)c=sf(c),h--;for(;0<f-h;)p=sf(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=sf(c),p=sf(p)}c=null}else c=null;null!==l&&lf(i,s,l,c,!1),null!==u&&null!==d&&lf(i,d,u,c,!0)}if("select"===(l=(s=r?Af(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=up;else if(rp(s))if(cp)g=yp;else{g=vp;var v=gp}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=bp);switch(g&&(g=g(e,r))?op(i,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&hu(s,"number",s.value)),v=r?Af(r):window,e){case"focusin":(rp(v)||"true"===v.contentEditable)&&(Rp=v,_p=r,$p=null);break;case"focusout":$p=_p=Rp=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,Op(i,n,o);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":Op(i,n,o)}var b;if(qd)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else tp?Jd(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Xd&&"ko"!==n.locale&&(tp||"onCompositionStart"!==y?"onCompositionEnd"===y&&tp&&(b=hd()):(pd="value"in(dd=o)?dd.value:dd.textContent,tp=!0)),0<(v=af(r,y)).length&&(y=new Od(y,e,null,n,o),i.push({event:y,listeners:v}),b?y.data=b:null!==(b=ep(n))&&(y.data=b))),(b=Kd?function(e,t){switch(e){case"compositionend":return ep(t);case"keypress":return 32!==t.which?null:(Zd=!0,Qd);case"textInput":return(e=t.data)===Qd&&Zd?null:e;default:return null}}(e,n):function(e,t){if(tp)return"compositionend"===e||!qd&&Jd(e,t)?(e=hd(),fd=pd=dd=null,tp=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xd&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=af(r,"onBeforeInput")).length&&(o=new Od("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=b))}Qp(i,t)}))}function of(e,t,n){return{instance:e,listener:t,currentTarget:n}}function af(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Gu(e,n))&&r.unshift(of(e,a,o)),null!=(a=Gu(e,t))&&r.push(of(e,a,o))),e=e.return}return r}function sf(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function lf(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Gu(n,a))&&i.unshift(of(n,l,s)):o||null!=(l=Gu(n,a))&&i.push(of(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var uf=/\r\n?/g,cf=/\u0000|\uFFFD/g;function df(e){return("string"==typeof e?e:""+e).replace(uf,"\n").replace(cf,"")}function pf(e,t,n){if(t=df(t),df(e)!==t&&n)throw Error(yl(425))}function ff(){}var hf=null,mf=null;function gf(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vf="function"==typeof setTimeout?setTimeout:void 0,bf="function"==typeof clearTimeout?clearTimeout:void 0,yf="function"==typeof Promise?Promise:void 0,xf="function"==typeof queueMicrotask?queueMicrotask:void 0!==yf?function(e){return yf.resolve(null).then(e).catch(wf)}:vf;function wf(e){setTimeout((function(){throw e}))}function kf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void nd(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);nd(t)}function Sf(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Cf(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ef=Math.random().toString(36).slice(2),If="__reactFiber$"+Ef,Nf="__reactProps$"+Ef,Tf="__reactContainer$"+Ef,Rf="__reactEvents$"+Ef,_f="__reactListeners$"+Ef,$f="__reactHandles$"+Ef;function Mf(e){var t=e[If];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tf]||n[If]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cf(e);null!==e;){if(n=e[If])return n;e=Cf(e)}return t}n=(e=n).parentNode}return null}function Of(e){return!(e=e[If]||e[Tf])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Af(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(yl(33))}function Lf(e){return e[Nf]||null}var Pf=[],Df=-1;function Ff(e){return{current:e}}function zf(e){0>Df||(e.current=Pf[Df],Pf[Df]=null,Df--)}function Bf(e,t){Df++,Pf[Df]=e.current,e.current=t}var jf={},Wf=Ff(jf),Vf=Ff(!1),Hf=jf;function Uf(e,t){var n=e.type.contextTypes;if(!n)return jf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Gf(e){return null!=(e=e.childContextTypes)}function qf(){zf(Vf),zf(Wf)}function Yf(e,t,n){if(Wf.current!==jf)throw Error(yl(168));Bf(Wf,t),Bf(Vf,n)}function Kf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(yl(108,ru(e)||"Unknown",o));return Ql({},n,r)}function Xf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jf,Hf=Wf.current,Bf(Wf,e),Bf(Vf,Vf.current),!0}function Qf(e,t,n){var r=e.stateNode;if(!r)throw Error(yl(169));n?(e=Kf(e,t,Hf),r.__reactInternalMemoizedMergedChildContext=e,zf(Vf),zf(Wf),Bf(Wf,e)):zf(Vf),Bf(Vf,n)}var Zf=null,Jf=!1,eh=!1;function th(e){null===Zf?Zf=[e]:Zf.push(e)}function nh(){if(!eh&&null!==Zf){eh=!0;var e=0,t=Oc;try{var n=Zf;for(Oc=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Zf=null,Jf=!1}catch(o){throw null!==Zf&&(Zf=Zf.slice(e+1)),sc(fc,nh),o}finally{Oc=t,eh=!1}}return null}var rh=[],oh=0,ah=null,ih=0,sh=[],lh=0,uh=null,ch=1,dh="";function ph(e,t){rh[oh++]=ih,rh[oh++]=ah,ah=e,ih=t}function fh(e,t,n){sh[lh++]=ch,sh[lh++]=dh,sh[lh++]=uh,uh=e;var r=ch;e=dh;var o=32-xc(r)-1;r&=~(1<<o),n+=1;var a=32-xc(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,ch=1<<32-xc(t)+o|n<<o|r,dh=a+e}else ch=1<<a|n<<o|r,dh=e}function hh(e){null!==e.return&&(ph(e,1),fh(e,1,0))}function mh(e){for(;e===ah;)ah=rh[--oh],rh[oh]=null,ih=rh[--oh],rh[oh]=null;for(;e===uh;)uh=sh[--lh],sh[lh]=null,dh=sh[--lh],sh[lh]=null,ch=sh[--lh],sh[lh]=null}var gh=null,vh=null,bh=!1,yh=null;function xh(e,t){var n=Hb(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function wh(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,gh=e,vh=Sf(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,gh=e,vh=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==uh?{id:ch,overflow:dh}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Hb(18,null,null,0)).stateNode=t,n.return=e,e.child=n,gh=e,vh=null,!0);default:return!1}}function kh(e){return!(!(1&e.mode)||128&e.flags)}function Sh(e){if(bh){var t=vh;if(t){var n=t;if(!wh(e,t)){if(kh(e))throw Error(yl(418));t=Sf(n.nextSibling);var r=gh;t&&wh(e,t)?xh(r,n):(e.flags=-4097&e.flags|2,bh=!1,gh=e)}}else{if(kh(e))throw Error(yl(418));e.flags=-4097&e.flags|2,bh=!1,gh=e}}}function Ch(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;gh=e}function Eh(e){if(e!==gh)return!1;if(!bh)return Ch(e),bh=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!gf(e.type,e.memoizedProps)),t&&(t=vh)){if(kh(e))throw Ih(),Error(yl(418));for(;t;)xh(e,t),t=Sf(t.nextSibling)}if(Ch(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(yl(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){vh=Sf(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}vh=null}}else vh=gh?Sf(e.stateNode.nextSibling):null;return!0}function Ih(){for(var e=vh;e;)e=Sf(e.nextSibling)}function Nh(){vh=gh=null,bh=!1}function Th(e){null===yh?yh=[e]:yh.push(e)}var Rh=Al.ReactCurrentBatchConfig;function _h(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(yl(309));var r=n.stateNode}if(!r)throw Error(yl(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(yl(284));if(!n._owner)throw Error(yl(290,e))}return e}function $h(e,t){throw e=Object.prototype.toString.call(t),Error(yl(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mh(e){return(0,e._init)(e._payload)}function Oh(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Gb(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xb(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===Dl?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===Gl&&Mh(a)===t.type)?((r=o(t,n.props)).ref=_h(e,t,n),r.return=e,r):((r=qb(n.type,n.key,n.props,null,e.mode,r)).ref=_h(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qb(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=Yb(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Xb(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ll:return(n=qb(t.type,t.key,t.props,null,e.mode,n)).ref=_h(e,null,t),n.return=e,n;case Pl:return(t=Qb(t,e.mode,n)).return=e,t;case Gl:return d(e,(0,t._init)(t._payload),n)}if(mu(t)||Kl(t))return(t=Yb(t,e.mode,n,null)).return=e,t;$h(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ll:return n.key===o?l(e,t,n,r):null;case Pl:return n.key===o?u(e,t,n,r):null;case Gl:return p(e,t,(o=n._init)(n._payload),r)}if(mu(n)||Kl(n))return null!==o?null:c(e,t,n,r,null);$h(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ll:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case Pl:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case Gl:return f(e,t,n,(0,r._init)(r._payload),o)}if(mu(r)||Kl(r))return c(t,e=e.get(n)||null,r,o,null);$h(t,r)}return null}return function s(l,u,c,h){if("object"==typeof c&&null!==c&&c.type===Dl&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Ll:e:{for(var m=c.key,g=u;null!==g;){if(g.key===m){if((m=c.type)===Dl){if(7===g.tag){n(l,g.sibling),(u=o(g,c.props.children)).return=l,l=u;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===Gl&&Mh(m)===g.type){n(l,g.sibling),(u=o(g,c.props)).ref=_h(l,g,c),u.return=l,l=u;break e}n(l,g);break}t(l,g),g=g.sibling}c.type===Dl?((u=Yb(c.props.children,l.mode,h,c.key)).return=l,l=u):((h=qb(c.type,c.key,c.props,null,l.mode,h)).ref=_h(l,u,c),h.return=l,l=h)}return i(l);case Pl:e:{for(g=c.key;null!==u;){if(u.key===g){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=o(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=Qb(c,l.mode,h)).return=l,l=u}return i(l);case Gl:return s(l,u,(g=c._init)(c._payload),h)}if(mu(c))return function(o,i,s,l){for(var u=null,c=null,h=i,m=i=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(o,h,s[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(o,h),i=a(v,i,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===s.length)return n(o,h),bh&&ph(o,m),u;if(null===h){for(;m<s.length;m++)null!==(h=d(o,s[m],l))&&(i=a(h,i,m),null===c?u=h:c.sibling=h,c=h);return bh&&ph(o,m),u}for(h=r(o,h);m<s.length;m++)null!==(g=f(h,o,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),i=a(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(o,e)})),bh&&ph(o,m),u}(l,u,c,h);if(Kl(c))return function(o,i,s,l){var u=Kl(s);if("function"!=typeof u)throw Error(yl(150));if(null==(s=u.call(s)))throw Error(yl(151));for(var c=u=null,h=i,m=i=0,g=null,v=s.next();null!==h&&!v.done;m++,v=s.next()){h.index>m?(g=h,h=null):g=h.sibling;var b=p(o,h,v.value,l);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(o,h),i=a(b,i,m),null===c?u=b:c.sibling=b,c=b,h=g}if(v.done)return n(o,h),bh&&ph(o,m),u;if(null===h){for(;!v.done;m++,v=s.next())null!==(v=d(o,v.value,l))&&(i=a(v,i,m),null===c?u=v:c.sibling=v,c=v);return bh&&ph(o,m),u}for(h=r(o,h);!v.done;m++,v=s.next())null!==(v=f(h,o,m,v.value,l))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),i=a(v,i,m),null===c?u=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(o,e)})),bh&&ph(o,m),u}(l,u,c,h);$h(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=o(u,c)).return=l,l=u):(n(l,u),(u=Xb(c,l.mode,h)).return=l,l=u),i(l)):n(l,u)}}var Ah=Oh(!0),Lh=Oh(!1),Ph=Ff(null),Dh=null,Fh=null,zh=null;function Bh(){zh=Fh=Dh=null}function jh(e){var t=Ph.current;zf(Ph),e._currentValue=t}function Wh(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vh(e,t){Dh=e,zh=Fh=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Mg=!0),e.firstContext=null)}function Hh(e){var t=e._currentValue;if(zh!==e)if(e={context:e,memoizedValue:t,next:null},null===Fh){if(null===Dh)throw Error(yl(308));Fh=e,Dh.dependencies={lanes:0,firstContext:e}}else Fh=Fh.next=e;return t}var Uh=null;function Gh(e){null===Uh?Uh=[e]:Uh.push(e)}function qh(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Gh(t)):(n.next=o.next,o.next=n),t.interleaved=n,Yh(e,r)}function Yh(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Kh=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jh(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&jv){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Yh(e,n)}return null===(o=r.interleaved)?(t.next=t,Gh(r)):(t.next=o.next,o.next=t),r.interleaved=t,Yh(e,n)}function em(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Mc(e,n)}}function tm(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nm(e,t,n,r){var o=e.updateQueue;Kh=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?a=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,c=u=l=null,s=a;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,d,p):h))break e;d=Ql({},d,p);break e;case 2:Kh=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,i|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Kv|=i,e.lanes=i,e.memoizedState=d}}function rm(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(yl(191,o));o.call(r)}}}var om={},am=Ff(om),im=Ff(om),sm=Ff(om);function lm(e){if(e===om)throw Error(yl(174));return e}function um(e,t){switch(Bf(sm,t),Bf(im,e),Bf(am,om),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ku(null,"");break;default:t=ku(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}zf(am),Bf(am,t)}function cm(){zf(am),zf(im),zf(sm)}function dm(e){lm(sm.current);var t=lm(am.current),n=ku(t,e.type);t!==n&&(Bf(im,e),Bf(am,n))}function pm(e){im.current===e&&(zf(am),zf(im))}var fm=Ff(0);function hm(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mm=[];function gm(){for(var e=0;e<mm.length;e++)mm[e]._workInProgressVersionPrimary=null;mm.length=0}var vm=Al.ReactCurrentDispatcher,bm=Al.ReactCurrentBatchConfig,ym=0,xm=null,wm=null,km=null,Sm=!1,Cm=!1,Em=0,Im=0;function Nm(){throw Error(yl(321))}function Tm(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xp(e[n],t[n]))return!1;return!0}function Rm(e,t,n,r,o,a){if(ym=a,xm=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vm.current=null===e||null===e.memoizedState?pg:fg,e=n(r,o),Cm){a=0;do{if(Cm=!1,Em=0,25<=a)throw Error(yl(301));a+=1,km=wm=null,t.updateQueue=null,vm.current=hg,e=n(r,o)}while(Cm)}if(vm.current=dg,t=null!==wm&&null!==wm.next,ym=0,km=wm=xm=null,Sm=!1,t)throw Error(yl(300));return e}function _m(){var e=0!==Em;return Em=0,e}function $m(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===km?xm.memoizedState=km=e:km=km.next=e,km}function Mm(){if(null===wm){var e=xm.alternate;e=null!==e?e.memoizedState:null}else e=wm.next;var t=null===km?xm.memoizedState:km.next;if(null!==t)km=t,wm=e;else{if(null===e)throw Error(yl(310));e={memoizedState:(wm=e).memoizedState,baseState:wm.baseState,baseQueue:wm.baseQueue,queue:wm.queue,next:null},null===km?xm.memoizedState=km=e:km=km.next=e}return km}function Om(e,t){return"function"==typeof t?t(e):t}function Am(e){var t=Mm(),n=t.queue;if(null===n)throw Error(yl(311));n.lastRenderedReducer=e;var r=wm,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var s=i=null,l=null,u=a;do{var c=u.lane;if((ym&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=d,i=r):l=l.next=d,xm.lanes|=c,Kv|=c}u=u.next}while(null!==u&&u!==a);null===l?i=r:l.next=s,xp(r,t.memoizedState)||(Mg=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,xm.lanes|=a,Kv|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lm(e){var t=Mm(),n=t.queue;if(null===n)throw Error(yl(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{a=e(a,i.action),i=i.next}while(i!==o);xp(a,t.memoizedState)||(Mg=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pm(){}function Dm(e,t){var n=xm,r=Mm(),o=t(),a=!xp(r.memoizedState,o);if(a&&(r.memoizedState=o,Mg=!0),r=r.queue,Km(Bm.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==km&&1&km.memoizedState.tag){if(n.flags|=2048,Hm(9,zm.bind(null,n,r,o,t),void 0,null),null===Wv)throw Error(yl(349));30&ym||Fm(n,t,o)}return o}function Fm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xm.updateQueue)?(t={lastEffect:null,stores:null},xm.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zm(e,t,n,r){t.value=n,t.getSnapshot=r,jm(t)&&Wm(e)}function Bm(e,t,n){return n((function(){jm(t)&&Wm(e)}))}function jm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xp(e,n)}catch(r){return!0}}function Wm(e){var t=Yh(e,1);null!==t&&mb(t,e,1,-1)}function Vm(e){var t=$m();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:e},t.queue=e,e=e.dispatch=sg.bind(null,xm,e),[t.memoizedState,e]}function Hm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=xm.updateQueue)?(t={lastEffect:null,stores:null},xm.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Um(){return Mm().memoizedState}function Gm(e,t,n,r){var o=$m();xm.flags|=e,o.memoizedState=Hm(1|t,n,void 0,void 0===r?null:r)}function qm(e,t,n,r){var o=Mm();r=void 0===r?null:r;var a=void 0;if(null!==wm){var i=wm.memoizedState;if(a=i.destroy,null!==r&&Tm(r,i.deps))return void(o.memoizedState=Hm(t,n,a,r))}xm.flags|=e,o.memoizedState=Hm(1|t,n,a,r)}function Ym(e,t){return Gm(8390656,8,e,t)}function Km(e,t){return qm(2048,8,e,t)}function Xm(e,t){return qm(4,2,e,t)}function Qm(e,t){return qm(4,4,e,t)}function Zm(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Jm(e,t,n){return n=null!=n?n.concat([e]):null,qm(4,4,Zm.bind(null,t,e),n)}function eg(){}function tg(e,t){var n=Mm();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Tm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ng(e,t){var n=Mm();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Tm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rg(e,t,n){return 21&ym?(xp(n,t)||(n=Rc(),xm.lanes|=n,Kv|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mg=!0),e.memoizedState=n)}function og(e,t){var n=Oc;Oc=0!==n&&4>n?n:4,e(!0);var r=bm.transition;bm.transition={};try{e(!1),t()}finally{Oc=n,bm.transition=r}}function ag(){return Mm().memoizedState}function ig(e,t,n){var r=hb(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lg(e))ug(t,n);else if(null!==(n=qh(e,t,n,r))){mb(n,e,r,fb()),cg(n,t,r)}}function sg(e,t,n){var r=hb(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lg(e))ug(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,xp(s,i)){var l=t.interleaved;return null===l?(o.next=o,Gh(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(u){}null!==(n=qh(e,t,o,r))&&(mb(n,e,r,o=fb()),cg(n,t,r))}}function lg(e){var t=e.alternate;return e===xm||null!==t&&t===xm}function ug(e,t){Cm=Sm=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cg(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Mc(e,n)}}var dg={readContext:Hh,useCallback:Nm,useContext:Nm,useEffect:Nm,useImperativeHandle:Nm,useInsertionEffect:Nm,useLayoutEffect:Nm,useMemo:Nm,useReducer:Nm,useRef:Nm,useState:Nm,useDebugValue:Nm,useDeferredValue:Nm,useTransition:Nm,useMutableSource:Nm,useSyncExternalStore:Nm,useId:Nm,unstable_isNewReconciler:!1},pg={readContext:Hh,useCallback:function(e,t){return $m().memoizedState=[e,void 0===t?null:t],e},useContext:Hh,useEffect:Ym,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Gm(4194308,4,Zm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gm(4,2,e,t)},useMemo:function(e,t){var n=$m();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$m();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ig.bind(null,xm,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$m().memoizedState=e},useState:Vm,useDebugValue:eg,useDeferredValue:function(e){return $m().memoizedState=e},useTransition:function(){var e=Vm(!1),t=e[0];return e=og.bind(null,e[1]),$m().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xm,o=$m();if(bh){if(void 0===n)throw Error(yl(407));n=n()}else{if(n=t(),null===Wv)throw Error(yl(349));30&ym||Fm(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ym(Bm.bind(null,r,a,e),[e]),r.flags|=2048,Hm(9,zm.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=$m(),t=Wv.identifierPrefix;if(bh){var n=dh;t=":"+t+"R"+(n=(ch&~(1<<32-xc(ch)-1)).toString(32)+n),0<(n=Em++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Im++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fg={readContext:Hh,useCallback:tg,useContext:Hh,useEffect:Km,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Qm,useMemo:ng,useReducer:Am,useRef:Um,useState:function(){return Am(Om)},useDebugValue:eg,useDeferredValue:function(e){return rg(Mm(),wm.memoizedState,e)},useTransition:function(){return[Am(Om)[0],Mm().memoizedState]},useMutableSource:Pm,useSyncExternalStore:Dm,useId:ag,unstable_isNewReconciler:!1},hg={readContext:Hh,useCallback:tg,useContext:Hh,useEffect:Km,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Qm,useMemo:ng,useReducer:Lm,useRef:Um,useState:function(){return Lm(Om)},useDebugValue:eg,useDeferredValue:function(e){var t=Mm();return null===wm?t.memoizedState=e:rg(t,wm.memoizedState,e)},useTransition:function(){return[Lm(Om)[0],Mm().memoizedState]},useMutableSource:Pm,useSyncExternalStore:Dm,useId:ag,unstable_isNewReconciler:!1};function mg(e,t){if(e&&e.defaultProps){for(var n in t=Ql({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function gg(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Ql({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vg={isMounted:function(e){return!!(e=e._reactInternals)&&nc(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fb(),o=hb(e),a=Zh(r,o);a.payload=t,null!=n&&(a.callback=n),null!==(t=Jh(e,a,o))&&(mb(t,e,o,r),em(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fb(),o=hb(e),a=Zh(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Jh(e,a,o))&&(mb(t,e,o,r),em(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fb(),r=hb(e),o=Zh(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Jh(e,o,r))&&(mb(t,e,r,n),em(t,e,r))}};function bg(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!wp(n,r)||!wp(o,a))}function yg(e,t,n){var r=!1,o=jf,a=t.contextType;return"object"==typeof a&&null!==a?a=Hh(a):(o=Gf(t)?Hf:Wf.current,a=(r=null!=(r=t.contextTypes))?Uf(e,o):jf),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vg,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function xg(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vg.enqueueReplaceState(t,t.state,null)}function wg(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Xh(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=Hh(a):(a=Gf(t)?Hf:Wf.current,o.context=Uf(e,a)),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(gg(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&vg.enqueueReplaceState(o,o.state,null),nm(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function kg(e,t){try{var n="",r=t;do{n+=tu(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function Sg(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Cg(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Eg="function"==typeof WeakMap?WeakMap:Map;function Ig(e,t,n){(n=Zh(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rb||(rb=!0,ob=r),Cg(0,t)},n}function Ng(e,t,n){(n=Zh(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Cg(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){Cg(0,t),"function"!=typeof r&&(null===ab?ab=new Set([this]):ab.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Tg(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Eg;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Fb.bind(null,e,t,n),t.then(e,e))}function Rg(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _g(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Zh(-1,1)).tag=2,Jh(n,t,1))),n.lanes|=1),e)}var $g=Al.ReactCurrentOwner,Mg=!1;function Og(e,t,n,r){t.child=null===e?Lh(t,null,n,r):Ah(t,e.child,n,r)}function Ag(e,t,n,r,o){n=n.render;var a=t.ref;return Vh(t,o),r=Rm(e,t,n,r,a,o),n=_m(),null===e||Mg?(bh&&n&&hh(t),t.flags|=1,Og(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rv(e,t,o))}function Lg(e,t,n,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Ub(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qb(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pg(e,t,a,r,o))}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:wp)(i,r)&&e.ref===t.ref)return rv(e,t,o)}return t.flags|=1,(e=Gb(a,r)).ref=t.ref,e.return=t,t.child=e}function Pg(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(wp(a,r)&&e.ref===t.ref){if(Mg=!1,t.pendingProps=r=a,!(e.lanes&o))return t.lanes=e.lanes,rv(e,t,o);131072&e.flags&&(Mg=!0)}}return zg(e,t,n,r,o)}function Dg(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bf(Gv,Uv),Uv|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Bf(Gv,Uv),Uv|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bf(Gv,Uv),Uv|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Bf(Gv,Uv),Uv|=r;return Og(e,t,o,n),t.child}function Fg(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zg(e,t,n,r,o){var a=Gf(n)?Hf:Wf.current;return a=Uf(t,a),Vh(t,o),n=Rm(e,t,n,r,a,o),r=_m(),null===e||Mg?(bh&&r&&hh(t),t.flags|=1,Og(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rv(e,t,o))}function Bg(e,t,n,r,o){if(Gf(n)){var a=!0;Xf(t)}else a=!1;if(Vh(t,o),null===t.stateNode)nv(e,t),yg(t,n,r),wg(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=Hh(u):u=Uf(t,u=Gf(n)?Hf:Wf.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==u)&&xg(t,i,r,u),Kh=!1;var p=t.memoizedState;i.state=p,nm(t,r,i,o),l=t.memoizedState,s!==r||p!==l||Vf.current||Kh?("function"==typeof c&&(gg(t,n,c,r),l=t.memoizedState),(s=Kh||bg(t,n,s,r,p,l,u))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Qh(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:mg(t.type,s),i.props=u,d=t.pendingProps,p=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=Hh(l):l=Uf(t,l=Gf(n)?Hf:Wf.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||p!==l)&&xg(t,i,r,l),Kh=!1,p=t.memoizedState,i.state=p,nm(t,r,i,o);var h=t.memoizedState;s!==d||p!==h||Vf.current||Kh?("function"==typeof f&&(gg(t,n,f,r),h=t.memoizedState),(u=Kh||bg(t,n,u,r,p,h,l)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return jg(e,t,n,r,a,o)}function jg(e,t,n,r,o,a){Fg(e,t);var i=!!(128&t.flags);if(!r&&!i)return o&&Qf(t,n,!1),rv(e,t,a);r=t.stateNode,$g.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ah(t,e.child,null,a),t.child=Ah(t,null,s,a)):Og(e,t,s,a),t.memoizedState=r.state,o&&Qf(t,n,!0),t.child}function Wg(e){var t=e.stateNode;t.pendingContext?Yf(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Yf(0,t.context,!1),um(e,t.containerInfo)}function Vg(e,t,n,r,o){return Nh(),Th(o),t.flags|=256,Og(e,t,n,r),t.child}var Hg,Ug,Gg,qg,Yg={dehydrated:null,treeContext:null,retryLane:0};function Kg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xg(e,t,n){var r,o=t.pendingProps,a=fm.current,i=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Bf(fm,1&a),null===e)return Sh(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,i?(o=t.mode,i=t.child,s={mode:"hidden",children:s},1&o||null===i?i=Kb(s,o,0,null):(i.childLanes=0,i.pendingProps=s),e=Yb(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Kg(n),t.memoizedState=Yg,e):Qg(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,i){if(n)return 256&t.flags?(t.flags&=-257,Zg(e,t,i,r=Sg(Error(yl(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Kb({mode:"visible",children:r.children},o,0,null),(a=Yb(a,o,i,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&Ah(t,e.child,null,i),t.child.memoizedState=Kg(i),t.memoizedState=Yg,a);if(!(1&t.mode))return Zg(e,t,i,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var s=r.dgst;return r=s,Zg(e,t,i,r=Sg(a=Error(yl(419)),r,void 0))}if(s=!!(i&e.childLanes),Mg||s){if(null!==(r=Wv)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|i)?0:o)&&o!==a.retryLane&&(a.retryLane=o,Yh(e,o),mb(r,e,o,-1))}return Tb(),Zg(e,t,i,r=Sg(Error(yl(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Bb.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,vh=Sf(o.nextSibling),gh=t,bh=!0,yh=null,null!==e&&(sh[lh++]=ch,sh[lh++]=dh,sh[lh++]=uh,ch=e.id,dh=e.overflow,uh=t),t=Qg(t,r.children),t.flags|=4096,t)}(e,t,s,o,r,a,n);if(i){i=o.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:o.children};return 1&s||t.child===a?(o=Gb(a,l)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null),null!==r?i=Gb(r,i):(i=Yb(i,s,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,s=null===(s=e.child.memoizedState)?Kg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Yg,o}return e=(i=e.child).sibling,o=Gb(i,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Qg(e,t){return(t=Kb({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zg(e,t,n,r){return null!==r&&Th(r),Ah(t,e.child,null,n),(e=Qg(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jg(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Wh(e.return,t,n)}function ev(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function tv(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Og(e,t,r.children,n),2&(r=fm.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jg(e,n,t);else if(19===e.tag)Jg(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bf(fm,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===hm(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ev(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===hm(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ev(t,!0,n,null,a);break;case"together":ev(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function nv(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rv(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Kv|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(yl(153));if(null!==t.child){for(n=Gb(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gb(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ov(e,t){if(!bh)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function av(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iv(e,t,n){var r=t.pendingProps;switch(mh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return av(t),null;case 1:case 17:return Gf(t.type)&&qf(),av(t),null;case 3:return r=t.stateNode,cm(),zf(Vf),zf(Wf),gm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Eh(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==yh&&(yb(yh),yh=null))),Ug(e,t),av(t),null;case 5:pm(t);var o=lm(sm.current);if(n=t.type,null!==e&&null!=t.stateNode)Gg(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(yl(166));return av(t),null}if(e=lm(am.current),Eh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[If]=t,r[Nf]=a,e=!!(1&t.mode),n){case"dialog":Zp("cancel",r),Zp("close",r);break;case"iframe":case"object":case"embed":Zp("load",r);break;case"video":case"audio":for(o=0;o<Yp.length;o++)Zp(Yp[o],r);break;case"source":Zp("error",r);break;case"img":case"image":case"link":Zp("error",r),Zp("load",r);break;case"details":Zp("toggle",r);break;case"input":cu(r,a),Zp("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Zp("invalid",r);break;case"textarea":bu(r,a),Zp("invalid",r)}for(var i in Mu(n,a),o=null,a)if(a.hasOwnProperty(i)){var s=a[i];"children"===i?"string"==typeof s?r.textContent!==s&&(!0!==a.suppressHydrationWarning&&pf(r.textContent,s,e),o=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==a.suppressHydrationWarning&&pf(r.textContent,s,e),o=["children",""+s]):wl.hasOwnProperty(i)&&null!=s&&"onScroll"===i&&Zp("scroll",r)}switch(n){case"input":iu(r),fu(r,a,!0);break;case"textarea":iu(r),xu(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=ff)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=wu(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[If]=t,e[Nf]=r,Hg(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ou(n,r),n){case"dialog":Zp("cancel",e),Zp("close",e),o=r;break;case"iframe":case"object":case"embed":Zp("load",e),o=r;break;case"video":case"audio":for(o=0;o<Yp.length;o++)Zp(Yp[o],e);o=r;break;case"source":Zp("error",e),o=r;break;case"img":case"image":case"link":Zp("error",e),Zp("load",e),o=r;break;case"details":Zp("toggle",e),o=r;break;case"input":cu(e,r),o=uu(e,r),Zp("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ql({},r,{value:void 0}),Zp("invalid",e);break;case"textarea":bu(e,r),o=vu(e,r),Zp("invalid",e)}for(a in Mu(n,o),s=o)if(s.hasOwnProperty(a)){var l=s[a];"style"===a?_u(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&Eu(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&Iu(e,l):"number"==typeof l&&Iu(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(wl.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Zp("scroll",e):null!=l&&Ol(e,a,l,i))}switch(n){case"input":iu(e),fu(e,r,!1);break;case"textarea":iu(e),xu(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ou(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?gu(e,!!r.multiple,a,!1):null!=r.defaultValue&&gu(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return av(t),null;case 6:if(e&&null!=t.stateNode)qg(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(yl(166));if(n=lm(sm.current),lm(am.current),Eh(t)){if(r=t.stateNode,n=t.memoizedProps,r[If]=t,(a=r.nodeValue!==n)&&null!==(e=gh))switch(e.tag){case 3:pf(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&pf(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[If]=t,t.stateNode=r}return av(t),null;case 13:if(zf(fm),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(bh&&null!==vh&&1&t.mode&&!(128&t.flags))Ih(),Nh(),t.flags|=98560,a=!1;else if(a=Eh(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(yl(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(yl(317));a[If]=t}else Nh(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;av(t),a=!1}else null!==yh&&(yb(yh),yh=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&fm.current?0===qv&&(qv=3):Tb())),null!==t.updateQueue&&(t.flags|=4),av(t),null);case 4:return cm(),Ug(e,t),null===e&&tf(t.stateNode.containerInfo),av(t),null;case 10:return jh(t.type._context),av(t),null;case 19:if(zf(fm),null===(a=t.memoizedState))return av(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)ov(a,!1);else{if(0!==qv||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=hm(e))){for(t.flags|=128,ov(a,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(i=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Bf(fm,1&fm.current|2),t.child}e=e.sibling}null!==a.tail&&dc()>tb&&(t.flags|=128,r=!0,ov(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hm(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ov(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!bh)return av(t),null}else 2*dc()-a.renderingStartTime>tb&&1073741824!==n&&(t.flags|=128,r=!0,ov(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=a.last)?n.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=dc(),t.sibling=null,n=fm.current,Bf(fm,r?1&n|2:1&n),t):(av(t),null);case 22:case 23:return Cb(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Uv)&&(av(t),6&t.subtreeFlags&&(t.flags|=8192)):av(t),null;case 24:case 25:return null}throw Error(yl(156,t.tag))}function sv(e,t){switch(mh(t),t.tag){case 1:return Gf(t.type)&&qf(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return cm(),zf(Vf),zf(Wf),gm(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return pm(t),null;case 13:if(zf(fm),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(yl(340));Nh()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return zf(fm),null;case 4:return cm(),null;case 10:return jh(t.type._context),null;case 22:case 23:return Cb(),null;default:return null}}Hg=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ug=function(){},Gg=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,lm(am.current);var a,i=null;switch(n){case"input":o=uu(e,o),r=uu(e,r),i=[];break;case"select":o=Ql({},o,{value:void 0}),r=Ql({},r,{value:void 0}),i=[];break;case"textarea":o=vu(e,o),r=vu(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=ff)}for(u in Mu(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(wl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(i=i||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(wl.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Zp("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},qg=function(e,t,n,r){n!==r&&(t.flags|=4)};var lv=!1,uv=!1,cv="function"==typeof WeakSet?WeakSet:Set,dv=null;function pv(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Db(e,t,r)}else n.current=null}function fv(e,t,n){try{n()}catch(r){Db(e,t,r)}}var hv=!1;function mv(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&fv(t,n,a)}o=o.next}while(o!==r)}}function gv(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vv(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function bv(e){var t=e.alternate;null!==t&&(e.alternate=null,bv(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[If],delete t[Nf],delete t[Rf],delete t[_f],delete t[$f])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yv(e){return 5===e.tag||3===e.tag||4===e.tag}function xv(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||yv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function wv(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ff));else if(4!==r&&null!==(e=e.child))for(wv(e,t,n),e=e.sibling;null!==e;)wv(e,t,n),e=e.sibling}function kv(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(kv(e,t,n),e=e.sibling;null!==e;)kv(e,t,n),e=e.sibling}var Sv=null,Cv=!1;function Ev(e,t,n){for(n=n.child;null!==n;)Iv(e,t,n),n=n.sibling}function Iv(e,t,n){if(yc&&"function"==typeof yc.onCommitFiberUnmount)try{yc.onCommitFiberUnmount(bc,n)}catch(s){}switch(n.tag){case 5:uv||pv(n,t);case 6:var r=Sv,o=Cv;Sv=null,Ev(e,t,n),Cv=o,null!==(Sv=r)&&(Cv?(e=Sv,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Sv.removeChild(n.stateNode));break;case 18:null!==Sv&&(Cv?(e=Sv,n=n.stateNode,8===e.nodeType?kf(e.parentNode,n):1===e.nodeType&&kf(e,n),nd(e)):kf(Sv,n.stateNode));break;case 4:r=Sv,o=Cv,Sv=n.stateNode.containerInfo,Cv=!0,Ev(e,t,n),Sv=r,Cv=o;break;case 0:case 11:case 14:case 15:if(!uv&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&fv(n,t,i),o=o.next}while(o!==r)}Ev(e,t,n);break;case 1:if(!uv&&(pv(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Db(n,t,s)}Ev(e,t,n);break;case 21:Ev(e,t,n);break;case 22:1&n.mode?(uv=(r=uv)||null!==n.memoizedState,Ev(e,t,n),uv=r):Ev(e,t,n);break;default:Ev(e,t,n)}}function Nv(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cv),t.forEach((function(t){var r=jb.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Tv(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,i=t,s=i;e:for(;null!==s;){switch(s.tag){case 5:Sv=s.stateNode,Cv=!1;break e;case 3:case 4:Sv=s.stateNode.containerInfo,Cv=!0;break e}s=s.return}if(null===Sv)throw Error(yl(160));Iv(a,i,o),Sv=null,Cv=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(u){Db(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Rv(t,e),t=t.sibling}function Rv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tv(t,e),_v(e),4&r){try{mv(3,e,e.return),gv(3,e)}catch(m){Db(e,e.return,m)}try{mv(5,e,e.return)}catch(m){Db(e,e.return,m)}}break;case 1:Tv(t,e),_v(e),512&r&&null!==n&&pv(n,n.return);break;case 5:if(Tv(t,e),_v(e),512&r&&null!==n&&pv(n,n.return),32&e.flags){var o=e.stateNode;try{Iu(o,"")}catch(m){Db(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,i=null!==n?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===a.type&&null!=a.name&&du(o,a),Ou(s,i);var u=Ou(s,a);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];"style"===c?_u(o,d):"dangerouslySetInnerHTML"===c?Eu(o,d):"children"===c?Iu(o,d):Ol(o,c,d,u)}switch(s){case"input":pu(o,a);break;case"textarea":yu(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?gu(o,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?gu(o,!!a.multiple,a.defaultValue,!0):gu(o,!!a.multiple,a.multiple?[]:"",!1))}o[Nf]=a}catch(m){Db(e,e.return,m)}}break;case 6:if(Tv(t,e),_v(e),4&r){if(null===e.stateNode)throw Error(yl(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(m){Db(e,e.return,m)}}break;case 3:if(Tv(t,e),_v(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{nd(t.containerInfo)}catch(m){Db(e,e.return,m)}break;case 4:default:Tv(t,e),_v(e);break;case 13:Tv(t,e),_v(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(eb=dc())),4&r&&Nv(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(uv=(u=uv)||c,Tv(t,e),uv=u):Tv(t,e),_v(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&1&e.mode)for(dv=e,c=e.child;null!==c;){for(d=dv=c;null!==dv;){switch(f=(p=dv).child,p.tag){case 0:case 11:case 14:case 15:mv(4,p,p.return);break;case 1:pv(p,p.return);var h=p.stateNode;if("function"==typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){Db(r,n,m)}}break;case 5:pv(p,p.return);break;case 22:if(null!==p.memoizedState){Av(d);continue}}null!==f?(f.return=p,dv=f):Av(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{o=d.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=d.stateNode,i=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=Ru("display",i))}catch(m){Db(e,e.return,m)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Db(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tv(t,e),_v(e),4&r&&Nv(e);case 21:}}function _v(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(yv(n)){var r=n;break e}n=n.return}throw Error(yl(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(Iu(o,""),r.flags&=-33),kv(e,xv(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;wv(e,xv(e),a);break;default:throw Error(yl(161))}}catch(i){Db(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $v(e,t,n){dv=e,Mv(e)}function Mv(e,t,n){for(var r=!!(1&e.mode);null!==dv;){var o=dv,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||lv;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||uv;s=lv;var u=uv;if(lv=i,(uv=l)&&!u)for(dv=o;null!==dv;)l=(i=dv).child,22===i.tag&&null!==i.memoizedState?Lv(o):null!==l?(l.return=i,dv=l):Lv(o);for(;null!==a;)dv=a,Mv(a),a=a.sibling;dv=o,lv=s,uv=u}Ov(e)}else 8772&o.subtreeFlags&&null!==a?(a.return=o,dv=a):Ov(e)}}function Ov(e){for(;null!==dv;){var t=dv;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:uv||gv(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!uv)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:mg(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&rm(t,a,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}rm(t,i,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&nd(d)}}}break;default:throw Error(yl(163))}uv||512&t.flags&&vv(t)}catch(p){Db(t,t.return,p)}}if(t===e){dv=null;break}if(null!==(n=t.sibling)){n.return=t.return,dv=n;break}dv=t.return}}function Av(e){for(;null!==dv;){var t=dv;if(t===e){dv=null;break}var n=t.sibling;if(null!==n){n.return=t.return,dv=n;break}dv=t.return}}function Lv(e){for(;null!==dv;){var t=dv;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gv(4,t)}catch(l){Db(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Db(t,o,l)}}var a=t.return;try{vv(t)}catch(l){Db(t,a,l)}break;case 5:var i=t.return;try{vv(t)}catch(l){Db(t,i,l)}}}catch(l){Db(t,t.return,l)}if(t===e){dv=null;break}var s=t.sibling;if(null!==s){s.return=t.return,dv=s;break}dv=t.return}}var Pv,Dv=Math.ceil,Fv=Al.ReactCurrentDispatcher,zv=Al.ReactCurrentOwner,Bv=Al.ReactCurrentBatchConfig,jv=0,Wv=null,Vv=null,Hv=0,Uv=0,Gv=Ff(0),qv=0,Yv=null,Kv=0,Xv=0,Qv=0,Zv=null,Jv=null,eb=0,tb=1/0,nb=null,rb=!1,ob=null,ab=null,ib=!1,sb=null,lb=0,ub=0,cb=null,db=-1,pb=0;function fb(){return 6&jv?dc():-1!==db?db:db=dc()}function hb(e){return 1&e.mode?2&jv&&0!==Hv?Hv&-Hv:null!==Rh.transition?(0===pb&&(pb=Rc()),pb):0!==(e=Oc)?e:e=void 0===(e=window.event)?16:cd(e.type):1}function mb(e,t,n,r){if(50<ub)throw ub=0,cb=null,Error(yl(185));$c(e,n,r),2&jv&&e===Wv||(e===Wv&&(!(2&jv)&&(Xv|=n),4===qv&&xb(e,Hv)),gb(e,r),1===n&&0===jv&&!(1&t.mode)&&(tb=dc()+500,Jf&&nh()))}function gb(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-xc(a),s=1<<i,l=o[i];-1===l?s&n&&!(s&r)||(o[i]=Nc(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Ic(e,e===Wv?Hv:0);if(0===r)null!==n&&lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&lc(n),1===t)0===e.tag?function(e){Jf=!0,th(e)}(wb.bind(null,e)):th(wb.bind(null,e)),xf((function(){!(6&jv)&&nh()})),n=null;else{switch(Ac(r)){case 1:n=fc;break;case 4:n=hc;break;case 16:default:n=mc;break;case 536870912:n=vc}n=Wb(n,vb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vb(e,t){if(db=-1,pb=0,6&jv)throw Error(yl(327));var n=e.callbackNode;if(Lb()&&e.callbackNode!==n)return null;var r=Ic(e,e===Wv?Hv:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=Rb(e,r);else{t=r;var o=jv;jv|=2;var a=Nb();for(Wv===e&&Hv===t||(nb=null,tb=dc()+500,Eb(e,t));;)try{$b();break}catch(s){Ib(e,s)}Bh(),Fv.current=a,jv=o,null!==Vv?t=0:(Wv=null,Hv=0,t=qv)}if(0!==t){if(2===t&&(0!==(o=Tc(e))&&(r=o,t=bb(e,o))),1===t)throw n=Yv,Eb(e,0),xb(e,r),gb(e,dc()),n;if(6===t)xb(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!xp(a(),o))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=Rb(e,r),2===t&&(a=Tc(e),0!==a&&(r=a,t=bb(e,a))),1!==t)))throw n=Yv,Eb(e,0),xb(e,r),gb(e,dc()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(yl(345));case 2:case 5:Ab(e,Jv,nb);break;case 3:if(xb(e,r),(130023424&r)===r&&10<(t=eb+500-dc())){if(0!==Ic(e,0))break;if(((o=e.suspendedLanes)&r)!==r){fb(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=vf(Ab.bind(null,e,Jv,nb),t);break}Ab(e,Jv,nb);break;case 4:if(xb(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-xc(r);a=1<<i,(i=t[i])>o&&(o=i),r&=~a}if(r=o,10<(r=(120>(r=dc()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dv(r/1960))-r)){e.timeoutHandle=vf(Ab.bind(null,e,Jv,nb),r);break}Ab(e,Jv,nb);break;default:throw Error(yl(329))}}}return gb(e,dc()),e.callbackNode===n?vb.bind(null,e):null}function bb(e,t){var n=Zv;return e.current.memoizedState.isDehydrated&&(Eb(e,t).flags|=256),2!==(e=Rb(e,t))&&(t=Jv,Jv=n,null!==t&&yb(t)),e}function yb(e){null===Jv?Jv=e:Jv.push.apply(Jv,e)}function xb(e,t){for(t&=~Qv,t&=~Xv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xc(t),r=1<<n;e[n]=-1,t&=~r}}function wb(e){if(6&jv)throw Error(yl(327));Lb();var t=Ic(e,0);if(!(1&t))return gb(e,dc()),null;var n=Rb(e,t);if(0!==e.tag&&2===n){var r=Tc(e);0!==r&&(t=r,n=bb(e,r))}if(1===n)throw n=Yv,Eb(e,0),xb(e,t),gb(e,dc()),n;if(6===n)throw Error(yl(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ab(e,Jv,nb),gb(e,dc()),null}function kb(e,t){var n=jv;jv|=1;try{return e(t)}finally{0===(jv=n)&&(tb=dc()+500,Jf&&nh())}}function Sb(e){null!==sb&&0===sb.tag&&!(6&jv)&&Lb();var t=jv;jv|=1;var n=Bv.transition,r=Oc;try{if(Bv.transition=null,Oc=1,e)return e()}finally{Oc=r,Bv.transition=n,!(6&(jv=t))&&nh()}}function Cb(){Uv=Gv.current,zf(Gv)}function Eb(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bf(n)),null!==Vv)for(n=Vv.return;null!==n;){var r=n;switch(mh(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&qf();break;case 3:cm(),zf(Vf),zf(Wf),gm();break;case 5:pm(r);break;case 4:cm();break;case 13:case 19:zf(fm);break;case 10:jh(r.type._context);break;case 22:case 23:Cb()}n=n.return}if(Wv=e,Vv=e=Gb(e.current,null),Hv=Uv=t,qv=0,Yv=null,Qv=Xv=Kv=0,Jv=Zv=null,null!==Uh){for(t=0;t<Uh.length;t++)if(null!==(r=(n=Uh[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}n.pending=r}Uh=null}return e}function Ib(e,t){for(;;){var n=Vv;try{if(Bh(),vm.current=dg,Sm){for(var r=xm.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Sm=!1}if(ym=0,km=wm=xm=null,Cm=!1,Em=0,zv.current=null,null===n||null===n.return){qv=1,Yv=t,Vv=null;break}e:{var a=e,i=n.return,s=n,l=t;if(t=Hv,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=s,d=c.tag;if(!(1&c.mode||0!==d&&11!==d&&15!==d)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Rg(i);if(null!==f){f.flags&=-257,_g(f,i,s,0,t),1&f.mode&&Tg(a,u,t),l=u;var h=(t=f).updateQueue;if(null===h){var m=new Set;m.add(l),t.updateQueue=m}else h.add(l);break e}if(!(1&t)){Tg(a,u,t),Tb();break e}l=Error(yl(426))}else if(bh&&1&s.mode){var g=Rg(i);if(null!==g){!(65536&g.flags)&&(g.flags|=256),_g(g,i,s,0,t),Th(kg(l,s));break e}}a=l=kg(l,s),4!==qv&&(qv=2),null===Zv?Zv=[a]:Zv.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,tm(a,Ig(0,l,t));break e;case 1:s=l;var v=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==ab&&ab.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,tm(a,Ng(a,s,t));break e}}a=a.return}while(null!==a)}Ob(n)}catch(y){t=y,Vv===n&&null!==n&&(Vv=n=n.return);continue}break}}function Nb(){var e=Fv.current;return Fv.current=dg,null===e?dg:e}function Tb(){0!==qv&&3!==qv&&2!==qv||(qv=4),null===Wv||!(268435455&Kv)&&!(268435455&Xv)||xb(Wv,Hv)}function Rb(e,t){var n=jv;jv|=2;var r=Nb();for(Wv===e&&Hv===t||(nb=null,Eb(e,t));;)try{_b();break}catch(o){Ib(e,o)}if(Bh(),jv=n,Fv.current=r,null!==Vv)throw Error(yl(261));return Wv=null,Hv=0,qv}function _b(){for(;null!==Vv;)Mb(Vv)}function $b(){for(;null!==Vv&&!uc();)Mb(Vv)}function Mb(e){var t=Pv(e.alternate,e,Uv);e.memoizedProps=e.pendingProps,null===t?Ob(e):Vv=t,zv.current=null}function Ob(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=sv(n,t)))return n.flags&=32767,void(Vv=n);if(null===e)return qv=6,void(Vv=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=iv(n,t,Uv)))return void(Vv=n);if(null!==(t=t.sibling))return void(Vv=t);Vv=t=e}while(null!==t);0===qv&&(qv=5)}function Ab(e,t,n){var r=Oc,o=Bv.transition;try{Bv.transition=null,Oc=1,function(e,t,n,r){do{Lb()}while(null!==sb);if(6&jv)throw Error(yl(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(yl(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-xc(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,a),e===Wv&&(Vv=Wv=null,Hv=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||ib||(ib=!0,Wb(mc,(function(){return Lb(),null}))),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=Bv.transition,Bv.transition=null;var i=Oc;Oc=1;var s=jv;jv|=4,zv.current=null,function(e,t){if(hf=od,Ip(e=Ep())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var i=0,s=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==o&&3!==d.nodeType||(s=i+o),d!==a||0!==r&&3!==d.nodeType||(l=i+r),3===d.nodeType&&(i+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===o&&(s=i),p===a&&++c===r&&(l=i),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mf={focusedElem:e,selectionRange:n},od=!1,dv=t;null!==dv;)if(e=(t=dv).child,1028&t.subtreeFlags&&null!==e)e.return=t,dv=e;else for(;null!==dv;){t=dv;try{var h=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var m=h.memoizedProps,g=h.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:mg(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(yl(163))}}catch(x){Db(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,dv=e;break}dv=t.return}h=hv,hv=!1}(e,n),Rv(n,e),Np(mf),od=!!hf,mf=hf=null,e.current=n,$v(n),cc(),jv=s,Oc=i,Bv.transition=a}else e.current=n;if(ib&&(ib=!1,sb=e,lb=o),a=e.pendingLanes,0===a&&(ab=null),function(e){if(yc&&"function"==typeof yc.onCommitFiberRoot)try{yc.onCommitFiberRoot(bc,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),gb(e,dc()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(rb)throw rb=!1,e=ob,ob=null,e;!!(1&lb)&&0!==e.tag&&Lb(),a=e.pendingLanes,1&a?e===cb?ub++:(ub=0,cb=e):ub=0,nh()}(e,t,n,r)}finally{Bv.transition=o,Oc=r}return null}function Lb(){if(null!==sb){var e=Ac(lb),t=Bv.transition,n=Oc;try{if(Bv.transition=null,Oc=16>e?16:e,null===sb)var r=!1;else{if(e=sb,sb=null,lb=0,6&jv)throw Error(yl(331));var o=jv;for(jv|=4,dv=e.current;null!==dv;){var a=dv,i=a.child;if(16&dv.flags){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for(dv=u;null!==dv;){var c=dv;switch(c.tag){case 0:case 11:case 15:mv(8,c,a)}var d=c.child;if(null!==d)d.return=c,dv=d;else for(;null!==dv;){var p=(c=dv).sibling,f=c.return;if(bv(c),c===u){dv=null;break}if(null!==p){p.return=f,dv=p;break}dv=f}}}var h=a.alternate;if(null!==h){var m=h.child;if(null!==m){h.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}dv=a}}if(2064&a.subtreeFlags&&null!==i)i.return=a,dv=i;else e:for(;null!==dv;){if(2048&(a=dv).flags)switch(a.tag){case 0:case 11:case 15:mv(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,dv=v;break e}dv=a.return}}var b=e.current;for(dv=b;null!==dv;){var y=(i=dv).child;if(2064&i.subtreeFlags&&null!==y)y.return=i,dv=y;else e:for(i=b;null!==dv;){if(2048&(s=dv).flags)try{switch(s.tag){case 0:case 11:case 15:gv(9,s)}}catch(w){Db(s,s.return,w)}if(s===i){dv=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,dv=x;break e}dv=s.return}}if(jv=o,nh(),yc&&"function"==typeof yc.onPostCommitFiberRoot)try{yc.onPostCommitFiberRoot(bc,e)}catch(w){}r=!0}return r}finally{Oc=n,Bv.transition=t}}return!1}function Pb(e,t,n){e=Jh(e,t=Ig(0,t=kg(n,t),1),1),t=fb(),null!==e&&($c(e,1,t),gb(e,t))}function Db(e,t,n){if(3===e.tag)Pb(e,e,n);else for(;null!==t;){if(3===t.tag){Pb(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ab||!ab.has(r))){t=Jh(t,e=Ng(t,e=kg(n,e),1),1),e=fb(),null!==t&&($c(t,1,e),gb(t,e));break}}t=t.return}}function Fb(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fb(),e.pingedLanes|=e.suspendedLanes&n,Wv===e&&(Hv&n)===n&&(4===qv||3===qv&&(130023424&Hv)===Hv&&500>dc()-eb?Eb(e,0):Qv|=n),gb(e,t)}function zb(e,t){0===t&&(1&e.mode?(t=Cc,!(130023424&(Cc<<=1))&&(Cc=4194304)):t=1);var n=fb();null!==(e=Yh(e,t))&&($c(e,t,n),gb(e,n))}function Bb(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),zb(e,n)}function jb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(yl(314))}null!==r&&r.delete(t),zb(e,n)}function Wb(e,t){return sc(e,t)}function Vb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hb(e,t,n,r){return new Vb(e,t,n,r)}function Ub(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gb(e,t){var n=e.alternate;return null===n?((n=Hb(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qb(e,t,n,r,o,a){var i=2;if(r=e,"function"==typeof e)Ub(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Dl:return Yb(n.children,o,a,t);case Fl:i=8,o|=8;break;case zl:return(e=Hb(12,n,t,2|o)).elementType=zl,e.lanes=a,e;case Vl:return(e=Hb(13,n,t,o)).elementType=Vl,e.lanes=a,e;case Hl:return(e=Hb(19,n,t,o)).elementType=Hl,e.lanes=a,e;case ql:return Kb(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Bl:i=10;break e;case jl:i=9;break e;case Wl:i=11;break e;case Ul:i=14;break e;case Gl:i=16,r=null;break e}throw Error(yl(130,null==e?e:typeof e,""))}return(t=Hb(i,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Yb(e,t,n,r){return(e=Hb(7,e,r,t)).lanes=n,e}function Kb(e,t,n,r){return(e=Hb(22,e,r,t)).elementType=ql,e.lanes=n,e.stateNode={isHidden:!1},e}function Xb(e,t,n){return(e=Hb(6,e,null,t)).lanes=n,e}function Qb(e,t,n){return(t=Hb(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zb(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_c(0),this.expirationTimes=_c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_c(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jb(e,t,n,r,o,a,i,s,l){return e=new Zb(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Hb(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(a),e}function ey(e){if(!e)return jf;e:{if(nc(e=e._reactInternals)!==e||1!==e.tag)throw Error(yl(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gf(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(yl(171))}if(1===e.tag){var n=e.type;if(Gf(n))return Kf(e,n,t)}return t}function ty(e,t,n,r,o,a,i,s,l){return(e=Jb(n,r,!0,e,0,a,0,s,l)).context=ey(null),n=e.current,(a=Zh(r=fb(),o=hb(n))).callback=null!=t?t:null,Jh(n,a,o),e.current.lanes=o,$c(e,o,r),gb(e,r),e}function ny(e,t,n,r){var o=t.current,a=fb(),i=hb(o);return n=ey(n),null===t.context?t.context=n:t.pendingContext=n,(t=Zh(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Jh(o,t,i))&&(mb(e,o,i,a),em(e,o,i)),i}function ry(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function oy(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ay(e,t){oy(e,t),(e=e.alternate)&&oy(e,t)}Pv=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Vf.current)Mg=!0;else{if(!(e.lanes&n||128&t.flags))return Mg=!1,function(e,t,n){switch(t.tag){case 3:Wg(t),Nh();break;case 5:dm(t);break;case 1:Gf(t.type)&&Xf(t);break;case 4:um(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Bf(Ph,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Bf(fm,1&fm.current),t.flags|=128,null):n&t.child.childLanes?Xg(e,t,n):(Bf(fm,1&fm.current),null!==(e=rv(e,t,n))?e.sibling:null);Bf(fm,1&fm.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return tv(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Bf(fm,fm.current),r)break;return null;case 22:case 23:return t.lanes=0,Dg(e,t,n)}return rv(e,t,n)}(e,t,n);Mg=!!(131072&e.flags)}else Mg=!1,bh&&1048576&t.flags&&fh(t,ih,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nv(e,t),e=t.pendingProps;var o=Uf(t,Wf.current);Vh(t,n),o=Rm(null,t,r,e,o,n);var a=_m();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gf(r)?(a=!0,Xf(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Xh(t),o.updater=vg,t.stateNode=o,o._reactInternals=t,wg(t,r,e,n),t=jg(null,t,r,!0,a,n)):(t.tag=0,bh&&a&&hh(t),Og(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nv(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ub(e)?1:0;if(null!=e){if((e=e.$$typeof)===Wl)return 11;if(e===Ul)return 14}return 2}(r),e=mg(r,e),o){case 0:t=zg(null,t,r,e,n);break e;case 1:t=Bg(null,t,r,e,n);break e;case 11:t=Ag(null,t,r,e,n);break e;case 14:t=Lg(null,t,r,mg(r.type,e),n);break e}throw Error(yl(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,zg(e,t,r,o=t.elementType===r?o:mg(r,o),n);case 1:return r=t.type,o=t.pendingProps,Bg(e,t,r,o=t.elementType===r?o:mg(r,o),n);case 3:e:{if(Wg(t),null===e)throw Error(yl(387));r=t.pendingProps,o=(a=t.memoizedState).element,Qh(e,t),nm(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Vg(e,t,r,n,o=kg(Error(yl(423)),t));break e}if(r!==o){t=Vg(e,t,r,n,o=kg(Error(yl(424)),t));break e}for(vh=Sf(t.stateNode.containerInfo.firstChild),gh=t,bh=!0,yh=null,n=Lh(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Nh(),r===o){t=rv(e,t,n);break e}Og(e,t,r,n)}t=t.child}return t;case 5:return dm(t),null===e&&Sh(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,gf(r,o)?i=null:null!==a&&gf(r,a)&&(t.flags|=32),Fg(e,t),Og(e,t,i,n),t.child;case 6:return null===e&&Sh(t),null;case 13:return Xg(e,t,n);case 4:return um(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ah(t,null,r,n):Og(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ag(e,t,r,o=t.elementType===r?o:mg(r,o),n);case 7:return Og(e,t,t.pendingProps,n),t.child;case 8:case 12:return Og(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,Bf(Ph,r._currentValue),r._currentValue=i,null!==a)if(xp(a.value,i)){if(a.children===o.children&&!Vf.current){t=rv(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){i=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Zh(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Wh(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)i=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(i=a.return))throw Error(yl(341));i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Wh(i,n,t),i=a.sibling}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===t){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}Og(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Vh(t,n),r=r(o=Hh(o)),t.flags|=1,Og(e,t,r,n),t.child;case 14:return o=mg(r=t.type,t.pendingProps),Lg(e,t,r,o=mg(r.type,o),n);case 15:return Pg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:mg(r,o),nv(e,t),t.tag=1,Gf(r)?(e=!0,Xf(t)):e=!1,Vh(t,n),yg(t,r,o),wg(t,r,o,n),jg(null,t,r,!0,e,n);case 19:return tv(e,t,n);case 22:return Dg(e,t,n)}throw Error(yl(156,t.tag))};var iy="function"==typeof reportError?reportError:function(e){console.error(e)};function sy(e){this._internalRoot=e}function ly(e){this._internalRoot=e}function uy(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function cy(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function dy(){}function py(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof o){var s=o;o=function(){var e=ry(i);s.call(e)}}ny(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"==typeof r){var a=r;r=function(){var e=ry(i);a.call(e)}}var i=ty(t,r,e,0,null,!1,0,"",dy);return e._reactRootContainer=i,e[Tf]=i.current,tf(8===e.nodeType?e.parentNode:e),Sb(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=ry(l);s.call(e)}}var l=Jb(e,0,!1,null,0,!1,0,"",dy);return e._reactRootContainer=l,e[Tf]=l.current,tf(8===e.nodeType?e.parentNode:e),Sb((function(){ny(t,l,n,r)})),l}(n,t,e,o,r);return ry(i)}ly.prototype.render=sy.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(yl(409));ny(e,t,null,null)},ly.prototype.unmount=sy.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Sb((function(){ny(null,e,null,null)})),t[Tf]=null}},ly.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qc.length&&0!==t&&t<qc[n].priority;n++);qc.splice(n,0,e),0===n&&Qc(e)}},Lc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ec(t.pendingLanes);0!==n&&(Mc(t,1|n),gb(t,dc()),!(6&jv)&&(tb=dc()+500,nh()))}break;case 13:Sb((function(){var t=Yh(e,1);if(null!==t){var n=fb();mb(t,e,1,n)}})),ay(e,1)}},Pc=function(e){if(13===e.tag){var t=Yh(e,134217728);if(null!==t)mb(t,e,134217728,fb());ay(e,134217728)}},Dc=function(e){if(13===e.tag){var t=hb(e),n=Yh(e,t);if(null!==n)mb(n,e,t,fb());ay(e,t)}},Fc=function(){return Oc},zc=function(e,t){var n=Oc;try{return Oc=e,t()}finally{Oc=n}},Pu=function(e,t,n){switch(t){case"input":if(pu(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Lf(r);if(!o)throw Error(yl(90));su(r),pu(r,o)}}}break;case"textarea":yu(e,n);break;case"select":null!=(t=n.value)&&gu(e,!!n.multiple,t,!1)}},Wu=kb,Vu=Sb;var fy={usingClientEntryPoint:!1,Events:[Of,Af,Lf,Bu,ju,kb]},hy={findFiberByHostInstance:Mf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},my={bundleType:hy.bundleType,version:hy.version,rendererPackageName:hy.rendererPackageName,rendererConfig:hy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Al.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ac(e))?null:e.stateNode},findFiberByHostInstance:hy.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{bc=gy.inject(my),yc=gy}catch(Cu){}}fl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fy,fl.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!uy(t))throw Error(yl(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Pl,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},fl.createRoot=function(e,t){if(!uy(e))throw Error(yl(299));var n=!1,r="",o=iy;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Jb(e,1,!1,null,0,n,0,r,o),e[Tf]=t.current,tf(8===e.nodeType?e.parentNode:e),new sy(t)},fl.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(yl(188));throw e=Object.keys(e).join(","),Error(yl(268,e))}return e=null===(e=ac(t))?null:e.stateNode},fl.flushSync=function(e){return Sb(e)},fl.hydrate=function(e,t,n){if(!cy(t))throw Error(yl(200));return py(null,e,t,!0,n)},fl.hydrateRoot=function(e,t,n){if(!uy(e))throw Error(yl(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",i=iy;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=ty(t,null,e,1,null!=n?n:null,o,0,a,i),e[Tf]=t.current,tf(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ly(t)},fl.render=function(e,t,n){if(!cy(t))throw Error(yl(200));return py(null,e,t,!1,n)},fl.unmountComponentAtNode=function(e){if(!cy(e))throw Error(yl(40));return!!e._reactRootContainer&&(Sb((function(){py(null,null,e,!1,(function(){e._reactRootContainer=null,e[Tf]=null}))})),!0)},fl.unstable_batchedUpdates=kb,fl.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cy(n))throw Error(yl(200));if(null==e||void 0===e._reactInternals)throw Error(yl(38));return py(e,t,n,!1,r)},fl.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),pl.exports=fl;var vy=pl.exports;const by=n(vy);const yy=W.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[a,i]=W.useState(null),s=Fo(W.isValidElement(n)?n.ref:null,t);return bo((()=>{o||i(function(e){return"function"==typeof e?e():e}(r)||document.body)}),[r,o]),bo((()=>{if(a&&!o)return Mo(t,a),()=>{Mo(t,null)}}),[t,a,o]),o?W.isValidElement(n)?W.cloneElement(n,{ref:s}):n:Z.jsx(W.Fragment,{children:a?vy.createPortal(n,a):a})}));function xy(e){return to("MuiPopperUnstyled",e)}no("MuiPopperUnstyled",["root"]);const wy=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],ky=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Sy(e){return"function"==typeof e?e():e}const Cy={},Ey=W.forwardRef((function(e,t){var n;const{anchorEl:r,children:o,component:a,direction:i,disablePortal:s,modifiers:l,open:u,ownerState:c,placement:d,popperOptions:p,popperRef:f,slotProps:h={},slots:m={},TransitionProps:g}=e,v=ke(e,wy),b=W.useRef(null),y=Fo(b,t),x=W.useRef(null),w=Fo(x,f),k=W.useRef(w);bo((()=>{k.current=w}),[w]),W.useImperativeHandle(f,(()=>x.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,i),[C,E]=W.useState(S),[I,N]=W.useState(r);W.useEffect((()=>{x.current&&x.current.forceUpdate()})),W.useEffect((()=>{r&&N(r)}),[r]),bo((()=>{if(!I||!u)return;Sy(I);let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:e})=>{E(e.placement)}}];null!=l&&(e=e.concat(l)),p&&null!=p.modifiers&&(e=e.concat(p.modifiers));const t=dl(Sy(I),b.current,we({placement:S},p,{modifiers:e}));return k.current(t),()=>{t.destroy(),k.current(null)}}),[I,s,l,u,p,S]);const T={placement:C};null!==g&&(T.TransitionProps=g);const R=ta({root:["root"]},xy,{}),_=null!=(n=null!=a?a:m.root)?n:"div",$=Li({elementType:_,externalSlotProps:h.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:y},ownerState:we({},e,c),className:R.root});return Z.jsx(_,we({},$,{children:"function"==typeof o?o(T):o}))})),Iy=W.forwardRef((function(e,t){const{anchorEl:n,children:r,container:o,direction:a="ltr",disablePortal:i=!1,keepMounted:s=!1,modifiers:l,open:u,placement:c="bottom",popperOptions:d=Cy,popperRef:p,style:f,transition:h=!1}=e,m=ke(e,ky),[g,v]=W.useState(!0);if(!s&&!u&&(!h||g))return null;const b=o||(n?_o(Sy(n)).body:void 0);return Z.jsx(yy,{disablePortal:i,container:b,children:Z.jsx(Ey,we({anchorEl:n,direction:a,disablePortal:i,modifiers:l,ref:t,open:h?!g:u,placement:c,popperOptions:d,popperRef:p},m,{style:we({position:"fixed",top:0,left:0,display:u||!s||h&&!g?null:"none"},f),TransitionProps:h?{in:u,onEnter:()=>{v(!1)},onExited:()=>{v(!0)}}:null,children:r}))})}));function Ny(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ty(e){return parseInt($o(e).getComputedStyle(e).paddingRight,10)||0}function Ry(e,t,n,r,o){const a=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===a.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ny(e,o)}))}function _y(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function $y(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=_o(e);return t.body===e?$o(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Ko(_o(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Ty(r)+e}px`;const t=_o(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Ty(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=_o(r).body;else{const t=r.parentElement,n=$o(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}function My(e){return to("MuiModal",e)}no("MuiModal",["root","hidden"]);const Oy=["children","classes","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];const Ay=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ny(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Ry(t,e.mount,e.modalRef,r,!0);const o=_y(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=_y(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=$y(r,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(-1===n)return n;const r=_y(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Ny(e.modalRef,t),Ry(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Ny(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},Ly=W.forwardRef((function(e,t){var n,r;const{children:o,classes:a,closeAfterTransition:i=!1,component:s,container:l,disableAutoFocus:u=!1,disableEnforceFocus:c=!1,disableEscapeKeyDown:d=!1,disablePortal:p=!1,disableRestoreFocus:f=!1,disableScrollLock:h=!1,hideBackdrop:m=!1,keepMounted:g=!1,manager:v=Ay,onBackdropClick:b,onClose:y,onKeyDown:x,open:w,onTransitionEnter:k,onTransitionExited:S,slotProps:C={},slots:E={}}=e,I=ke(e,Oy),[N,T]=W.useState(!w),R=W.useRef({}),_=W.useRef(null),$=W.useRef(null),M=Fo($,t),O=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),A=null==(n=e["aria-hidden"])||n,L=()=>(R.current.modalRef=$.current,R.current.mountNode=_.current,R.current),P=()=>{v.mount(L(),{disableScrollLock:h}),$.current.scrollTop=0},D=Do((()=>{const e=function(e){return"function"==typeof e?e():e}(l)||_o(_.current).body;v.add(L(),e),$.current&&P()})),F=W.useCallback((()=>v.isTopModal(L())),[v]),z=Do((e=>{_.current=e,e&&(w&&F()?P():Ny($.current,A))})),B=W.useCallback((()=>{v.remove(L(),A)}),[v,A]);W.useEffect((()=>()=>{B()}),[B]),W.useEffect((()=>{w?D():O&&i||B()}),[w,B,O,i,D]);const j=we({},e,{classes:a,closeAfterTransition:i,disableAutoFocus:u,disableEnforceFocus:c,disableEscapeKeyDown:d,disablePortal:p,disableRestoreFocus:f,disableScrollLock:h,exited:N,hideBackdrop:m,keepMounted:g}),V=(e=>{const{open:t,exited:n,classes:r}=e;return ta({root:["root",!t&&n&&"hidden"]},My,r)})(j),H=()=>{T(!1),k&&k()},U=()=>{T(!0),S&&S(),i&&B()},G={};void 0===o.props.tabIndex&&(G.tabIndex="-1"),O&&(G.onEnter=No(H,o.props.onEnter),G.onExited=No(U,o.props.onExited));const q=null!=(r=null!=s?s:E.root)?r:"div",Y=Li({elementType:q,externalSlotProps:C.root,externalForwardedProps:I,additionalProps:{ref:M,role:"presentation",onKeyDown:e=>{x&&x(e),"Escape"===e.key&&F()&&(d||(e.stopPropagation(),y&&y(e,"escapeKeyDown")))}},className:V.root,ownerState:j}),K=E.backdrop,X=Li({elementType:K,externalSlotProps:C.backdrop,additionalProps:{"aria-hidden":!0,onClick:e=>{e.target===e.currentTarget&&(b&&b(e),y&&y(e,"backdropClick"))},open:w},className:V.backdrop,ownerState:j});return g||w||O&&!N?Z.jsx(yy,{ref:z,container:l,disablePortal:p,children:Z.jsxs(q,we({},Y,{children:[!m&&K?Z.jsx(K,we({},X)):null,Z.jsx(Ki,{disableEnforceFocus:c,disableAutoFocus:u,disableRestoreFocus:f,isEnabled:F,open:w,children:W.cloneElement(o,G)})]}))}):null}));function Py(e){return to("MuiSlider",e)}const Dy=no("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);function Fy(e){const{children:t,className:n,value:r}=e,o=(e=>{const{open:t}=e;return{offset:Ti(t&&Dy.valueLabelOpen),circle:Dy.valueLabelCircle,label:Dy.valueLabelLabel}})(e);return W.cloneElement(t,{className:Ti(t.props.className)},Z.jsxs(W.Fragment,{children:[t.props.children,Z.jsx("span",{className:Ti(o.offset,n),"aria-hidden":!0,children:Z.jsx("span",{className:o.circle,children:Z.jsx("span",{className:o.label,children:r})})})]}))}function zy(e,t){return e-t}function By(e,t,n){return null==e?t:Math.min(Math.max(t,e),n)}function jy(e,t){var n;const{index:r}=null!=(n=e.reduce(((e,n,r)=>{const o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e}),null))?n:{};return r}function Wy(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Vy(e,t,n){return 100*(e-t)/(n-t)}function Hy(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function Uy({values:e,newValue:t,index:n}){const r=e.slice();return r[n]=t,r.sort(zy)}function Gy({sliderRef:e,activeIndex:t,setActive:n}){var r,o;const a=_o(e.current);var i;null!=(r=e.current)&&r.contains(a.activeElement)&&Number(null==a||null==(o=a.activeElement)?void 0:o.getAttribute("data-index"))===t||(null==(i=e.current)||i.querySelector(`[type="range"][data-index="${t}"]`).focus());n&&n(t)}const qy={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Yy=e=>e;let Ky;function Xy(){return void 0===Ky&&(Ky="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),Ky}const Qy=["aria-label","aria-valuetext","aria-labelledby","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","slotProps","slots"],Zy=e=>e,Jy=({children:e})=>e,ex=W.forwardRef((function(e,t){var n,r,o,a,i,s,l;const{"aria-label":u,"aria-valuetext":c,"aria-labelledby":d,className:p,component:f,classes:h,disableSwap:m=!1,disabled:g=!1,getAriaLabel:v,getAriaValueText:b,marks:y=!1,max:x=100,min:w=0,orientation:k="horizontal",scale:S=Zy,step:C=1,track:E="normal",valueLabelDisplay:I="off",valueLabelFormat:N=Zy,isRtl:T=!1,slotProps:R={},slots:_={}}=e,$=ke(e,Qy),M=we({},e,{marks:y,classes:h,disabled:g,isRtl:T,max:x,min:w,orientation:k,scale:S,step:C,track:E,valueLabelDisplay:I,valueLabelFormat:N}),{axisProps:O,getRootProps:A,getHiddenInputProps:L,getThumbProps:P,open:D,active:F,axis:z,range:B,focusedThumbIndex:j,dragging:V,marks:H,values:U,trackOffset:G,trackLeap:q}=function(e){const{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:o=!1,isRtl:a=!1,marks:i=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:d,orientation:p="horizontal",ref:f,scale:h=Yy,step:m=1,tabIndex:g,value:v}=e,b=W.useRef(),[y,x]=W.useState(-1),[w,k]=W.useState(-1),[S,C]=W.useState(!1),E=W.useRef(0),[I,N]=Po({controlled:v,default:null!=n?n:l,name:"Slider"}),T=c&&((e,t,n)=>{const r=e.nativeEvent||e,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:u}}),c(o,t,n)}),R=Array.isArray(I);let _=R?I.slice().sort(zy):[I];_=_.map((e=>By(e,l,s)));const $=!0===i&&null!==m?[...Array(Math.floor((s-l)/m)+1)].map(((e,t)=>({value:l+m*t}))):i||[],M=$.map((e=>e.value)),{isFocusVisibleRef:O,onBlur:A,onFocus:L,ref:P}=Yo(),[D,F]=W.useState(-1),z=W.useRef(),B=Fo(P,z),j=Fo(f,B),V=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));L(t),!0===O.current&&F(r),k(r),null==e||null==(n=e.onFocus)||n.call(e,t)},H=e=>t=>{var n;A(t),!1===O.current&&F(-1),k(-1),null==e||null==(n=e.onBlur)||n.call(e,t)};bo((()=>{var e;r&&z.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[r]),r&&-1!==y&&x(-1),r&&-1!==D&&F(-1);const U=e=>t=>{var n;null==(n=e.onChange)||n.call(e,t);const r=Number(t.currentTarget.getAttribute("data-index")),a=_[r],i=M.indexOf(a);let u=t.target.valueAsNumber;if($&&null==m&&(u=u<a?M[i-1]:M[i+1]),u=By(u,l,s),$&&null==m){const e=M.indexOf(_[r]);u=u<_[r]?M[e-1]:M[e+1]}if(R){o&&(u=By(u,_[r-1]||-1/0,_[r+1]||1/0));const e=u;u=Uy({values:_,newValue:u,index:r});let t=r;o||(t=u.indexOf(e)),Gy({sliderRef:z,activeIndex:t})}N(u),F(r),T&&T(t,u,r),d&&d(t,u)},G=W.useRef();let q=p;a&&"horizontal"===p&&(q+="-reverse");const Y=({finger:e,move:t=!1})=>{const{current:n}=z,{width:r,height:a,bottom:i,left:u}=n.getBoundingClientRect();let c,d;if(c=0===q.indexOf("vertical")?(i-e.y)/a:(e.x-u)/r,-1!==q.indexOf("-reverse")&&(c=1-c),d=function(e,t,n){return(n-t)*e+t}(c,l,s),m)d=Hy(d,m,l);else{const e=jy(M,d);d=M[e]}d=By(d,l,s);let p=0;if(R){p=t?G.current:jy(_,d),o&&(d=By(d,_[p-1]||-1/0,_[p+1]||1/0));const e=d;d=Uy({values:_,newValue:d,index:p}),o&&t||(p=d.indexOf(e),G.current=p)}return{newValue:d,activeIndex:p}},K=Do((e=>{const t=Wy(e,b);if(!t)return;if(E.current+=1,"mousemove"===e.type&&0===e.buttons)return void X(e);const{newValue:n,activeIndex:r}=Y({finger:t,move:!0});Gy({sliderRef:z,activeIndex:r,setActive:x}),N(n),!S&&E.current>2&&C(!0),T&&n!==I&&T(e,n,r)})),X=Do((e=>{const t=Wy(e,b);if(C(!1),!t)return;const{newValue:n}=Y({finger:t,move:!0});x(-1),"touchend"===e.type&&k(-1),d&&d(e,n),b.current=void 0,Z()})),Q=Do((e=>{if(r)return;Xy()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(b.current=t.identifier);const n=Wy(e,b);if(!1!==n){const{newValue:t,activeIndex:r}=Y({finger:n});Gy({sliderRef:z,activeIndex:r,setActive:x}),N(t),T&&T(e,t,r)}E.current=0;const o=_o(z.current);o.addEventListener("touchmove",K),o.addEventListener("touchend",X)})),Z=W.useCallback((()=>{const e=_o(z.current);e.removeEventListener("mousemove",K),e.removeEventListener("mouseup",X),e.removeEventListener("touchmove",K),e.removeEventListener("touchend",X)}),[X,K]);W.useEffect((()=>{const{current:e}=z;return e.addEventListener("touchstart",Q,{passive:Xy()}),()=>{e.removeEventListener("touchstart",Q,{passive:Xy()}),Z()}}),[Z,Q]),W.useEffect((()=>{r&&Z()}),[r,Z]);const J=e=>t=>{var n;if(null==(n=e.onMouseDown)||n.call(e,t),r)return;if(t.defaultPrevented)return;if(0!==t.button)return;t.preventDefault();const o=Wy(t,b);if(!1!==o){const{newValue:e,activeIndex:n}=Y({finger:o});Gy({sliderRef:z,activeIndex:n,setActive:x}),N(e),T&&T(t,e,n)}E.current=0;const a=_o(z.current);a.addEventListener("mousemove",K),a.addEventListener("mouseup",X)},ee=Vy(R?_[0]:l,l,s),te=Vy(_[_.length-1],l,s)-ee,ne=e=>t=>{var n;null==(n=e.onMouseOver)||n.call(e,t);const r=Number(t.currentTarget.getAttribute("data-index"));k(r)},re=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),k(-1)};return{active:y,axis:q,axisProps:qy,dragging:S,focusedThumbIndex:D,getHiddenInputProps:(n={})=>{var o;const i=we({},n,{onChange:U(n||{}),onFocus:V(n||{}),onBlur:H(n||{})});return we({tabIndex:g,"aria-labelledby":t,"aria-orientation":p,"aria-valuemax":h(s),"aria-valuemin":h(l),name:u,type:"range",min:e.min,max:e.max,step:null!=(o=e.step)?o:void 0,disabled:r},i,{style:we({},ea,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(e={})=>{const t=we({},e,{onMouseDown:J(e||{})});return we({ref:j},t)},getThumbProps:(e={})=>we({},e,{onMouseOver:ne(e||{}),onMouseLeave:re(e||{})}),marks:$,open:w,range:R,trackLeap:te,trackOffset:ee,values:_}}(we({},M,{ref:t}));M.marked=H.length>0&&H.some((e=>e.label)),M.dragging=V,M.focusedThumbIndex=j;const Y=(e=>{const{disabled:t,dragging:n,marked:r,orientation:o,track:a,classes:i}=e;return ta({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===o&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},Py,i)})(M),K=null!=(n=null!=f?f:_.root)?n:"span",X=Li({elementType:K,getSlotProps:A,externalSlotProps:R.root,externalForwardedProps:$,ownerState:M,className:[Y.root,p]}),Q=null!=(r=_.rail)?r:"span",J=Li({elementType:Q,externalSlotProps:R.rail,ownerState:M,className:Y.rail}),ee=null!=(o=_.track)?o:"span",te=Li({elementType:ee,externalSlotProps:R.track,additionalProps:{style:we({},O[z].offset(G),O[z].leap(q))},ownerState:M,className:Y.track}),ne=null!=(a=_.thumb)?a:"span",re=Li({elementType:ne,getSlotProps:P,externalSlotProps:R.thumb,ownerState:M}),oe=null!=(i=_.valueLabel)?i:Fy,ae=Li({elementType:oe,externalSlotProps:R.valueLabel,ownerState:M}),ie=null!=(s=_.mark)?s:"span",se=Li({elementType:ie,externalSlotProps:R.mark,ownerState:M,className:Y.mark}),le=null!=(l=_.markLabel)?l:"span",ue=Li({elementType:le,externalSlotProps:R.markLabel,ownerState:M}),ce=_.input||"input",de=Li({elementType:ce,getSlotProps:L,externalSlotProps:R.input,ownerState:M});return Z.jsxs(K,we({},X,{children:[Z.jsx(Q,we({},J)),Z.jsx(ee,we({},te)),H.filter((e=>e.value>=w&&e.value<=x)).map(((e,t)=>{const n=Vy(e.value,w,x),r=O[z].offset(n);let o;return o=!1===E?-1!==U.indexOf(e.value):"normal"===E&&(B?e.value>=U[0]&&e.value<=U[U.length-1]:e.value<=U[0])||"inverted"===E&&(B?e.value<=U[0]||e.value>=U[U.length-1]:e.value>=U[0]),Z.jsxs(W.Fragment,{children:[Z.jsx(ie,we({"data-index":t},se,!Ri(ie)&&{markActive:o},{style:we({},r,se.style),className:Ti(se.className,o&&Y.markActive)})),null!=e.label?Z.jsx(le,we({"aria-hidden":!0,"data-index":t},ue,!Ri(le)&&{markLabelActive:o},{style:we({},r,ue.style),className:Ti(Y.markLabel,ue.className,o&&Y.markLabelActive),children:e.label})):null]},t)})),U.map(((e,t)=>{const n=Vy(e,w,x),r=O[z].offset(n),o="off"===I?Jy:oe;return Z.jsx(W.Fragment,{children:Z.jsx(o,we({},!Ri(o)&&{valueLabelFormat:N,valueLabelDisplay:I,value:"function"==typeof N?N(S(e),t):N,index:t,open:D===t||F===t||"on"===I,disabled:g},ae,{className:Ti(Y.valueLabel,ae.className),children:Z.jsx(ne,we({"data-index":t,"data-focusvisible":j===t},re,{className:Ti(Y.thumb,re.className,F===t&&Y.active,j===t&&Y.focusVisible),style:we({},r,{pointerEvents:m&&F!==t?"none":void 0},re.style),children:Z.jsx(ce,we({"data-index":t,"aria-label":v?v(t):u,"aria-valuenow":S(e),"aria-labelledby":d,"aria-valuetext":b?b(S(e),t):c,value:U[t]},de))}))}))},t)}))]}))})),tx=ex;var nx,rx={},ox=Symbol.for("react.element"),ax=Symbol.for("react.portal"),ix=Symbol.for("react.fragment"),sx=Symbol.for("react.strict_mode"),lx=Symbol.for("react.profiler"),ux=Symbol.for("react.provider"),cx=Symbol.for("react.context"),dx=Symbol.for("react.server_context"),px=Symbol.for("react.forward_ref"),fx=Symbol.for("react.suspense"),hx=Symbol.for("react.suspense_list"),mx=Symbol.for("react.memo"),gx=Symbol.for("react.lazy"),vx=Symbol.for("react.offscreen");
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function bx(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ox:switch(e=e.type){case ix:case lx:case sx:case fx:case hx:return e;default:switch(e=e&&e.$$typeof){case dx:case cx:case px:case gx:case mx:case ux:return e;default:return t}}case ax:return t}}}nx=Symbol.for("react.module.reference"),rx.ContextConsumer=cx,rx.ContextProvider=ux,rx.Element=ox,rx.ForwardRef=px,rx.Fragment=ix,rx.Lazy=gx,rx.Memo=mx,rx.Portal=ax,rx.Profiler=lx,rx.StrictMode=sx,rx.Suspense=fx,rx.SuspenseList=hx,rx.isAsyncMode=function(){return!1},rx.isConcurrentMode=function(){return!1},rx.isContextConsumer=function(e){return bx(e)===cx},rx.isContextProvider=function(e){return bx(e)===ux},rx.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ox},rx.isForwardRef=function(e){return bx(e)===px},rx.isFragment=function(e){return bx(e)===ix},rx.isLazy=function(e){return bx(e)===gx},rx.isMemo=function(e){return bx(e)===mx},rx.isPortal=function(e){return bx(e)===ax},rx.isProfiler=function(e){return bx(e)===lx},rx.isStrictMode=function(e){return bx(e)===sx},rx.isSuspense=function(e){return bx(e)===fx},rx.isSuspenseList=function(e){return bx(e)===hx},rx.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===ix||e===lx||e===sx||e===fx||e===hx||e===vx||"object"==typeof e&&null!==e&&(e.$$typeof===gx||e.$$typeof===mx||e.$$typeof===ux||e.$$typeof===cx||e.$$typeof===px||e.$$typeof===nx||void 0!==e.getModuleId)},rx.typeOf=bx;const yx=["onChange","maxRows","minRows","style","value"];function xx(e,t){return parseInt(e[t],10)||0}const wx={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function kx(e){return null==e||0===Object.keys(e).length}const Sx=W.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:a,value:i}=e,s=ke(e,yx),{current:l}=W.useRef(null!=i),u=W.useRef(null),c=Fo(t,u),d=W.useRef(null),p=W.useRef(0),[f,h]=W.useState({}),m=W.useCallback((()=>{const t=u.current,n=$o(t).getComputedStyle(t);if("0px"===n.width)return{};const a=d.current;a.style.width=n.width,a.value=t.value||e.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");const i=n["box-sizing"],s=xx(n,"padding-bottom")+xx(n,"padding-top"),l=xx(n,"border-bottom-width")+xx(n,"border-top-width"),c=a.scrollHeight;a.value="x";const p=a.scrollHeight;let f=c;o&&(f=Math.max(Number(o)*p,f)),r&&(f=Math.min(Number(r)*p,f)),f=Math.max(f,p);return{outerHeightStyle:f+("border-box"===i?s+l:0),overflow:Math.abs(f-c)<=1}}),[r,o,e.placeholder]),g=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return p.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(p.current+=1,{overflow:r,outerHeightStyle:n}):e},v=W.useCallback((()=>{const e=m();kx(e)||h((t=>g(t,e)))}),[m]);W.useEffect((()=>{const e=To((()=>{p.current=0,u.current&&(()=>{const e=m();kx(e)||vy.flushSync((()=>{h((t=>g(t,e)))}))})()})),t=$o(u.current);let n;return t.addEventListener("resize",e),"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver(e),n.observe(u.current)),()=>{e.clear(),t.removeEventListener("resize",e),n&&n.disconnect()}})),bo((()=>{v()})),W.useEffect((()=>{p.current=0}),[i]);return Z.jsxs(W.Fragment,{children:[Z.jsx("textarea",we({value:i,onChange:e=>{p.current=0,l||v(),n&&n(e)},ref:c,rows:o,style:we({height:f.outerHeightStyle,overflow:f.overflow?"hidden":null},a)},s)),Z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:we({},wx,a,{padding:0})})]})}));function Cx(e){return to("MuiCircularProgress",e)}no("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ex=["className","color","disableShrink","size","style","thickness","value","variant"];let Ix,Nx,Tx,Rx,_x=e=>e;const $x=44,Mx=Sn(Ix||(Ix=_x`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Ox=Sn(Nx||(Nx=_x`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Ax=Qa("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${qn(n.color)}`]]}})((({ownerState:e,theme:t})=>we({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&kn(Tx||(Tx=_x`
      animation: ${0} 1.4s linear infinite;
    `),Mx))),Lx=Qa("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Px=Qa("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${qn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>we({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&kn(Rx||(Rx=_x`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Ox))),Dx=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:a=!1,size:i=40,style:s,thickness:l=3.6,value:u=0,variant:c="indeterminate"}=n,d=ke(n,Ex),p=we({},n,{color:o,disableShrink:a,size:i,thickness:l,value:u,variant:c}),f=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return ta({root:["root",n,`color${qn(r)}`],svg:["svg"],circle:["circle",`circle${qn(n)}`,o&&"circleDisableShrink"]},Cx,t)})(p),h={},m={},g={};if("determinate"===c){const e=2*Math.PI*(($x-l)/2);h.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(u),h.strokeDashoffset=`${((100-u)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return Z.jsx(Ax,we({className:Ti(f.root,r),style:we({width:i,height:i},m,s),ownerState:p,ref:t,role:"progressbar"},g,d,{children:Z.jsx(Lx,{className:f.svg,ownerState:p,viewBox:"22 22 44 44",children:Z.jsx(Px,{className:f.circle,style:h,ownerState:p,cx:$x,cy:$x,r:($x-l)/2,fill:"none",strokeWidth:l})})}))}));function Fx(e){return to("MuiListItemIcon",e)}const zx=no("MuiListItemIcon",["root","alignItemsFlexStart"]),Bx=W.createContext({}),jx=["className"],Wx=Qa("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((({theme:e,ownerState:t})=>we({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8}))),Vx=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiListItemIcon"}),{className:r}=n,o=ke(n,jx),a=we({},n,{alignItems:W.useContext(Bx).alignItems}),i=(e=>{const{alignItems:t,classes:n}=e;return ta({root:["root","flex-start"===t&&"alignItemsFlexStart"]},Fx,n)})(a);return Z.jsx(Wx,we({className:Ti(i.root,r),ownerState:a,ref:t},o))}));function Hx(e){return to("MuiTypography",e)}no("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ux=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Gx=Qa("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${qn(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>we({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),qx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Yx={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Kx=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTypography"}),r=(e=>Yx[e]||e)(n.color),o=Yr(we({},n,{color:r})),{align:a="inherit",className:i,component:s,gutterBottom:l=!1,noWrap:u=!1,paragraph:c=!1,variant:d="body1",variantMapping:p=qx}=o,f=ke(o,Ux),h=we({},o,{align:a,color:r,className:i,component:s,gutterBottom:l,noWrap:u,paragraph:c,variant:d,variantMapping:p}),m=s||(c?"p":p[d]||qx[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:a,classes:i}=e;return ta({root:["root",a,"inherit"!==e.align&&`align${qn(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},Hx,i)})(h);return Z.jsx(Gx,we({as:m,ref:t,ownerState:h,className:Ti(g.root,i)},f))}));function Xx(e,t){return(Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Qx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xx(e,t)}const Zx=!1,Jx=V.createContext(null);var ew="unmounted",tw="exited",nw="entering",rw="entered",ow="exiting",aw=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=tw,r.appearStatus=nw):o=rw:o=t.unmountOnExit||t.mountOnEnter?ew:tw,r.state={status:o},r.nextCallback=null,r}Qx(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ew?{status:tw}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==nw&&n!==rw&&(t=nw):n!==nw&&n!==rw||(t=ow)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===nw){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:by.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tw&&this.setState({status:ew})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[by.findDOMNode(this),r],a=o[0],i=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Zx?this.safeSetState({status:rw},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,i),this.safeSetState({status:nw},(function(){t.props.onEntering(a,i),t.onTransitionEnd(l,(function(){t.safeSetState({status:rw},(function(){t.props.onEntered(a,i)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:by.findDOMNode(this);t&&!Zx?(this.props.onExit(r),this.safeSetState({status:ow},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:tw},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:tw},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:by.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],i=o[1];this.props.addEndListener(a,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ew)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=ke(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return V.createElement(Jx.Provider,{value:null},"function"==typeof n?n(e,r):V.cloneElement(V.Children.only(n),r))},t}(V.Component);function iw(){}aw.contextType=Jx,aw.propTypes={},aw.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:iw,onEntering:iw,onEntered:iw,onExit:iw,onExiting:iw,onExited:iw},aw.UNMOUNTED=ew,aw.EXITED=tw,aw.ENTERING=nw,aw.ENTERED=rw,aw.EXITING=ow;const sw=aw;function lw(e,t){var n=Object.create(null);return e&&W.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&W.isValidElement(e)?t(e):e}(e)})),n}function uw(e,t,n){return null!=n[t]?n[t]:e.props[t]}function cw(e,t,n){var r=lw(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),a=[];for(var i in e)i in t?a.length&&(o[i]=a,a=[]):a.push(i);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];s[o[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var i=o[a];if(W.isValidElement(i)){var s=a in t,l=a in r,u=t[a],c=W.isValidElement(u)&&!u.props.in;!l||s&&!c?l||!s||c?l&&s&&W.isValidElement(u)&&(o[a]=W.cloneElement(i,{onExited:n.bind(null,i),in:u.props.in,exit:uw(i,"exit",e),enter:uw(i,"enter",e)})):o[a]=W.cloneElement(i,{in:!1}):o[a]=W.cloneElement(i,{onExited:n.bind(null,i),in:!0,exit:uw(i,"exit",e),enter:uw(i,"enter",e)})}})),o}var dw=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},pw=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Qx(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,lw(n.children,(function(e){return W.cloneElement(e,{onExited:r.bind(null,e),in:!0,appear:uw(e,"appear",n),enter:uw(e,"enter",n),exit:uw(e,"exit",n)})}))):cw(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=lw(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=we({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=ke(e,["component","childFactory"]),o=this.state.contextValue,a=dw(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?V.createElement(Jx.Provider,{value:o},a):V.createElement(Jx.Provider,{value:o},V.createElement(t,r,a))},t}(V.Component);pw.propTypes={},pw.defaultProps={component:"div",childFactory:function(e){return e}};const fw=pw;const hw=no("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mw=["center","classes","className"];let gw,vw,bw,yw,xw=e=>e;const ww=Sn(gw||(gw=xw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),kw=Sn(vw||(vw=xw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Sw=Sn(bw||(bw=xw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Cw=Qa("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ew=Qa((function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:i,in:s,onExited:l,timeout:u}=e,[c,d]=W.useState(!1),p=Ti(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:i,height:i,top:-i/2+a,left:-i/2+o},h=Ti(n.child,c&&n.childLeaving,r&&n.childPulsate);return s||c||d(!0),W.useEffect((()=>{if(!s&&null!=l){const e=setTimeout(l,u);return()=>{clearTimeout(e)}}}),[l,s,u]),Z.jsx("span",{className:p,style:f,children:Z.jsx("span",{className:h})})}),{name:"MuiTouchRipple",slot:"Ripple"})(yw||(yw=xw`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),hw.rippleVisible,ww,550,(({theme:e})=>e.transitions.easing.easeInOut),hw.ripplePulsate,(({theme:e})=>e.transitions.duration.shorter),hw.child,hw.childLeaving,kw,550,(({theme:e})=>e.transitions.easing.easeInOut),hw.childPulsate,Sw,(({theme:e})=>e.transitions.easing.easeInOut)),Iw=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:a}=n,i=ke(n,mw),[s,l]=W.useState([]),u=W.useRef(0),c=W.useRef(null);W.useEffect((()=>{c.current&&(c.current(),c.current=null)}),[s]);const d=W.useRef(!1),p=W.useRef(null),f=W.useRef(null),h=W.useRef(null);W.useEffect((()=>()=>{clearTimeout(p.current)}),[]);const m=W.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:a,cb:i}=e;l((e=>[...e,Z.jsx(Ew,{classes:{ripple:Ti(o.ripple,hw.ripple),rippleVisible:Ti(o.rippleVisible,hw.rippleVisible),ripplePulsate:Ti(o.ripplePulsate,hw.ripplePulsate),child:Ti(o.child,hw.child),childLeaving:Ti(o.childLeaving,hw.childLeaving),childPulsate:Ti(o.childPulsate,hw.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},u.current)])),u.current+=1,c.current=i}),[o]),g=W.useCallback(((e={},t={},n=()=>{})=>{const{pulsate:o=!1,center:a=r||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&d.current)return void(d.current=!1);"touchstart"===(null==e?void 0:e.type)&&(d.current=!0);const s=i?null:h.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,g;if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(a)g=Math.sqrt((2*l.width**2+l.height**2)/3),g%2==0&&(g+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-c),c)+2;g=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{m({pulsate:o,rippleX:u,rippleY:c,rippleSize:g,cb:n})},p.current=setTimeout((()=>{f.current&&(f.current(),f.current=null)}),80)):m({pulsate:o,rippleX:u,rippleY:c,rippleSize:g,cb:n})}),[r,m]),v=W.useCallback((()=>{g({},{pulsate:!0})}),[g]),b=W.useCallback(((e,t)=>{if(clearTimeout(p.current),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void(p.current=setTimeout((()=>{b(e,t)})));f.current=null,l((e=>e.length>0?e.slice(1):e)),c.current=t}),[]);return W.useImperativeHandle(t,(()=>({pulsate:v,start:g,stop:b})),[v,g,b]),Z.jsx(Cw,we({className:Ti(hw.root,o.root,a),ref:h},i,{children:Z.jsx(fw,{component:null,exit:!0,children:s})}))})),Nw=Iw;function Tw(e){return to("MuiButtonBase",e)}const Rw=no("MuiButtonBase",["root","disabled","focusVisible"]),_w=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$w=Qa("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Rw.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Mw=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:a,className:i,component:s="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:c=!1,focusRipple:d=!1,LinkComponent:p="a",onBlur:f,onClick:h,onContextMenu:m,onDragLeave:g,onFocus:v,onFocusVisible:b,onKeyDown:y,onKeyUp:x,onMouseDown:w,onMouseLeave:k,onMouseUp:S,onTouchEnd:C,onTouchMove:E,onTouchStart:I,tabIndex:N=0,TouchRippleProps:T,touchRippleRef:R,type:_}=n,$=ke(n,_w),M=W.useRef(null),O=W.useRef(null),A=Fo(O,R),{isFocusVisibleRef:L,onFocus:P,onBlur:D,ref:F}=Yo(),[z,B]=W.useState(!1);l&&z&&B(!1),W.useImperativeHandle(r,(()=>({focusVisible:()=>{B(!0),M.current.focus()}})),[]);const[j,V]=W.useState(!1);W.useEffect((()=>{V(!0)}),[]);const H=j&&!u&&!l;function U(e,t,n=c){return Do((r=>{t&&t(r);return!n&&O.current&&O.current[e](r),!0}))}W.useEffect((()=>{z&&d&&!u&&j&&O.current.pulsate()}),[u,d,z,j]);const G=U("start",w),q=U("stop",m),Y=U("stop",g),K=U("stop",S),X=U("stop",(e=>{z&&e.preventDefault(),k&&k(e)})),Q=U("start",I),J=U("stop",C),ee=U("stop",E),te=U("stop",(e=>{D(e),!1===L.current&&B(!1),f&&f(e)}),!1),ne=Do((e=>{M.current||(M.current=e.currentTarget),P(e),!0===L.current&&(B(!0),b&&b(e)),v&&v(e)})),re=()=>{const e=M.current;return s&&"button"!==s&&!("A"===e.tagName&&e.href)},oe=W.useRef(!1),ae=Do((e=>{d&&!oe.current&&z&&O.current&&" "===e.key&&(oe.current=!0,O.current.stop(e,(()=>{O.current.start(e)}))),e.target===e.currentTarget&&re()&&" "===e.key&&e.preventDefault(),y&&y(e),e.target===e.currentTarget&&re()&&"Enter"===e.key&&!l&&(e.preventDefault(),h&&h(e))})),ie=Do((e=>{d&&" "===e.key&&O.current&&z&&!e.defaultPrevented&&(oe.current=!1,O.current.stop(e,(()=>{O.current.pulsate(e)}))),x&&x(e),h&&e.target===e.currentTarget&&re()&&" "===e.key&&!e.defaultPrevented&&h(e)}));let se=s;"button"===se&&($.href||$.to)&&(se=p);const le={};"button"===se?(le.type=void 0===_?"button":_,le.disabled=l):($.href||$.to||(le.role="button"),l&&(le["aria-disabled"]=l));const ue=Fo(t,F,M),ce=we({},n,{centerRipple:o,component:s,disabled:l,disableRipple:u,disableTouchRipple:c,focusRipple:d,tabIndex:N,focusVisible:z}),de=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a=ta({root:["root",t&&"disabled",n&&"focusVisible"]},Tw,o);return n&&r&&(a.root+=` ${r}`),a})(ce);return Z.jsxs($w,we({as:se,className:Ti(de.root,i),ownerState:ce,onBlur:te,onClick:h,onContextMenu:q,onFocus:ne,onKeyDown:ae,onKeyUp:ie,onMouseDown:G,onMouseLeave:X,onMouseUp:K,onDragLeave:Y,onTouchEnd:J,onTouchMove:ee,onTouchStart:Q,ref:ue,tabIndex:l?-1:N,type:_},le,$,{children:[a,H?Z.jsx(Nw,we({ref:A,center:o},T)):null]}))}));function Ow(e){return to("MuiDivider",e)}const Aw=no("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Lw=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Pw=Qa("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>we({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:So(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>we({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>we({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${(e.vars||e).palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>we({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),Dw=Qa("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>we({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),Fw=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:a,component:i=(o?"div":"hr"),flexItem:s=!1,light:l=!1,orientation:u="horizontal",role:c=("hr"!==i?"separator":void 0),textAlign:d="center",variant:p="fullWidth"}=n,f=ke(n,Lw),h=we({},n,{absolute:r,component:i,flexItem:s,light:l,orientation:u,role:c,textAlign:d,variant:p}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:a,orientation:i,textAlign:s,variant:l}=e;return ta({root:["root",t&&"absolute",l,a&&"light","vertical"===i&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===i&&"withChildrenVertical","right"===s&&"vertical"!==i&&"textAlignRight","left"===s&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]},Ow,r)})(h);return Z.jsx(Pw,we({as:i,className:Ti(m.root,a),role:c,ref:t,ownerState:h},f,{children:o?Z.jsx(Dw,{className:m.wrapper,ownerState:h,children:o}):null}))}));function zw(e){return to("MuiListItemText",e)}const Bw=no("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),jw=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Ww=Qa("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Bw.primary}`]:t.primary},{[`& .${Bw.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((({ownerState:e})=>we({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}))),Vw=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:a=!1,inset:i=!1,primary:s,primaryTypographyProps:l,secondary:u,secondaryTypographyProps:c}=n,d=ke(n,jw),{dense:p}=W.useContext(Bx);let f=null!=s?s:r,h=u;const m=we({},n,{disableTypography:a,inset:i,primary:!!f,secondary:!!h,dense:p}),g=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:a}=e;return ta({root:["root",n&&"inset",a&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},zw,t)})(m);return null==f||f.type===Kx||a||(f=Z.jsx(Kx,we({variant:p?"body2":"body1",className:g.primary,component:null!=l&&l.variant?void 0:"span",display:"block"},l,{children:f}))),null==h||h.type===Kx||a||(h=Z.jsx(Kx,we({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},c,{children:h}))),Z.jsxs(Ww,we({className:Ti(g.root,o),ownerState:m,ref:t},d,{children:[f,h]}))}));function Hw(e){return to("MuiMenuItem",e)}const Uw=no("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Gw=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],qw=Qa(Mw,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>we({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Uw.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Uw.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Uw.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Uw.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Uw.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Aw.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Aw.inset}`]:{marginLeft:52},[`& .${Bw.root}`]:{marginTop:0,marginBottom:0},[`& .${Bw.inset}`]:{paddingLeft:36},[`& .${zx.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&we({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${zx.root} svg`]:{fontSize:"1.25rem"}})))),Yw=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:a=!1,divider:i=!1,disableGutters:s=!1,focusVisibleClassName:l,role:u="menuitem",tabIndex:c,className:d}=n,p=ke(n,Gw),f=W.useContext(Bx),h=W.useMemo((()=>({dense:a||f.dense||!1,disableGutters:s})),[f.dense,a,s]),m=W.useRef(null);bo((()=>{r&&m.current&&m.current.focus()}),[r]);const g=we({},n,{dense:h.dense,divider:i,disableGutters:s}),v=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:a,classes:i}=e;return we({},i,ta({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",a&&"selected"]},Hw,i))})(n),b=Fo(m,t);let y;return n.disabled||(y=void 0!==c?c:-1),Z.jsx(Bx.Provider,{value:h,children:Z.jsx(qw,we({ref:b,role:u,tabIndex:y,component:o,focusVisibleClassName:Ti(v.focusVisible,l),className:Ti(v.root,d)},p,{ownerState:g,classes:v}))})}));function Kw(e){return to("MuiList",e)}no("MuiList",["root","padding","dense","subheader"]);const Xw=["children","className","component","dense","disablePadding","subheader"],Qw=Qa("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((({ownerState:e})=>we({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}))),Zw=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiList"}),{children:r,className:o,component:a="ul",dense:i=!1,disablePadding:s=!1,subheader:l}=n,u=ke(n,Xw),c=W.useMemo((()=>({dense:i})),[i]),d=we({},n,{component:a,dense:i,disablePadding:s}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return ta({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},Kw,t)})(d);return Z.jsx(Bx.Provider,{value:c,children:Z.jsxs(Qw,we({as:a,className:Ti(p.root,o),ref:t,ownerState:d},u,{children:[l,r]}))})})),Jw=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ek(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function tk(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function nk(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function rk(e,t,n,r,o,a){let i=!1,s=o(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(i)return!1;i=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&nk(s,a)&&!t)return s.focus(),!0;s=o(e,s,n)}return!1}const ok=W.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:a,className:i,disabledItemsFocusable:s=!1,disableListWrap:l=!1,onKeyDown:u,variant:c="selectedMenu"}=e,d=ke(e,Jw),p=W.useRef(null),f=W.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});bo((()=>{r&&p.current.focus()}),[r]),W.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&n){const n=`${Ko(_o(e))}px`;p.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,p.current.style.width=`calc(100% + ${n})`}return p.current}})),[]);const h=Fo(p,t);let m=-1;W.Children.forEach(a,((e,t)=>{W.isValidElement(e)&&(e.props.disabled||("selectedMenu"===c&&e.props.selected||-1===m)&&(m=t))}));const g=W.Children.map(a,((e,t)=>{if(t===m){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===c&&(t.tabIndex=0),W.cloneElement(e,t)}return e}));return Z.jsx(Zw,we({role:"menu",ref:h,className:i,onKeyDown:e=>{const t=p.current,n=e.key,r=_o(t).activeElement;if("ArrowDown"===n)e.preventDefault(),rk(t,r,l,s,ek);else if("ArrowUp"===n)e.preventDefault(),rk(t,r,l,s,tk);else if("Home"===n)e.preventDefault(),rk(t,null,l,s,ek);else if("End"===n)e.preventDefault(),rk(t,null,l,s,tk);else if(1===n.length){const o=f.current,a=n.toLowerCase(),i=performance.now();o.keys.length>0&&(i-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&a!==o.keys[0]&&(o.repeating=!1)),o.lastTime=i,o.keys.push(a);const l=r&&!o.repeating&&nk(r,o);o.previousKeyMatched&&(l||rk(t,r,!1,s,ek,o))?e.preventDefault():o.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},d,{children:g}))})),ak=ok;function ik(e){return to("MuiPaper",e)}no("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const sk=["className","component","elevation","square","variant"],lk=Qa("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>{var n;return we({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&we({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${So("#fff",Za(t.elevation))}, ${So("#fff",Za(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))})),uk=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:a=1,square:i=!1,variant:s="elevation"}=n,l=ke(n,sk),u=we({},n,{component:o,elevation:a,square:i,variant:s}),c=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return ta({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},ik,o)})(u);return Z.jsx(lk,we({as:o,ownerState:u,className:Ti(c.root,r),ref:t},l))})),ck=e=>e.scrollTop;function dk(e,t){var n,r;const{timeout:o,easing:a,style:i={}}=e;return{duration:null!=(n=i.transitionDuration)?n:"number"==typeof o?o:o[t.mode]||0,easing:null!=(r=i.transitionTimingFunction)?r:"object"==typeof a?a[t.mode]:a,delay:i.transitionDelay}}const pk=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function fk(e){return`scale(${e}, ${e**2})`}const hk={entering:{opacity:1,transform:fk(1)},entered:{opacity:1,transform:"none"}},mk="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gk=W.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:a,in:i,onEnter:s,onEntered:l,onEntering:u,onExit:c,onExited:d,onExiting:p,style:f,timeout:h="auto",TransitionComponent:m=sw}=e,g=ke(e,pk),v=W.useRef(),b=W.useRef(),y=qa(),x=W.useRef(null),w=Fo(x,o.ref,t),k=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},S=k(u),C=k(((e,t)=>{ck(e);const{duration:n,delay:r,easing:o}=dk({style:f,timeout:h,easing:a},{mode:"enter"});let i;"auto"===h?(i=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=n,e.style.transition=[y.transitions.create("opacity",{duration:i,delay:r}),y.transitions.create("transform",{duration:mk?i:.666*i,delay:r,easing:o})].join(","),s&&s(e,t)})),E=k(l),I=k(p),N=k((e=>{const{duration:t,delay:n,easing:r}=dk({style:f,timeout:h,easing:a},{mode:"exit"});let o;"auto"===h?(o=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=t,e.style.transition=[y.transitions.create("opacity",{duration:o,delay:n}),y.transitions.create("transform",{duration:mk?o:.666*o,delay:mk?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=fk(.75),c&&c(e)})),T=k(d);return W.useEffect((()=>()=>{clearTimeout(v.current)}),[]),Z.jsx(m,we({appear:r,in:i,nodeRef:x,onEnter:C,onEntered:E,onEntering:S,onExit:N,onExited:T,onExiting:I,addEndListener:e=>{"auto"===h&&(v.current=setTimeout(e,b.current||0)),n&&n(x.current,e)},timeout:"auto"===h?null:h},g,{children:(e,t)=>W.cloneElement(o,we({style:we({opacity:0,transform:fk(.75),visibility:"exited"!==e||i?void 0:"hidden"},hk[e],f,o.props.style),ref:w},t))}))}));gk.muiSupportAuto=!0;const vk=gk,bk=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],yk={entering:{opacity:1},entered:{opacity:1}},xk=W.forwardRef((function(e,t){const n=qa(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:i,easing:s,in:l,onEnter:u,onEntered:c,onEntering:d,onExit:p,onExited:f,onExiting:h,style:m,timeout:g=r,TransitionComponent:v=sw}=e,b=ke(e,bk),y=W.useRef(null),x=Fo(y,i.ref,t),w=e=>t=>{if(e){const n=y.current;void 0===t?e(n):e(n,t)}},k=w(d),S=w(((e,t)=>{ck(e);const r=dk({style:m,timeout:g,easing:s},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),C=w(c),E=w(h),I=w((e=>{const t=dk({style:m,timeout:g,easing:s},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),N=w(f);return Z.jsx(v,we({appear:a,in:l,nodeRef:y,onEnter:S,onEntered:C,onEntering:k,onExit:I,onExited:N,onExiting:E,addEndListener:e=>{o&&o(y.current,e)},timeout:g},b,{children:(e,t)=>W.cloneElement(i,we({style:we({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},yk[e],m,i.props.style),ref:x},t))}))}));function wk(e){return to("MuiBackdrop",e)}no("MuiBackdrop",["root","invisible"]);const kk=["children","component","components","componentsProps","className","invisible","open","slotProps","slots","transitionDuration","TransitionComponent"],Sk=Qa("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((({ownerState:e})=>we({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"}))),Ck=W.forwardRef((function(e,t){var n,r,o;const a=Ya({props:e,name:"MuiBackdrop"}),{children:i,component:s="div",components:l={},componentsProps:u={},className:c,invisible:d=!1,open:p,slotProps:f={},slots:h={},transitionDuration:m,TransitionComponent:g=xk}=a,v=ke(a,kk),b=we({},a,{component:s,invisible:d}),y=(e=>{const{classes:t,invisible:n}=e;return ta({root:["root",n&&"invisible"]},wk,t)})(b),x=null!=(n=f.root)?n:u.root;return Z.jsx(g,we({in:p,timeout:m},v,{children:Z.jsx(Sk,we({"aria-hidden":!0},x,{as:null!=(r=null!=(o=h.root)?o:l.Root)?r:s,className:Ti(y.root,c,null==x?void 0:x.className),ownerState:we({},b,null==x?void 0:x.ownerState),classes:y,ref:t,children:i}))}))})),Ek=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],Ik=Qa("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((({theme:e,ownerState:t})=>we({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"}))),Nk=Qa(Ck,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Tk=W.forwardRef((function(e,t){var n,r,o,a,i,s;const l=Ya({name:"MuiModal",props:e}),{BackdropComponent:u=Nk,BackdropProps:c,closeAfterTransition:d=!1,children:p,component:f,components:h={},componentsProps:m={},disableAutoFocus:g=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:b=!1,disablePortal:y=!1,disableRestoreFocus:x=!1,disableScrollLock:w=!1,hideBackdrop:k=!1,keepMounted:S=!1,slotProps:C,slots:E,theme:I}=l,N=ke(l,Ek),[T,R]=W.useState(!0),_={closeAfterTransition:d,disableAutoFocus:g,disableEnforceFocus:v,disableEscapeKeyDown:b,disablePortal:y,disableRestoreFocus:x,disableScrollLock:w,hideBackdrop:k,keepMounted:S},$=we({},l,_,{exited:T}),M=(e=>e.classes)($),O=null!=(n=null!=(r=null==E?void 0:E.root)?r:h.Root)?n:Ik,A=null!=(o=null!=(a=null==E?void 0:E.backdrop)?a:h.Backdrop)?o:u,L=null!=(i=null==C?void 0:C.root)?i:m.root,P=null!=(s=null==C?void 0:C.backdrop)?s:m.backdrop;return Z.jsx(Ly,we({slots:{root:O,backdrop:A},slotProps:{root:()=>we({},$i(L,$),!Ri(O)&&{as:f,theme:I}),backdrop:()=>we({},c,$i(P,$))},onTransitionEnter:()=>R(!1),onTransitionExited:()=>R(!0),ref:t},N,{classes:M},_,{children:p}))}));function Rk(e){return to("MuiPopover",e)}no("MuiPopover",["root","paper"]);const _k=["onEntering"],$k=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Mk(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Ok(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Ak(e){return[e.horizontal,e.vertical].map((e=>"number"==typeof e?`${e}px`:e)).join(" ")}function Lk(e){return"function"==typeof e?e():e}const Pk=Qa(Tk,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Dk=Qa(uk,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Fk=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:i,anchorReference:s="anchorEl",children:l,className:u,container:c,elevation:d=8,marginThreshold:p=16,open:f,PaperProps:h={},transformOrigin:m={vertical:"top",horizontal:"left"},TransitionComponent:g=vk,transitionDuration:v="auto",TransitionProps:{onEntering:b}={}}=n,y=ke(n.TransitionProps,_k),x=ke(n,$k),w=W.useRef(),k=Fo(w,h.ref),S=we({},n,{anchorOrigin:a,anchorReference:s,elevation:d,marginThreshold:p,PaperProps:h,transformOrigin:m,TransitionComponent:g,transitionDuration:v,TransitionProps:y}),C=(e=>{const{classes:t}=e;return ta({root:["root"],paper:["paper"]},Rk,t)})(S),E=W.useCallback((()=>{if("anchorPosition"===s)return i;const e=Lk(o),t=(e&&1===e.nodeType?e:_o(w.current).body).getBoundingClientRect();return{top:t.top+Mk(t,a.vertical),left:t.left+Ok(t,a.horizontal)}}),[o,a.horizontal,a.vertical,i,s]),I=W.useCallback((e=>({vertical:Mk(e,m.vertical),horizontal:Ok(e,m.horizontal)})),[m.horizontal,m.vertical]),N=W.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=I(t);if("none"===s)return{top:null,left:null,transformOrigin:Ak(n)};const r=E();let a=r.top-n.vertical,i=r.left-n.horizontal;const l=a+t.height,u=i+t.width,c=$o(Lk(o)),d=c.innerHeight-p,f=c.innerWidth-p;if(a<p){const e=a-p;a-=e,n.vertical+=e}else if(l>d){const e=l-d;a-=e,n.vertical+=e}if(i<p){const e=i-p;i-=e,n.horizontal+=e}else if(u>f){const e=u-f;i-=e,n.horizontal+=e}return{top:`${Math.round(a)}px`,left:`${Math.round(i)}px`,transformOrigin:Ak(n)}}),[o,s,E,I,p]),[T,R]=W.useState(f),_=W.useCallback((()=>{const e=w.current;if(!e)return;const t=N(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,R(!0)}),[N]);W.useEffect((()=>{f&&_()})),W.useImperativeHandle(r,(()=>f?{updatePosition:()=>{_()}}:null),[f,_]),W.useEffect((()=>{if(!f)return;const e=To((()=>{_()})),t=$o(o);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[o,f,_]);let $=v;"auto"!==v||g.muiSupportAuto||($=void 0);const M=c||(o?_o(Lk(o)).body:void 0);return Z.jsx(Pk,we({BackdropProps:{invisible:!0},className:Ti(C.root,u),container:M,open:f,ref:t,ownerState:S},x,{children:Z.jsx(g,we({appear:!0,in:f,onEntering:(e,t)=>{b&&b(e,t),_()},onExited:()=>{R(!1)},timeout:$},y,{children:Z.jsx(Dk,we({elevation:d},h,{ref:k,className:Ti(C.paper,h.className)},T?void 0:{style:we({},h.style,{opacity:0})},{ownerState:S,children:l}))}))}))}));function zk(e){return to("MuiMenu",e)}no("MuiMenu",["root","paper","list"]);const Bk=["onEntering"],jk=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Wk={vertical:"top",horizontal:"right"},Vk={vertical:"top",horizontal:"left"},Hk=Qa(Fk,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Uk=Qa(uk,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Gk=Qa(ak,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),qk=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,disableAutoFocusItem:a=!1,MenuListProps:i={},onClose:s,open:l,PaperProps:u={},PopoverClasses:c,transitionDuration:d="auto",TransitionProps:{onEntering:p}={},variant:f="selectedMenu"}=n,h=ke(n.TransitionProps,Bk),m=ke(n,jk),g=qa(),v="rtl"===g.direction,b=we({},n,{autoFocus:r,disableAutoFocusItem:a,MenuListProps:i,onEntering:p,PaperProps:u,transitionDuration:d,TransitionProps:h,variant:f}),y=(e=>{const{classes:t}=e;return ta({root:["root"],paper:["paper"],list:["list"]},zk,t)})(b),x=r&&!a&&l,w=W.useRef(null);let k=-1;return W.Children.map(o,((e,t)=>{W.isValidElement(e)&&(e.props.disabled||("selectedMenu"===f&&e.props.selected||-1===k)&&(k=t))})),Z.jsx(Hk,we({onClose:s,anchorOrigin:{vertical:"bottom",horizontal:v?"right":"left"},transformOrigin:v?Wk:Vk,PaperProps:we({component:Uk},u,{classes:we({},u.classes,{root:y.paper})}),className:y.root,open:l,ref:t,transitionDuration:d,TransitionProps:we({onEntering:(e,t)=>{w.current&&w.current.adjustStyleForScrollbar(e,g),p&&p(e,t)}},h),ownerState:b},m,{classes:c,children:Z.jsx(Gk,we({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),s&&s(e,"tabKeyDown"))},actions:w,autoFocus:r&&(-1===k||a),autoFocusItem:x,variant:f},i,{className:Ti(y.list,i.className),children:o}))}))})),Yk=qk;let Kk;const Xk=new Uint8Array(16);function Qk(){if(!Kk&&(Kk="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kk))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kk(Xk)}const Zk=[];for(let Cxe=0;Cxe<256;++Cxe)Zk.push((Cxe+256).toString(16).slice(1));const Jk={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function eS(e,t,n){if(Jk.randomUUID&&!t&&!e)return Jk.randomUUID();const r=(e=e||{}).random||(e.rng||Qk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(Zk[e[t+0]]+Zk[e[t+1]]+Zk[e[t+2]]+Zk[e[t+3]]+"-"+Zk[e[t+4]]+Zk[e[t+5]]+"-"+Zk[e[t+6]]+Zk[e[t+7]]+"-"+Zk[e[t+8]]+Zk[e[t+9]]+"-"+Zk[e[t+10]]+Zk[e[t+11]]+Zk[e[t+12]]+Zk[e[t+13]]+Zk[e[t+14]]+Zk[e[t+15]]).toLowerCase()}(r)}const tS=W.createContext();function nS(e){return to("MuiGrid",e)}const rS=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],oS=no("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...rS.map((e=>`grid-xs-${e}`)),...rS.map((e=>`grid-sm-${e}`)),...rS.map((e=>`grid-md-${e}`)),...rS.map((e=>`grid-lg-${e}`)),...rS.map((e=>`grid-xl-${e}`))]),aS=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function iS(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function sS({breakpoints:e,values:t}){let n="";Object.keys(t).forEach((e=>{""===n&&0!==t[e]&&(n=e)}));const r=Object.keys(e).sort(((t,n)=>e[t]-e[n]));return r.slice(0,r.indexOf(n))}const lS=Qa("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:a,spacing:i,wrap:s,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=function(e,t,n={}){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n[`spacing-${t}-${String(o)}`])})),r}(i,u,t));const d=[];return u.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,a&&t.item,l&&t.zeroMinWidth,...c,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...d]}})((({ownerState:e})=>we({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap})),(function({theme:e,ownerState:t}){return Vn({theme:e},Gn({values:t.direction,breakpoints:e.breakpoints.values}),(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${oS.item}`]={maxWidth:"none"}),t}))}),(function({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let o={};if(n&&0!==r){const t=Gn({values:r,breakpoints:e.breakpoints.values});let n;"object"==typeof t&&(n=sS({breakpoints:e.breakpoints.values,values:t})),o=Vn({theme:e},t,((t,r)=>{var o;const a=e.spacing(t);return"0px"!==a?{marginTop:`-${iS(a)}`,[`& > .${oS.item}`]:{paddingTop:iS(a)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,[`& > .${oS.item}`]:{paddingTop:0}}}))}return o}),(function({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let o={};if(n&&0!==r){const t=Gn({values:r,breakpoints:e.breakpoints.values});let n;"object"==typeof t&&(n=sS({breakpoints:e.breakpoints.values,values:t})),o=Vn({theme:e},t,((t,r)=>{var o;const a=e.spacing(t);return"0px"!==a?{width:`calc(100% + ${iS(a)})`,marginLeft:`-${iS(a)}`,[`& > .${oS.item}`]:{paddingLeft:iS(a)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${oS.item}`]:{paddingLeft:0}}}))}return o}),(function({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce(((r,o)=>{let a={};if(t[o]&&(n=t[o]),!n)return r;if(!0===n)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===n)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const i=Gn({values:t.columns,breakpoints:e.breakpoints.values}),s="object"==typeof i?i[o]:i;if(null==s)return r;const l=Math.round(n/s*1e8)/1e6+"%";let u={};if(t.container&&t.item&&0!==t.columnSpacing){const n=e.spacing(t.columnSpacing);if("0px"!==n){const e=`calc(${l} + ${iS(n)})`;u={flexBasis:e,maxWidth:e}}}a=we({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===e.breakpoints.values[o]?Object.assign(r,a):r[e.breakpoints.up(o)]=a,r}),{})}));const uS=e=>{const{classes:t,container:n,direction:r,item:o,spacing:a,wrap:i,zeroMinWidth:s,breakpoints:l}=e;let u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(a,l));const c=[];l.forEach((t=>{const n=e[t];n&&c.push(`grid-${t}-${String(n)}`)}));return ta({root:["root",n&&"container",o&&"item",s&&"zeroMinWidth",...u,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==i&&`wrap-xs-${String(i)}`,...c]},nS,t)},cS=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiGrid"}),{breakpoints:r}=qa(),o=Yr(n),{className:a,columns:i,columnSpacing:s,component:l="div",container:u=!1,direction:c="row",item:d=!1,rowSpacing:p,spacing:f=0,wrap:h="wrap",zeroMinWidth:m=!1}=o,g=ke(o,aS),v=p||f,b=s||f,y=W.useContext(tS),x=u?i||12:y,w={},k=we({},g);r.keys.forEach((e=>{null!=g[e]&&(w[e]=g[e],delete k[e])}));const S=we({},o,{columns:x,container:u,direction:c,item:d,rowSpacing:v,columnSpacing:b,wrap:h,zeroMinWidth:m,spacing:f},w,{breakpoints:r.keys}),C=uS(S);return Z.jsx(tS.Provider,{value:x,children:Z.jsx(lS,we({ownerState:S,className:Ti(C.root,a),as:l,ref:t},k))})}));function dS(e){return to("MuiSvgIcon",e)}no("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const pS=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],fS=Qa("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${qn(n.color)}`],t[`fontSize${qn(n.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var n,r,o,a,i,s,l,u,c,d,p,f,h,m,g,v,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(o=e.transitions)||null==(a=o.duration)?void 0:a.shorter}),fontSize:{inherit:"inherit",small:(null==(i=e.typography)||null==(s=i.pxToRem)?void 0:s.call(i,20))||"1.25rem",medium:(null==(l=e.typography)||null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=e.typography)||null==(d=c.pxToRem)?void 0:d.call(c,35))||"2.1875rem"}[t.fontSize],color:null!=(p=null==(f=(e.vars||e).palette)||null==(h=f[t.color])?void 0:h.main)?p:{action:null==(m=(e.vars||e).palette)||null==(g=m.action)?void 0:g.active,disabled:null==(v=(e.vars||e).palette)||null==(b=v.action)?void 0:b.disabled,inherit:void 0}[t.color]}})),hS=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:a="inherit",component:i="svg",fontSize:s="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:c,viewBox:d="0 0 24 24"}=n,p=ke(n,pS),f=we({},n,{color:a,component:i,fontSize:s,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:d}),h={};u||(h.viewBox=d);const m=(e=>{const{color:t,fontSize:n,classes:r}=e;return ta({root:["root","inherit"!==t&&`color${qn(t)}`,`fontSize${qn(n)}`]},dS,r)})(f);return Z.jsxs(fS,we({as:i,className:Ti(m.root,o),focusable:"false",color:l,"aria-hidden":!c||void 0,role:c?"img":void 0,ref:t},h,p,{ownerState:f,children:[r,c?Z.jsx("title",{children:c}):null]}))}));hS.muiName="SvgIcon";const mS=hS;function gS(e,t){function n(n,r){return Z.jsx(mS,we({"data-testid":`${t}Icon`,ref:r},n,{children:e}))}return n.muiName=mS.muiName,W.memo(W.forwardRef(n))}const vS={configure:e=>{Xr.configure(e)}},bS=Object.freeze(Object.defineProperty({__proto__:null,capitalize:qn,createChainedFunction:No,createSvgIcon:gS,debounce:To,deprecatedPropType:function(e,t){return()=>null},isMuiElement:Ro,ownerDocument:_o,ownerWindow:$o,requirePropFactory:function(e,t){return()=>null},setRef:Mo,unstable_ClassNameGenerator:vS,unstable_useEnhancedEffect:bo,unstable_useId:Lo,unsupportedProp:function(e,t,n,r,o){return null},useControlled:Po,useEventCallback:Do,useForkRef:Fo,useIsFocusVisible:Yo},Symbol.toStringTag,{value:"Module"}));function yS(e){return to("MuiCollapse",e)}no("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const xS=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],wS=Qa("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((({theme:e,ownerState:t})=>we({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&we({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"}))),kS=Qa("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((({ownerState:e})=>we({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),SS=Qa("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((({ownerState:e})=>we({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),CS=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:a,collapsedSize:i="0px",component:s,easing:l,in:u,onEnter:c,onEntered:d,onEntering:p,onExit:f,onExited:h,onExiting:m,orientation:g="vertical",style:v,timeout:b=za.standard,TransitionComponent:y=sw}=n,x=ke(n,xS),w=we({},n,{orientation:g,collapsedSize:i}),k=(e=>{const{orientation:t,classes:n}=e;return ta({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},yS,n)})(w),S=qa(),C=W.useRef(),E=W.useRef(null),I=W.useRef(),N="number"==typeof i?`${i}px`:i,T="horizontal"===g,R=T?"width":"height";W.useEffect((()=>()=>{clearTimeout(C.current)}),[]);const _=W.useRef(null),$=Fo(t,_),M=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},O=()=>E.current?E.current[T?"clientWidth":"clientHeight"]:0,A=M(((e,t)=>{E.current&&T&&(E.current.style.position="absolute"),e.style[R]=N,c&&c(e,t)})),L=M(((e,t)=>{const n=O();E.current&&T&&(E.current.style.position="");const{duration:r,easing:o}=dk({style:v,timeout:b,easing:l},{mode:"enter"});if("auto"===b){const t=S.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,I.current=t}else e.style.transitionDuration="string"==typeof r?r:`${r}ms`;e.style[R]=`${n}px`,e.style.transitionTimingFunction=o,p&&p(e,t)})),P=M(((e,t)=>{e.style[R]="auto",d&&d(e,t)})),D=M((e=>{e.style[R]=`${O()}px`,f&&f(e)})),F=M(h),z=M((e=>{const t=O(),{duration:n,easing:r}=dk({style:v,timeout:b,easing:l},{mode:"exit"});if("auto"===b){const n=S.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,I.current=n}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[R]=N,e.style.transitionTimingFunction=r,m&&m(e)}));return Z.jsx(y,we({in:u,onEnter:A,onEntered:P,onEntering:L,onExit:D,onExited:F,onExiting:z,addEndListener:e=>{"auto"===b&&(C.current=setTimeout(e,I.current||0)),r&&r(_.current,e)},nodeRef:_,timeout:"auto"===b?null:b},x,{children:(e,t)=>Z.jsx(wS,we({as:s,className:Ti(k.root,a,{entered:k.entered,exited:!u&&"0px"===N&&k.hidden}[e]),style:we({[T?"minWidth":"minHeight"]:N},v),ownerState:we({},w,{state:e}),ref:$},t,{children:Z.jsx(kS,{ownerState:we({},w,{state:e}),className:k.wrapper,ref:E,children:Z.jsx(SS,{ownerState:we({},w,{state:e}),className:k.wrapperInner,children:o})})}))}))}));CS.muiSupportAuto=!0;const ES=CS,IS=W.createContext({});function NS(e){return to("MuiAccordion",e)}const TS=no("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),RS=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],_S=Qa(uk,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${TS.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${TS.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${TS.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),(({theme:e,ownerState:t})=>we({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${TS.expanded}`]:{margin:"16px 0"}}))),$S=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiAccordion"}),{children:r,className:o,defaultExpanded:a=!1,disabled:i=!1,disableGutters:s=!1,expanded:l,onChange:u,square:c=!1,TransitionComponent:d=ES,TransitionProps:p}=n,f=ke(n,RS),[h,m]=Po({controlled:l,default:a,name:"Accordion",state:"expanded"}),g=W.useCallback((e=>{m(!h),u&&u(e,!h)}),[h,u,m]),[v,...b]=W.Children.toArray(r),y=W.useMemo((()=>({expanded:h,disabled:i,disableGutters:s,toggle:g})),[h,i,s,g]),x=we({},n,{square:c,disabled:i,disableGutters:s,expanded:h}),w=(e=>{const{classes:t,square:n,expanded:r,disabled:o,disableGutters:a}=e;return ta({root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!a&&"gutters"],region:["region"]},NS,t)})(x);return Z.jsxs(_S,we({className:Ti(w.root,o),ref:t,ownerState:x,square:c},f,{children:[Z.jsx(IS.Provider,{value:y,children:v}),Z.jsx(d,we({in:h,timeout:"auto"},p,{children:Z.jsx("div",{"aria-labelledby":v.props.id,id:v.props["aria-controls"],role:"region",className:w.region,children:b})}))]}))}));function MS(e){return to("MuiAccordionDetails",e)}no("MuiAccordionDetails",["root"]);const OS=["className"],AS=Qa("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({padding:e.spacing(1,2,2)}))),LS=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiAccordionDetails"}),{className:r}=n,o=ke(n,OS),a=n,i=(e=>{const{classes:t}=e;return ta({root:["root"]},MS,t)})(a);return Z.jsx(AS,we({className:Ti(i.root,r),ref:t,ownerState:a},o))}));function PS(e){return to("MuiAccordionSummary",e)}const DS=no("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),FS=["children","className","expandIcon","focusVisibleClassName","onClick"],zS=Qa(Mw,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return we({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${DS.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${DS.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${DS.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${DS.expanded}`]:{minHeight:64}})})),BS=Qa("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((({theme:e,ownerState:t})=>we({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${DS.expanded}`]:{margin:"20px 0"}}))),jS=Qa("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${DS.expanded}`]:{transform:"rotate(180deg)"}}))),WS=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiAccordionSummary"}),{children:r,className:o,expandIcon:a,focusVisibleClassName:i,onClick:s}=n,l=ke(n,FS),{disabled:u=!1,disableGutters:c,expanded:d,toggle:p}=W.useContext(IS),f=we({},n,{expanded:d,disabled:u,disableGutters:c}),h=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:o}=e;return ta({root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},PS,t)})(f);return Z.jsxs(zS,we({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":d,className:Ti(h.root,o),focusVisibleClassName:Ti(h.focusVisible,i),onClick:e=>{p&&p(e),s&&s(e)},ref:t,ownerState:f},l,{children:[Z.jsx(BS,{className:h.content,ownerState:f,children:r}),a&&Z.jsx(jS,{className:h.expandIconWrapper,ownerState:f,children:a})]}))}));function VS(e){return to("MuiIconButton",e)}const HS=no("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),US=["edge","children","className","color","disabled","disableFocusRipple","size"],GS=Qa(Mw,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${qn(n.color)}`],n.edge&&t[`edge${qn(n.edge)}`],t[`size${qn(n.size)}`]]}})((({theme:e,ownerState:t})=>we({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:So(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})),(({theme:e,ownerState:t})=>{var n;const r=null==(n=(e.vars||e).palette)?void 0:n[t.color];return we({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&we({color:null==r?void 0:r.main},!t.disableRipple&&{"&:hover":we({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:So(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${HS.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})})),qS=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:a,color:i="default",disabled:s=!1,disableFocusRipple:l=!1,size:u="medium"}=n,c=ke(n,US),d=we({},n,{edge:r,color:i,disabled:s,disableFocusRipple:l,size:u}),p=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:a}=e;return ta({root:["root",n&&"disabled","default"!==r&&`color${qn(r)}`,o&&`edge${qn(o)}`,`size${qn(a)}`]},VS,t)})(d);return Z.jsx(GS,we({className:Ti(p.root,a),centerRipple:!0,focusRipple:!l,disabled:s,ref:t,ownerState:d},c,{children:o}))})),YS=gS(Z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),KS=["components","componentsProps","slots","slotProps"],XS=Qa(Iy,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),QS=W.forwardRef((function(e,t){var n;const r=Vr(),o=Ya({props:e,name:"MuiPopper"}),{components:a,componentsProps:i,slots:s,slotProps:l}=o,u=ke(o,KS),c=null!=(n=null==s?void 0:s.root)?n:null==a?void 0:a.Root;return Z.jsx(XS,we({direction:null==r?void 0:r.direction,slots:{root:c},slotProps:null!=l?l:i},u,{ref:t}))}));function ZS(e){return to("MuiListSubheader",e)}no("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const JS=["className","color","component","disableGutters","disableSticky","inset"],eC=Qa("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${qn(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((({theme:e,ownerState:t})=>we({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}))),tC=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiListSubheader"}),{className:r,color:o="default",component:a="li",disableGutters:i=!1,disableSticky:s=!1,inset:l=!1}=n,u=ke(n,JS),c=we({},n,{color:o,component:a,disableGutters:i,disableSticky:s,inset:l}),d=(e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:a}=e;return ta({root:["root","default"!==n&&`color${qn(n)}`,!r&&"gutters",o&&"inset",!a&&"sticky"]},ZS,t)})(c);return Z.jsx(eC,we({as:a,className:Ti(d.root,r),ref:t,ownerState:c},u))})),nC=gS(Z.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function rC(e){return to("MuiChip",e)}const oC=no("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),aC=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],iC=Qa("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:a,onDelete:i,size:s,variant:l}=n;return[{[`& .${oC.avatar}`]:t.avatar},{[`& .${oC.avatar}`]:t[`avatar${qn(s)}`]},{[`& .${oC.avatar}`]:t[`avatarColor${qn(r)}`]},{[`& .${oC.icon}`]:t.icon},{[`& .${oC.icon}`]:t[`icon${qn(s)}`]},{[`& .${oC.icon}`]:t[`iconColor${qn(o)}`]},{[`& .${oC.deleteIcon}`]:t.deleteIcon},{[`& .${oC.deleteIcon}`]:t[`deleteIcon${qn(s)}`]},{[`& .${oC.deleteIcon}`]:t[`deleteIconColor${qn(r)}`]},{[`& .${oC.deleteIcon}`]:t[`deleteIcon${qn(l)}Color${qn(r)}`]},t.root,t[`size${qn(s)}`],t[`color${qn(r)}`],a&&t.clickable,a&&"default"!==r&&t[`clickableColor${qn(r)})`],i&&t.deletable,i&&"default"!==r&&t[`deletableColor${qn(r)}`],t[l],t[`${l}${qn(r)}`]]}})((({theme:e,ownerState:t})=>{const n=So(e.palette.text.primary,.26),r="light"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300];return we({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${oC.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${oC.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:r,fontSize:e.typography.pxToRem(12)},[`& .${oC.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${oC.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${oC.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${oC.icon}`]:we({marginLeft:5,marginRight:-6},"small"===t.size&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&we({color:e.vars?e.vars.palette.Chip.defaultIconColor:r},"default"!==t.color&&{color:"inherit"})),[`& .${oC.deleteIcon}`]:we({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:n,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:So(n,.4)}},"small"===t.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==t.color&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:So(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},"small"===t.size&&{height:24},"default"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${oC.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:So(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&"default"!==t.color&&{[`&.${oC.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})}),(({theme:e,ownerState:t})=>we({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.hoverOpacity}))`:So(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${oC.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:So(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&"default"!==t.color&&{[`&:hover, &.${oC.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})),(({theme:e,ownerState:t})=>we({},"outlined"===t.variant&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${oC.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${oC.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${oC.avatar}`]:{marginLeft:4},[`& .${oC.avatarSmall}`]:{marginLeft:2},[`& .${oC.icon}`]:{marginLeft:4},[`& .${oC.iconSmall}`]:{marginLeft:2},[`& .${oC.deleteIcon}`]:{marginRight:5},[`& .${oC.deleteIconSmall}`]:{marginRight:3}},"outlined"===t.variant&&"default"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:So(e.palette[t.color].main,.7)}`,[`&.${oC.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:So(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${oC.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:So(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${oC.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:So(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}}))),sC=Qa("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${qn(r)}`]]}})((({ownerState:e})=>we({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===e.size&&{paddingLeft:8,paddingRight:8})));function lC(e){return"Backspace"===e.key||"Delete"===e.key}const uC=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiChip"}),{avatar:r,className:o,clickable:a,color:i="default",component:s,deleteIcon:l,disabled:u=!1,icon:c,label:d,onClick:p,onDelete:f,onKeyDown:h,onKeyUp:m,size:g="medium",variant:v="filled",tabIndex:b,skipFocusWhenDisabled:y=!1}=n,x=ke(n,aC),w=W.useRef(null),k=Fo(w,t),S=e=>{e.stopPropagation(),f&&f(e)},C=!(!1===a||!p)||a,E=C||f?Mw:s||"div",I=we({},n,{component:E,disabled:u,size:g,color:i,iconColor:W.isValidElement(c)&&c.props.color||i,onDelete:!!f,clickable:C,variant:v}),N=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:a,onDelete:i,clickable:s,variant:l}=e;return ta({root:["root",l,n&&"disabled",`size${qn(r)}`,`color${qn(o)}`,s&&"clickable",s&&`clickableColor${qn(o)}`,i&&"deletable",i&&`deletableColor${qn(o)}`,`${l}${qn(o)}`],label:["label",`label${qn(r)}`],avatar:["avatar",`avatar${qn(r)}`,`avatarColor${qn(o)}`],icon:["icon",`icon${qn(r)}`,`iconColor${qn(a)}`],deleteIcon:["deleteIcon",`deleteIcon${qn(r)}`,`deleteIconColor${qn(o)}`,`deleteIcon${qn(l)}Color${qn(o)}`]},rC,t)})(I),T=E===Mw?we({component:s||"div",focusVisibleClassName:N.focusVisible},f&&{disableRipple:!0}):{};let R=null;f&&(R=l&&W.isValidElement(l)?W.cloneElement(l,{className:Ti(l.props.className,N.deleteIcon),onClick:S}):Z.jsx(nC,{className:Ti(N.deleteIcon),onClick:S}));let _=null;r&&W.isValidElement(r)&&(_=W.cloneElement(r,{className:Ti(N.avatar,r.props.className)}));let $=null;return c&&W.isValidElement(c)&&($=W.cloneElement(c,{className:Ti(N.icon,c.props.className)})),Z.jsxs(iC,we({as:E,className:Ti(N.root,o),disabled:!(!C||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&lC(e)&&e.preventDefault(),h&&h(e)},onKeyUp:e=>{e.currentTarget===e.target&&(f&&lC(e)?f(e):"Escape"===e.key&&w.current&&w.current.blur()),m&&m(e)},ref:k,tabIndex:y&&u?-1:b,ownerState:I},T,x,{children:[_||$,Z.jsx(sC,{className:Ti(N.label),ownerState:I,children:d}),R]}))}));function cC({props:e,states:t,muiFormControl:n}){return t.reduce(((t,r)=>(t[r]=e[r],n&&void 0===e[r]&&(t[r]=n[r]),t)),{})}const dC=W.createContext(void 0);function pC(){return W.useContext(dC)}function fC(e){return Z.jsx(Gr,we({},e,{defaultTheme:Ga}))}function hC(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function mC(e,t=!1){return e&&(hC(e.value)&&""!==e.value||t&&hC(e.defaultValue)&&""!==e.defaultValue)}function gC(e){return to("MuiInputBase",e)}const vC=no("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),bC=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],yC=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${qn(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},xC=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},wC=Qa("div",{name:"MuiInputBase",slot:"Root",overridesResolver:yC})((({theme:e,ownerState:t})=>we({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vC.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&we({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),kC=Qa("input",{name:"MuiInputBase",slot:"Input",overridesResolver:xC})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,r=we({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return we({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vC.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${vC.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),SC=Z.jsx(fC,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),CC=W.forwardRef((function(e,t){var n;const r=Ya({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:i,className:s,components:l={},componentsProps:u={},defaultValue:c,disabled:d,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:h=!1,id:m,inputComponent:g="input",inputProps:v={},inputRef:b,maxRows:y,minRows:x,multiline:w=!1,name:k,onBlur:S,onChange:C,onClick:E,onFocus:I,onKeyDown:N,onKeyUp:T,placeholder:R,readOnly:_,renderSuffix:$,rows:M,slotProps:O={},slots:A={},startAdornment:L,type:P="text",value:D}=r,F=ke(r,bC),z=null!=v.value?v.value:D,{current:B}=W.useRef(null!=z),j=W.useRef(),V=W.useCallback((e=>{}),[]),H=Fo(j,b,v.ref,V),[U,G]=W.useState(!1),q=pC(),Y=cC({props:r,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Y.focused=q?q.focused:U,W.useEffect((()=>{!q&&d&&U&&(G(!1),S&&S())}),[q,d,U,S]);const K=q&&q.onFilled,X=q&&q.onEmpty,Q=W.useCallback((e=>{mC(e)?K&&K():X&&X()}),[K,X]);bo((()=>{B&&Q({value:z})}),[z,Q,B]);W.useEffect((()=>{Q(j.current)}),[]);let J=g,ee=v;w&&"input"===J&&(ee=we(M?{type:void 0,minRows:M,maxRows:M}:{type:void 0,maxRows:y,minRows:x},ee),J=Sx);W.useEffect((()=>{q&&q.setAdornedStart(Boolean(L))}),[q,L]);const te=we({},r,{color:Y.color||"primary",disabled:Y.disabled,endAdornment:f,error:Y.error,focused:Y.focused,formControl:q,fullWidth:h,hiddenLabel:Y.hiddenLabel,multiline:w,size:Y.size,startAdornment:L,type:P}),ne=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:a,focused:i,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:p,startAdornment:f,type:h}=e;return ta({root:["root",`color${qn(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",i&&"focused",s&&"formControl","small"===p&&"sizeSmall",c&&"multiline",f&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",c&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]},gC,t)})(te),re=A.root||l.Root||wC,oe=O.root||u.root||{},ae=A.input||l.Input||kC;return ee=we({},ee,null!=(n=O.input)?n:u.input),Z.jsxs(W.Fragment,{children:[!p&&SC,Z.jsxs(re,we({},oe,!Ri(re)&&{ownerState:we({},te,oe.ownerState)},{ref:t,onClick:e=>{j.current&&e.currentTarget===e.target&&j.current.focus(),E&&E(e)}},F,{className:Ti(ne.root,oe.className,s),children:[L,Z.jsx(dC.Provider,{value:null,children:Z.jsx(ae,we({ownerState:te,"aria-invalid":Y.error,"aria-describedby":o,autoComplete:a,autoFocus:i,defaultValue:c,disabled:Y.disabled,id:m,onAnimationStart:e=>{Q("mui-auto-fill-cancel"===e.animationName?j.current:{value:"x"})},name:k,placeholder:R,readOnly:_,required:Y.required,rows:M,value:z,onKeyDown:N,onKeyUp:T,type:P},ee,!Ri(ae)&&{as:J,ownerState:we({},te,ee.ownerState)},{ref:H,className:Ti(ne.input,ee.className),onBlur:e=>{S&&S(e),v.onBlur&&v.onBlur(e),q&&q.onBlur?q.onBlur(e):G(!1)},onChange:(e,...t)=>{if(!B){const t=e.target||j.current;if(null==t)throw new Error(Se(1));Q({value:t.value})}v.onChange&&v.onChange(e,...t),C&&C(e,...t)},onFocus:e=>{Y.disabled?e.stopPropagation():(I&&I(e),v.onFocus&&v.onFocus(e),q&&q.onFocus?q.onFocus(e):G(!0))}}))}),f,$?$(we({},Y,{startAdornment:L})):null]}))]})})),EC=CC;function IC(e){return to("MuiInput",e)}const NC=we({},vC,no("MuiInput",["root","underline","input"]));function TC(e){return to("MuiOutlinedInput",e)}const RC=we({},vC,no("MuiOutlinedInput",["root","notchedOutline","input"]));function _C(e){return to("MuiFilledInput",e)}const $C=we({},vC,no("MuiFilledInput",["root","underline","input"])),MC=gS(Z.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function OC(e){return to("MuiAutocomplete",e)}const AC=no("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var LC,PC;const DC=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],FC=Qa("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:a,inputFocused:i,size:s}=n;return[{[`& .${AC.tag}`]:t.tag},{[`& .${AC.tag}`]:t[`tagSize${qn(s)}`]},{[`& .${AC.inputRoot}`]:t.inputRoot},{[`& .${AC.input}`]:t.input},{[`& .${AC.input}`]:i&&t.inputFocused},t.root,r&&t.fullWidth,a&&t.hasPopupIcon,o&&t.hasClearIcon]}})((({ownerState:e})=>we({[`&.${AC.focused} .${AC.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${AC.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${AC.tag}`]:we({margin:3,maxWidth:"calc(100% - 6px)"},"small"===e.size&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${AC.inputRoot}`]:{flexWrap:"wrap",[`.${AC.hasPopupIcon}&, .${AC.hasClearIcon}&`]:{paddingRight:30},[`.${AC.hasPopupIcon}.${AC.hasClearIcon}&`]:{paddingRight:56},[`& .${AC.input}`]:{width:0,minWidth:30}},[`& .${NC.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${NC.root}.${vC.sizeSmall}`]:{[`& .${NC.input}`]:{padding:"2px 4px 3px 0"}},[`& .${RC.root}`]:{padding:9,[`.${AC.hasPopupIcon}&, .${AC.hasClearIcon}&`]:{paddingRight:39},[`.${AC.hasPopupIcon}.${AC.hasClearIcon}&`]:{paddingRight:65},[`& .${AC.input}`]:{padding:"7.5px 4px 7.5px 6px"},[`& .${AC.endAdornment}`]:{right:9}},[`& .${RC.root}.${vC.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${AC.input}`]:{padding:"2.5px 4px 2.5px 6px"}},[`& .${$C.root}`]:{paddingTop:19,paddingLeft:8,[`.${AC.hasPopupIcon}&, .${AC.hasClearIcon}&`]:{paddingRight:39},[`.${AC.hasPopupIcon}.${AC.hasClearIcon}&`]:{paddingRight:65},[`& .${$C.input}`]:{padding:"7px 4px"},[`& .${AC.endAdornment}`]:{right:9}},[`& .${$C.root}.${vC.sizeSmall}`]:{paddingBottom:1,[`& .${$C.input}`]:{padding:"2.5px 4px"}},[`& .${vC.hiddenLabel}`]:{paddingTop:8},[`& .${AC.input}`]:we({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})}))),zC=Qa("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),BC=Qa(qS,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),jC=Qa(qS,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>we({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})((({ownerState:e})=>we({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"}))),WC=Qa(QS,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${AC.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})((({theme:e,ownerState:t})=>we({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"}))),VC=Qa(uk,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((({theme:e})=>we({},e.typography.body1,{overflow:"auto"}))),HC=Qa("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),UC=Qa("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),GC=Qa("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${AC.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${AC.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${AC.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${AC.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${AC.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),qC=Qa(tC,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),YC=Qa("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${AC.option}`]:{paddingLeft:24}}),KC=W.forwardRef((function(e,t){var n,r,o,a;const i=Ya({props:e,name:"MuiAutocomplete"}),{autoComplete:s=!1,autoHighlight:l=!1,autoSelect:u=!1,blurOnSelect:c=!1,ChipProps:d,className:p,clearIcon:f=LC||(LC=Z.jsx(YS,{fontSize:"small"})),clearOnBlur:h=!i.freeSolo,clearOnEscape:m=!1,clearText:g="Clear",closeText:v="Close",componentsProps:b={},defaultValue:y=(i.multiple?[]:null),disableClearable:x=!1,disableCloseOnSelect:w=!1,disabled:k=!1,disabledItemsFocusable:S=!1,disableListWrap:C=!1,disablePortal:E=!1,filterSelectedOptions:I=!1,forcePopupIcon:N="auto",freeSolo:T=!1,fullWidth:R=!1,getLimitTagsText:_=e=>`+${e}`,getOptionLabel:$=e=>{var t;return null!=(t=e.label)?t:e},groupBy:M,handleHomeEndKeys:O=!i.freeSolo,includeInputInList:A=!1,limitTags:L=-1,ListboxComponent:P="ul",ListboxProps:D,loading:F=!1,loadingText:z="Loading",multiple:B=!1,noOptionsText:j="No options",openOnFocus:V=!1,openText:H="Open",PaperComponent:U=uk,PopperComponent:G=QS,popupIcon:q=PC||(PC=Z.jsx(MC,{})),readOnly:Y=!1,renderGroup:K,renderInput:X,renderOption:Q,renderTags:J,selectOnFocus:ee=!i.freeSolo,size:te="medium",slotProps:ne={}}=i,re=ke(i,DC),{getRootProps:oe,getInputProps:ae,getInputLabelProps:ie,getPopupIndicatorProps:se,getClearProps:le,getTagProps:ue,getListboxProps:ce,getOptionProps:de,value:pe,dirty:fe,id:he,popupOpen:me,focused:ge,focusedTag:ve,anchorEl:be,setAnchorEl:ye,inputValue:xe,groupedOptions:Se}=Bi(we({},i,{componentName:"Autocomplete"})),Ce=!x&&!k&&fe&&!Y,Ee=(!T||!0===N)&&!1!==N,Ie=we({},i,{disablePortal:E,focused:ge,fullWidth:R,hasClearIcon:Ce,hasPopupIcon:Ee,inputFocused:-1===ve,popupOpen:me,size:te}),Ne=(e=>{const{classes:t,disablePortal:n,focused:r,fullWidth:o,hasClearIcon:a,hasPopupIcon:i,inputFocused:s,popupOpen:l,size:u}=e;return ta({root:["root",r&&"focused",o&&"fullWidth",a&&"hasClearIcon",i&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag",`tagSize${qn(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",l&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]},OC,t)})(Ie);let Te;if(B&&pe.length>0){const e=e=>we({className:Ne.tag,disabled:k},ue(e));Te=J?J(pe,e,Ie):pe.map(((t,n)=>Z.jsx(uC,we({label:$(t),size:te},e({index:n}),d))))}if(L>-1&&Array.isArray(Te)){const e=Te.length-L;!ge&&e>0&&(Te=Te.splice(0,L),Te.push(Z.jsx("span",{className:Ne.tag,children:_(e)},Te.length)))}const Re=K||(e=>Z.jsxs("li",{children:[Z.jsx(qC,{className:Ne.groupLabel,ownerState:Ie,component:"div",children:e.group}),Z.jsx(YC,{className:Ne.groupUl,ownerState:Ie,children:e.children})]},e.key)),_e=Q||((e,t)=>Z.jsx("li",we({},e,{children:$(t)}))),$e=(e,t)=>{const n=de({option:e,index:t});return _e(we({},n,{className:Ne.option}),e,{selected:n["aria-selected"],inputValue:xe})},Me=null!=(n=ne.clearIndicator)?n:b.clearIndicator,Oe=null!=(r=ne.paper)?r:b.paper,Ae=null!=(o=ne.popper)?o:b.popper,Le=null!=(a=ne.popupIndicator)?a:b.popupIndicator;return Z.jsxs(W.Fragment,{children:[Z.jsx(FC,we({ref:t,className:Ti(Ne.root,p),ownerState:Ie},oe(re),{children:X({id:he,disabled:k,fullWidth:!0,size:"small"===te?"small":void 0,InputLabelProps:ie(),InputProps:we({ref:ye,className:Ne.inputRoot,startAdornment:Te},(Ce||Ee)&&{endAdornment:Z.jsxs(zC,{className:Ne.endAdornment,ownerState:Ie,children:[Ce?Z.jsx(BC,we({},le(),{"aria-label":g,title:g,ownerState:Ie},Me,{className:Ti(Ne.clearIndicator,null==Me?void 0:Me.className),children:f})):null,Ee?Z.jsx(jC,we({},se(),{disabled:k,"aria-label":me?v:H,title:me?v:H,ownerState:Ie},Le,{className:Ti(Ne.popupIndicator,null==Le?void 0:Le.className),children:q})):null]})}),inputProps:we({className:Ne.input,disabled:k,readOnly:Y},ae())})})),be?Z.jsx(WC,we({as:G,disablePortal:E,style:{width:be?be.clientWidth:null},ownerState:Ie,role:"presentation",anchorEl:be,open:me},Ae,{className:Ti(Ne.popper,null==Ae?void 0:Ae.className),children:Z.jsxs(VC,we({ownerState:Ie,as:U},Oe,{className:Ti(Ne.paper,null==Oe?void 0:Oe.className),children:[F&&0===Se.length?Z.jsx(HC,{className:Ne.loading,ownerState:Ie,children:z}):null,0!==Se.length||T||F?null:Z.jsx(UC,{className:Ne.noOptions,ownerState:Ie,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:j}),Se.length>0?Z.jsx(GC,we({as:P,className:Ne.listbox,ownerState:Ie},ce(),D,{children:Se.map(((e,t)=>M?Re({key:e.key,group:e.group,children:e.options.map(((t,n)=>$e(t,e.index+n)))}):$e(e,t)))})):null]}))})):null]})})),XC=KC,QC=e=>!e||!Ri(e);function ZC(e){return to("MuiBadge",e)}const JC=no("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),eE=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],tE=Qa("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),nE=Qa("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${qn(n.anchorOrigin.vertical)}${qn(n.anchorOrigin.horizontal)}${qn(n.overlap)}`],"default"!==n.color&&t[`color${qn(n.color)}`],n.invisible&&t.invisible]}})((({theme:e,ownerState:t})=>we({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},"default"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},"dot"===t.variant&&{borderRadius:4,height:8,minWidth:8,padding:0},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${JC.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}))),rE=W.forwardRef((function(e,t){var n,r,o,a,i,s;const l=Ya({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:c,component:d="span",components:p={},componentsProps:f={},overlap:h="rectangular",color:m="default",invisible:g=!1,max:v,badgeContent:b,slots:y,slotProps:x,showZero:w=!1,variant:k="standard"}=l,S=ke(l,eE),C=Jo({anchorOrigin:u,color:m,overlap:h,variant:k});let E=g;!1===g&&(0===b&&!w||null==b&&"dot"!==k)&&(E=!0);const{color:I=m,overlap:N=h,anchorOrigin:T=u,variant:R=k}=E?C:l,_=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:a,classes:i={}}=e;return ta({root:["root"],badge:["badge",a,r&&"invisible",`anchorOrigin${qn(n.vertical)}${qn(n.horizontal)}`,`anchorOrigin${qn(n.vertical)}${qn(n.horizontal)}${qn(o)}`,`overlap${qn(o)}`,"default"!==t&&`color${qn(t)}`]},ZC,i)})(we({},l,{anchorOrigin:T,invisible:E,color:I,overlap:N,variant:R}));let $;"dot"!==R&&($=b&&Number(b)>v?`${v}+`:b);const M=null!=(n=null!=(r=null==y?void 0:y.root)?r:p.Root)?n:tE,O=null!=(o=null!=(a=null==y?void 0:y.badge)?a:p.Badge)?o:nE,A=null!=(i=null==x?void 0:x.root)?i:f.root,L=null!=(s=null==x?void 0:x.badge)?s:f.badge;return Z.jsx(Vi,we({invisible:g,badgeContent:$,showZero:w,max:v},S,{slots:{root:M,badge:O},className:Ti(null==A?void 0:A.className,_.root,c),slotProps:{root:we({},A,QC(M)&&{as:d,ownerState:we({},null==A?void 0:A.ownerState,{anchorOrigin:T,color:I,overlap:N,variant:R})}),badge:we({},L,{className:Ti(_.badge,null==L?void 0:L.className)},QC(O)&&{ownerState:we({},null==L?void 0:L.ownerState,{anchorOrigin:T,color:I,overlap:N,variant:R})})},ref:t}))})),oE=gS(Z.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),aE=Qa(Mw)((({theme:e})=>we({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":we({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":we({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:Io(e.palette.grey[200],.12)}:{backgroundColor:Io(e.palette.grey[600],.12)})}))),iE=Qa(oE)({width:24,height:16});function sE(e){const t=e;return Z.jsx("li",{children:Z.jsx(aE,we({focusRipple:!0},e,{ownerState:t,children:Z.jsx(iE,{ownerState:t})}))})}function lE(e){return to("MuiBreadcrumbs",e)}const uE=no("MuiBreadcrumbs",["root","ol","li","separator"]),cE=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],dE=Qa(Kx,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${uE.li}`]:t.li},t.root]})({}),pE=Qa("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),fE=Qa("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function hE(e,t,n,r){return e.reduce(((o,a,i)=>(i<e.length-1?o=o.concat(a,Z.jsx(fE,{"aria-hidden":!0,className:t,ownerState:r,children:n},`separator-${i}`)):o.push(a),o)),[])}const mE=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiBreadcrumbs"}),{children:r,className:o,component:a="nav",expandText:i="Show path",itemsAfterCollapse:s=1,itemsBeforeCollapse:l=1,maxItems:u=8,separator:c="/"}=n,d=ke(n,cE),[p,f]=W.useState(!1),h=we({},n,{component:a,expanded:p,expandText:i,itemsAfterCollapse:s,itemsBeforeCollapse:l,maxItems:u,separator:c}),m=(e=>{const{classes:t}=e;return ta({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},lE,t)})(h),g=W.useRef(null),v=W.Children.toArray(r).filter((e=>W.isValidElement(e))).map(((e,t)=>Z.jsx("li",{className:m.li,children:e},`child-${t}`)));return Z.jsx(dE,we({ref:t,component:a,color:"text.secondary",className:Ti(m.root,o),ownerState:h},d,{children:Z.jsx(pE,{className:m.ol,ref:g,ownerState:h,children:hE(p||u&&v.length<=u?v:(b=v,l+s>=b.length?b:[...b.slice(0,l),Z.jsx(sE,{"aria-label":i,onClick:()=>{f(!0);const e=g.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...b.slice(b.length-s,b.length)]),m.separator,c,h)})}));var b})),gE=mE;function vE(e){return to("MuiButton",e)}const bE=no("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),yE=W.createContext({}),xE=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],wE=e=>we({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),kE=Qa(Mw,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${qn(n.color)}`],t[`size${qn(n.size)}`],t[`${n.variant}Size${qn(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>{var n,r;return we({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":we({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:So(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:So(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:So(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":we({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${bE.focusVisible}`]:we({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${bE.disabled}`]:we({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"outlined"===t.variant&&"secondary"===t.color&&{border:`1px solid ${(e.vars||e).palette.action.disabled}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${So(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(n=(r=e.palette).getContrastText)?void 0:n.call(r,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})}),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${bE.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${bE.disabled}`]:{boxShadow:"none"}})),SE=Qa("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${qn(n.size)}`]]}})((({ownerState:e})=>we({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},wE(e)))),CE=Qa("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${qn(n.size)}`]]}})((({ownerState:e})=>we({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},wE(e)))),EE=W.forwardRef((function(e,t){const n=W.useContext(yE),r=Ya({props:mo(n,e),name:"MuiButton"}),{children:o,color:a="primary",component:i="button",className:s,disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,endIcon:d,focusVisibleClassName:p,fullWidth:f=!1,size:h="medium",startIcon:m,type:g,variant:v="text"}=r,b=ke(r,xE),y=we({},r,{color:a,component:i,disabled:l,disableElevation:u,disableFocusRipple:c,fullWidth:f,size:h,type:g,variant:v}),x=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:a,classes:i}=e;return we({},i,ta({root:["root",a,`${a}${qn(t)}`,`size${qn(o)}`,`${a}Size${qn(o)}`,"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${qn(o)}`],endIcon:["endIcon",`iconSize${qn(o)}`]},vE,i))})(y),w=m&&Z.jsx(SE,{className:x.startIcon,ownerState:y,children:m}),k=d&&Z.jsx(CE,{className:x.endIcon,ownerState:y,children:d});return Z.jsxs(kE,we({ownerState:y,className:Ti(n.className,x.root,s),component:i,disabled:l,focusRipple:!c,focusVisibleClassName:Ti(x.focusVisible,p),ref:t,type:g},b,{classes:x,children:[w,o,k]}))}));function IE(e){return to("MuiButtonGroup",e)}const NE=no("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),TE=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],RE=Qa("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${NE.grouped}`]:t.grouped},{[`& .${NE.grouped}`]:t[`grouped${qn(n.orientation)}`]},{[`& .${NE.grouped}`]:t[`grouped${qn(n.variant)}`]},{[`& .${NE.grouped}`]:t[`grouped${qn(n.variant)}${qn(n.orientation)}`]},{[`& .${NE.grouped}`]:t[`grouped${qn(n.variant)}${qn(n.color)}`]},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})((({theme:e,ownerState:t})=>we({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${NE.grouped}`]:we({minWidth:40,"&:not(:first-of-type)":we({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1}),"&:not(:last-of-type)":we({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:So(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${NE.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${NE.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":we({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":we({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"})}))),_E=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiButtonGroup"}),{children:r,className:o,color:a="primary",component:i="div",disabled:s=!1,disableElevation:l=!1,disableFocusRipple:u=!1,disableRipple:c=!1,fullWidth:d=!1,orientation:p="horizontal",size:f="medium",variant:h="outlined"}=n,m=ke(n,TE),g=we({},n,{color:a,component:i,disabled:s,disableElevation:l,disableFocusRipple:u,disableRipple:c,fullWidth:d,orientation:p,size:f,variant:h}),v=(e=>{const{classes:t,color:n,disabled:r,disableElevation:o,fullWidth:a,orientation:i,variant:s}=e;return ta({root:["root",s,"vertical"===i&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${qn(i)}`,`grouped${qn(s)}`,`grouped${qn(s)}${qn(i)}`,`grouped${qn(s)}${qn(n)}`,r&&"disabled"]},IE,t)})(g),b=W.useMemo((()=>({className:v.grouped,color:a,disabled:s,disableElevation:l,disableFocusRipple:u,disableRipple:c,fullWidth:d,size:f,variant:h})),[a,s,l,u,c,d,f,h,v.grouped]);return Z.jsx(RE,we({as:i,role:"group",className:Ti(v.root,o),ref:t,ownerState:g},m,{children:Z.jsx(yE.Provider,{value:b,children:r})}))}));function $E(e){return to("MuiCard",e)}no("MuiCard",["root"]);const ME=["className","raised"],OE=Qa(uk,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),AE=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,a=ke(n,ME),i=we({},n,{raised:o}),s=(e=>{const{classes:t}=e;return ta({root:["root"]},$E,t)})(i);return Z.jsx(OE,we({className:Ti(s.root,r),elevation:o?8:void 0,ref:t,ownerState:i},a))}));function LE(e){return to("MuiCardActions",e)}no("MuiCardActions",["root","spacing"]);const PE=["disableSpacing","className"],DE=Qa("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((({ownerState:e})=>we({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}}))),FE=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:o}=n,a=ke(n,PE),i=we({},n,{disableSpacing:r}),s=(e=>{const{classes:t,disableSpacing:n}=e;return ta({root:["root",!n&&"spacing"]},LE,t)})(i);return Z.jsx(DE,we({className:Ti(s.root,o),ownerState:i,ref:t},a))}));function zE(e){return to("MuiCardContent",e)}no("MuiCardContent",["root"]);const BE=["className","component"],jE=Qa("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),WE=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,a=ke(n,BE),i=we({},n,{component:o}),s=(e=>{const{classes:t}=e;return ta({root:["root"]},zE,t)})(i);return Z.jsx(jE,we({as:o,className:Ti(s.root,r),ownerState:i,ref:t},a))}));function VE(e){return to("MuiCardHeader",e)}const HE=no("MuiCardHeader",["root","avatar","action","content","title","subheader"]),UE=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],GE=Qa("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>we({[`& .${HE.title}`]:t.title,[`& .${HE.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),qE=Qa("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),YE=Qa("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),KE=Qa("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),XE=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiCardHeader"}),{action:r,avatar:o,className:a,component:i="div",disableTypography:s=!1,subheader:l,subheaderTypographyProps:u,title:c,titleTypographyProps:d}=n,p=ke(n,UE),f=we({},n,{component:i,disableTypography:s}),h=(e=>{const{classes:t}=e;return ta({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},VE,t)})(f);let m=c;null==m||m.type===Kx||s||(m=Z.jsx(Kx,we({variant:o?"body2":"h5",className:h.title,component:"span",display:"block"},d,{children:m})));let g=l;return null==g||g.type===Kx||s||(g=Z.jsx(Kx,we({variant:o?"body2":"body1",className:h.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:g}))),Z.jsxs(GE,we({className:Ti(h.root,a),as:i,ref:t,ownerState:f},p,{children:[o&&Z.jsx(qE,{className:h.avatar,ownerState:f,children:o}),Z.jsxs(KE,{className:h.content,ownerState:f,children:[m,g]}),r&&Z.jsx(YE,{className:h.action,ownerState:f,children:r})]}))}));function QE(e){return to("PrivateSwitchBase",e)}no("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ZE=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],JE=Qa(Mw)((({ownerState:e})=>we({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12}))),eI=Qa("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),tI=W.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:a,defaultChecked:i,disabled:s,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:p,inputRef:f,name:h,onBlur:m,onChange:g,onFocus:v,readOnly:b,required:y,tabIndex:x,type:w,value:k}=e,S=ke(e,ZE),[C,E]=Po({controlled:r,default:Boolean(i),name:"SwitchBase",state:"checked"}),I=pC();let N=s;I&&void 0===N&&(N=I.disabled);const T="checkbox"===w||"radio"===w,R=we({},e,{checked:C,disabled:N,disableFocusRipple:l,edge:u}),_=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e;return ta({root:["root",n&&"checked",r&&"disabled",o&&`edge${qn(o)}`],input:["input"]},QE,t)})(R);return Z.jsxs(JE,we({component:"span",className:Ti(_.root,a),centerRipple:!0,focusRipple:!l,disabled:N,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),I&&I.onFocus&&I.onFocus(e)},onBlur:e=>{m&&m(e),I&&I.onBlur&&I.onBlur(e)},ownerState:R,ref:t},S,{children:[Z.jsx(eI,we({autoFocus:n,checked:r,defaultChecked:i,className:_.input,disabled:N,id:T&&d,name:h,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;E(t),g&&g(e,t)},readOnly:b,ref:f,required:y,ownerState:R,tabIndex:x,type:w},"checkbox"===w&&void 0===k?{}:{value:k},p)),C?o:c]}))})),nI=tI,rI=gS(Z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),oI=gS(Z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),aI=gS(Z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function iI(e){return to("MuiCheckbox",e)}const sI=no("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),lI=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],uI=Qa(nI,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t[`color${qn(n.color)}`]]}})((({theme:e,ownerState:t})=>we({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:So("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${sI.checked}, &.${sI.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${sI.disabled}`]:{color:(e.vars||e).palette.action.disabled}}))),cI=Z.jsx(oI,{}),dI=Z.jsx(rI,{}),pI=Z.jsx(aI,{}),fI=W.forwardRef((function(e,t){var n,r;const o=Ya({props:e,name:"MuiCheckbox"}),{checkedIcon:a=cI,color:i="primary",icon:s=dI,indeterminate:l=!1,indeterminateIcon:u=pI,inputProps:c,size:d="medium",className:p}=o,f=ke(o,lI),h=l?u:s,m=l?u:a,g=we({},o,{color:i,indeterminate:l,size:d}),v=(e=>{const{classes:t,indeterminate:n,color:r}=e;return we({},t,ta({root:["root",n&&"indeterminate",`color${qn(r)}`]},iI,t))})(g);return Z.jsx(uI,we({type:"checkbox",inputProps:we({"data-indeterminate":l},c),icon:W.cloneElement(h,{fontSize:null!=(n=h.props.fontSize)?n:d}),checkedIcon:W.cloneElement(m,{fontSize:null!=(r=m.props.fontSize)?r:d}),ownerState:g,ref:t,className:Ti(v.root,p)},f,{classes:v}))})),hI=function(e={}){const{createStyledComponent:t=ga,useThemeProps:n=va,componentName:r="MuiContainer"}=e,o=t((({theme:e,ownerState:t})=>we({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce(((t,n)=>{const r=n,o=e.breakpoints.values[r];return 0!==o&&(t[e.breakpoints.up(r)]={maxWidth:`${o}${e.breakpoints.unit}`}),t}),{})),(({theme:e,ownerState:t})=>we({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})));return W.forwardRef((function(e,t){const a=n(e),{className:i,component:s="div",disableGutters:l=!1,fixed:u=!1,maxWidth:c="lg"}=a,d=ke(a,ha),p=we({},a,{component:s,disableGutters:l,fixed:u,maxWidth:c}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:a}=e;return ta({root:["root",a&&`maxWidth${qn(String(a))}`,r&&"fixed",o&&"disableGutters"]},(e=>to(t,e)),n)})(p,r);return Z.jsx(o,we({as:s,ownerState:p,className:Zr(f.root,i),ref:t},d))}))}({createStyledComponent:Qa("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${qn(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ya({props:e,name:"MuiContainer"})}),mI=(e,t)=>we({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),gI=e=>we({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});function vI(e){const t=Ya({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return Z.jsxs(W.Fragment,{children:[Z.jsx(fC,{styles:e=>((e,t=!1)=>{var n,r;const o={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((([t,n])=>{var r;o[e.getColorSchemeSelector(t).replace(/\s*&/,"")]={colorScheme:null==(r=n.palette)?void 0:r.mode}}));let a=we({html:mI(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:we({margin:0},gI(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o);const i=null==(n=e.components)||null==(r=n.MuiCssBaseline)?void 0:r.styleOverrides;return i&&(a=[a,i]),a})(e,r)}),n]})}function bI(e){return to("MuiDialog",e)}const yI=no("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),xI=W.createContext({}),wI=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],kI=Qa(Ck,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),SI=Qa(Tk,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),CI=Qa("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${qn(n.scroll)}`]]}})((({ownerState:e})=>we({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),EI=Qa(uk,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${qn(n.scroll)}`],t[`paperWidth${qn(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((({theme:e,ownerState:t})=>we({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`${e.breakpoints.values.xs}${e.breakpoints.unit}`,[`&.${yI.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${yI.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${yI.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}))),II=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiDialog"}),r=qa(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":i,BackdropComponent:s,BackdropProps:l,children:u,className:c,disableEscapeKeyDown:d=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:h="sm",onBackdropClick:m,onClose:g,open:v,PaperComponent:b=uk,PaperProps:y={},scroll:x="paper",TransitionComponent:w=xk,transitionDuration:k=o,TransitionProps:S}=n,C=ke(n,wI),E=we({},n,{disableEscapeKeyDown:d,fullScreen:p,fullWidth:f,maxWidth:h,scroll:x}),I=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:a}=e;return ta({root:["root"],container:["container",`scroll${qn(n)}`],paper:["paper",`paperScroll${qn(n)}`,`paperWidth${qn(String(r))}`,o&&"paperFullWidth",a&&"paperFullScreen"]},bI,t)})(E),N=W.useRef(),T=Lo(i),R=W.useMemo((()=>({titleId:T})),[T]);return Z.jsx(SI,we({className:Ti(I.root,c),closeAfterTransition:!0,components:{Backdrop:kI},componentsProps:{backdrop:we({transitionDuration:k,as:s},l)},disableEscapeKeyDown:d,onClose:g,open:v,ref:t,onClick:e=>{N.current&&(N.current=null,m&&m(e),g&&g(e,"backdropClick"))},ownerState:E},C,{children:Z.jsx(w,we({appear:!0,in:v,timeout:k,role:"presentation"},S,{children:Z.jsx(CI,{className:Ti(I.container),onMouseDown:e=>{N.current=e.target===e.currentTarget},ownerState:E,children:Z.jsx(EI,we({as:b,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":T},y,{className:Ti(I.paper,y.className),ownerState:E,children:Z.jsx(xI.Provider,{value:R,children:u})}))})}))}))}));function NI(e){return to("MuiDialogActions",e)}no("MuiDialogActions",["root","spacing"]);const TI=["className","disableSpacing"],RI=Qa("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((({ownerState:e})=>we({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}}))),_I=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,a=ke(n,TI),i=we({},n,{disableSpacing:o}),s=(e=>{const{classes:t,disableSpacing:n}=e;return ta({root:["root",!n&&"spacing"]},NI,t)})(i);return Z.jsx(RI,we({className:Ti(s.root,r),ownerState:i,ref:t},a))}));function $I(e){return to("MuiDialogContent",e)}function MI(e){return to("MuiDialogTitle",e)}no("MuiDialogContent",["root","dividers"]);const OI=no("MuiDialogTitle",["root"]),AI=["className","dividers"],LI=Qa("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((({theme:e,ownerState:t})=>we({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${OI.root} + &`]:{paddingTop:0}}))),PI=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,a=ke(n,AI),i=we({},n,{dividers:o}),s=(e=>{const{classes:t,dividers:n}=e;return ta({root:["root",n&&"dividers"]},$I,t)})(i);return Z.jsx(LI,we({className:Ti(s.root,r),ownerState:i,ref:t},a))})),DI=["className","id"],FI=Qa(Kx,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),zI=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiDialogTitle"}),{className:r,id:o}=n,a=ke(n,DI),i=n,s=(e=>{const{classes:t}=e;return ta({root:["root"]},MI,t)})(i),{titleId:l=o}=W.useContext(xI);return Z.jsx(FI,we({component:"h2",className:Ti(s.root,r),ownerState:i,ref:t,variant:"h6",id:l},a))}));function BI(e){return to("MuiFab",e)}const jI=no("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),WI=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],VI=Qa(Mw,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>Ka(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${qn(n.size)}`],"inherit"===n.color&&t.colorInherit,t[qn(n.size)],t[n.color]]}})((({theme:e,ownerState:t})=>{var n,r;return we({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(n=(r=e.palette).getContrastText)?void 0:n.call(r,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${jI.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(({theme:e,ownerState:t})=>we({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),(({theme:e})=>({[`&.${jI.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),HI=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiFab"}),{children:r,className:o,color:a="default",component:i="button",disabled:s=!1,disableFocusRipple:l=!1,focusVisibleClassName:u,size:c="large",variant:d="circular"}=n,p=ke(n,WI),f=we({},n,{color:a,component:i,disabled:s,disableFocusRipple:l,size:c,variant:d}),h=(e=>{const{color:t,variant:n,classes:r,size:o}=e;return we({},r,ta({root:["root",n,`size${qn(o)}`,"inherit"===t?"colorInherit":t]},BI,r))})(f);return Z.jsx(VI,we({className:Ti(h.root,o),component:i,disabled:s,focusRipple:!l,focusVisibleClassName:Ti(h.focusVisible,u),ownerState:f,ref:t},p,{classes:h,children:r}))})),UI=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],GI=Qa(wC,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yC(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{var n;const r="light"===e.palette.mode,o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return we({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${$C.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${$C.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${null==(n=(e.vars||e).palette[t.color||"primary"])?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$C.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$C.error}:after`]:{borderBottomColor:(e.vars||e).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$C.disabled}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${$C.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&we({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),qI=Qa(kC,{name:"MuiFilledInput",slot:"Input",overridesResolver:xC})((({theme:e,ownerState:t})=>we({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))),YI=W.forwardRef((function(e,t){var n,r,o,a;const i=Ya({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:u=!1,inputComponent:c="input",multiline:d=!1,slotProps:p,slots:f={},type:h="text"}=i,m=ke(i,UI),g=we({},i,{fullWidth:u,inputComponent:c,multiline:d,type:h}),v=(e=>{const{classes:t,disableUnderline:n}=e;return we({},t,ta({root:["root",!n&&"underline"],input:["input"]},_C,t))})(i),b={root:{ownerState:g},input:{ownerState:g}},y=(null!=p?p:l)?Pn(null!=p?p:l,b):b,x=null!=(n=null!=(r=f.root)?r:s.Root)?n:GI,w=null!=(o=null!=(a=f.input)?a:s.Input)?o:qI;return Z.jsx(EC,we({slots:{root:x,input:w},componentsProps:y,fullWidth:u,inputComponent:c,multiline:d,ref:t,type:h},m,{classes:v}))}));YI.muiName="Input";const KI=YI;function XI(e){return to("MuiFormControl",e)}no("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const QI=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ZI=Qa("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>we({},t.root,t[`margin${qn(e.margin)}`],e.fullWidth&&t.fullWidth)})((({ownerState:e})=>we({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"}))),JI=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiFormControl"}),{children:r,className:o,color:a="primary",component:i="div",disabled:s=!1,error:l=!1,focused:u,fullWidth:c=!1,hiddenLabel:d=!1,margin:p="none",required:f=!1,size:h="medium",variant:m="outlined"}=n,g=ke(n,QI),v=we({},n,{color:a,component:i,disabled:s,error:l,fullWidth:c,hiddenLabel:d,margin:p,required:f,size:h,variant:m}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return ta({root:["root","none"!==n&&`margin${qn(n)}`,r&&"fullWidth"]},XI,t)})(v),[y,x]=W.useState((()=>{let e=!1;return r&&W.Children.forEach(r,(t=>{if(!Ro(t,["Input","Select"]))return;const n=Ro(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[w,k]=W.useState((()=>{let e=!1;return r&&W.Children.forEach(r,(t=>{Ro(t,["Input","Select"])&&mC(t.props,!0)&&(e=!0)})),e})),[S,C]=W.useState(!1);s&&S&&C(!1);const E=void 0===u||s?S:u;let I;const N=W.useMemo((()=>({adornedStart:y,setAdornedStart:x,color:a,disabled:s,error:l,filled:w,focused:E,fullWidth:c,hiddenLabel:d,size:h,onBlur:()=>{C(!1)},onEmpty:()=>{k(!1)},onFilled:()=>{k(!0)},onFocus:()=>{C(!0)},registerEffect:I,required:f,variant:m})),[y,a,s,l,w,E,c,d,I,f,h,m]);return Z.jsx(dC.Provider,{value:N,children:Z.jsx(ZI,we({as:i,ownerState:v,className:Ti(b.root,o),ref:t},g,{children:r}))})}));function eN(e){return to("MuiFormControlLabel",e)}const tN=no("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),nN=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","slotProps","value"],rN=Qa("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${tN.label}`]:t.label},t.root,t[`labelPlacement${qn(n.labelPlacement)}`]]}})((({theme:e,ownerState:t})=>we({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${tN.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${tN.label}`]:{[`&.${tN.disabled}`]:{color:(e.vars||e).palette.text.disabled}}}))),oN=W.forwardRef((function(e,t){var n;const r=Ya({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:i,disabled:s,disableTypography:l,label:u,labelPlacement:c="end",slotProps:d={}}=r,p=ke(r,nN),f=pC();let h=s;void 0===h&&void 0!==i.props.disabled&&(h=i.props.disabled),void 0===h&&f&&(h=f.disabled);const m={disabled:h};["checked","name","onChange","value","inputRef"].forEach((e=>{void 0===i.props[e]&&void 0!==r[e]&&(m[e]=r[e])}));const g=cC({props:r,muiFormControl:f,states:["error"]}),v=we({},r,{disabled:h,labelPlacement:c,error:g.error}),b=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o}=e;return ta({root:["root",n&&"disabled",`labelPlacement${qn(r)}`,o&&"error"],label:["label",n&&"disabled"]},eN,t)})(v),y=null!=(n=d.typography)?n:a.typography;let x=u;return null==x||x.type===Kx||l||(x=Z.jsx(Kx,we({component:"span"},y,{className:Ti(b.label,null==y?void 0:y.className),children:x}))),Z.jsxs(rN,we({className:Ti(b.root,o),ownerState:v,ref:t},p,{children:[W.cloneElement(i,m),x]}))}));function aN(e){return to("MuiFormGroup",e)}no("MuiFormGroup",["root","row","error"]);const iN=["className","row"],sN=Qa("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((({ownerState:e})=>we({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"}))),lN=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiFormGroup"}),{className:r,row:o=!1}=n,a=ke(n,iN),i=we({},n,{row:o,error:cC({props:n,muiFormControl:pC(),states:["error"]}).error}),s=(e=>{const{classes:t,row:n,error:r}=e;return ta({root:["root",n&&"row",r&&"error"]},aN,t)})(i);return Z.jsx(sN,we({className:Ti(s.root,r),ownerState:i,ref:t},a))}));function uN(e){return to("MuiFormHelperText",e)}const cN=no("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var dN;const pN=["children","className","component","disabled","error","filled","focused","margin","required","variant"],fN=Qa("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${qn(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((({theme:e,ownerState:t})=>we({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${cN.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${cN.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14}))),hN=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:a="p"}=n,i=ke(n,pN),s=cC({props:n,muiFormControl:pC(),states:["variant","size","disabled","error","filled","focused","required"]}),l=we({},n,{component:a,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:a,filled:i,focused:s,required:l}=e;return ta({root:["root",o&&"disabled",a&&"error",r&&`size${qn(r)}`,n&&"contained",s&&"focused",i&&"filled",l&&"required"]},uN,t)})(l);return Z.jsx(fN,we({as:a,ownerState:l,className:Ti(u.root,o),ref:t},i,{children:" "===r?dN||(dN=Z.jsx("span",{className:"notranslate",children:""})):r}))}));function mN(e){return to("MuiFormLabel",e)}const gN=no("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),vN=["children","className","color","component","disabled","error","filled","focused","required"],bN=Qa("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>we({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})((({theme:e,ownerState:t})=>we({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${gN.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${gN.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${gN.error}`]:{color:(e.vars||e).palette.error.main}}))),yN=Qa("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((({theme:e})=>({[`&.${gN.error}`]:{color:(e.vars||e).palette.error.main}}))),xN=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:a="label"}=n,i=ke(n,vN),s=cC({props:n,muiFormControl:pC(),states:["color","required","focused","disabled","error","filled"]}),l=we({},n,{color:s.color||"primary",component:a,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:a,filled:i,required:s}=e;return ta({root:["root",`color${qn(n)}`,o&&"disabled",a&&"error",i&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]},mN,t)})(l);return Z.jsxs(bN,we({as:a,ownerState:l,className:Ti(u.root,o),ref:t},i,{children:[r,s.required&&Z.jsxs(yN,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:["","*"]})]}))}));function wN(e,t,n,r,o){const a="undefined"!=typeof window&&void 0!==window.matchMedia,[i,s]=W.useState((()=>o&&a?n(e).matches:r?r(e).matches:t));return bo((()=>{let t=!0;if(!a)return;const r=n(e),o=()=>{t&&s(r.matches)};return o(),r.addListener(o),()=>{t=!1,r.removeListener(o)}}),[e,n,a]),i}const kN=H.useSyncExternalStore;function SN(e,t,n,r){const o=W.useCallback((()=>t),[t]),a=W.useMemo((()=>{if(null!==r){const{matches:t}=r(e);return()=>t}return o}),[o,e,r]),[i,s]=W.useMemo((()=>{if(null===n)return[o,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[o,n,e]);return kN(s,i,a)}function CN(e,t={}){const n=Vr(),r="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:o=!1,matchMedia:a=(r?window.matchMedia:null),ssrMatchMedia:i=null,noSsr:s}=go({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"==typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==kN?SN:wN)(l,o,a,i,s)}const EN=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],IN=Qa(wC,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yC(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{let n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),we({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${NC.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${NC.error}:after`]:{borderBottomColor:(e.vars||e).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${NC.disabled}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${NC.disabled}:before`]:{borderBottomStyle:"dotted"}})})),NN=Qa(kC,{name:"MuiInput",slot:"Input",overridesResolver:xC})({}),TN=W.forwardRef((function(e,t){var n,r,o,a;const i=Ya({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:p=!1,slotProps:f,slots:h={},type:m="text"}=i,g=ke(i,EN),v=(e=>{const{classes:t,disableUnderline:n}=e;return we({},t,ta({root:["root",!n&&"underline"],input:["input"]},IC,t))})(i),b={root:{ownerState:{disableUnderline:s}}},y=(null!=f?f:u)?Pn(null!=f?f:u,b):b,x=null!=(n=null!=(r=h.root)?r:l.Root)?n:IN,w=null!=(o=null!=(a=h.input)?a:l.Input)?o:NN;return Z.jsx(EC,we({slots:{root:x,input:w},slotProps:y,fullWidth:c,inputComponent:d,multiline:p,ref:t,type:m},g,{classes:v}))}));TN.muiName="Input";const RN=TN;function _N(e){return to("MuiInputAdornment",e)}const $N=no("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var MN;const ON=["children","className","component","disablePointerEvents","disableTypography","position","variant"],AN=Qa("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${qn(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((({theme:e,ownerState:t})=>we({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${$N.positionStart}&:not(.${$N.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"}))),LN=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:a="div",disablePointerEvents:i=!1,disableTypography:s=!1,position:l,variant:u}=n,c=ke(n,ON),d=pC()||{};let p=u;u&&d.variant,d&&!p&&(p=d.variant);const f=we({},n,{hiddenLabel:d.hiddenLabel,size:d.size,disablePointerEvents:i,position:l,variant:p}),h=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:a,variant:i}=e;return ta({root:["root",n&&"disablePointerEvents",o&&`position${qn(o)}`,i,r&&"hiddenLabel",a&&`size${qn(a)}`]},_N,t)})(f);return Z.jsx(dC.Provider,{value:null,children:Z.jsx(AN,we({as:a,ownerState:f,className:Ti(h.root,o),ref:t},c,{children:"string"!=typeof r||s?Z.jsxs(W.Fragment,{children:["start"===l?MN||(MN=Z.jsx("span",{className:"notranslate",children:""})):null,r]}):Z.jsx(Kx,{color:"text.secondary",children:r})}))})}));function PN(e){return to("MuiInputLabel",e)}no("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const DN=["disableAnimation","margin","shrink","variant","className"],FN=Qa(xN,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${gN.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((({theme:e,ownerState:t})=>we({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&we({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&we({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&we({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"})))),zN=W.forwardRef((function(e,t){const n=Ya({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:a}=n,i=ke(n,DN),s=pC();let l=o;void 0===l&&s&&(l=s.filled||s.focused||s.adornedStart);const u=cC({props:n,muiFormControl:s,states:["size","variant","required"]}),c=we({},n,{disableAnimation:r,formControl:s,shrink:l,size:u.size,variant:u.variant,required:u.required}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:a,variant:i,required:s}=e;return we({},t,ta({root:["root",n&&"formControl",!a&&"animated",o&&"shrink","small"===r&&"sizeSmall",i],asterisk:[s&&"asterisk"]},PN,t))})(c);return Z.jsx(FN,we({"data-shrink":l,ownerState:c,ref:t,className:Ti(d.root,a)},i,{classes:d}))}));function BN(e){return to("MuiLinearProgress",e)}no("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const jN=["className","color","value","valueBuffer","variant"];let WN,VN,HN,UN,GN,qN,YN=e=>e;const KN=Sn(WN||(WN=YN`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),XN=Sn(VN||(VN=YN`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),QN=Sn(HN||(HN=YN`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),ZN=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?Eo(e.palette[t].main,.62):Co(e.palette[t].main,.5),JN=Qa("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${qn(n.color)}`],t[n.variant]]}})((({ownerState:e,theme:t})=>we({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ZN(t,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"}))),eT=Qa("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${qn(n.color)}`]]}})((({ownerState:e,theme:t})=>{const n=ZN(t,e.color);return we({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),kn(UN||(UN=YN`
    animation: ${0} 3s infinite linear;
  `),QN)),tT=Qa("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${qn(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((({ownerState:e,theme:t})=>we({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"determinate"===e.variant&&{transition:"transform .4s linear"},"buffer"===e.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&kn(GN||(GN=YN`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),KN))),nT=Qa("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${qn(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((({ownerState:e,theme:t})=>we({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:ZN(t,e.color),transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&kn(qN||(qN=YN`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),XN))),rT=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:a,valueBuffer:i,variant:s="indeterminate"}=n,l=ke(n,jN),u=we({},n,{color:o,variant:s}),c=(e=>{const{classes:t,variant:n,color:r}=e;return ta({root:["root",`color${qn(r)}`,n],dashed:["dashed",`dashedColor${qn(r)}`],bar1:["bar",`barColor${qn(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${qn(r)}`,"buffer"===n&&`color${qn(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},BN,t)})(u),d=qa(),p={},f={bar1:{},bar2:{}};if(("determinate"===s||"buffer"===s)&&void 0!==a){p["aria-valuenow"]=Math.round(a),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let e=a-100;"rtl"===d.direction&&(e=-e),f.bar1.transform=`translateX(${e}%)`}if("buffer"===s&&void 0!==i){let e=(i||0)-100;"rtl"===d.direction&&(e=-e),f.bar2.transform=`translateX(${e}%)`}return Z.jsxs(JN,we({className:Ti(c.root,r),ownerState:u,role:"progressbar"},p,{ref:t},l,{children:["buffer"===s?Z.jsx(eT,{className:c.dashed,ownerState:u}):null,Z.jsx(tT,{className:c.bar1,ownerState:u,style:f.bar1}),"determinate"===s?null:Z.jsx(nT,{className:c.bar2,ownerState:u,style:f.bar2})]}))}));function oT(e){return to("MuiLink",e)}const aT=no("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),iT={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},sT=({theme:e,ownerState:t})=>{const n=(e=>iT[e]||e)(t.color),r=Yn(e,`palette.${n}`,!1)||t.color,o=Yn(e,`palette.${n}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:So(r,.4)},lT=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],uT=Qa(Kx,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${qn(n.underline)}`],"button"===n.component&&t.button]}})((({theme:e,ownerState:t})=>we({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&we({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:sT({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${aT.focusVisible}`]:{outline:"auto"}}))),cT=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiLink"}),{className:r,color:o="primary",component:a="a",onBlur:i,onFocus:s,TypographyClasses:l,underline:u="always",variant:c="inherit",sx:d}=n,p=ke(n,lT),{isFocusVisibleRef:f,onBlur:h,onFocus:m,ref:g}=Yo(),[v,b]=W.useState(!1),y=Fo(t,g),x=we({},n,{color:o,component:a,focusVisible:v,underline:u,variant:c}),w=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e;return ta({root:["root",`underline${qn(o)}`,"button"===n&&"button",r&&"focusVisible"]},oT,t)})(x);return Z.jsx(uT,we({color:o,className:Ti(w.root,r),classes:l,component:a,onBlur:e=>{h(e),!1===f.current&&b(!1),i&&i(e)},onFocus:e=>{m(e),!0===f.current&&b(!0),s&&s(e)},ref:y,ownerState:x,variant:c,sx:[...Object.keys(iT).includes(o)?[]:[{color:o}],...Array.isArray(d)?d:[d]]},p))}));function dT(e){return to("MuiListItem",e)}const pT=no("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function fT(e){return to("MuiListItemButton",e)}const hT=no("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),mT=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],gT=Qa(Mw,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>we({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hT.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${hT.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${hT.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${hT.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${hT.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},"flex-start"===t.alignItems&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4}))),vT=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:o=!1,component:a="div",children:i,dense:s=!1,disableGutters:l=!1,divider:u=!1,focusVisibleClassName:c,selected:d=!1,className:p}=n,f=ke(n,mT),h=W.useContext(Bx),m=W.useMemo((()=>({dense:s||h.dense||!1,alignItems:r,disableGutters:l})),[r,h.dense,s,l]),g=W.useRef(null);bo((()=>{o&&g.current&&g.current.focus()}),[o]);const v=we({},n,{alignItems:r,dense:m.dense,disableGutters:l,divider:u,selected:d}),b=(e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:a,divider:i,selected:s}=e;return we({},n,ta({root:["root",r&&"dense",!a&&"gutters",i&&"divider",o&&"disabled","flex-start"===t&&"alignItemsFlexStart",s&&"selected"]},fT,n))})(v),y=Fo(g,t);return Z.jsx(Bx.Provider,{value:m,children:Z.jsx(gT,we({ref:y,href:f.href||f.to,component:(f.href||f.to)&&"div"===a?"a":a,focusVisibleClassName:Ti(b.focusVisible,c),ownerState:v,className:Ti(b.root,p)},f,{classes:b,children:i}))})}));function bT(e){return to("MuiListItemSecondaryAction",e)}no("MuiListItemSecondaryAction",["root","disableGutters"]);const yT=["className"],xT=Qa("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((({ownerState:e})=>we({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0}))),wT=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,o=ke(n,yT),a=we({},n,{disableGutters:W.useContext(Bx).disableGutters}),i=(e=>{const{disableGutters:t,classes:n}=e;return ta({root:["root",t&&"disableGutters"]},bT,n)})(a);return Z.jsx(xT,we({className:Ti(i.root,r),ownerState:a,ref:t},o))}));wT.muiName="ListItemSecondaryAction";const kT=wT,ST=["className"],CT=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],ET=Qa("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((({theme:e,ownerState:t})=>we({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&we({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${hT.root}`]:{paddingRight:48}},{[`&.${pT.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${pT.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${pT.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${pT.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${pT.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48}))),IT=Qa("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),NT=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:o=!1,button:a=!1,children:i,className:s,component:l,components:u={},componentsProps:c={},ContainerComponent:d="li",ContainerProps:{className:p}={},dense:f=!1,disabled:h=!1,disableGutters:m=!1,disablePadding:g=!1,divider:v=!1,focusVisibleClassName:b,secondaryAction:y,selected:x=!1,slotProps:w={},slots:k={}}=n,S=ke(n.ContainerProps,ST),C=ke(n,CT),E=W.useContext(Bx),I=W.useMemo((()=>({dense:f||E.dense||!1,alignItems:r,disableGutters:m})),[r,E.dense,f,m]),N=W.useRef(null);bo((()=>{o&&N.current&&N.current.focus()}),[o]);const T=W.Children.toArray(i),R=T.length&&Ro(T[T.length-1],["ListItemSecondaryAction"]),_=we({},n,{alignItems:r,autoFocus:o,button:a,dense:I.dense,disabled:h,disableGutters:m,disablePadding:g,divider:v,hasSecondaryAction:R,selected:x}),$=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:a,disableGutters:i,disablePadding:s,divider:l,hasSecondaryAction:u,selected:c}=e;return ta({root:["root",o&&"dense",!i&&"gutters",!s&&"padding",l&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},dT,r)})(_),M=Fo(N,t),O=k.root||u.Root||ET,A=w.root||c.root||{},L=we({className:Ti($.root,A.className,s),disabled:h},C);let P=l||"li";return a&&(L.component=l||"div",L.focusVisibleClassName=Ti(pT.focusVisible,b),P=Mw),R?(P=L.component||l?P:"div","li"===d&&("li"===P?P="div":"li"===L.component&&(L.component="div")),Z.jsx(Bx.Provider,{value:I,children:Z.jsxs(IT,we({as:d,className:Ti($.container,p),ref:M,ownerState:_},S,{children:[Z.jsx(O,we({},A,!Ri(O)&&{as:P,ownerState:we({},_,A.ownerState)},L,{children:T})),T.pop()]}))})):Z.jsx(Bx.Provider,{value:I,children:Z.jsxs(O,we({},A,{as:P,ref:M},!Ri(O)&&{ownerState:we({},_,A.ownerState)},L,{children:[T,y&&Z.jsx(kT,{children:y})]}))})}));function TT(e){return to("MuiNativeSelect",e)}const RT=no("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),_T=["className","disabled","IconComponent","inputRef","variant"],$T=({ownerState:e,theme:t})=>we({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":we({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${RT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),MT=Qa("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ka,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],{[`&.${RT.multiple}`]:t.multiple}]}})($T),OT=({ownerState:e,theme:t})=>we({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${RT.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),AT=Qa("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${qn(n.variant)}`],n.open&&t.iconOpen]}})(OT),LT=W.forwardRef((function(e,t){const{className:n,disabled:r,IconComponent:o,inputRef:a,variant:i="standard"}=e,s=ke(e,_T),l=we({},e,{disabled:r,variant:i}),u=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a}=e;return ta({select:["select",n,r&&"disabled",o&&"multiple"],icon:["icon",`icon${qn(n)}`,a&&"iconOpen",r&&"disabled"]},TT,t)})(l);return Z.jsxs(W.Fragment,{children:[Z.jsx(MT,we({ownerState:l,className:Ti(u.select,n),disabled:r,ref:a||t},s)),e.multiple?null:Z.jsx(AT,{as:o,ownerState:l,className:u.icon})]})}));var PT;const DT=["children","classes","className","label","notched"],FT=Qa("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),zT=Qa("legend")((({ownerState:e,theme:t})=>we({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&we({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}))));const BT=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],jT=Qa(wC,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:yC})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return we({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${RC.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${RC.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${RC.focused} .${RC.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${RC.error} .${RC.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${RC.disabled} .${RC.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&we({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))})),WT=Qa((function(e){const{className:t,label:n,notched:r}=e,o=ke(e,DT),a=null!=n&&""!==n,i=we({},e,{notched:r,withLabel:a});return Z.jsx(FT,we({"aria-hidden":!0,className:t,ownerState:i},o,{children:Z.jsx(zT,{ownerState:i,children:a?Z.jsx("span",{children:n}):PT||(PT=Z.jsx("span",{className:"notranslate",children:""}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((({theme:e})=>{const t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),VT=Qa(kC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:xC})((({theme:e,ownerState:t})=>we({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0}))),HT=W.forwardRef((function(e,t){var n,r,o,a,i;const s=Ya({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:u=!1,inputComponent:c="input",label:d,multiline:p=!1,notched:f,slots:h={},type:m="text"}=s,g=ke(s,BT),v=(e=>{const{classes:t}=e;return we({},t,ta({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},TC,t))})(s),b=pC(),y=cC({props:s,muiFormControl:b,states:["required"]}),x=we({},s,{color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:b,fullWidth:u,hiddenLabel:y.hiddenLabel,multiline:p,size:y.size,type:m}),w=null!=(n=null!=(r=h.root)?r:l.Root)?n:jT,k=null!=(o=null!=(a=h.input)?a:l.Input)?o:VT;return Z.jsx(EC,we({slots:{root:w,input:k},renderSuffix:e=>Z.jsx(WT,{ownerState:x,className:v.notchedOutline,label:null!=d&&""!==d&&y.required?i||(i=Z.jsxs(W.Fragment,{children:[d,"","*"]})):d,notched:void 0!==f?f:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:c,multiline:p,ref:t,type:m},g,{classes:we({},v,{notchedOutline:null})}))}));HT.muiName="Input";const UT=HT;function GT(e){return to("MuiPagination",e)}no("MuiPagination",["root","ul","outlined","text"]);const qT=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function YT(e){return to("MuiPaginationItem",e)}const KT=no("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),XT=gS(Z.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),QT=gS(Z.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),ZT=gS(Z.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),JT=gS(Z.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),eR=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],tR=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${qn(n.size)}`],"text"===n.variant&&t[`text${qn(n.color)}`],"outlined"===n.variant&&t[`outlined${qn(n.color)}`],"rounded"===n.shape&&t.rounded,"page"===n.type&&t.page,("start-ellipsis"===n.type||"end-ellipsis"===n.type)&&t.ellipsis,("previous"===n.type||"next"===n.type)&&t.previousNext,("first"===n.type||"last"===n.type)&&t.firstLast]},nR=Qa("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:tR})((({theme:e,ownerState:t})=>we({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${KT.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"small"===t.size&&{minWidth:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===t.size&&{minWidth:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15)}))),rR=Qa(Mw,{name:"MuiPaginationItem",slot:"Root",overridesResolver:tR})((({theme:e,ownerState:t})=>we({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${KT.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${KT.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${KT.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:So(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${KT.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:So(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${KT.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},"small"===t.size&&{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===t.size&&{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15)},"rounded"===t.shape&&{borderRadius:(e.vars||e).shape.borderRadius})),(({theme:e,ownerState:t})=>we({},"text"===t.variant&&{[`&.${KT.selected}`]:we({},"standard"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${KT.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${KT.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},"outlined"===t.variant&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${KT.selected}`]:we({},"standard"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:So(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:So(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:So(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${KT.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:So(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${KT.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})}))),oR=Qa("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})((({theme:e,ownerState:t})=>we({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},"small"===t.size&&{fontSize:e.typography.pxToRem(18)},"large"===t.size&&{fontSize:e.typography.pxToRem(22)}))),aR=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiPaginationItem"}),{className:r,color:o="standard",component:a,components:i={},disabled:s=!1,page:l,selected:u=!1,shape:c="circular",size:d="medium",slots:p={},type:f="page",variant:h="text"}=n,m=ke(n,eR),g=we({},n,{color:o,disabled:s,selected:u,shape:c,size:d,type:f,variant:h}),v=qa(),b=(e=>{const{classes:t,color:n,disabled:r,selected:o,size:a,shape:i,type:s,variant:l}=e;return ta({root:["root",`size${qn(a)}`,l,i,"standard"!==n&&`${l}${qn(n)}`,r&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]},YT,t)})(g),y=("rtl"===v.direction?{previous:p.next||i.next||JT,next:p.previous||i.previous||ZT,last:p.first||i.first||XT,first:p.last||i.last||QT}:{previous:p.previous||i.previous||ZT,next:p.next||i.next||JT,first:p.first||i.first||XT,last:p.last||i.last||QT})[f];return"start-ellipsis"===f||"end-ellipsis"===f?Z.jsx(nR,{ref:t,ownerState:g,className:Ti(b.root,r),children:""}):Z.jsxs(rR,we({ref:t,ownerState:g,component:a,disabled:s,className:Ti(b.root,r)},m,{children:["page"===f&&l,y?Z.jsx(oR,{as:y,ownerState:g,className:b.icon}):null]}))})),iR=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],sR=Qa("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),lR=Qa("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function uR(e,t,n){return"page"===e?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const cR=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiPagination"}),{boundaryCount:r=1,className:o,color:a="standard",count:i=1,defaultPage:s=1,disabled:l=!1,getItemAriaLabel:u=uR,hideNextButton:c=!1,hidePrevButton:d=!1,renderItem:p=e=>Z.jsx(aR,we({},e)),shape:f="circular",showFirstButton:h=!1,showLastButton:m=!1,siblingCount:g=1,size:v="medium",variant:b="text"}=n,y=ke(n,iR),{items:x}=function(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:o=1,disabled:a=!1,hideNextButton:i=!1,hidePrevButton:s=!1,onChange:l,page:u,showFirstButton:c=!1,showLastButton:d=!1,siblingCount:p=1}=e,f=ke(e,qT),[h,m]=Po({controlled:u,default:o,name:n,state:"page"}),g=(e,t)=>{u||m(t),l&&l(e,t)},v=(e,t)=>{const n=t-e+1;return Array.from({length:n},((t,n)=>e+n))},b=v(1,Math.min(t,r)),y=v(Math.max(r-t+1,t+1),r),x=Math.max(Math.min(h-p,r-t-2*p-1),t+2),w=Math.min(Math.max(h+p,t+2*p+2),y.length>0?y[0]-2:r-1),k=[...c?["first"]:[],...s?[]:["previous"],...b,...x>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...v(x,w),...w<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...y,...i?[]:["next"],...d?["last"]:[]],S=e=>{switch(e){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return r;default:return null}};return we({items:k.map((e=>"number"==typeof e?{onClick:t=>{g(t,e)},type:"page",page:e,selected:e===h,disabled:a,"aria-current":e===h?"true":void 0}:{onClick:t=>{g(t,S(e))},type:e,page:S(e),selected:!1,disabled:a||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?h>=r:h<=1)}))},f)}(we({},n,{componentName:"Pagination"})),w=we({},n,{boundaryCount:r,color:a,count:i,defaultPage:s,disabled:l,getItemAriaLabel:u,hideNextButton:c,hidePrevButton:d,renderItem:p,shape:f,showFirstButton:h,showLastButton:m,siblingCount:g,size:v,variant:b}),k=(e=>{const{classes:t,variant:n}=e;return ta({root:["root",n],ul:["ul"]},GT,t)})(w);return Z.jsx(sR,we({"aria-label":"pagination navigation",className:Ti(k.root,o),ownerState:w,ref:t},y,{children:Z.jsx(lR,{className:k.ul,ownerState:w,children:x.map(((e,t)=>Z.jsx("li",{children:p(we({},e,{color:a,"aria-label":u(e.type,e.page,e.selected),shape:f,size:v,variant:b}))},t)))})}))})),dR=cR,pR=gS(Z.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),fR=gS(Z.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),hR=Qa("span")({position:"relative",display:"flex"}),mR=Qa(pR)({transform:"scale(1)"}),gR=Qa(fR)((({theme:e,ownerState:t})=>we({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})})));function vR(e){const{checked:t=!1,classes:n={},fontSize:r}=e,o=we({},e,{checked:t});return Z.jsxs(hR,{className:n.root,ownerState:o,children:[Z.jsx(mR,{fontSize:r,className:n.background,ownerState:o}),Z.jsx(gR,{fontSize:r,className:n.dot,ownerState:o})]})}const bR=W.createContext(void 0);function yR(e){return to("MuiRadio",e)}const xR=no("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),wR=["checked","checkedIcon","color","icon","name","onChange","size","className"],kR=Qa(nI,{shouldForwardProp:e=>Ka(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${qn(n.color)}`]]}})((({theme:e,ownerState:t})=>we({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:So("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${xR.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${xR.disabled}`]:{color:(e.vars||e).palette.action.disabled}})));const SR=Z.jsx(vR,{checked:!0}),CR=Z.jsx(vR,{}),ER=W.forwardRef((function(e,t){var n,r;const o=Ya({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:i=SR,color:s="primary",icon:l=CR,name:u,onChange:c,size:d="medium",className:p}=o,f=ke(o,wR),h=we({},o,{color:s,size:d}),m=(e=>{const{classes:t,color:n}=e;return we({},t,ta({root:["root",`color${qn(n)}`]},yR,t))})(h),g=W.useContext(bR);let v=a;const b=No(c,g&&g.onChange);let y=u;return g&&(void 0===v&&(v=function(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}(g.value,o.value)),void 0===y&&(y=g.name)),Z.jsx(kR,we({type:"radio",icon:W.cloneElement(l,{fontSize:null!=(n=CR.props.fontSize)?n:d}),checkedIcon:W.cloneElement(i,{fontSize:null!=(r=SR.props.fontSize)?r:d}),ownerState:h,classes:m,name:y,checked:v,onChange:b,ref:t,className:Ti(m.root,p)},f))})),IR=ER,NR=["actions","children","defaultValue","name","onChange","value"],TR=W.forwardRef((function(e,t){const{actions:n,children:r,defaultValue:o,name:a,onChange:i,value:s}=e,l=ke(e,NR),u=W.useRef(null),[c,d]=Po({controlled:s,default:o,name:"RadioGroup"});W.useImperativeHandle(n,(()=>({focus:()=>{let e=u.current.querySelector("input:not(:disabled):checked");e||(e=u.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const p=Fo(t,u),f=Lo(a),h=W.useMemo((()=>({name:f,onChange(e){d(e.target.value),i&&i(e,e.target.value)},value:c})),[f,i,d,c]);return Z.jsx(bR.Provider,{value:h,children:Z.jsx(lN,we({role:"radiogroup",ref:p},l,{children:r}))})})),RR=TR,_R=gS(Z.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),$R=gS(Z.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function MR(e){return to("MuiRating",e)}const OR=no("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),AR=["value"],LR=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function PR(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const DR=Qa("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${OR.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${qn(n.size)}`],n.readOnly&&t.readOnly]}})((({theme:e,ownerState:t})=>we({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${OR.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${OR.focusVisible} .${OR.iconActive}`]:{outline:"1px solid #999"},[`& .${OR.visuallyHidden}`]:ea},"small"===t.size&&{fontSize:e.typography.pxToRem(18)},"large"===t.size&&{fontSize:e.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"}))),FR=Qa("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},t)=>[t.label,e.emptyValueFocused&&t.labelEmptyValueActive]})((({ownerState:e})=>we({cursor:"inherit"},e.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}))),zR=Qa("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})((({theme:e,ownerState:t})=>we({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(e.vars||e).palette.action.disabled}))),BR=Qa("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>Xa(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})((({iconActive:e})=>we({position:"relative"},e&&{transform:"scale(1.2)"})));function jR(e){const t=ke(e,AR);return Z.jsx("span",we({},t))}function WR(e){const{classes:t,disabled:n,emptyIcon:r,focus:o,getLabelText:a,highlightSelectedOnly:i,hover:s,icon:l,IconContainerComponent:u,isActive:c,itemValue:d,labelProps:p,name:f,onBlur:h,onChange:m,onClick:g,onFocus:v,readOnly:b,ownerState:y,ratingValue:x,ratingValueRounded:w}=e,k=i?d===x:d<=x,S=d<=s,C=d<=o,E=d===w,I=Lo(),N=Z.jsx(zR,{as:u,value:d,className:Ti(t.icon,k?t.iconFilled:t.iconEmpty,S&&t.iconHover,C&&t.iconFocus,c&&t.iconActive),ownerState:we({},y,{iconEmpty:!k,iconFilled:k,iconHover:S,iconFocus:C,iconActive:c}),children:r&&!k?r:l});return b?Z.jsx("span",we({},p,{children:N})):Z.jsxs(W.Fragment,{children:[Z.jsxs(FR,we({ownerState:we({},y,{emptyValueFocused:void 0}),htmlFor:I},p,{children:[N,Z.jsx("span",{className:t.visuallyHidden,children:a(d)})]})),Z.jsx("input",{className:t.visuallyHidden,onFocus:v,onBlur:h,onChange:m,onClick:g,disabled:n,value:d,id:I,type:"radio",name:f,checked:E})]})}const VR=Z.jsx(_R,{fontSize:"inherit"}),HR=Z.jsx($R,{fontSize:"inherit"});function UR(e){return`${e} Star${1!==e?"s":""}`}const GR=W.forwardRef((function(e,t){const n=Ya({name:"MuiRating",props:e}),{className:r,defaultValue:o=null,disabled:a=!1,emptyIcon:i=HR,emptyLabelText:s="Empty",getLabelText:l=UR,highlightSelectedOnly:u=!1,icon:c=VR,IconContainerComponent:d=jR,max:p=5,name:f,onChange:h,onChangeActive:m,onMouseLeave:g,onMouseMove:v,precision:b=1,readOnly:y=!1,size:x="medium",value:w}=n,k=ke(n,LR),S=Lo(f),[C,E]=Po({controlled:w,default:o,name:"Rating"}),I=PR(C,b),N=qa(),[{hover:T,focus:R},_]=W.useState({hover:-1,focus:-1});let $=I;-1!==T&&($=T),-1!==R&&($=R);const{isFocusVisibleRef:M,onBlur:O,onFocus:A,ref:L}=Yo(),[P,D]=W.useState(!1),F=W.useRef(),z=Fo(L,F,t),B=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==T&&(t=T),E(t),h&&h(e,t)},j=e=>{0===e.clientX&&0===e.clientY||(_({hover:-1,focus:-1}),E(null),h&&parseFloat(e.target.value)===I&&h(e,null))},V=e=>{A(e),!0===M.current&&D(!0);const t=parseFloat(e.target.value);_((e=>({hover:e.hover,focus:t})))},H=e=>{if(-1!==T)return;O(e),!1===M.current&&D(!1);_((e=>({hover:e.hover,focus:-1})))},[U,G]=W.useState(!1),q=we({},n,{defaultValue:o,disabled:a,emptyIcon:i,emptyLabelText:s,emptyValueFocused:U,focusVisible:P,getLabelText:l,icon:c,IconContainerComponent:d,max:p,precision:b,readOnly:y,size:x}),Y=(e=>{const{classes:t,size:n,readOnly:r,disabled:o,emptyValueFocused:a,focusVisible:i}=e;return ta({root:["root",`size${qn(n)}`,o&&"disabled",i&&"focusVisible",r&&"readyOnly"],label:["label","pristine"],labelEmptyValue:[a&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},MR,t)})(q);return Z.jsxs(DR,we({ref:z,onMouseMove:e=>{v&&v(e);const t=F.current,{right:n,left:r}=t.getBoundingClientRect(),{width:o}=t.firstChild.getBoundingClientRect();let a;a="rtl"===N.direction?(n-e.clientX)/(o*p):(e.clientX-r)/(o*p);let i=PR(p*a+b/2,b);i=function(e,t,n){return e<t?t:e>n?n:e}(i,b,p),_((e=>e.hover===i&&e.focus===i?e:{hover:i,focus:i})),D(!1),m&&T!==i&&m(e,i)},onMouseLeave:e=>{g&&g(e);_({hover:-1,focus:-1}),m&&-1!==T&&m(e,-1)},className:Ti(Y.root,r),ownerState:q,role:y?"img":null,"aria-label":y?l($):null},k,{children:[Array.from(new Array(p)).map(((e,t)=>{const n=t+1,r={classes:Y,disabled:a,emptyIcon:i,focus:R,getLabelText:l,highlightSelectedOnly:u,hover:T,icon:c,IconContainerComponent:d,name:S,onBlur:H,onChange:B,onClick:j,onFocus:V,ratingValue:$,ratingValueRounded:I,readOnly:y,ownerState:q},o=n===Math.ceil($)&&(-1!==T||-1!==R);if(b<1){const e=Array.from(new Array(1/b));return Z.jsx(BR,{className:Ti(Y.decimal,o&&Y.iconActive),ownerState:q,iconActive:o,children:e.map(((t,o)=>{const a=PR(n-1+(o+1)*b,b);return Z.jsx(WR,we({},r,{isActive:!1,itemValue:a,labelProps:{style:e.length-1===o?{}:{width:a===$?(o+1)*b*100+"%":"0%",overflow:"hidden",position:"absolute"}}}),a)}))},n)}return Z.jsx(WR,we({},r,{isActive:o,itemValue:n}),n)})),!y&&!a&&Z.jsxs(FR,{className:Ti(Y.label,Y.labelEmptyValue),ownerState:q,children:[Z.jsx("input",{className:Y.visuallyHidden,value:"",id:`${S}-empty`,type:"radio",name:S,checked:null==I,onFocus:()=>G(!0),onBlur:()=>G(!1),onChange:B}),Z.jsx("span",{className:Y.visuallyHidden,children:s})]})]}))})),qR=GR;function YR(e){return to("MuiSelect",e)}const KR=no("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);var XR;const QR=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ZR=Qa("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${KR.select}`]:t.select},{[`&.${KR.select}`]:t[n.variant]},{[`&.${KR.multiple}`]:t.multiple}]}})($T,{[`&.${KR.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),JR=Qa("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${qn(n.variant)}`],n.open&&t.iconOpen]}})(OT),e_=Qa("input",{shouldForwardProp:e=>Xa(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function t_(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}function n_(e){return null==e||"string"==typeof e&&!e.trim()}const r_=W.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:a,children:i,className:s,defaultOpen:l,defaultValue:u,disabled:c,displayEmpty:d,IconComponent:p,inputRef:f,labelId:h,MenuProps:m={},multiple:g,name:v,onBlur:b,onChange:y,onClose:x,onFocus:w,onOpen:k,open:S,readOnly:C,renderValue:E,SelectDisplayProps:I={},tabIndex:N,value:T,variant:R="standard"}=e,_=ke(e,QR),[$,M]=Po({controlled:T,default:u,name:"Select"}),[O,A]=Po({controlled:S,default:l,name:"Select"}),L=W.useRef(null),P=W.useRef(null),[D,F]=W.useState(null),{current:z}=W.useRef(null!=S),[B,j]=W.useState(),V=Fo(t,f),H=W.useCallback((e=>{P.current=e,e&&F(e)}),[]);W.useImperativeHandle(V,(()=>({focus:()=>{P.current.focus()},node:L.current,value:$})),[$]),W.useEffect((()=>{l&&O&&D&&!z&&(j(a?null:D.clientWidth),P.current.focus())}),[D,a]),W.useEffect((()=>{o&&P.current.focus()}),[o]),W.useEffect((()=>{if(!h)return;const e=_o(P.current).getElementById(h);if(e){const t=()=>{getSelection().isCollapsed&&P.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[h]);const U=(e,t)=>{e?k&&k(t):x&&x(t),z||(j(a?null:D.clientWidth),A(e))},G=W.Children.toArray(i),q=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(g){n=Array.isArray($)?$.slice():[];const t=$.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),$!==n&&(M(n),y)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:v}}),y(o,e)}g||U(!1,t)}},Y=null!==D&&O;let K,X;delete _["aria-invalid"];const Q=[];let J=!1;(mC({value:$})||d)&&(E?K=E($):J=!0);const ee=G.map(((e,t,n)=>{if(!W.isValidElement(e))return null;let r;if(g){if(!Array.isArray($))throw new Error(Se(2));r=$.some((t=>t_(t,e.props.value))),r&&J&&Q.push(e.props.children)}else r=t_($,e.props.value),r&&J&&(X=e.props.children);if(void 0===e.props.value)return W.cloneElement(e,{"aria-readonly":!0,role:"option"});return W.cloneElement(e,{"aria-selected":r?"true":"false",onClick:q(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:void 0===n[0].props.value||!0===n[0].props.disabled?(()=>{if($)return r;const t=n.find((e=>void 0!==e.props.value&&!0!==e.props.disabled));return e===t||r})():r,value:void 0,"data-value":e.props.value})}));J&&(K=g?0===Q.length?null:Q.reduce(((e,t,n)=>(e.push(t),n<Q.length-1&&e.push(", "),e)),[]):X);let te,ne=B;!a&&z&&D&&(ne=D.clientWidth),te=void 0!==N?N:c?null:0;const re=I.id||(v?`mui-component-select-${v}`:void 0),oe=we({},e,{variant:R,value:$,open:Y}),ae=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a}=e;return ta({select:["select",n,r&&"disabled",o&&"multiple"],icon:["icon",`icon${qn(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},YR,t)})(oe);return Z.jsxs(W.Fragment,{children:[Z.jsx(ZR,we({ref:H,tabIndex:te,role:"button","aria-disabled":c?"true":void 0,"aria-expanded":Y?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[h,re].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:e=>{if(!C){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),U(!0,e))}},onMouseDown:c||C?null:e=>{0===e.button&&(e.preventDefault(),P.current.focus(),U(!0,e))},onBlur:e=>{!Y&&b&&(Object.defineProperty(e,"target",{writable:!0,value:{value:$,name:v}}),b(e))},onFocus:w},I,{ownerState:oe,className:Ti(I.className,ae.select,s),id:re,children:n_(K)?XR||(XR=Z.jsx("span",{className:"notranslate",children:""})):K})),Z.jsx(e_,we({value:Array.isArray($)?$.join(","):$,name:v,ref:L,"aria-hidden":!0,onChange:e=>{const t=G.map((e=>e.props.value)).indexOf(e.target.value);if(-1===t)return;const n=G[t];M(n.props.value),y&&y(e,n)},tabIndex:-1,disabled:c,className:ae.nativeInput,autoFocus:o,ownerState:oe},_)),Z.jsx(JR,{as:p,className:ae.icon,ownerState:oe}),Z.jsx(Yk,we({id:`menu-${v||""}`,anchorEl:D,open:Y,onClose:e=>{U(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m,{MenuListProps:we({"aria-labelledby":h,role:"listbox",disableListWrap:!0},m.MenuListProps),PaperProps:we({},m.PaperProps,{style:we({minWidth:ne},null!=m.PaperProps?m.PaperProps.style:null)}),children:ee}))]})})),o_=r_;var a_,i_;const s_=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],l_={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Ka(e)&&"variant"!==e,slot:"Root"},u_=Qa(RN,l_)(""),c_=Qa(UT,l_)(""),d_=Qa(KI,l_)(""),p_=W.forwardRef((function(e,t){const n=Ya({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:a={},className:i,defaultOpen:s=!1,displayEmpty:l=!1,IconComponent:u=MC,id:c,input:d,inputProps:p,label:f,labelId:h,MenuProps:m,multiple:g=!1,native:v=!1,onClose:b,onOpen:y,open:x,renderValue:w,SelectDisplayProps:k,variant:S="outlined"}=n,C=ke(n,s_),E=v?LT:o_,I=cC({props:n,muiFormControl:pC(),states:["variant"]}).variant||S,N=d||{standard:a_||(a_=Z.jsx(u_,{})),outlined:Z.jsx(c_,{label:f}),filled:i_||(i_=Z.jsx(d_,{}))}[I],T=(e=>{const{classes:t}=e;return t})(we({},n,{variant:I,classes:a})),R=Fo(t,N.ref);return Z.jsx(W.Fragment,{children:W.cloneElement(N,we({inputComponent:E,inputProps:we({children:o,IconComponent:u,variant:I,type:void 0,multiple:g},v?{id:c}:{autoWidth:r,defaultOpen:s,displayEmpty:l,labelId:h,MenuProps:m,onClose:b,onOpen:y,open:x,renderValue:w,SelectDisplayProps:we({id:c},k)},p,{classes:p?Pn(T,p.classes):T},d?d.props.inputProps:{})},g&&v&&"outlined"===I?{notched:!0}:{},{ref:R,className:Ti(N.props.className,i)},!d&&{variant:I},C))})}));p_.muiName="Select";const f_=p_,h_=["component","components","componentsProps","color","size","slotProps","slots"],m_=we({},Dy,no("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),g_=Qa("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${qn(n.color)}`],"medium"!==n.size&&t[`size${qn(n.size)}`],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((({theme:e,ownerState:t})=>we({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===t.orientation&&we({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===t.size&&{height:2},t.marked&&{marginBottom:20}),"vertical"===t.orientation&&we({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===t.size&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${m_.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${m_.dragging}`]:{[`& .${m_.thumb}, & .${m_.track}`]:{transition:"none"}}}))),v_=Qa("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})((({ownerState:e})=>we({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===e.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===e.track&&{opacity:1}))),b_=Qa("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?Eo(e.palette[t.color].main,.62):Co(e.palette[t.color].main,.5);return we({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},"small"===t.size&&{border:"none"},"horizontal"===t.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===t.track&&{display:"none"},"inverted"===t.track&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n})})),y_=Qa("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${qn(n.color)}`],"medium"!==n.size&&t[`thumbSize${qn(n.size)}`]]}})((({theme:e,ownerState:t})=>we({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},"small"===t.size&&{width:12,height:12},"horizontal"===t.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===t.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":we({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"small"===t.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${m_.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:So(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${m_.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:So(e.palette[t.color].main,.16)}`},[`&.${m_.disabled}`]:{"&:hover":{boxShadow:"none"}}}))),x_=Qa(Fy,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((({theme:e,ownerState:t})=>we({[`&.${m_.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===t.orientation&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===t.orientation&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},"small"===t.size&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}))),w_=Qa("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Xa(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})((({theme:e,ownerState:t,markActive:n})=>we({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===t.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===t.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}))),k_=Qa("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Xa(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((({theme:e,ownerState:t,markLabelActive:n})=>we({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===t.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===t.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(e.vars||e).palette.text.primary}))),S_=W.forwardRef((function(e,t){var n,r,o,a,i,s,l,u,c,d,p,f,h,m,g,v,b,y,x,w,k,S,C;const E=Ya({props:e,name:"MuiSlider"}),I="rtl"===qa().direction,{component:N="span",components:T={},componentsProps:R={},color:_="primary",size:$="medium",slotProps:M,slots:O}=E,A=ke(E,h_),L=(e=>{const{color:t,size:n,classes:r={}}=e;return we({},r,{root:Ti(r.root,Py(`color${qn(t)}`),r[`color${qn(t)}`],n&&[Py(`size${qn(n)}`),r[`size${qn(n)}`]]),thumb:Ti(r.thumb,Py(`thumbColor${qn(t)}`),r[`thumbColor${qn(t)}`],n&&[Py(`thumbSize${qn(n)}`),r[`thumbSize${qn(n)}`]])})})(we({},E,{color:_,size:$})),P=null!=(n=null!=(r=null==O?void 0:O.root)?r:T.Root)?n:g_,D=null!=(o=null!=(a=null==O?void 0:O.rail)?a:T.Rail)?o:v_,F=null!=(i=null!=(s=null==O?void 0:O.track)?s:T.Track)?i:b_,z=null!=(l=null!=(u=null==O?void 0:O.thumb)?u:T.Thumb)?l:y_,B=null!=(c=null!=(d=null==O?void 0:O.valueLabel)?d:T.ValueLabel)?c:x_,j=null!=(p=null!=(f=null==O?void 0:O.mark)?f:T.Mark)?p:w_,W=null!=(h=null!=(m=null==O?void 0:O.markLabel)?m:T.MarkLabel)?h:k_,V=null!=(g=null==O?void 0:O.input)?g:T.Input,H=null!=(v=null==M?void 0:M.root)?v:R.root,U=null!=(b=null==M?void 0:M.rail)?b:R.rail,G=null!=(y=null==M?void 0:M.track)?y:R.track,q=null!=(x=null==M?void 0:M.thumb)?x:R.thumb,Y=null!=(w=null==M?void 0:M.valueLabel)?w:R.valueLabel,K=null!=(k=null==M?void 0:M.mark)?k:R.mark,X=null!=(S=null==M?void 0:M.markLabel)?S:R.markLabel,Q=null!=(C=null==M?void 0:M.input)?C:R.input;return Z.jsx(tx,we({},A,{isRtl:I,slots:{root:P,rail:D,track:F,thumb:z,valueLabel:B,mark:j,markLabel:W,input:V},slotProps:we({},R,{root:we({},H,QC(P)&&{as:N,ownerState:we({},null==H?void 0:H.ownerState,{color:_,size:$})}),rail:U,thumb:we({},q,QC(z)&&{ownerState:we({},null==q?void 0:q.ownerState,{color:_,size:$})}),track:we({},G,QC(F)&&{ownerState:we({},null==G?void 0:G.ownerState,{color:_,size:$})}),valueLabel:we({},Y,QC(B)&&{ownerState:we({},null==Y?void 0:Y.ownerState,{color:_,size:$})}),mark:K,markLabel:X,input:Q}),classes:L,ref:t}))}));function C_(e){return to("MuiSnackbarContent",e)}no("MuiSnackbarContent",["root","message","action"]);const E_=["action","className","message","role"],I_=Qa(uk,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>{const t="light"===e.palette.mode?.8:.98,n=Io(e.palette.background.default,t);return we({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),N_=Qa("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),T_=Qa("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),R_=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:a,role:i="alert"}=n,s=ke(n,E_),l=n,u=(e=>{const{classes:t}=e;return ta({root:["root"],action:["action"],message:["message"]},C_,t)})(l);return Z.jsxs(I_,we({role:i,square:!0,elevation:6,className:Ti(u.root,o),ownerState:l,ref:t},s,{children:[Z.jsx(N_,{className:u.message,ownerState:l,children:a}),r?Z.jsx(T_,{className:u.action,ownerState:l,children:r}):null]}))}));function __(e){return to("MuiSnackbar",e)}no("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const $_=["onEnter","onExited"],M_=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],O_=Qa("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${qn(n.anchorOrigin.vertical)}${qn(n.anchorOrigin.horizontal)}`]]}})((({theme:e,ownerState:t})=>we({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===t.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===t.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===t.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:we({},"top"===t.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===t.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===t.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===t.anchorOrigin.horizontal&&{right:24,left:"auto"})}))),A_=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiSnackbar"}),r=qa(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:i,horizontal:s}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:u,className:c,ClickAwayListenerProps:d,ContentProps:p,disableWindowBlurListener:f=!1,message:h,onBlur:m,onClose:g,onFocus:v,onMouseEnter:b,onMouseLeave:y,open:x,resumeHideDuration:w,TransitionComponent:k=vk,transitionDuration:S=o,TransitionProps:{onEnter:C,onExited:E}={}}=n,I=ke(n.TransitionProps,$_),N=ke(n,M_),T=we({},n,{anchorOrigin:{vertical:i,horizontal:s}}),R=(e=>{const{classes:t,anchorOrigin:n}=e;return ta({root:["root",`anchorOrigin${qn(n.vertical)}${qn(n.horizontal)}`]},__,t)})(T),_=W.useRef(),[$,M]=W.useState(!0),O=Do(((...e)=>{g&&g(...e)})),A=Do((e=>{g&&null!=e&&(clearTimeout(_.current),_.current=setTimeout((()=>{O(null,"timeout")}),e))}));W.useEffect((()=>(x&&A(l),()=>{clearTimeout(_.current)})),[x,l,A]);const L=()=>{clearTimeout(_.current)},P=W.useCallback((()=>{null!=l&&A(null!=w?w:.5*l)}),[l,w,A]);return W.useEffect((()=>{if(!f&&x)return window.addEventListener("focus",P),window.addEventListener("blur",L),()=>{window.removeEventListener("focus",P),window.removeEventListener("blur",L)}}),[f,P,x]),W.useEffect((()=>{if(x)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||g&&g(e,"escapeKeyDown")}}),[$,x,g]),!x&&$?null:Z.jsx(Ui,we({onClickAway:e=>{g&&g(e,"clickaway")}},d,{children:Z.jsx(O_,we({className:Ti(R.root,c),onBlur:e=>{m&&m(e),P()},onFocus:e=>{v&&v(e),L()},onMouseEnter:e=>{b&&b(e),L()},onMouseLeave:e=>{y&&y(e),P()},ownerState:T,ref:t,role:"presentation"},N,{children:Z.jsx(k,we({appear:!0,in:x,timeout:S,direction:"top"===i?"down":"up",onEnter:(e,t)=>{M(!1),C&&C(e,t)},onExited:e=>{M(!0),E&&E(e)}},I,{children:u||Z.jsx(R_,we({message:h,action:a},p))}))}))}))}));function L_(e){return to("MuiTooltip",e)}const P_=no("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),D_=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const F_=Qa(QS,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((({theme:e,ownerState:t,open:n})=>we({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${P_.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${P_.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${P_.arrow}`]:we({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${P_.arrow}`]:we({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})}))),z_=Qa("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${qn(n.placement.split("-")[0])}`]]}})((({theme:e,ownerState:t})=>{return we({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:So(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:(n=16/14,Math.round(1e5*n)/1e5)+"em",fontWeight:e.typography.fontWeightRegular},{[`.${P_.popper}[data-popper-placement*="left"] &`]:we({transformOrigin:"right center"},t.isRtl?we({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):we({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${P_.popper}[data-popper-placement*="right"] &`]:we({transformOrigin:"left center"},t.isRtl?we({marginRight:"14px"},t.touch&&{marginRight:"24px"}):we({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${P_.popper}[data-popper-placement*="top"] &`]:we({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${P_.popper}[data-popper-placement*="bottom"] &`]:we({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})});var n})),B_=Qa("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:So(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let j_=!1,W_=null;function V_(e,t){return n=>{t&&t(n),e(n)}}const H_=W.forwardRef((function(e,t){var n,r,o,a,i,s,l,u,c,d,p,f,h,m,g,v,b,y,x;const w=Ya({props:e,name:"MuiTooltip"}),{arrow:k=!1,children:S,components:C={},componentsProps:E={},describeChild:I=!1,disableFocusListener:N=!1,disableHoverListener:T=!1,disableInteractive:R=!1,disableTouchListener:_=!1,enterDelay:$=100,enterNextDelay:M=0,enterTouchDelay:O=700,followCursor:A=!1,id:L,leaveDelay:P=0,leaveTouchDelay:D=1500,onClose:F,onOpen:z,open:B,placement:j="bottom",PopperComponent:V,PopperProps:H={},slotProps:U={},slots:G={},title:q,TransitionComponent:Y=vk,TransitionProps:K}=w,X=ke(w,D_),Q=qa(),J="rtl"===Q.direction,[ee,te]=W.useState(),[ne,re]=W.useState(null),oe=W.useRef(!1),ae=R||A,ie=W.useRef(),se=W.useRef(),le=W.useRef(),ue=W.useRef(),[ce,de]=Po({controlled:B,default:!1,name:"Tooltip",state:"open"});let pe=ce;const fe=Lo(L),he=W.useRef(),me=W.useCallback((()=>{void 0!==he.current&&(document.body.style.WebkitUserSelect=he.current,he.current=void 0),clearTimeout(ue.current)}),[]);W.useEffect((()=>()=>{clearTimeout(ie.current),clearTimeout(se.current),clearTimeout(le.current),me()}),[me]);const ge=e=>{clearTimeout(W_),j_=!0,de(!0),z&&!pe&&z(e)},ve=Do((e=>{clearTimeout(W_),W_=setTimeout((()=>{j_=!1}),800+P),de(!1),F&&pe&&F(e),clearTimeout(ie.current),ie.current=setTimeout((()=>{oe.current=!1}),Q.transitions.duration.shortest)})),be=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),clearTimeout(se.current),clearTimeout(le.current),$||j_&&M?se.current=setTimeout((()=>{ge(e)}),j_?M:$):ge(e))},ye=e=>{clearTimeout(se.current),clearTimeout(le.current),le.current=setTimeout((()=>{ve(e)}),P)},{isFocusVisibleRef:xe,onBlur:Se,onFocus:Ce,ref:Ee}=Yo(),[,Ie]=W.useState(!1),Ne=e=>{Se(e),!1===xe.current&&(Ie(!1),ye(e))},Te=e=>{ee||te(e.currentTarget),Ce(e),!0===xe.current&&(Ie(!0),be(e))},Re=e=>{oe.current=!0;const t=S.props;t.onTouchStart&&t.onTouchStart(e)},_e=be,$e=ye,Me=e=>{Re(e),clearTimeout(le.current),clearTimeout(ie.current),me(),he.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ue.current=setTimeout((()=>{document.body.style.WebkitUserSelect=he.current,be(e)}),O)},Oe=e=>{S.props.onTouchEnd&&S.props.onTouchEnd(e),me(),clearTimeout(le.current),le.current=setTimeout((()=>{ve(e)}),D)};W.useEffect((()=>{if(pe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ve(e)}}),[ve,pe]);const Ae=Fo(S.ref,Ee,te,t);q||0===q||(pe=!1);const Le=W.useRef({x:0,y:0}),Pe=W.useRef(),De={},Fe="string"==typeof q;I?(De.title=pe||!Fe||T?null:q,De["aria-describedby"]=pe?fe:null):(De["aria-label"]=Fe?q:null,De["aria-labelledby"]=pe&&!Fe?fe:null);const ze=we({},De,X,S.props,{className:Ti(X.className,S.props.className),onTouchStart:Re,ref:Ae},A?{onMouseMove:e=>{const t=S.props;t.onMouseMove&&t.onMouseMove(e),Le.current={x:e.clientX,y:e.clientY},Pe.current&&Pe.current.update()}}:{}),Be={};_||(ze.onTouchStart=Me,ze.onTouchEnd=Oe),T||(ze.onMouseOver=V_(_e,ze.onMouseOver),ze.onMouseLeave=V_($e,ze.onMouseLeave),ae||(Be.onMouseOver=_e,Be.onMouseLeave=$e)),N||(ze.onFocus=V_(Te,ze.onFocus),ze.onBlur=V_(Ne,ze.onBlur),ae||(Be.onFocus=Te,Be.onBlur=Ne));const je=W.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=H.popperOptions)&&e.modifiers&&(t=t.concat(H.popperOptions.modifiers)),we({},H.popperOptions,{modifiers:t})}),[ne,H]),We=we({},w,{isRtl:J,arrow:k,disableInteractive:ae,placement:j,PopperComponentProp:V,touch:oe.current}),Ve=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:a}=e;return ta({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${qn(a.split("-")[0])}`],arrow:["arrow"]},L_,t)})(We),He=null!=(n=null!=(r=G.popper)?r:C.Popper)?n:F_,Ue=null!=(o=null!=(a=null!=(i=G.transition)?i:C.Transition)?a:Y)?o:vk,Ge=null!=(s=null!=(l=G.tooltip)?l:C.Tooltip)?s:z_,qe=null!=(u=null!=(c=G.arrow)?c:C.Arrow)?u:B_,Ye=_i(He,we({},H,null!=(d=U.popper)?d:E.popper,{className:Ti(Ve.popper,null==H?void 0:H.className,null==(p=null!=(f=U.popper)?f:E.popper)?void 0:p.className)}),We),Ke=_i(Ue,we({},K,null!=(h=U.transition)?h:E.transition),We),Xe=_i(Ge,we({},null!=(m=U.tooltip)?m:E.tooltip,{className:Ti(Ve.tooltip,null==(g=null!=(v=U.tooltip)?v:E.tooltip)?void 0:g.className)}),We),Qe=_i(qe,we({},null!=(b=U.arrow)?b:E.arrow,{className:Ti(Ve.arrow,null==(y=null!=(x=U.arrow)?x:E.arrow)?void 0:y.className)}),We);return Z.jsxs(W.Fragment,{children:[W.cloneElement(S,ze),Z.jsx(He,we({as:null!=V?V:QS,placement:j,anchorEl:A?{getBoundingClientRect:()=>({top:Le.current.y,left:Le.current.x,right:Le.current.x,bottom:Le.current.y,width:0,height:0})}:ee,popperRef:Pe,open:!!ee&&pe,id:fe,transition:!0},Be,Ye,{popperOptions:je,children:({TransitionProps:e})=>Z.jsx(Ue,we({timeout:Q.transitions.duration.shorter},e,Ke,{"data-foo":"bar",children:Z.jsxs(Ge,we({},Xe,{children:[q,k?Z.jsx(qe,we({},Qe,{ref:re})):null]}))}))}))]})})),U_=["component","direction","spacing","divider","children"];function G_(e,t){const n=W.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,o)=>(e.push(r),o<n.length-1&&e.push(W.cloneElement(t,{key:`separator-${o}`})),e)),[])}const q_=Qa("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let n=we({display:"flex",flexDirection:"column"},Vn({theme:t},Gn({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const r=or(t),o=Object.keys(t.breakpoints.values).reduce(((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),a=Gn({values:e.direction,base:o}),i=Gn({values:e.spacing,base:o});"object"==typeof a&&Object.keys(a).forEach(((e,t,n)=>{if(!a[e]){const r=t>0?a[n[t-1]]:"column";a[e]=r}}));n=Pn(n,Vn({theme:t},i,((t,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=n?a[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:ar(r,t)}};var o})))}return n=function(e,...t){const n=Hn(e),r=[n,...t].reduce(((e,t)=>Pn(e,t)),{});return Un(Object.keys(n),r)}(t.breakpoints,n),n})),Y_=W.forwardRef((function(e,t){const n=Yr(Ya({props:e,name:"MuiStack"})),{component:r="div",direction:o="column",spacing:a=0,divider:i,children:s}=n,l=ke(n,U_),u={direction:o,spacing:a};return Z.jsx(q_,we({as:r,ownerState:u,ref:t},l,{children:i?G_(s,i):s}))}));function K_(e){return to("MuiSwitch",e)}const X_=no("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Q_=["className","color","edge","size","sx"],Z_=Qa("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${qn(n.edge)}`],t[`size${qn(n.size)}`]]}})((({ownerState:e})=>we({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===e.edge&&{marginLeft:-8},"end"===e.edge&&{marginRight:-8},"small"===e.size&&{width:40,height:24,padding:7,[`& .${X_.thumb}`]:{width:16,height:16},[`& .${X_.switchBase}`]:{padding:4,[`&.${X_.checked}`]:{transform:"translateX(16px)"}}}))),J_=Qa(nI,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${X_.input}`]:t.input},"default"!==n.color&&t[`color${qn(n.color)}`]]}})((({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${X_.checked}`]:{transform:"translateX(20px)"},[`&.${X_.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${X_.checked} + .${X_.track}`]:{opacity:.5},[`&.${X_.disabled} + .${X_.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:""+("light"===e.palette.mode?.12:.2)},[`& .${X_.input}`]:{left:"-100%",width:"300%"}})),(({theme:e,ownerState:t})=>we({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:So(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${X_.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:So(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X_.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${"light"===e.palette.mode?Eo(e.palette[t.color].main,.62):Co(e.palette[t.color].main,.55)}`}},[`&.${X_.checked} + .${X_.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}}))),e$=Qa("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:""+("light"===e.palette.mode?.38:.3)}))),t$=Qa("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),n$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:a=!1,size:i="medium",sx:s}=n,l=ke(n,Q_),u=we({},n,{color:o,edge:a,size:i}),c=(e=>{const{classes:t,edge:n,size:r,color:o,checked:a,disabled:i}=e;return we({},t,ta({root:["root",n&&`edge${qn(n)}`,`size${qn(r)}`],switchBase:["switchBase",`color${qn(o)}`,a&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},K_,t))})(u),d=Z.jsx(t$,{className:c.thumb,ownerState:u});return Z.jsxs(Z_,{className:Ti(c.root,r),sx:s,ownerState:u,children:[Z.jsx(J_,we({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:u},l,{classes:we({},c,{root:c.switchBase})})),Z.jsx(e$,{className:c.track,ownerState:u})]})}));function r$(e){return to("MuiTab",e)}const o$=no("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),a$=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],i$=Qa(Mw,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${qn(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((({theme:e,ownerState:t})=>we({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${o$.iconWrapper}`]:we({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${o$.selected}`]:{opacity:1},[`&.${o$.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${o$.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${o$.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${o$.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${o$.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)}))),s$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTab"}),{className:r,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:i,icon:s,iconPosition:l="top",indicator:u,label:c,onChange:d,onClick:p,onFocus:f,selected:h,selectionFollowsFocus:m,textColor:g="inherit",value:v,wrapped:b=!1}=n,y=ke(n,a$),x=we({},n,{disabled:o,disableFocusRipple:a,selected:h,icon:!!s,iconPosition:l,label:!!c,fullWidth:i,textColor:g,wrapped:b}),w=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:a,label:i,selected:s,disabled:l}=e;return ta({root:["root",a&&i&&"labelIcon",`textColor${qn(n)}`,r&&"fullWidth",o&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]},r$,t)})(x),k=s&&c&&W.isValidElement(s)?W.cloneElement(s,{className:Ti(w.iconWrapper,s.props.className)}):s;return Z.jsxs(i$,we({focusRipple:!a,className:Ti(w.root,r),ref:t,role:"tab","aria-selected":h,disabled:o,onClick:e=>{!h&&d&&d(e,v),p&&p(e)},onFocus:e=>{m&&!h&&d&&d(e,v),f&&f(e)},ownerState:x,tabIndex:h?0:-1},y,{children:["top"===l||"start"===l?Z.jsxs(W.Fragment,{children:[k,c]}):Z.jsxs(W.Fragment,{children:[c,k]}),u]}))})),l$=W.createContext();function u$(e){return to("MuiTable",e)}no("MuiTable",["root","stickyHeader"]);const c$=["className","component","padding","size","stickyHeader"],d$=Qa("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>we({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":we({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"}))),p$="table",f$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTable"}),{className:r,component:o=p$,padding:a="normal",size:i="medium",stickyHeader:s=!1}=n,l=ke(n,c$),u=we({},n,{component:o,padding:a,size:i,stickyHeader:s}),c=(e=>{const{classes:t,stickyHeader:n}=e;return ta({root:["root",n&&"stickyHeader"]},u$,t)})(u),d=W.useMemo((()=>({padding:a,size:i,stickyHeader:s})),[a,i,s]);return Z.jsx(l$.Provider,{value:d,children:Z.jsx(d$,we({as:o,role:o===p$?null:"table",ref:t,className:Ti(c.root,r),ownerState:u},l))})})),h$=W.createContext();function m$(e){return to("MuiTableBody",e)}no("MuiTableBody",["root"]);const g$=["className","component"],v$=Qa("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),b$={variant:"body"},y$="tbody",x$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTableBody"}),{className:r,component:o=y$}=n,a=ke(n,g$),i=we({},n,{component:o}),s=(e=>{const{classes:t}=e;return ta({root:["root"]},m$,t)})(i);return Z.jsx(h$.Provider,{value:b$,children:Z.jsx(v$,we({className:Ti(s.root,r),as:o,ref:t,role:o===y$?null:"rowgroup",ownerState:i},a))})}));function w$(e){return to("MuiTableCell",e)}const k$=no("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),S$=["align","className","component","padding","scope","size","sortDirection","variant"],C$=Qa("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${qn(n.size)}`],"normal"!==n.padding&&t[`padding${qn(n.padding)}`],"inherit"!==n.align&&t[`align${qn(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>we({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===e.palette.mode?Eo(So(e.palette.divider,1),.88):Co(So(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:(e.vars||e).palette.text.primary},"footer"===t.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${k$.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}))),E$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTableCell"}),{align:r="inherit",className:o,component:a,padding:i,scope:s,size:l,sortDirection:u,variant:c}=n,d=ke(n,S$),p=W.useContext(l$),f=W.useContext(h$),h=f&&"head"===f.variant;let m;m=a||(h?"th":"td");let g=s;!g&&h&&(g="col");const v=c||f&&f.variant,b=we({},n,{align:r,component:m,padding:i||(p&&p.padding?p.padding:"normal"),size:l||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:"head"===v&&p&&p.stickyHeader,variant:v}),y=(e=>{const{classes:t,variant:n,align:r,padding:o,size:a,stickyHeader:i}=e;return ta({root:["root",n,i&&"stickyHeader","inherit"!==r&&`align${qn(r)}`,"normal"!==o&&`padding${qn(o)}`,`size${qn(a)}`]},w$,t)})(b);let x=null;return u&&(x="asc"===u?"ascending":"descending"),Z.jsx(C$,we({as:m,ref:t,className:Ti(y.root,o),"aria-sort":x,scope:g,ownerState:b},d))}));function I$(e){return to("MuiTableContainer",e)}no("MuiTableContainer",["root"]);const N$=["className","component"],T$=Qa("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),R$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTableContainer"}),{className:r,component:o="div"}=n,a=ke(n,N$),i=we({},n,{component:o}),s=(e=>{const{classes:t}=e;return ta({root:["root"]},I$,t)})(i);return Z.jsx(T$,we({ref:t,as:o,className:Ti(s.root,r),ownerState:i},a))}));function _$(e){return to("MuiTableHead",e)}no("MuiTableHead",["root"]);const $$=["className","component"],M$=Qa("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),O$={variant:"head"},A$="thead",L$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTableHead"}),{className:r,component:o=A$}=n,a=ke(n,$$),i=we({},n,{component:o}),s=(e=>{const{classes:t}=e;return ta({root:["root"]},_$,t)})(i);return Z.jsx(h$.Provider,{value:O$,children:Z.jsx(M$,we({as:o,className:Ti(s.root,r),ref:t,role:o===A$?null:"rowgroup",ownerState:i},a))})}));function P$(e){return to("MuiToolbar",e)}no("MuiToolbar",["root","gutters","regular","dense"]);const D$=["className","component","disableGutters","variant"],F$=Qa("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((({theme:e,ownerState:t})=>we({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48})),(({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar)),z$=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:a=!1,variant:i="regular"}=n,s=ke(n,D$),l=we({},n,{component:o,disableGutters:a,variant:i}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return ta({root:["root",!n&&"gutters",r]},P$,t)})(l);return Z.jsx(F$,we({as:o,className:Ti(u.root,r),ref:t,ownerState:l},s))})),B$=gS(Z.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),j$=gS(Z.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var W$,V$,H$,U$,G$,q$,Y$,K$;const X$=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],Q$=W.forwardRef((function(e,t){const{backIconButtonProps:n,count:r,getItemAriaLabel:o,nextIconButtonProps:a,onPageChange:i,page:s,rowsPerPage:l,showFirstButton:u,showLastButton:c}=e,d=ke(e,X$),p=qa();return Z.jsxs("div",we({ref:t},d,{children:[u&&Z.jsx(qS,{onClick:e=>{i(e,0)},disabled:0===s,"aria-label":o("first",s),title:o("first",s),children:"rtl"===p.direction?W$||(W$=Z.jsx(QT,{})):V$||(V$=Z.jsx(XT,{}))}),Z.jsx(qS,we({onClick:e=>{i(e,s-1)},disabled:0===s,color:"inherit","aria-label":o("previous",s),title:o("previous",s)},n,{children:"rtl"===p.direction?H$||(H$=Z.jsx(j$,{})):U$||(U$=Z.jsx(B$,{}))})),Z.jsx(qS,we({onClick:e=>{i(e,s+1)},disabled:-1!==r&&s>=Math.ceil(r/l)-1,color:"inherit","aria-label":o("next",s),title:o("next",s)},a,{children:"rtl"===p.direction?G$||(G$=Z.jsx(B$,{})):q$||(q$=Z.jsx(j$,{}))})),c&&Z.jsx(qS,{onClick:e=>{i(e,Math.max(0,Math.ceil(r/l)-1))},disabled:s>=Math.ceil(r/l)-1,"aria-label":o("last",s),title:o("last",s),children:"rtl"===p.direction?Y$||(Y$=Z.jsx(XT,{})):K$||(K$=Z.jsx(QT,{}))})]}))}));function Z$(e){return to("MuiTablePagination",e)}const J$=no("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var eM;const tM=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],nM=Qa(E$,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),rM=Qa(z$,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>we({[`& .${J$.actions}`]:t.actions},t.toolbar)})((({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${J$.actions}`]:{flexShrink:0,marginLeft:20}}))),oM=Qa("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),aM=Qa("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})((({theme:e})=>we({},e.typography.body2,{flexShrink:0}))),iM=Qa(f_,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>we({[`& .${J$.selectIcon}`]:t.selectIcon,[`& .${J$.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${J$.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),sM=Qa(Yw,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),lM=Qa("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})((({theme:e})=>we({},e.typography.body2,{flexShrink:0})));function uM({from:e,to:t,count:n}){return`${e}${t} of ${-1!==n?n:`more than ${t}`}`}function cM(e){return`Go to ${e} page`}const dM=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTablePagination"}),{ActionsComponent:r=Q$,backIconButtonProps:o,className:a,colSpan:i,component:s=E$,count:l,getItemAriaLabel:u=cM,labelDisplayedRows:c=uM,labelRowsPerPage:d="Rows per page:",nextIconButtonProps:p,onPageChange:f,onRowsPerPageChange:h,page:m,rowsPerPage:g,rowsPerPageOptions:v=[10,25,50,100],SelectProps:b={},showFirstButton:y=!1,showLastButton:x=!1}=n,w=ke(n,tM),k=n,S=(e=>{const{classes:t}=e;return ta({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Z$,t)})(k),C=b.native?"option":sM;let E;s!==E$&&"td"!==s||(E=i||1e3);const I=Lo(b.id),N=Lo(b.labelId);return Z.jsx(nM,we({colSpan:E,ref:t,as:s,ownerState:k,className:Ti(S.root,a)},w,{children:Z.jsxs(rM,{className:S.toolbar,children:[Z.jsx(oM,{className:S.spacer}),v.length>1&&Z.jsx(aM,{className:S.selectLabel,id:N,children:d}),v.length>1&&Z.jsx(iM,we({variant:"standard"},!b.variant&&{input:eM||(eM=Z.jsx(EC,{}))},{value:g,onChange:h,id:I,labelId:N},b,{classes:we({},b.classes,{root:Ti(S.input,S.selectRoot,(b.classes||{}).root),select:Ti(S.select,(b.classes||{}).select),icon:Ti(S.selectIcon,(b.classes||{}).icon)}),children:v.map((e=>W.createElement(C,we({},!Ri(C)&&{ownerState:k},{className:S.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)))})),Z.jsx(lM,{className:S.displayedRows,children:c({from:0===l?0:m*g+1,to:-1===l?(m+1)*g:-1===g?l:Math.min(l,(m+1)*g),count:-1===l?-1:l,page:m})}),Z.jsx(r,{className:S.actions,backIconButtonProps:o,count:l,nextIconButtonProps:p,onPageChange:f,page:m,rowsPerPage:g,showFirstButton:y,showLastButton:x,getItemAriaLabel:u})]})}))}));function pM(e){return to("MuiTableRow",e)}const fM=no("MuiTableRow",["root","selected","hover","head","footer"]),hM=["className","component","hover","selected"],mM=Qa("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${fM.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${fM.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),gM="tr",vM=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTableRow"}),{className:r,component:o=gM,hover:a=!1,selected:i=!1}=n,s=ke(n,hM),l=W.useContext(h$),u=we({},n,{component:o,hover:a,selected:i,head:l&&"head"===l.variant,footer:l&&"footer"===l.variant}),c=(e=>{const{classes:t,selected:n,hover:r,head:o,footer:a}=e;return ta({root:["root",n&&"selected",r&&"hover",o&&"head",a&&"footer"]},pM,t)})(u);return Z.jsx(mM,we({as:o,ref:t,className:Ti(c.root,r),role:o===gM?null:"row",ownerState:u},s))})),bM=gS(Z.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function yM(e){return to("MuiTableSortLabel",e)}const xM=no("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),wM=["active","children","className","direction","hideSortIcon","IconComponent"],kM=Qa(Mw,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.active&&t.active]}})((({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${xM.icon}`]:{opacity:.5}},[`&.${xM.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${xM.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),SM=Qa("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,t[`iconDirection${qn(n.direction)}`]]}})((({theme:e,ownerState:t})=>we({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},"desc"===t.direction&&{transform:"rotate(0deg)"},"asc"===t.direction&&{transform:"rotate(180deg)"}))),CM=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTableSortLabel"}),{active:r=!1,children:o,className:a,direction:i="asc",hideSortIcon:s=!1,IconComponent:l=bM}=n,u=ke(n,wM),c=we({},n,{active:r,direction:i,hideSortIcon:s,IconComponent:l}),d=(e=>{const{classes:t,direction:n,active:r}=e;return ta({root:["root",r&&"active"],icon:["icon",`iconDirection${qn(n)}`]},yM,t)})(c);return Z.jsxs(kM,we({className:Ti(d.root,a),component:"span",disableRipple:!0,ownerState:c,ref:t},u,{children:[o,s&&!r?null:Z.jsx(SM,{as:l,className:Ti(d.icon),ownerState:c})]}))}));function EM(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const IM=["onChange"],NM={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function TM(e){return to("MuiTabScrollButton",e)}const RM=no("MuiTabScrollButton",["root","vertical","horizontal","disabled"]);var _M,$M;const MM=["className","direction","orientation","disabled"],OM=Qa(Mw,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((({ownerState:e})=>we({width:40,flexShrink:0,opacity:.8,[`&.${RM.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}}))),AM=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTabScrollButton"}),{className:r,direction:o}=n,a=ke(n,MM),i=we({isRtl:"rtl"===qa().direction},n),s=(e=>{const{classes:t,orientation:n,disabled:r}=e;return ta({root:["root",n,r&&"disabled"]},TM,t)})(i);return Z.jsx(OM,we({component:"div",className:Ti(s.root,r),ref:t,role:null,ownerState:i,tabIndex:null},a,{children:"left"===o?_M||(_M=Z.jsx(B$,{fontSize:"small"})):$M||($M=Z.jsx(j$,{fontSize:"small"}))}))}));function LM(e){return to("MuiTabs",e)}const PM=no("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),DM=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],FM=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,zM=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,BM=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},jM=Qa("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${PM.scrollButtons}`]:t.scrollButtons},{[`& .${PM.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((({ownerState:e,theme:t})=>we({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${PM.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}))),WM=Qa("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((({ownerState:e})=>we({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"}))),VM=Qa("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((({ownerState:e})=>we({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"}))),HM=Qa("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((({ownerState:e,theme:t})=>we({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0}))),UM=Qa((function(e){const{onChange:t}=e,n=ke(e,IM),r=W.useRef(),o=W.useRef(null),a=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return W.useEffect((()=>{const e=To((()=>{const e=r.current;a(),e!==r.current&&t(r.current)})),n=$o(o.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),W.useEffect((()=>{a(),t(r.current)}),[t]),Z.jsx("div",we({style:NM,ref:o},n))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),GM={},qM=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTabs"}),r=qa(),o="rtl"===r.direction,{"aria-label":a,"aria-labelledby":i,action:s,centered:l=!1,children:u,className:c,component:d="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:h,orientation:m="horizontal",ScrollButtonComponent:g=AM,scrollButtons:v="auto",selectionFollowsFocus:b,TabIndicatorProps:y={},TabScrollButtonProps:x={},textColor:w="primary",value:k,variant:S="standard",visibleScrollbar:C=!1}=n,E=ke(n,DM),I="scrollable"===S,N="vertical"===m,T=N?"scrollTop":"scrollLeft",R=N?"top":"left",_=N?"bottom":"right",$=N?"clientHeight":"clientWidth",M=N?"height":"width",O=we({},n,{component:d,allowScrollButtonsMobile:p,indicatorColor:f,orientation:m,vertical:N,scrollButtons:v,textColor:w,variant:S,visibleScrollbar:C,fixed:!I,hideScrollbar:I&&!C,scrollableX:I&&!N,scrollableY:I&&N,centered:l&&!I,scrollButtonsHideMobile:!p}),A=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:a,centered:i,scrollButtonsHideMobile:s,classes:l}=e;return ta({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},LM,l)})(O),[L,P]=W.useState(!1),[D,F]=W.useState(GM),[z,B]=W.useState({start:!1,end:!1}),[j,V]=W.useState({overflow:"hidden",scrollbarWidth:0}),H=new Map,U=W.useRef(null),G=W.useRef(null),q=()=>{const e=U.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:Zo(e,r.direction),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==k){const e=G.current.children;if(e.length>0){const t=e[H.get(k)];n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},Y=Do((()=>{const{tabsMeta:e,tabMeta:t}=q();let n,r=0;if(N)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=o?"right":"left",t&&e){const a=o?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(o?-1:1)*(t[n]-e[n]+a)}const a={[n]:r,[M]:t?t[M]:0};if(isNaN(D[n])||isNaN(D[M]))F(a);else{const e=Math.abs(D[n]-a[n]),t=Math.abs(D[M]-a[M]);(e>=1||t>=1)&&F(a)}})),K=(e,{animation:t=!0}={})=>{t?function(e,t,n,r={},o=()=>{}){const{ease:a=EM,duration:i=300}=r;let s=null;const l=t[e];let u=!1;const c=()=>{u=!0},d=r=>{if(u)return void o(new Error("Animation cancelled"));null===s&&(s=r);const c=Math.min(1,(r-s)/i);t[e]=a(c)*(n-l)+l,c>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(T,U.current,e,{duration:r.transitions.duration.standard}):U.current[T]=e},X=e=>{let t=U.current[T];N?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===Qo()?-1:1),K(t)},Q=()=>{const e=U.current[$];let t=0;const n=Array.from(G.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[$]>e){0===r&&(t=e);break}t+=o[$]}return t},J=()=>{X(-1*Q())},ee=()=>{X(Q())},te=W.useCallback((e=>{V({overflow:null,scrollbarWidth:e})}),[]),ne=Do((e=>{const{tabsMeta:t,tabMeta:n}=q();if(n&&t)if(n[R]<t[R]){const r=t[T]+(n[R]-t[R]);K(r,{animation:e})}else if(n[_]>t[_]){const r=t[T]+(n[_]-t[_]);K(r,{animation:e})}})),re=Do((()=>{if(I&&!1!==v){const{scrollTop:e,scrollHeight:t,clientHeight:n,scrollWidth:a,clientWidth:i}=U.current;let s,l;if(N)s=e>1,l=e<t-n-1;else{const e=Zo(U.current,r.direction);s=o?e<a-i-1:e>1,l=o?e>1:e<a-i-1}s===z.start&&l===z.end||B({start:s,end:l})}}));W.useEffect((()=>{const e=To((()=>{U.current&&(Y(),re())})),t=$o(U.current);let n;return t.addEventListener("resize",e),"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver(e),Array.from(G.current.children).forEach((e=>{n.observe(e)}))),()=>{e.clear(),t.removeEventListener("resize",e),n&&n.disconnect()}}),[Y,re]);const oe=W.useMemo((()=>To((()=>{re()}))),[re]);W.useEffect((()=>()=>{oe.clear()}),[oe]),W.useEffect((()=>{P(!0)}),[]),W.useEffect((()=>{Y(),re()})),W.useEffect((()=>{ne(GM!==D)}),[ne,D]),W.useImperativeHandle(s,(()=>({updateIndicator:Y,updateScrollButtons:re})),[Y,re]);const ae=Z.jsx(HM,we({},y,{className:Ti(A.indicator,y.className),ownerState:O,style:we({},D,y.style)}));let ie=0;const se=W.Children.map(u,(e=>{if(!W.isValidElement(e))return null;const t=void 0===e.props.value?ie:e.props.value;H.set(t,ie);const n=t===k;return ie+=1,W.cloneElement(e,we({fullWidth:"fullWidth"===S,indicator:n&&!L&&ae,selected:n,selectionFollowsFocus:b,onChange:h,textColor:w,value:t},1!==ie||!1!==k||e.props.tabIndex?{}:{tabIndex:0}))})),le=(()=>{const e={};e.scrollbarSizeListener=I?Z.jsx(UM,{onChange:te,className:Ti(A.scrollableX,A.hideScrollbar)}):null;const t=z.start||z.end,n=I&&("auto"===v&&t||!0===v);return e.scrollButtonStart=n?Z.jsx(g,we({orientation:m,direction:o?"right":"left",onClick:J,disabled:!z.start},x,{className:Ti(A.scrollButtons,x.className)})):null,e.scrollButtonEnd=n?Z.jsx(g,we({orientation:m,direction:o?"left":"right",onClick:ee,disabled:!z.end},x,{className:Ti(A.scrollButtons,x.className)})):null,e})();return Z.jsxs(jM,we({className:Ti(A.root,c),ownerState:O,ref:t,as:d},E,{children:[le.scrollButtonStart,le.scrollbarSizeListener,Z.jsxs(WM,{className:A.scroller,ownerState:O,style:{overflow:j.overflow,[N?"margin"+(o?"Left":"Right"):"marginBottom"]:C?void 0:-j.scrollbarWidth},ref:U,onScroll:oe,children:[Z.jsx(VM,{"aria-label":a,"aria-labelledby":i,"aria-orientation":"vertical"===m?"vertical":null,className:A.flexContainer,ownerState:O,onKeyDown:e=>{const t=G.current,n=_o(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===m?"ArrowLeft":"ArrowUp",a="horizontal"===m?"ArrowRight":"ArrowDown";switch("horizontal"===m&&o&&(r="ArrowRight",a="ArrowLeft"),e.key){case r:e.preventDefault(),BM(t,n,zM);break;case a:e.preventDefault(),BM(t,n,FM);break;case"Home":e.preventDefault(),BM(t,null,FM);break;case"End":e.preventDefault(),BM(t,null,zM)}},ref:G,role:"tablist",children:se}),L&&ae]}),le.scrollButtonEnd]}))})),YM=qM;function KM(e){return to("MuiTextField",e)}no("MuiTextField",["root"]);const XM=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],QM={standard:RN,filled:KI,outlined:UT},ZM=Qa(JI,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),JM=W.forwardRef((function(e,t){const n=Ya({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:a,className:i,color:s="primary",defaultValue:l,disabled:u=!1,error:c=!1,FormHelperTextProps:d,fullWidth:p=!1,helperText:f,id:h,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:b,label:y,maxRows:x,minRows:w,multiline:k=!1,name:S,onBlur:C,onChange:E,onFocus:I,placeholder:N,required:T=!1,rows:R,select:_=!1,SelectProps:$,type:M,value:O,variant:A="outlined"}=n,L=ke(n,XM),P=we({},n,{autoFocus:o,color:s,disabled:u,error:c,fullWidth:p,multiline:k,required:T,select:_,variant:A}),D=(e=>{const{classes:t}=e;return ta({root:["root"]},KM,t)})(P),F={};"outlined"===A&&(m&&void 0!==m.shrink&&(F.notched=m.shrink),F.label=y),_&&($&&$.native||(F.id=void 0),F["aria-describedby"]=void 0);const z=Lo(h),B=f&&z?`${z}-helper-text`:void 0,j=y&&z?`${z}-label`:void 0,W=QM[A],V=Z.jsx(W,we({"aria-describedby":B,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:p,multiline:k,name:S,rows:R,maxRows:x,minRows:w,type:M,value:O,id:z,inputRef:b,onBlur:C,onChange:E,onFocus:I,placeholder:N,inputProps:g},F,v));return Z.jsxs(ZM,we({className:Ti(D.root,i),disabled:u,error:c,fullWidth:p,ref:t,required:T,color:s,variant:A,ownerState:P},L,{children:[null!=y&&""!==y&&Z.jsx(zN,we({htmlFor:z,id:j},m,{children:y})),_?Z.jsx(f_,we({"aria-describedby":B,id:z,labelId:j,value:O,input:V},$,{children:a})):V,f&&Z.jsx(hN,we({id:B},d,{children:f}))]}))})),eO=JM;var tO,nO={},rO={exports:{}};(tO=rO).exports=function(e){return e&&e.__esModule?e:{default:e}},tO.exports.__esModule=!0,tO.exports.default=tO.exports;var oO=rO.exports,aO={};const iO=r(bS);var sO;function lO(){return sO||(sO=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=iO}(aO)),aO}var uO=oO;Object.defineProperty(nO,"__esModule",{value:!0});var cO=nO.default=void 0,dO=uO(lO()),pO=Z,fO=(0,dO.default)((0,pO.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");cO=nO.default=fO;var hO={},mO=oO;Object.defineProperty(hO,"__esModule",{value:!0});var gO=hO.default=void 0,vO=mO(lO()),bO=Z,yO=(0,vO.default)((0,bO.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");gO=hO.default=yO;var xO={},wO=oO;Object.defineProperty(xO,"__esModule",{value:!0});var kO=xO.default=void 0,SO=wO(lO()),CO=Z,EO=(0,SO.default)((0,CO.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");kO=xO.default=EO;var IO={},NO=oO;Object.defineProperty(IO,"__esModule",{value:!0});var TO=IO.default=void 0,RO=NO(lO()),_O=Z,$O=(0,RO.default)((0,_O.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");TO=IO.default=$O;var MO={},OO=oO;Object.defineProperty(MO,"__esModule",{value:!0});var AO=MO.default=void 0,LO=OO(lO()),PO=Z,DO=(0,LO.default)((0,PO.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonChecked");AO=MO.default=DO;var FO={},zO=oO;Object.defineProperty(FO,"__esModule",{value:!0});var BO=FO.default=void 0,jO=zO(lO()),WO=Z,VO=(0,jO.default)((0,WO.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");BO=FO.default=VO;var HO={},UO=oO;Object.defineProperty(HO,"__esModule",{value:!0});var GO=HO.default=void 0,qO=UO(lO()),YO=Z,KO=(0,qO.default)((0,YO.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");GO=HO.default=KO;var XO={},QO=oO;Object.defineProperty(XO,"__esModule",{value:!0});var ZO=XO.default=void 0,JO=QO(lO()),eA=Z,tA=(0,JO.default)((0,eA.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");ZO=XO.default=tA;var nA={exports:{}};nA.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",a="minute",i="hour",s="day",l="week",u="month",c="quarter",d="year",p="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,u),a=n-o<0,i=t.clone().add(r+(a?-1:1),u);return+(-(r+(n-o)/(a?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:s,D:p,h:i,m:a,s:o,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",x={};x[y]=g;var w=function(e){return e instanceof E},k=function e(t,n,r){var o;if(!t)return y;if("string"==typeof t){var a=t.toLowerCase();x[a]&&(o=a),n&&(x[a]=n,o=a);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var s=t.name;x[s]=t,o=s}return!r&&o&&(y=o),o||!r&&y},S=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new E(n)},C=b;C.l=k,C.i=w,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var o=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!C.u(t)||t,c=C.p(e),f=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(s)},h=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(c){case d:return r?f(1,0):f(31,11);case u:return r?f(1,g):f(0,g+1);case l:var y=this.$locale().weekStart||0,x=(m<y?m+7:m)-y;return f(r?v-x:v+(6-x),g);case s:case p:return h(b+"Hours",0);case i:return h(b+"Minutes",1);case a:return h(b+"Seconds",2);case o:return h(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=C.p(e),c="set"+(this.$u?"UTC":""),f=(n={},n[s]=c+"Date",n[p]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[i]=c+"Hours",n[a]=c+"Minutes",n[o]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],h=l===s?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(p,1);m.$d[f](h),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[C.p(e)]()},v.add=function(r,c){var p,f=this;r=Number(r);var h=C.p(c),m=function(e){var t=S(f);return C.w(t.date(t.date()+Math.round(e*r)),f)};if(h===u)return this.set(u,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return m(1);if(h===l)return m(7);var g=(p={},p[a]=t,p[i]=n,p[o]=e,p)[h]||1,v=this.$d.getTime()+r*g;return C.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),a=this.$H,i=this.$m,s=this.$M,l=n.weekdays,u=n.months,c=function(e,n,o,a){return e&&(e[n]||e(t,r))||o[n].slice(0,a)},d=function(e){return C.s(a%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:C.s(s+1,2,"0"),MMM:c(n.monthsShort,s,u,3),MMMM:c(u,s),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,l,2),ddd:c(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:C.s(a,2,"0"),h:d(1),hh:d(2),a:p(a,i,!0),A:p(a,i,!1),m:String(i),mm:C.s(i,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:o};return r.replace(m,(function(e,t){return t||h[e]||o.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,p,f){var h,m=C.p(p),g=S(r),v=(g.utcOffset()-this.utcOffset())*t,b=this-g,y=C.m(this,g);return y=(h={},h[d]=y/12,h[u]=y,h[c]=y/3,h[l]=(b-v)/6048e5,h[s]=(b-v)/864e5,h[i]=b/n,h[a]=b/t,h[o]=b/e,h)[m]||b,f?y:C.a(y)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),I=E.prototype;return S.prototype=I,[["$ms",r],["$s",o],["$m",a],["$H",i],["$W",s],["$M",u],["$y",d],["$D",p]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,E,S),e.$i=!0),S},S.locale=k,S.isDayjs=w,S.unix=function(e){return S(1e3*e)},S.en=x[y],S.Ls=x,S.p={},S}();var rA=nA.exports;const oA=n(rA);var aA={},iA=oO;Object.defineProperty(aA,"__esModule",{value:!0});var sA=aA.default=void 0,lA=iA(lO()),uA=Z,cA=(0,lA.default)((0,uA.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");sA=aA.default=cA;var dA={},pA=oO;Object.defineProperty(dA,"__esModule",{value:!0});var fA=dA.default=void 0,hA=pA(lO()),mA=Z,gA=(0,hA.default)((0,mA.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");fA=dA.default=gA;var vA={},bA=oO;Object.defineProperty(vA,"__esModule",{value:!0});var yA=vA.default=void 0,xA=bA(lO()),wA=Z,kA=(0,xA.default)((0,wA.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V10h16v11zm0-13H4V5h16v3z"}),"CalendarTodayOutlined");yA=vA.default=kA;var SA={},CA=oO;Object.defineProperty(SA,"__esModule",{value:!0});var EA=SA.default=void 0,IA=CA(lO()),NA=Z,TA=(0,IA.default)((0,NA.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");EA=SA.default=TA;var RA={},_A=oO;Object.defineProperty(RA,"__esModule",{value:!0});var $A=RA.default=void 0,MA=_A(lO()),OA=Z,AA=(0,MA.default)((0,OA.jsx)("path",{d:"M12.5 8H11v6l4.75 2.85.75-1.23-4-2.37zm4.837-6.19 4.607 3.845-1.28 1.535-4.61-3.843zm-10.674 0 1.282 1.536L3.337 7.19l-1.28-1.536zM12 4c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z"}),"AlarmOutlined");$A=RA.default=AA;var LA={},PA=oO;Object.defineProperty(LA,"__esModule",{value:!0});var DA=LA.default=void 0,FA=PA(lO()),zA=Z,BA=(0,FA.default)((0,zA.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");DA=LA.default=BA;var jA={},WA=oO;Object.defineProperty(jA,"__esModule",{value:!0});var VA=jA.default=void 0,HA=WA(lO()),UA=Z,GA=(0,HA.default)((0,UA.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");VA=jA.default=GA;var qA={},YA=oO;Object.defineProperty(qA,"__esModule",{value:!0});var KA,XA,QA=qA.default=void 0,ZA=YA(lO()),JA=Z,eL=(0,ZA.default)((0,JA.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");QA=qA.default=eL,(XA=KA||(KA={})).Pop="POP",XA.Push="PUSH",XA.Replace="REPLACE";var tL="beforeunload";function nL(e){void 0===e&&(e={});var t=e,n=t.initialEntries,r=void 0===n?["/"]:n,o=t.initialIndex,a=r.map((function(e){return we({pathname:"/",search:"",hash:"",state:null,key:iL()},"string"==typeof e?lL(e):e)})),i=rL(null==o?a.length-1:o,0,a.length-1),s=KA.Pop,l=a[i],u=aL(),c=aL();function d(e,t){return void 0===t&&(t=null),we({pathname:l.pathname,search:"",hash:""},"string"==typeof e?lL(e):e,{state:t,key:iL()})}function p(e,t,n){return!c.length||(c.call({action:e,location:t,retry:n}),!1)}function f(e,t){s=e,l=t,u.call({action:s,location:l})}function h(e){var t=rL(i+e,0,a.length-1),n=KA.Pop,r=a[t];p(n,r,(function(){h(e)}))&&(i=t,f(n,r))}var m={get index(){return i},get action(){return s},get location(){return l},createHref:function(e){return"string"==typeof e?e:sL(e)},push:function e(t,n){var r=KA.Push,o=d(t,n);p(r,o,(function(){e(t,n)}))&&(i+=1,a.splice(i,a.length,o),f(r,o))},replace:function e(t,n){var r=KA.Replace,o=d(t,n);p(r,o,(function(){e(t,n)}))&&(a[i]=o,f(r,o))},go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(e){return u.push(e)},block:function(e){return c.push(e)}};return m}function rL(e,t,n){return Math.min(Math.max(e,t),n)}function oL(e){e.preventDefault(),e.returnValue=""}function aL(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function iL(){return Math.random().toString(36).substr(2,8)}function sL(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,a=e.hash,i=void 0===a?"":a;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function lL(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var uL={},cL=oO;Object.defineProperty(uL,"__esModule",{value:!0});var dL=uL.default=void 0,pL=cL(lO()),fL=Z,hL=(0,pL.default)((0,fL.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen");dL=uL.default=hL;var mL={},gL=oO;Object.defineProperty(mL,"__esModule",{value:!0});var vL=mL.default=void 0,bL=gL(lO()),yL=Z,xL=(0,bL.default)((0,yL.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");vL=mL.default=xL;var wL={},kL=oO;Object.defineProperty(wL,"__esModule",{value:!0});var SL=wL.default=void 0,CL=kL(lO()),EL=Z,IL=(0,CL.default)((0,EL.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");SL=wL.default=IL;var NL={},TL=oO;Object.defineProperty(NL,"__esModule",{value:!0});var RL=NL.default=void 0,_L=TL(lO()),$L=Z,ML=(0,_L.default)((0,$L.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");RL=NL.default=ML;var OL={},AL=oO;Object.defineProperty(OL,"__esModule",{value:!0});var LL=OL.default=void 0,PL=AL(lO()),DL=Z,FL=(0,PL.default)((0,DL.jsx)("path",{d:"M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5zm-5-8h2v8h-2V3zm8 18h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3v5z"}),"CleaningServicesOutlined");LL=OL.default=FL;var zL={},BL=oO;Object.defineProperty(zL,"__esModule",{value:!0});var jL=zL.default=void 0,WL=BL(lO()),VL=Z,HL=(0,WL.default)((0,VL.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");jL=zL.default=HL;var UL={},GL=oO;Object.defineProperty(UL,"__esModule",{value:!0});var qL=UL.default=void 0,YL=GL(lO()),KL=Z,XL=(0,YL.default)((0,KL.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"Sort");qL=UL.default=XL;var QL={},ZL=oO;Object.defineProperty(QL,"__esModule",{value:!0});var JL=QL.default=void 0,eP=ZL(lO()),tP=Z,nP=(0,eP.default)((0,tP.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");JL=QL.default=nP;var rP={},oP=oO;Object.defineProperty(rP,"__esModule",{value:!0});var aP=rP.default=void 0,iP=oP(lO()),sP=Z,lP=(0,iP.default)((0,sP.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");aP=rP.default=lP;var uP={},cP=oO;Object.defineProperty(uP,"__esModule",{value:!0});var dP=uP.default=void 0,pP=cP(lO()),fP=Z,hP=(0,pP.default)((0,fP.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"NotInterested");function mP(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var o=1,a="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--o){s++;break}}else if("("===e[s]&&(o++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at "+s);a+=e[s++]}else a+=e[s++]+e[s++];if(o)throw new TypeError("Unbalanced pattern at "+n);if(!a)throw new TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:a}),n=s}else{for(var i="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;i+=e[s++]}if(!i)throw new TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:i}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,o=void 0===r?"./":r,a="[^"+gP(t.delimiter||"/#?")+"]+?",i=[],s=0,l=0,u="",c=function(e){if(l<n.length&&n[l].type===e)return n[l++].value},d=function(e){var t=c(e);if(void 0!==t)return t;var r=n[l],o=r.type,a=r.index;throw new TypeError("Unexpected "+o+" at "+a+", expected "+e)},p=function(){for(var e,t="";e=c("CHAR")||c("ESCAPED_CHAR");)t+=e;return t};l<n.length;){var f=c("CHAR"),h=c("NAME"),m=c("PATTERN");if(h||m){var g=f||"";-1===o.indexOf(g)&&(u+=g,g=""),u&&(i.push(u),u=""),i.push({name:h||s++,prefix:g,suffix:"",pattern:m||a,modifier:c("MODIFIER")||""})}else{var v=f||c("ESCAPED_CHAR");if(v)u+=v;else if(u&&(i.push(u),u=""),c("OPEN")){g=p();var b=c("NAME")||"",y=c("PATTERN")||"",x=p();d("CLOSE"),i.push({name:b||(y?s++:""),pattern:b&&!y?a:y,prefix:g,suffix:x,modifier:c("MODIFIER")||""})}else d("END")}}return i}function gP(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function vP(e){return e&&e.sensitive?"":"i"}function bP(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var r=n.strict,o=void 0!==r&&r,a=n.start,i=void 0===a||a,s=n.end,l=void 0===s||s,u=n.encode,c=void 0===u?function(e){return e}:u,d="["+gP(n.endsWith||"")+"]|$",p="["+gP(n.delimiter||"/#?")+"]",f=i?"^":"",h=0,m=e;h<m.length;h++){var g=m[h];if("string"==typeof g)f+=gP(c(g));else{var v=gP(c(g.prefix)),b=gP(c(g.suffix));if(g.pattern)if(t&&t.push(g),v||b)if("+"===g.modifier||"*"===g.modifier){var y="*"===g.modifier?"?":"";f+="(?:"+v+"((?:"+g.pattern+")(?:"+b+v+"(?:"+g.pattern+"))*)"+b+")"+y}else f+="(?:"+v+"("+g.pattern+")"+b+")"+g.modifier;else f+="("+g.pattern+")"+g.modifier;else f+="(?:"+v+b+")"+g.modifier}}if(l)o||(f+=p+"?"),f+=n.endsWith?"(?="+d+")":"$";else{var x=e[e.length-1],w="string"==typeof x?p.indexOf(x[x.length-1])>-1:void 0===x;o||(f+="(?:"+p+"(?="+d+"))?"),w||(f+="(?="+p+"|"+d+")")}return new RegExp(f,vP(n))}(mP(e,n),t,n)}function yP(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,o=n.exec(e.source);o;)t.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),o=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return yP(e,t,n).source}));return new RegExp("(?:"+r.join("|")+")",vP(n))}(e,t,n):bP(e,t,n)}dP=uP.default=hP;!function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}};n.default.locale(r,null,!0)}(rA);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var xP=function(e,t){return(xP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function wP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}xP(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var kP=function(){return kP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kP.apply(this,arguments)};function SP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function CP(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function EP(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function IP(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function NP(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function TP(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function RP(e){return this instanceof RP?(this.v=e,this):new RP(e)}function _P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}globalThis.window||(globalThis.window=globalThis);var $P,MP,OP=W.createContext(null),AP=function(e){var t=e.children,n=e.apiRef,r=void 0===n?null:n,o=e.reloadSubject,a=void 0===o?null:o,i=e.changeSubject,s=void 0===i?null:i,l=e.updateSubject,u=void 0===l?null:l,c=W.useMemo((function(){return{apiRef:r,reloadSubject:a,changeSubject:s,updateSubject:u}}),[r,a,s,u]);return W.createElement(OP.Provider,{value:c},t)},LP=(MP={useTheme:qa},{...ci(MP),...mi(MP)}).makeStyles,PP=function(e){var t=e.children,n=qa(),r=W.useMemo((function(){return Ua(n)}),[n]);return W.createElement(fa,{theme:r},t)};!function(e){e.Layout="custom-layout",e.Switch="switch-field",e.YesNo="yesno-field",e.Line="line-field",e.File="file-field",e.Group="group-layout",e.Paper="paper-layout",e.Outline="outline-layout",e.Expansion="expansion-layout",e.Radio="radio-field",e.Checkbox="checkbox-field",e.Text="text-field",e.Date="date-field",e.Time="time-field",e.Progress="progress-field",e.Component="component-field",e.Slider="slider-field",e.Combo="combo-field",e.Choose="choose-field",e.Tree="tree-field",e.Dict="dict-field",e.Init="init-field",e.Phony="phony-field",e.Button="button-field",e.Icon="icon-field",e.Complete="complete-field",e.Items="items-field",e.Rating="rating-field",e.Typography="typography-field",e.Fragment="fragment-layout",e.Div="div-layout",e.Box="box-layout",e.Tabs="tabs-layout",e.Hero="hero-layout",e.Center="center-layout",e.Stretch="stretch-layout",e.Condition="condition-layout"}($P||($P={})),Object.entries($P).forEach((function(e){var t=NP(e,2),n=t[0],r=t[1];$P[n]=Symbol.for(r)}));var DP,FP=$P,zP=new Set([FP.Group,FP.Box,FP.Paper,FP.Outline,FP.Expansion,FP.Div,FP.Tabs,FP.Hero,FP.Fragment,FP.Center,FP.Stretch,FP.Condition,FP.Layout]),BP=function(e){return zP.has(e)},jP=function(e){var t=e.type;return e.name&&!zP.has(t)},WP=function(e){return"object"==typeof e&&null!==e&&Object.getPrototypeOf(e)===Object.prototype},VP=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(Array.isArray(e[n])?t[n]=e[n].slice(0):WP(e[n])?t[n]=VP(e[n]):t[n]=e[n]);return t},HP=function(e,t,n){var r=(Array.isArray(t)?t:t.split(".").filter((function(e){return e}))).flatMap((function(e){return"string"==typeof e?e.split("."):e})),o=r.slice(0,r.length-1).reduce((function(e,t){return e&&e[t]}),e),a=NP(r.reverse(),1)[0];try{return o[a]=n,!0}catch(i){return!1}},UP=function(e,t){return(Array.isArray(t)?t:t.split(".").filter((function(e){return e}))).flatMap((function(e){return"string"==typeof e?e.split("."):e})).reduce((function(e,t){return e&&e[t]}),e)},GP=function(e,t){if(e===t)return!0;if(WP(e)&&WP(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!GP(e[n],t[n]))return!1;return!0}return!1},qP=function(){function e(){var e=this;this._events={},this.getListeners=function(t){return e._events[t]||[]},this.subscribe=function(t,n){!e._events[t]&&(e._events[t]=[]),e._events[t].push(n)},this.unsubscribe=function(t,n){!e._events[t]&&(e._events[t]=[]),e._events[t]=e._events[t].filter((function(e){return n!==e}))},this.unsubscribeAll=function(){e._events={}},this.once=function(t,n){var r=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return CP(e,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,n.apply(void 0,TP([],NP(o),!1))];case 1:return e.sent(),this.unsubscribe(t,r),[2]}}))}))};return e.subscribe(t,r),function(){e.unsubscribe(t,r)}},this.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return CP(e,void 0,void 0,(function(){var e,r;return EP(this,(function(o){switch(o.label){case 0:e=TP([],NP(this._events&&this._events[t]||[]),!1),r=0,o.label=1;case 1:return r===e.length?[3,4]:[4,e[r].apply(e,TP([],NP(n),!1))];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))}}return Object.defineProperty(e.prototype,"hasListeners",{get:function(){return e=this._events,!(0===Object.getOwnPropertySymbols(e).length&&0===Object.getOwnPropertyNames(e).length);var e},enumerable:!1,configurable:!0}),e}(),YP=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return e}:1===e.length?e[0]:e.reduce((function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(void 0,TP([],NP(n),!1)))}}))},KP=function(e){return void 0===e&&(e=1e3),new Promise((function(t){return setTimeout((function(){return t()}),e)}))},XP=Symbol("cancelable-canceled"),QP=function(e){var t,n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(r,o){var a=!1;t&&t(),t=function(){a=!0,r(XP)};var i=e.apply(void 0,TP([],NP(n),!1));i.then((function(e){a||r(e)})),i.catch((function(e){a||o(e)}))}))};return n.cancel=function(){t&&t()},n},ZP=function(e){var t=Promise.resolve(),n=void 0,r=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var i=!1,s=function(){i=!0};return n=n?YP(n,s):s,t=t.then((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return i?[3,2]:[4,e.apply(void 0,TP([],NP(o),!1))];case 1:return[2,t.sent()];case 2:return[2,XP]}}))}))})).finally((function(){r.clear(),n=void 0}))};return r.clear=function(){t=Promise.resolve(),n=void 0},r.cancel=function(){t=Promise.resolve(),n&&n(),n=void 0},r},JP=function(e){return requestAnimationFrame(e)},eD=function(e){return cancelAnimationFrame(e)},tD=function(e,t){var n;void 0===t&&(t=1e3);var r=null,o=t?setTimeout:JP,a=t?clearTimeout:eD,i=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];null!==n&&a(n);var l=function(){r=null,n=null,e.apply(void 0,TP([],NP(i),!1))};r=l,n=o(l,t)};return i.clear=function(){null!==n&&a(n),n=null,r=null},i.flush=function(){null!==n&&a(n),r&&r(),n=null,r=null},i.pending=function(){return!!r},i},nD=Symbol("observer-subscribe"),rD=Symbol("observer-connect"),oD=Symbol("observer-disconnect"),aD=Symbol("observer-connect-listen"),iD=Symbol("observer-disconnect-listen"),sD=function(){function e(t){var n=this;this.dispose=t,this.broadcast=new qP,this._isShared=!1,this._subscribe=function(e,t){n.broadcast.subscribe(nD,t),e[aD]((function(){n.broadcast.emit(rD)})),e[iD]((function(){n.hasListeners||n.broadcast.emit(oD)}))},this._unsubscribe=function(e){n.broadcast.unsubscribe(nD,e)},this.tryDispose=function(){n.hasListeners||n._isShared||(n.dispose(),n.broadcast.emit(oD))},this.map=function(t){var r,o=new e(YP((function(){return n.tryDispose()}),(function(){return r()}))),a=function(e){var n=t(e);o.emit(n)};return n._subscribe(o,a),r=function(){return n._unsubscribe(a)},o},this.flatMap=function(t){var r,o=new e(YP((function(){return n.tryDispose()}),(function(){return r()}))),a=function(e){var n=t(e);Array.isArray(n)?n.forEach((function(e){o.emit(e)})):o.emit(n)};return n._subscribe(o,a),r=function(){return n._unsubscribe(a)},o},this.operator=function(e){return e(n)},this.reduce=function(t,r){var o,a=r,i=new e(YP((function(){return n.tryDispose()}),(function(){return o()}))),s=function(e){var n=t(a,e);a=n,i.emit(n)};return n._subscribe(i,s),o=function(){return n._unsubscribe(s)},i},this.split=function(){var t,r=new e(YP((function(){return n.tryDispose()}),(function(){return t()}))),o=function(e){Array.isArray(e)?e.flat(Number.POSITIVE_INFINITY).forEach((function(e){r.emit(e)})):r.emit(e)};return n._subscribe(r,o),t=function(){return n._unsubscribe(o)},r},this.mapAsync=function(t,r){var o,a=new e(YP((function(){return n.tryDispose()}),(function(){return o()}))),i=ZP(t),s=function(e){return CP(n,void 0,void 0,(function(){var t,n;return EP(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,i(e)];case 1:return(t=o.sent())!==XP&&a.emit(t),[3,3];case 2:if(n=o.sent(),!r)throw n;return r(n),[3,3];case 3:return[2]}}))}))};return n._subscribe(a,s),o=YP((function(){return n._unsubscribe(s)}),(function(){return i.clear()})),a},this.filter=function(t){var r,o=new e(YP((function(){return n.tryDispose()}),(function(){return r()}))),a=function(e){t(e)&&o.emit(e)};return n._subscribe(o,a),r=function(){return n._unsubscribe(a)},o},this.tap=function(t){var r,o=new e(YP((function(){return n.tryDispose()}),(function(){return r()}))),a=function(e){t(e),o.emit(e)};return n._subscribe(o,a),r=function(){return n._unsubscribe(a)},o},this.debounce=function(t){var r,o=new e(YP((function(){return n.tryDispose()}),(function(){return r()}))),a=tD((function(e){o.emit(e)}),t);return n._subscribe(o,a),r=YP((function(){return a.clear()}),(function(){return n._unsubscribe(a)})),o},this.delay=function(t){var r,o=new e(YP((function(){return n.tryDispose()}),(function(){return r()}))),a=!1,i=ZP((function(e){return CP(n,void 0,void 0,(function(){return EP(this,(function(n){switch(n.label){case 0:return[4,KP(t)];case 1:return n.sent(),a?[3,3]:[4,o.emit(e)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}));return n._subscribe(o,i),r=YP((function(){return i.clear()}),(function(){return n._unsubscribe(i)}),(function(){a=!0})),o},this.emit=function(e){return CP(n,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,this.broadcast.emit(nD,e)];case 1:return t.sent(),[2]}}))}))},this.connect=function(e){return n.broadcast.subscribe(nD,e),n.broadcast.emit(rD),YP((function(){return n.tryDispose()}),(function(){return n._unsubscribe(e)}))},this.once=function(e){var t;return t=n.connect((function(n){e(n),t()}))},this.share=function(){return n._isShared=!0,n},this.repeat=function(t){var r,o;void 0===t&&(t=1e3);var a=new e(YP((function(){return n.tryDispose()}),(function(){return r()}),(function(){return void 0!==o&&clearTimeout(o)}))),i=function(e){void 0!==o&&clearTimeout(o),a.emit(e),n.hasListeners&&(o=setTimeout(i,t,e))};return n._subscribe(a,i),r=function(){return n._unsubscribe(i)},a},this.merge=function(t){var r,o=new e(YP((function(){return n.tryDispose()}),(function(){return r()}))),a=function(e){o.emit(e)};n._subscribe(o,a);var i=function(){};return o[aD]((function(){i=t.connect(a)||function(){}})),r=YP((function(){return n._unsubscribe(a)}),(function(){return i()})),o},this.unsubscribe=function(){n.broadcast.unsubscribeAll(),n.broadcast.emit(oD),n.dispose()},this.toPromise=function(){return new Promise((function(e){n.once((function(t){return e(t)}))}))},this.toIteratorContext=function(){var e=n,t=!1;return{iterate:function(){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof RP?Promise.resolve(n.value.v).then(l,u):c(a[0][2],n)}catch(r){c(a[0][3],r)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}(this,arguments,(function(){return EP(this,(function(n){switch(n.label){case 0:return t?[3,4]:[4,RP(e.toPromise())];case 1:return[4,RP(n.sent())];case 2:return[4,n.sent()];case 3:return n.sent(),[3,0];case 4:return[2]}}))}))},done:function(){t=!0}}}}return Object.defineProperty(e.prototype,"isShared",{get:function(){return this._isShared},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasListeners",{get:function(){return!!this.broadcast.getListeners(nD).length},enumerable:!1,configurable:!0}),e.prototype[aD]=function(e){this.broadcast.once(rD,e)},e.prototype[iD]=function(e){this.broadcast.once(oD,e)},e}(),lD=Symbol("react-declarative-subject"),uD=function(){function e(){var e=this;this._emitter=new qP,this.map=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.map(t)},this.flatMap=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.flatMap(t)},this.reduce=function(t,n){var r,o=new sD((function(){return r()}));return r=e.subscribe(o.emit),o.reduce(t,n)},this.mapAsync=function(t,n){var r,o=new sD((function(){return r()}));return r=e.subscribe(o.emit),o.mapAsync(t,n)},this.filter=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.filter(t)},this.tap=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.tap(t)},this.operator=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.operator(t)},this.split=function(){var t,n=new sD((function(){return t()}));return t=e.subscribe(n.emit),n.split()},this.debounce=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.debounce(t)},this.delay=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.delay(t)},this.repeat=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.repeat(t)},this.merge=function(t){var n,r=new sD((function(){return n()}));return n=e.subscribe(r.emit),r.merge(t)},this.subscribe=function(t){return e._emitter.subscribe(lD,t),function(){e._emitter.unsubscribe(lD,t)}},this.unsubscribeAll=function(){e._emitter.unsubscribeAll()},this.once=function(t){return e._emitter.once(lD,t)},this.toPromise=function(){return e.toObserver().toPromise()},this.toIteratorContext=function(){return e.toObserver().toIteratorContext()},this.next=this.next.bind(this),this.toObserver=this.toObserver.bind(this),this.toIteratorContext=this.toIteratorContext.bind(this)}return e.prototype.next=function(e){return CP(this,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,this._emitter.emit(lD,e)];case 1:return t.sent(),[2]}}))}))},e.prototype.toObserver=function(){var e,t=new sD((function(){return e()}));return e=this.subscribe(t.emit),t},e}(),cD=function(e){var t,n=0,r=new sD((function(){void 0!==t&&clearTimeout(t)})),o=function(){r.emit(n),n++,t=setTimeout(o,e)};return r[aD]((function(){o()})),r},dD=function(e,t){var n=!1,r=new sD((function(){n=!0}));return r[aD]((function(){CP(void 0,void 0,void 0,(function(){var o,a;return EP(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e()];case 1:return o=i.sent(),n||r.emit(o),[3,3];case 2:if(a=i.sent(),!t)throw a;return t(a),[3,3];case 3:return[2]}}))}))})),r},pD=function(e){var t,n=new sD((function(){void 0!==t&&clearTimeout(t)})),r=function(){t=void 0,n.emit()};return n[aD]((function(){setTimeout(r,e)})),n},fD=function(e){var t=new sD((function(){}));return t[aD]((function(){Array.isArray(e)?e.flat(Number.POSITIVE_INFINITY).forEach((function(e){t.emit(e)})):t.emit(e)})),t},hD=function(e){var t=new sD((function(){document.removeEventListener(e,t.emit)}));return"document"in globalThis&&t[aD]((function(){document.addEventListener(e,t.emit)})),t},mD=function(e){return{tap:function(t){return e().tap(t)},debounce:function(t){return e().debounce(t)},delay:function(t){return e().delay(t)},repeat:function(t){return e().repeat(t)},filter:function(t){return e().filter(t)},map:function(t){return e().map(t)},flatMap:function(t){return e().flatMap(t)},operator:function(t){return e().operator(t)},reduce:function(t,n){return e().reduce(t,n)},mapAsync:function(t,n){return e().mapAsync(t,n)},merge:function(t){return e().merge(t)},split:function(){return e().split()},connect:function(t){return e().connect(t)},once:function(t){return e().once(t)},unsubscribe:function(){return e().unsubscribe()},share:function(){return e().share()},toPromise:function(){return e().toPromise()},toIteratorContext:function(){return e().toIteratorContext()}}},gD=function(){function e(){}var t;return t=e,e.merge=function(e){var t=(new uD).toObserver();return e.forEach((function(e){e&&(t=t.merge(e))})),t},e.join=function(e,t){var n=void 0===t?{}:t,r=n.race,o=void 0!==r&&r,a=n.buffer,i=void 0===a?[]:a,s=function(){},l=new sD((function(){return s()}));e=e.filter((function(e){return!!e})),i=TP([],NP(new Array(e.length)),!1).map((function(e,t){return i[t]}));var u=[];return l[aD]((function(){e.forEach((function(e,t){if(e){var n=e.connect((function(e){i[t]=e,i.every((function(e){return void 0!==e}))&&(l.emit(TP([],NP(i),!1)),!o&&i.fill(void 0))}));u.push((function(){return n()}))}})),s=YP.apply(void 0,TP([],NP(u),!1))})),l},e.unicast=function(e){return kP(kP({},mD(e)),{isUnicasted:!0})},e.multicast=function(e){var t;return kP(kP({},mD((function(){return t||(t=e())[iD]((function(){t=void 0})),t}))),{getRef:function(){return t},isMulticasted:!0})},e.createHot=function(e){var t,n=new sD((function(){return t()}));return t=e(n.emit)||function(){},n},e.createCold=function(e){var t=function(){},n=new sD((function(){return t()}));return n[aD]((function(){t=e(n.emit)||function(){}})),n},e.create=t.createCold,e.pipe=function(e,t){var n=function(){},r=new sD((function(){return n()}));return r[aD]((function(){var o=new uD,a=e.connect(o.next),i=t(o,r.emit)||function(){};n=YP((function(){return i()}),(function(){return a()}))})),r},e.fromInterval=cD,e.fromPromise=dD,e.fromDelay=pD,e.fromArray=fD,e.fromEvent=hD,e.fromValue=function(e){var t=new sD((function(){}));return t[aD]((function(){"function"==typeof e?t.emit(e()):t.emit(e)})),t},e.fromSubject=function(e){var t,n=new sD((function(){return t()}));return t=e.subscribe(n.emit),n},e.fromBehaviorSubject=function(e){var t,n=new sD((function(){return t()}));return n[aD]((function(){e.data&&n.emit(e.data)})),t=e.subscribe(n.emit),n},e}(),vD=gD.create((function(e){return document.addEventListener("mousemove",e),function(){return document.removeEventListener("mousemove",e)}})),bD=gD.create((function(e){return document.addEventListener("touchmove",e),function(){return document.removeEventListener("touchmove",e)}})),yD=gD.create((function(e){return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}})),xD=gD.unicast((function(){var e=0;return gD.merge([vD,bD,yD]).filter((function(){return 20===e||(e+=1,!1)})).tap((function(){e=0})).share()})),wD=function(e){return xD.connect(e)},kD=gD.unicast((function(){return gD.create((function(e){return gD.fromEvent("keydown").connect((function(t){"Tab"===t.code&&e()}))})).share()})),SD=gD.unicast((function(){return gD.create((function(e){return document.addEventListener("touchstart",e,{passive:!1}),document.addEventListener("mousedown",e),function(){document.removeEventListener("touchstart",e),document.removeEventListener("mousedown",e)}})).share()})),CD=function(e){var t=W.createContext(e||null);return[function(e){var n=e.children,r=e.payload;return V.createElement(t.Provider,{value:r},n)},function(){return W.useContext(t)}]},ED=NP(CD(),2),ID=ED[0],ND=ED[1],TD=W.createContext(null),RD={},_D=function(e){var t=e.children,n=e.payload,r=void 0===n?RD:n;return W.createElement(TD.Provider,{value:r},t)},$D=function(){return W.useContext(TD)},MD=((DP={})[FP.Checkbox]=!1,DP[FP.Radio]=null,DP[FP.Text]="",DP[FP.Switch]=!1,DP[FP.Progress]=1,DP[FP.Slider]=0,DP[FP.Combo]=null,DP[FP.Items]=null,DP[FP.Rating]=3,DP[FP.Typography]="",DP[FP.Date]="",DP[FP.Time]="",DP[FP.File]=null,DP[FP.Choose]=null,DP[FP.Component]=null,DP[FP.Complete]="",DP[FP.Init]=null,DP[FP.YesNo]=null,DP[FP.Dict]=null,DP[FP.Tree]=null,DP),OD=function(e){var t=MD[e];return void 0===t?void console.warn("react-declarative One initialValue unknown type ".concat(String(e))):t},AD=function(e){void 0===e&&(e=[]);var t=[],n=function(e){return void 0===e&&(e=[]),null==e?void 0:e.forEach((function(e){var r=e.fields||[],o=e.child?[e.child]:[];n(TP(TP([],NP(r),!1),NP(o),!1)),t.push(e)}))};return n(e),t},LD=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(!r.length)return e;var a=r.shift();if(WP(e)&&WP(a))for(var i in a)Array.isArray(a[i])?e[i]=a[i].slice(0):WP(a[i])?(e[i]||Object.assign(e,((t={})[i]={},t)),LD(e[i],a[i])):Object.assign(e,((n={})[i]=a[i],n));return LD.apply(void 0,TP([e],NP(r),!1))},PD=function(e,t){var n=(Array.isArray(t)?t:t.split(".").filter((function(e){return e}))).flatMap((function(e){return"string"==typeof e?e.split("."):e}));n.slice(0,n.length-1).reduce((function(e,t){return e[t]=e[t]?e[t]:{}}),e)},DD=function(e){var t=NP(W.useState(e),2),n=t[0],r=t[1],o=W.useRef(n),a=W.useCallback((function(e){var t;t="function"==typeof e?e(o.current):e,o.current=t,r(t)}),[]);return[o,a]},FD=Symbol("empty-value"),zD=function(e){var t,n=W.useRef(FD);return n.current===FD&&(n.current="function"==typeof(t=e)?t():t),n.current},BD=function(e){var t=zD((function(){return new uD}));return W.useEffect((function(){var n=void 0;return e&&(n=e.subscribe(t.next)),n}),[e]),t},jD="one-resolve",WD=function(e){return e},VD=function(e,t,n){var r={};return e&&AD(e).filter((function(e){return!n||!e.features||e.features.some((function(e){return n.includes(e)}))})).filter((function(e){return e.type!==FP.Phony})).filter((function(e){return e.type!==FP.Button})).filter((function(e){return e.type!==FP.Icon})).forEach((function(e){if(jP(e)){if(PD(r,e.name),"function"==typeof e.hidden?e.hidden(t):e.hidden)return;void 0===e.defaultValue?HP(r,e.name,UP(r,e.name)||OD(e.type)):"function"==typeof e.defaultValue?HP(r,e.name,e.defaultValue(t)):HP(r,e.name,e.defaultValue)}})),r},HD=function(e){var t=W.useRef(e);return t.current=e,t},UD=W.createContext(null),GD=function(e){var t=e.children,n=SP(e,["children"]),r=W.useRef({}),o=W.useRef(!1),a=n.fields,i=void 0===a?[]:a,s=n.features,l=n.change,u=void 0===l?function(){return null}:l,c=n.fallback,d=void 0===c?function(){return null}:c,p=n.handler,f=void 0===p?function(){return{}}:p,h=n.payload,m=n.loadStart,g=n.loadEnd,v=n.incomingTransform,b=NP(function(e){var t=e.handler,n=e.fallback,r=e.fields,o=e.features,a=e.payload,i=e.change,s=e.loadStart,l=e.loadEnd,u=e.incomingTransform,c=void 0===u?WD:u,d=NP(DD(null),2),p=d[0],f=d[1],h=W.useContext(OP),m=h.apiRef,g=h.changeSubject,v=h.reloadSubject,b=h.updateSubject,y=W.useRef(!0),x=W.useRef(!1),w=BD(g),k=BD(v),S=BD(b);W.useEffect((function(){var e,u=function(){return CP(void 0,void 0,void 0,(function(){var e,u,d,h,m,g,v;return EP(this,(function(b){switch(b.label){case 0:return x.current?[2]:[3,1];case 1:if("function"!=typeof t)return[3,9];e=!0,s&&s(jD),b.label=2;case 2:return b.trys.push([2,6,7,8]),(u=t(a))instanceof Promise?(d=LD,h=[{},VD(r,a,o)],m=VP,[4,u]):[3,4];case 3:return v=d.apply(void 0,h.concat([m.apply(void 0,[b.sent()])])),i(v,!0),y.current&&f(c(v,a)),[3,5];case 4:v=LD({},VD(r,a,o),VP(u)),i(v,!0),y.current&&f(c(v,a)),b.label=5;case 5:return[3,8];case 6:if(g=b.sent(),e=!1,!n)throw g;return n(g),[3,8];case 7:return l&&l(e,jD),x.current=!0,[7];case 8:return[3,10];case 9:t&&!GP(p.current,t)&&(v=LD({},VD(r,a,o),VP(t)),y.current&&f(c(v,a))),b.label=10;case 10:return[2]}}))}))};u(),e={reload:u,change:function(e,t){void 0===t&&(t=!1),f(c(e,a)),i(e,t)},getData:function(){return kP({},p.current||{})}},"function"==typeof m?m(e):m&&(m.current=e),k.unsubscribeAll(),k.subscribe(e.reload),w.unsubscribeAll(),w.subscribe((function(t){t&&t!==p.current&&e.change(t,!0)})),S.unsubscribeAll(),S.subscribe((function(t){t&&t!==p.current&&e.change(t,!1)}))}),[t]),W.useLayoutEffect((function(){return function(){y.current=!1}}),[]);var C=W.useCallback((function(){return p.current}),[]);return[p.current,f,C]}({handler:f,fallback:d,fields:i,features:s,payload:h,change:u,loadStart:m,loadEnd:g,incomingTransform:v}),3),y=b[0],x=b[1],w=b[2],k=HD(y),S=W.useCallback((function(e,t){var n=r.current,a=k.current;x(e),Object.entries(t).forEach((function(e){var t=NP(e,2),r=t[0],o=t[1];n[r]=o})),Object.values(n).some((function(e){return e}))?o.current=!0:(e!==a||o.current)&&(o.current=!1,u(e,!1))}),[]),C=W.useCallback((function(e){return S(VP(kP(kP({},k.current),e)),{})}),[]),E=W.useMemo((function(){return{object:y,setObject:S,changeObject:C,getObjectRef:w}}),[y]);return W.createElement(UD.Provider,{value:E},!!y&&t)},qD=function(){return W.useContext(UD)},YD=function(){},KD=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var r=W.useRef(!0),o=W.useRef(n);return W.useEffect((function(){return r.current?(r.current=!1,YD):o.current?YD:e()||YD}),t),W.useMemo((function(){return{resetWatcher:function(){r.current=!0},beginWatch:function(){r.current=!1,o.current=!1},stopWatch:function(){o.current=!0}}}),[])},XD=function(e){var t=zD((function(){return new uD}));return KD((function(){t.next(e)}),[e]),t},QD=function(){return eS()},ZD=QD(),JD=function(e){void 0===e&&(e=0);var t=NP(W.useState(ZD),2),n=t[0],r=t[1],o=W.useCallback((function(){return r(QD())}),[]);return W.useEffect((function(){var t;return e&&(t=setTimeout((function(){t=void 0,o()}),e)),function(){void 0!==t&&clearTimeout(t)}}),[n,e,o]),{reloadTrigger:n,doReload:o}},eF=function(e){var t=e.reloadSubject,n=e.loading,r=e.disabled,o=e.children,a=e.fallback,i=e.Loader,s=void 0===i?function(){return null}:i,l=e.Error,u=void 0===l?function(){return null}:l,c=e.onLoadStart,d=e.onLoadEnd,p=e.payload,f=e.deps,h=void 0===f?[]:f,m=e.throwError,g=void 0!==m&&m,v=NP(W.useState(""),2),b=v[0],y=v[1],x=NP(W.useState(r),2),w=x[0],k=x[1],S=XD(r);W.useEffect((function(){return S.subscribe((function(e){e||k(!1)}))}),[]);var C=JD(),E=C.reloadTrigger,I=C.doReload,N=BD(t);W.useEffect((function(){return N.subscribe((function(){I()}))}),[]);var T=W.useRef(null),R=NP(W.useState(!1),2),_=R[0],$=R[1],M=NP(W.useState(!1),2),O=M[0],A=M[1],L=W.useRef(!0),P=n||_;return W.useLayoutEffect((function(){return function(){L.current=!1}}),[]),W.useEffect((function(){if(!w){T.current&&T.current.cancel();var e=QP((function(){return CP(void 0,void 0,void 0,(function(){var e,t,n;return EP(this,(function(r){switch(r.label){case 0:e=!0,c&&c(),r.label=1;case 1:return r.trys.push([1,5,6,7]),(t=o(p))instanceof Promise?[4,t]:[3,3];case 2:return[2,r.sent()||null];case 3:return[2,t||null];case 4:return[3,7];case 5:throw n=r.sent(),e=!1,n;case 6:return d&&d(e),[7];case 7:return[2]}}))}))}));T.current=e,CP(void 0,void 0,void 0,(function(){var t,n,r;return EP(this,(function(o){switch(o.label){case 0:t=!1,L.current&&$(!0),L.current&&A(!1),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,e()];case 2:return(n=o.sent())===XP?(t=!0,[2]):(T.current=null,L.current&&queueMicrotask((function(){return vy.flushSync((function(){y(n)}))})),[3,5]);case 3:if(r=o.sent(),L.current&&A(!0),g)throw r;return a&&a(r),[3,5];case 4:return t||L.current&&$(!1),[7];case 5:return[2]}}))}))}}),TP(TP([p,w],NP(h),!1),[E],!1)),P?W.createElement(s,{payload:p}):O?W.createElement(u,{payload:p}):W.createElement(W.Fragment,null,b)},tF=function(){function e(e){var t=this;this.target=e,this._status="pending",e.then((function(){return t._status="fulfilled"})),e.catch((function(){return t._status="rejected"}))}return Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),e}(),nF=function(e){var t=void 0,n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"pending"!==(null==t?void 0:t.status)&&(t=new tF(e.apply(void 0,TP([],NP(n),!1)))),null==t?void 0:t.target};return n.clear=function(){t=void 0},n.getStatus=function(){return(null==t?void 0:t.status)||"ready"},n},rF=function(e,t){void 0===t&&(t=[]);var n=W.useRef(e);return n.current=e,W.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.current.apply(n,TP([],NP(e),!1))}),t)},oF=function(e,t){var n=void 0===t?{}:t,r=n.onLoadStart,o=n.onLoadEnd,a=n.fallback,i=n.throwError,s=NP(W.useState(!1),2),l=s[0],u=s[1],c=NP(W.useState(!1),2),d=c[0],p=c[1],f=W.useRef(!0),h=rF(e);W.useLayoutEffect((function(){return function(){f.current=!1}}),[]);var m=W.useMemo((function(){return nF((function(e){return CP(void 0,void 0,void 0,(function(){var t,n,s;return EP(this,(function(l){switch(l.label){case 0:t=function(){return CP(void 0,void 0,void 0,(function(){var t,n,a;return EP(this,(function(i){switch(i.label){case 0:t=!0,r&&r(),i.label=1;case 1:return i.trys.push([1,5,6,7]),(n=h(e))instanceof Promise?[4,n]:[3,3];case 2:return[2,i.sent()||null];case 3:return[2,n||null];case 4:return[3,7];case 5:throw a=i.sent(),t=!1,a;case 6:return o&&o(t),[7];case 7:return[2]}}))}))},f.current&&u(!0),f.current&&p(!1),n=!1,l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,t()];case 2:return[2,l.sent()];case 3:if(s=l.sent(),f.current&&p(!0),i)throw s;return a&&a(s),[3,5];case 4:return n||f.current&&u(!1),[7];case 5:return[2,null]}}))}))}))}),[]);return{loading:l,error:d,execute:m}},aF=function(e){var t=zD(e),n=W.useRef(t),r=W.useCallback((function(e){var t;t="function"==typeof e?e(n.current):e,n.current=t}),[]);return[n,r]},iF={name:"",menu:function(){return null},menuItems:[],onValueChange:function(){return null}},sF=LP()({container:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",maxHeight:"45vh",overflowY:"auto",overflowX:"hidden"},content:{flex:1,display:"flex",flexDirection:"column",justifyContent:"stretch"},loader:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}),lF=function(e){var t=e.requestSubject,n=sF().classes,r=NP(W.useState(null),2),o=r[0],a=r[1],i=NP(W.useState(0),2),s=i[0],l=i[1],u=NP(aF(iF),2),c=u[0],d=u[1],p=NP(aF(0),2),f=p[0],h=p[1],m=qD(),g=m.object,v=m.changeObject,b=$D(),y=W.useCallback((function(){l((function(e){return e+1}))}),[]),x=W.useCallback((function(){l((function(e){return Math.max(e-1,0)}))}),[]),w=oF((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,c.current.menu(c.current.name,e,k.current,b,c.current.onValueChange,v)];case 1:return t.sent(),a(null),[2]}}))}))}),{onLoadStart:y,onLoadEnd:x}).execute,k=HD(g),S=W.useMemo((function(){return c.current.menuItems.map((function(e){var t=e.isDisabled,n=void 0===t?function(){return!1}:t,r=e.isVisible,o=void 0===r?function(){return!0}:r,a=SP(e,["isDisabled","isVisible"]);return kP(kP({},a),{isDisabled:function(){return n(k.current,b)},isVisible:function(){return o(k.current,b)}})}))}),[c.current.menuItems]),C=HD(S);return W.useEffect((function(){return t.subscribe(ZP((function(e){var t=e.event,n=e.menuItems,r=e.menu,o=e.name,i=e.onValueChange;return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(s){switch(s.label){case 0:return[4,KP(350)];case 1:return s.sent(),h((function(e){return e+1})),d({name:o,menuItems:n,onValueChange:i,menu:r}),e=document.elementFromPoint(t.clientX,t.clientY),a(e||t.target),[2]}}))}))})))}),[]),W.createElement(Yk,{key:f.current,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchorEl:o,open:!!o,onClose:function(){return a(null)},MenuListProps:{disablePadding:!0}},W.createElement("div",{className:n.container},0!==s&&W.createElement("div",{className:n.loader},W.createElement(Dx,{size:14})),W.createElement("div",{className:n.content},C.current.map((function(e,t){var n=e.label,r=void 0===n?"unknown-label":n,o=e.action,i=void 0===o?"unknown-action":o,s=e.divider,l=e.onClick,u=e.icon,d=e.isDisabled,p=void 0===d?function(){return!1}:d,h=e.isVisible,m=void 0===h?function(){return!0}:h;return W.createElement(eF,{Loader:function(){return s?null:W.createElement(Yw,{sx:{visibility:"hidden",minWidth:225}},!!u&&W.createElement(Vx,null,W.createElement(u,null)),W.createElement(Kx,{variant:"inherit"},r))},onLoadStart:y,onLoadEnd:x,key:"".concat(f.current,"-").concat(t),payload:b},(function(e){return CP(void 0,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return[4,KP(0)];case 1:return n.sent(),[4,p(e)];case 2:return t=n.sent(),[4,m(e)];case 3:return n.sent()?s?[2,W.createElement(Fw,{orientation:"horizontal"})]:[2,W.createElement(Yw,{disabled:t,onClick:function(){if(l)return l(k.current,e,c.current.onValueChange,v),void a(null);w(i)},sx:{minWidth:225}},!!u&&W.createElement(Vx,null,W.createElement(u,null)),W.createElement(Kx,{variant:"inherit"},r))]:[2,null]}}))}))}))})))))},uF=W.createContext(null),cF=function(e){var t=e.children,n=BD(),r=W.useMemo((function(){return{createContextMenu:function(e){var t=e.menuItems,r=void 0===t?[]:t,o=e.onValueChange,a=void 0===o?function(){return null}:o,i=e.menu,s=e.name;return function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return r?(e.preventDefault(),e.stopPropagation(),(null==r?void 0:r.length)?[4,n.next({name:s,menu:i,event:e,menuItems:r,onValueChange:a})]:[2]):[2];case 1:return[2,t.sent()]}}))}))}},requestSubject:n}}),[]);return W.createElement(uF.Provider,{value:r},t,W.createElement(lF,{requestSubject:n}))},dF=function(){return W.useContext(uF)},pF=function(e){var t=!1,n=null,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t||(t=!0,n=e.apply(void 0,TP([],NP(r),!1))),n};return r.clear=function(){t=!1},r},fF=function(){return!0},hF=function(e,t){var n=e.compute,r=e.type,o=e.readTransform,a=e.name,i=e.object,s=e.payload,l=e.config;if(n&&l.WITH_SYNC_COMPUTE){var u=t?n(i,s):OD(r);return!(u instanceof Promise)&&u}return!(n||!a)&&(o(UP(i,a),a,i,s)||OD(r))},mF=function(e,t){var n=void 0===t?{}:t,r=n.allowedErrors,o=n.fallback,a=n.defaultValue,i=void 0===a?null:a;return function(){for(var t,n,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];try{var l=e.apply(void 0,TP([],NP(a),!1));return l instanceof Promise?(d=l,f=(p={fallback:o,defaultValue:i}).fallback,h=p.defaultValue,CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,d];case 1:return[2,t.sent()];case 2:return e=t.sent(),f&&f(e),[2,h];case 3:return[2]}}))}))):l}catch(d){if(o&&o(d),r){try{for(var u=IP(r),c=u.next();!c.done;c=u.next())if(d instanceof c.value)return i}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}throw d}return i}var d,p,f,h}},gF=function(){return!1},vF=function(){return!0},bF=function(){return null},yF=function(){return null},xF=function(){return!1},wF=function(e,t,n){var r="".concat(t,"(").concat(e||"unknown",")");return function(e){console.error("react-declarative ".concat(r," ").concat(n," exception"),e)}},kF=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.forEach((function(e){if(e)if("string"==typeof e)n.push(e);else if(Array.isArray(e)){if(e.length){var t=kF.apply(void 0,TP([],NP(e),!1));t&&n.push(t)}}else"object"==typeof e&&(e.toString!==Object.prototype.toString?n.push(e.toString()):Object.entries(e).filter((function(e){var t=NP(e,2);return t[0],!!t[1]})).forEach((function(e){var t=NP(e,1)[0];return n.push(t)})))})),n.join(" ")},SF="12",CF=function(e){return Number(e)},EF=LP()({root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},container:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch",width:"100%","& > *":{flex:1}}}),IF=function(e,t){var n=e.className,r=e.style,o=e.sx,a=e.columns,i=void 0===a?"":a,s=e.phoneColumns,l=void 0===s?"":s,u=e.tabletColumns,c=void 0===u?"":u,d=e.desktopColumns,p=void 0===d?"":d,f=e.fieldRightMargin,h=void 0===f?"1":f,m=e.fieldBottomMargin,g=void 0===m?"2":m,v=e.children,b=e.onClick,y=e.onFocus,x=e.onContextMenu,w=SP(e,["className","style","sx","columns","phoneColumns","tabletColumns","desktopColumns","fieldRightMargin","fieldBottomMargin","children","onClick","onFocus","onContextMenu"]),k=EF().classes,S=W.useMemo((function(){return{xs:CF(l||i||SF),sm:CF(c||i||SF),md:CF(c||i||SF),lg:CF(p||i||SF),xl:CF(p||i||SF),mr:CF(h),mb:CF(g)}}),[]),C=S.xs,E=S.sm,I=S.md,N=S.lg,T=S.xl,R=S.mr,_=S.mb;return W.createElement(cS,kP({},w,{ref:t,item:!0,className:kF(n,k.root),style:r,onFocus:y,onClick:b,xs:C,sm:E,md:I,lg:N,xl:T,sx:o,onContextMenu:x}),W.createElement(Ii,{className:k.container,mr:R,mb:_},v))};IF.displayName="Item";var NF=W.forwardRef(IF),TF=function(e,t){var n=e.className,r=e.style,o=e.children,a=e.onFocus,i=e.onClick,s=e.isBaselineAlign,l=e.columnsOverride,u=e.sx,c=e.onContextMenu,d=SP(e,["className","style","children","onFocus","onClick","isBaselineAlign","columnsOverride","sx","onContextMenu"]),p=W.useMemo((function(){return l&&Number(l)}),[]);return W.createElement(cS,kP({},d,{ref:t,container:!0,alignItems:s?"flex-end":"flex-start",className:n,style:r,onClick:i,onFocus:a,columns:p,onContextMenu:c,sx:u}),o)};TF.displayName="Container";var RF=W.forwardRef(TF),_F=LP()({root:{position:"relative","& > *":{width:"100%"}}}),$F=function(e,t){var n=e.className,r=void 0===n?"":n,o=e.columns,a=void 0===o?"":o,i=e.phoneColumns,s=void 0===i?"":i,l=e.tabletColumns,u=void 0===l?"":l,c=e.desktopColumns,d=void 0===c?"":c,p=e.children,f=e.isItem,h=e.isBaselineAlign,m=e.style,g=e.columnsOverride,v=e.sx,b=e.fieldRightMargin,y=void 0===b?"1":b,x=e.fieldBottomMargin,w=void 0===x?"2":x,k=e.onClick,S=e.onFocus,C=e.onContextMenu,E=SP(e,["className","columns","phoneColumns","tabletColumns","desktopColumns","children","isItem","isBaselineAlign","style","columnsOverride","sx","fieldRightMargin","fieldBottomMargin","onClick","onFocus","onContextMenu"]),I=_F().classes;return f?W.createElement(NF,kP({},E,{ref:t,className:kF(I.root,r),style:m,columns:a,phoneColumns:s,tabletColumns:u,desktopColumns:d,fieldRightMargin:y,fieldBottomMargin:w,onFocus:S,onClick:k,onContextMenu:C,sx:v}),p):W.createElement(RF,kP({},E,{ref:t,className:kF(I.root,r),isBaselineAlign:h,columnsOverride:g,style:m,onFocus:S,onContextMenu:C,onClick:k,sx:v}),p)};$F.displayName="Group";var MF=W.forwardRef($F),OF={WITH_DIRTY_CLICK_LISTENER:!0,WITH_MOBILE_READONLY_FALLBACK:!0,WITH_WAIT_FOR_MOVE_LISTENER:!0,WITH_WAIT_FOR_TAB_LISTENER:!0,WITH_WAIT_FOR_TOUCH_LISTENER:!0,WITH_DISMOUNT_LISTENER:!0,WITH_SYNC_COMPUTE:!1,CUSTOM_FIELD_DEBOUNCE:800,FIELD_BLUR_DEBOUNCE:100},AF=function(){var e=this;this._config=OF,this.getRef=function(){return e._config},this.setValue=function(t){Object.assign(e._config,OF,t)}},LF=Symbol("get-reference"),PF=function(){function e(){}var t;return t=LF,e.instance=new AF,e[t]=e.instance.getRef,e.setValue=e.instance.setValue,e}(),DF={display:"flex",alignItems:"stretch",justifyContent:"stretch"},FF=LP()((function(e){var t,n,r;return{root:kP(kP({},DF),{"& > *":kP(kP({},DF),{flexGrow:1}),"& > * > *":{flexGrow:1},pointerEvents:"all"}),hidden:{display:"none !important"},fieldReadonly:{"& > *":{pointerEvents:"none !important"}},phoneHidden:(t={},t[e.breakpoints.only("xs")]={display:"none !important"},t),tabletHidden:(n={},n[e.breakpoints.between("sm","lg")]={display:"none !important"},n),desktopHidden:(r={},r[e.breakpoints.up("lg")]={display:"none !important"},r)}})),zF=function(e){return console.log({v:e})},BF=function(){return null},jF=function(){return null},WF=function(e){return e},VF=function(){},HF=function(){return null},UF=function(){return null},GF=function(e){return e},qF=function(e){return e};function YF(e,t){var n=this;void 0===t&&(t={withApplyQueue:!1,skipDirtyClickListener:!1,skipClickListener:!1,skipFocusReadonly:!1,skipFocusBlurCall:!1,skipDebounce:!1,defaultProps:{}});var r=W.memo(e),o=PF[LF](),a=function(a){var i,s,l,u,c,d,p,f=a.className,h=void 0===f?"":f,m=a.sx,g=a.columns,v=void 0===g?"":g,b=a.phoneColumns,y=void 0===b?"":b,x=a.tabletColumns,w=void 0===x?"":x,k=a.desktopColumns,S=void 0===k?"":k,C=a.phoneHidden,E=void 0!==C&&C,I=a.tabletHidden,N=void 0!==I&&I,T=a.desktopHidden,R=void 0!==T&&T,_=a.isDisabled,$=a.isVisible,M=a.isInvalid,O=a.isIncorrect,A=a.isReadonly,L=a.readTransform,P=void 0===L?GF:L,D=a.writeTransform,F=void 0===D?qF:D,z=a.change,B=void 0===z?zF:z,j=a.fallback,V=void 0===j?BF:j,H=a.ready,U=void 0===H?jF:H,G=a.compute,q=a.shouldRecompute,Y=a.click,K=void 0===Y?VF:Y,X=a.map,Q=void 0===X?WF:X,Z=a.object,J=a.name,ee=void 0===J?"":J,te=a.title,ne=void 0===te?function(e){if(e){if(e.includes(".")){var t=e.split(".");e=NP(t.reverse(),1)[0]}var n=NP(e.split("_")),r=n[0],o=n.slice(1);return TP(["".concat(r.charAt(0).toUpperCase()).concat(r.slice(1))],NP(o),!1).join(" ")}}(ee)||void 0:te,re=a.menu,oe=void 0===re?UF:re,ae=a.type,ie=a.debug,se=a.focus,le=a.blur,ue=a.invalidity,ce=a.prefix,de=a.dirty,pe=void 0!==de&&de,fe=a.disabled,he=void 0!==fe&&fe,me=a.readonly,ge=void 0!==me&&me,ve=a.autoFocus,be=a.style,ye=a.menuItems,xe=a.groupRef,we=void 0===xe?HF:xe,ke=a.fieldRightMargin,Se=void 0===ke?null===(s=t.defaultProps)||void 0===s?void 0:s.fieldRightMargin:ke,Ce=a.fieldBottomMargin,Ee=void 0===Ce?null===(l=t.defaultProps)||void 0===l?void 0:l.fieldBottomMargin:Ce,Ie=a.outlinePaper,Ne=void 0!==Ie&&Ie,Te=a.transparentPaper,Re=void 0!==Te&&Te,_e=a.testId,$e=void 0===_e?ee:_e,Me=SP(a,["className","sx","columns","phoneColumns","tabletColumns","desktopColumns","phoneHidden","tabletHidden","desktopHidden","isDisabled","isVisible","isInvalid","isIncorrect","isReadonly","readTransform","writeTransform","change","fallback","ready","compute","shouldRecompute","click","map","object","name","title","menu","type","debug","focus","blur","invalidity","prefix","dirty","disabled","readonly","autoFocus","style","menuItems","groupRef","fieldRightMargin","fieldBottomMargin","outlinePaper","transparentPaper","testId"]),Oe=qD(),Ae=Oe.object,Le=Oe.changeObject,Pe=Oe.getObjectRef,De=$D(),Fe=dF().createContextMenu,ze=function(e){var t=e.prefix,n=e.name,r=e.isDisabled,o=void 0===r?gF:r,a=e.isVisible,i=void 0===a?vF:a,s=e.isInvalid,l=void 0===s?bF:s,u=e.isIncorrect,c=void 0===u?yF:u,d=e.isReadonly,p=void 0===d?xF:d;return W.useMemo((function(){return{isDisabled:mF(o,{defaultValue:!1,fallback:wF(n,t,"isDisabled")}),isVisible:mF(i,{defaultValue:!1,fallback:wF(n,t,"isVisible")}),isInvalid:mF(l,{defaultValue:null,fallback:wF(n,t,"isInvalid")}),isIncorrect:mF(c,{defaultValue:null,fallback:wF(n,t,"isIncorrect")}),isReadonly:mF(p,{defaultValue:!1,fallback:wF(n,t,"isReadonly")})}}),[])}({prefix:ce,name:ee,isDisabled:_,isVisible:$,isInvalid:M,isIncorrect:O,isReadonly:A}),Be=ze.isDisabled,je=ze.isVisible,We=ze.isInvalid,Ve=ze.isIncorrect,He=ze.isReadonly,Ue=Ae||Z,Ge=FF().classes,qe=function(e){var t=e.compute,n=e.shouldRecompute,r=void 0===n?fF:n;return W.useMemo((function(){var e=null;if(t){var n=pF(t);return function(t,o){return e&&r(e,t,o)&&n.clear(),e=t,n(t,o)}}}),[])}({compute:G,shouldRecompute:q}),Ye=function(e,t){var n=NP(W.useState((function(){var n=function(e){var t=e.phoneHidden,n=e.tabletHidden,r=e.desktopHidden,o=e.isReadonly,a=e.isInvalid,i=e.isDisabled,s=e.isVisible,l=e.isIncorrect,u=e.object,c=e.payload;return{phoneHidden:"function"==typeof t?t(c):t,tabletHidden:"function"==typeof n?n(c):n,desktopHidden:"function"==typeof r?r(c):r,fieldReadonly:o(u,c),invalid:a(u,c),visible:s(u,c),incorrect:l(u,c),disabled:i(u,c)}}(t);return kP(kP(kP({groupRef:null,focusReadonly:!0,loading:!1},n),{value:hF(t,n.visible)}),e)})),2),r=n[0],o=n[1];return{state:r,action:W.useMemo((function(){return{setGroupRef:function(e){return o((function(t){return kP(kP({},t),{groupRef:e})}))},setFocusReadonly:function(e){return o((function(t){return kP(kP({},t),{focusReadonly:e})}))},setFieldReadonly:function(e){return o((function(t){return kP(kP({},t),{fieldReadonly:e})}))},setDisabled:function(e){return o((function(t){return kP(kP({},t),{disabled:e})}))},setInvalid:function(e){return o((function(t){return kP(kP({},t),{invalid:e})}))},setIncorrect:function(e){return o((function(t){return kP(kP({},t),{incorrect:e})}))},setVisible:function(e){return o((function(t){return kP(kP({},t),{visible:e})}))},setLoading:function(e){return o((function(t){return kP(kP({},t),{loading:e})}))},setDirty:function(e){return o((function(t){return kP(kP({},t),{dirty:e})}))},setValue:function(e){return o((function(t){return kP(kP({},t),{value:e})}))}}}),[])}}({dirty:pe},{compute:qe,type:ae,readTransform:P,config:o,name:ee,object:Ue,payload:De,isVisible:je,isDisabled:Be,isInvalid:We,isIncorrect:Ve,isReadonly:He,phoneHidden:E,tabletHidden:N,desktopHidden:R}),Ke=Ye.state,Xe=Ke.phoneHidden,Qe=Ke.tabletHidden,Ze=Ke.desktopHidden,Je=Ke.dirty,et=Ke.disabled,tt=Ke.fieldReadonly,nt=Ke.focusReadonly,rt=Ke.groupRef,ot=Ke.invalid,at=Ke.incorrect,it=Ke.loading,st=Ke.value,lt=Ke.visible,ut=Ye.action,ct=ut.setDirty,dt=ut.setDisabled,pt=ut.setFieldReadonly,ft=ut.setFocusReadonly,ht=ut.setGroupRef,mt=ut.setInvalid,gt=ut.setIncorrect,vt=ut.setLoading,bt=ut.setValue,yt=ut.setVisible,xt=(c=o,d=ND(),p=c.CUSTOM_FIELD_DEBOUNCE,d||p),wt=NP(function(e,t){var n=NP(W.useState((function(){return{value:e}})),2),r=n[0],o=n[1],a=W.useMemo((function(){return tD((function(e){return o({value:e})}),t)}),[]);return W.useEffect((function(){return function(){return a.clear()}}),[]),[r,a,a]}(st,t.skipDebounce?0:xt),3),kt=wt[0],St=wt[1],Ct=wt[2],Et=Ct.pending,It=Ct.flush,Nt=function(e){var t=e.prefix,n=e.name,r=e.clickDisabled,o=e.lastObject,a=e.debouncedValue$,i=e.fieldReadonly$,s=e.focusReadonly$,l=e.invalid$,u=e.upperReadonly$,c=e.value$,d=e.groupRef$,p=W.useMemo((function(){return{inputUpdate:!1,objectUpdate:!1,initComplete:!1,fieldName:"".concat(t,"(").concat(n||"unknown",")"),lastObject:o,isMounted:!0,clickDisabled:!1,debouncedValue$:null,fieldReadonly$:null,focusReadonly$:null,invalid$:null,upperReadonly$:null,value$:null,groupRef$:null}}),[]);return p.debouncedValue$=a,p.fieldReadonly$=i,p.focusReadonly$=s,p.invalid$=l,p.upperReadonly$=u,p.value$=c,p.groupRef$=d,p.clickDisabled=r,{memory:p}}({prefix:ce,name:ee,clickDisabled:he||et,lastObject:null,debouncedValue$:kt.value,fieldReadonly$:tt,focusReadonly$:nt,invalid$:ot,upperReadonly$:ge,groupRef$:rt,value$:st}).memory,Tt=rF((function(e){bt(e),St(e),Nt.initComplete=!0}),[]);o.WITH_DISMOUNT_LISTENER&&W.useLayoutEffect((function(){return function(){Nt.isMounted=!1}}),[]),o.WITH_WAIT_FOR_MOVE_LISTENER&&W.useEffect((function(){return wD((function(){Et()&&It()}))}),[]),o.WITH_WAIT_FOR_TAB_LISTENER&&W.useEffect((function(){return e=function(){Et()&&It()},kD.connect(e);var e}),[]),o.WITH_WAIT_FOR_TOUCH_LISTENER&&W.useEffect((function(){return e=function(){Et()&&It()},SD.connect(e);var e}),[]);var Rt=W.useCallback((function(){var e,t=Pe(),n=Nt.invalid$,r=Nt.value$,o=!!n;if(Nt.objectUpdate=!0,Nt.inputUpdate=!1,qe){var a=je(t,De),i=!!a&&qe(t,De);i instanceof Promise?(vt(!0),i.then((function(e){return Nt.isMounted&&Tt(e)})).catch((function(e){return Nt.isMounted&&V(e)})).finally((function(){return Nt.isMounted&&vt(!1)}))):Tt(i);var s=Be(t,De),l=He(t,De),u=We(t,De)||null,c=Ve(t,De)||null;pt(l),mt(u),gt(c),dt(s),yt(a)}else if(ee){var d=Be(t,De),p=je(t,De),f=We(t,De)||null,h=Ve(t,De)||null,m=(l=He(t,De),P(UP(t,ee),ee,t,De)),g=m!==r;(g=g&&!o)&&(Nt.inputUpdate=!0,Tt(m),mt(f),null!==f&&ue(ee,f,De),B(t,((e={})[Nt.fieldName]=!!f,e))),pt(l),gt(h),dt(d),yt(p)}else{var v=Be(t,De),b=je(t,De);l=He(t,De);pt(l),dt(v),yt(b)}U()}),[Ue]),_t=W.useCallback((function(){var e,n,r=Pe(),o=Nt.debouncedValue$,a=!!Nt.invalid$;if(Nt.inputUpdate)Nt.inputUpdate=!1;else if(Nt.objectUpdate)Nt.objectUpdate=!1;else{if(qe)return;var i=VP(r),s=HP(i,ee,F(o,ee,r,De)),l=We(i,De)||null,u=Ve(i,De)||null;if(mt(l),gt(u),ct(!0),!ee)return;if(!s)throw new Error('One error invalid name specified "'.concat(ee,'"'));null!==l?(ue(ee,l,De),B(i,((e={})[Nt.fieldName]=!!l,e))):GP(r,i)&&!a||B(t.skipDebounce?Q(i,De):i,((n={})[Nt.fieldName]=!!l,n))}}),[]),$t=W.useCallback((function(){var e,n;if(Nt.initComplete&&!Nt.inputUpdate){var r=Pe(),o=Nt.invalid$,a=Nt.value$,i=VP(r);HP(i,ee,F(a,ee,r,De));var s=We(i,De)||null,l=Ve(i,De)||null;!s&&o&&(mt(s),B(t.skipDebounce?Q(i,De):i,((e={})[Nt.fieldName]=!!s,e))),s&&!o&&(mt(s),B(r,((n={})[Nt.fieldName]=!!s,n))),gt(l)}}),[]);W.useEffect((function(){Et()?It():(Nt.lastObject!==Ue&&(Rt(),$t()),_t(),Nt.lastObject=Ue)}),[kt,Ue]),o.WITH_MOBILE_READONLY_FALLBACK&&W.useEffect((function(){var e=function(){return ft(!1)};return rt&&rt.addEventListener("touchstart",e,{passive:!1}),function(){return rt&&rt.removeEventListener("touchstart",e)}}),[rt]),o.WITH_DIRTY_CLICK_LISTENER&&W.useEffect((function(){if(!t.skipDirtyClickListener){var e=function(){return ct(!0)};return rt&&rt.addEventListener("click",e,{passive:!0}),function(){return rt&&rt.removeEventListener("click",e)}}}),[rt]);var Mt=W.useCallback((function(){return CP(n,void 0,void 0,(function(){var e;return EP(this,(function(t){for(e=0;60!==e&&(Nt.inputUpdate||Nt.objectUpdate);e++)KP(10);return Nt.inputUpdate=!1,Nt.objectUpdate=!1,[2]}))}))}),[]),Ot=W.useMemo((function(){return QP((function(){return CP(n,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,Mt()];case 1:return e.sent(),[2,!0]}}))}))}))}),[]),At=W.useMemo((function(){return ZP((function(e,r){return void 0===r&&(r={}),CP(n,void 0,void 0,(function(){return EP(this,(function(n){switch(n.label){case 0:return t.withApplyQueue?[4,Ot().then((function(t){t!==XP&&Lt(e,r)}))]:[3,2];case 1:return n.sent(),[2];case 2:return[2,Lt(e,r)]}}))}))}))}),[]),Lt=W.useCallback((function(e,t){var n=(void 0===t?{}:t).skipReadonly,r=Nt.fieldReadonly$,o=Nt.upperReadonly$;Nt.inputUpdate||Nt.objectUpdate||Nt.isMounted&&(r&&!n||o&&!n||qe&&!n||Tt(e))}),[]),Pt=W.useCallback((function(e){e&&ht(e),we(e)}),[]),Dt=W.useCallback((function(){var e,n,r=Pe(),a=Nt.fieldReadonly$,i=Nt.upperReadonly$,s=Nt.groupRef$;Nt.isMounted&&(a||i||ft(!1),t.skipFocusBlurCall||(s&&(e=s,n=o.FIELD_BLUR_DEBOUNCE,void 0===n&&(n=50),new Promise((function(t){var r=setInterval((function(){var n=document.activeElement!==e&&!e.contains(document.activeElement);(n=n||!document.body.contains(e))&&(clearInterval(r),t())}),n)}))).then((function(){Et()&&It(),le&&le(ee,r,De,(function(e){return Ht.onChange(e,{skipReadonly:!0})}),Le),ft(!0)})),se&&se(ee,r,De,(function(e){return Ht.onChange(e,{skipReadonly:!0})}),Le)))}),[]),Ft=W.useMemo((function(){return ye?Fe({name:ee,menu:oe,menuItems:ye,onValueChange:function(e){return Ht.onChange(e,{skipReadonly:!0})}}):void 0}),[]),zt=W.useCallback((function(e){return CP(n,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return Nt.clickDisabled?[2]:(t=Pe(),[4,K(ee,e,t,De,(function(e){return Ht.onChange(e,{skipReadonly:!0})}),Le)]);case 1:return n.sent(),[2]}}))}))}),[]),Bt=W.useCallback((function(e){return CP(n,void 0,void 0,(function(){return EP(this,(function(n){switch(n.label){case 0:return t.skipClickListener?[2]:[4,zt(e)];case 1:return[2,n.sent()]}}))}))}),[]),jt=kP(kP({},t.defaultProps),{columns:v,phoneColumns:y,tabletColumns:w,desktopColumns:S,fieldRightMargin:Se,fieldBottomMargin:Ee,sx:kP(kP({},m),null===(u=t.defaultProps)||void 0===u?void 0:u.sx)}),Wt=W.useCallback((function(){var e=Nt.fieldReadonly$,n=Nt.upperReadonly$,r=Nt.focusReadonly$,o=!1;return o=o||n,t.skipFocusReadonly||(o=o||r),(o=o||e)||!!qe}),[]),Vt=W.useCallback((function(){var e=Nt.fieldReadonly$,t=Nt.upperReadonly$,n=!1;return(n=(n=n||t)||e)||!!qe}),[]),Ht=kP(kP({onChange:t.withApplyQueue?At:Lt,click:zt,fallback:V,disabled:he||et,readonly:Wt(),dirty:Je||pe,autoFocus:ve,invalid:ot,incorrect:at,value:st,name:ee,loading:it,object:Ue,prefix:ce,outlinePaper:Ne,transparentPaper:Re,withContextMenu:!!(null==ye?void 0:ye.length)||void 0},Me),{fieldReadonly:Vt()});ie&&ie({managedProps:Ht,originalComponent:e,payload:De});var Ut=((i={})[Ge.hidden]=!lt,i[Ge.fieldReadonly]=tt,i[Ge.phoneHidden]=Xe,i[Ge.tabletHidden]=Qe,i[Ge.desktopHidden]=Ze,i),Gt=kP(kP(kP({},t.defaultProps),Ht),ne&&{title:ne});return lt?W.createElement(MF,kP({ref:Pt,"data-testid":$e,"data-path":Nt.fieldName,isItem:!0,style:be,className:kF(h,Ge.root,Ut)},jt,{onFocus:Dt,onContextMenu:Ft,onClick:Bt}),W.createElement(r,kP({},Gt))):null};return a.displayName="Managed".concat(e.displayName||"UnknownField"),W.memo(a)}var KF={},XF=W.createContext(KF),QF=function(e){var t=e.context,n=void 0===t?KF:t,r=e.children;return W.createElement(XF.Provider,{value:n},r)},ZF=W.createContext(null),JF=[],ez=function(e){var t=e.children,n=e.features,r=void 0===n?JF:n;return W.createElement(ZF.Provider,{value:r},t)},tz=["dirty","fallback","readonly","invalid","loading","object","onChange","prefix","value"],nz=LP()({root:{display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},disabled:{pointerEvents:"none",opacity:.5},readonly:{pointerEvents:"none"}}),rz=function(e){var t=e.Element,n=SP(e,["Element"]),r=W.useContext(XF)||KF;return W.createElement(t,kP({},n,{context:r}))},oz=function(e){var t,n=e.disabled,r=e.invalid,o=e.incorrect,a=e.readonly,i=e.value,s=e.watchOneContext,l=e.element,u=void 0===l?function(){return W.createElement(W.Fragment,null)}:l,c=e.outlinePaper,d=e.transparentPaper,p=e.object,f=e.onChange,h=e.click,m=SP(e,["disabled","invalid","incorrect","readonly","value","watchOneContext","element","outlinePaper","transparentPaper","object","onChange","click"]),g=nz().classes,v=qD().changeObject,b=$D(),y=W.useContext(ZF),x=W.useMemo((function(){var e=Object.entries(m).filter((function(e){var t=NP(e,1)[0];return!tz.includes(t)})).reduce((function(e,t){var n,r=NP(t,2),o=r[0],a=r[1];return kP(kP({},e),((n={})[o]=a,n))}),{});return kP(kP({},p),{onChange:v,onValueChange:f,onClick:h,_fieldParams:e,_fieldData:p,outlinePaper:c,transparentPaper:d,invalid:r,incorrect:o,payload:b,disabled:n,readonly:a,features:y})}),[p,n,r,o,a]);return W.createElement(Ii,{className:kF(g.root,(t={},t[g.disabled]=n,t[g.readonly]=a,t))},s?W.createElement(rz,kP({},x,{value:i,Element:u})):W.createElement(u,kP({},x,{value:i,context:KF})))};oz.displayName="ComponentField";var az=YF(oz,{defaultProps:{fieldRightMargin:"0",fieldBottomMargin:"0"},withApplyQueue:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0,skipFocusBlurCall:!0,skipDebounce:!1}),iz=function(e){var t=e.loading,n=e.children;return W.createElement(Y_,{direction:"row",alignItems:"center",spacing:1},!!t&&W.createElement(Ii,{display:"flex",alignItems:"center"},W.createElement(Dx,{size:"16px",color:"inherit"})),W.createElement(Ii,null,n))},sz=function(e){var t=e.Progress,n=void 0===t?iz:t,r=e.onClick,o=void 0===r?function(){}:r,a=e.onLoadStart,i=e.onLoadEnd,s=e.fallback,l=e.children,u=e.disabled,c=e.throwError,d=void 0!==c&&c,p=e.variant,f=void 0===p?"outlined":p,h=SP(e,["Progress","onClick","onLoadStart","onLoadEnd","fallback","children","disabled","throwError","variant"]),m=NP(W.useState(0),2),g=m[0],v=m[1],b=W.useRef(!0);W.useLayoutEffect((function(){return function(){b.current=!1}}),[]);var y=HD(g);return W.createElement(EE,kP({},h,{onClick:function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:if(y.current)return[2];t=!0,r.label=1;case 1:return r.trys.push([1,3,4,5]),a&&a(),b.current&&v((function(e){return e+1})),[4,o(e)];case 2:return r.sent(),[3,5];case 3:if(n=r.sent(),t=!1,d)throw n;return s&&s(n),[3,5];case 4:return i&&i(t),b.current&&v((function(e){return e-1})),[7];case 5:return[2]}}))}))},disabled:!!g||u,variant:f}),W.createElement(n,{loading:!!g},l))},lz=function(e,t){void 0===t&&(t=1e3);var n=0,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=Date.now()-n,i=function(){n=Date.now(),e.apply(void 0,TP([],NP(r),!1))};i(),a>t&&i()};return r.clear=function(){},r},uz="virtual-view-root",cz="virtual-view-child",dz="list_item_idx",pz=LP()({root:{position:"relative",overflowY:"auto",minHeight:"50px"},hideScrollbar:{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},adjust:{position:"absolute",visibility:"hidden",height:1,width:1,left:0}}),fz=function(e){var t,n=e.className,r=e.sx,o=e.withScrollbar,a=void 0!==o&&o,i=e.minRowHeight,s=void 0===i?60:i,l=e.bufferSize,u=void 0===l?5:l,c=e.children,d=e.hasMore,p=void 0===d||d,f=e.loading,h=void 0!==f&&f,m=e.onDataRequest,g=void 0===m?function(){}:m,v=e.onLoadStart,b=e.onLoadEnd,y=e.fallback,x=e.scrollXSubject,w=e.scrollYSubject,k=e.throwError,S=void 0!==k&&k,C=SP(e,["className","sx","withScrollbar","minRowHeight","bufferSize","children","hasMore","loading","onDataRequest","onLoadStart","onLoadEnd","fallback","scrollXSubject","scrollYSubject","throwError"]),E=pz().classes,I=W.useRef(!0),N=W.useRef(!1),T=BD(x),R=BD(w),_=W.useMemo((function(){return N.current=!0,W.Children.toArray(c)}),[c]),$=NP(W.useState(0),2),M=$[0],O=$[1],A=NP(W.useState((function(){return new Map})),2),L=A[0],P=A[1],D=!!M||h,F=HD(p),z=HD(s),B=HD(D),j=rF((function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:if(D)return[2];t=!0,r.label=1;case 1:return r.trys.push([1,5,6,7]),v&&v(),I.current&&O((function(e){return e+1})),g?[4,KP(0)]:[3,4];case 2:return r.sent(),[4,g(e)];case 3:r.sent(),r.label=4;case 4:return[3,7];case 5:if(n=r.sent(),t=!1,S)throw n;return y&&y(n),[3,7];case 6:return b&&b(t),I.current&&O((function(e){return e-1})),[7];case 7:return[2]}}))}))})),V=zD((function(){return new Map})),H=NP(W.useState(null),2),U=H[0],G=H[1],q=NP(W.useState(0),2),Y=q[0],K=q[1],X=NP(W.useState(0),2),Q=X[0],Z=X[1],J=W.useMemo((function(){return Math.max(Math.floor(Q/s),u)}),[s,u,Q]),ee=zD((function(){return new ResizeObserver((function(e){return e.forEach((function(e){var t=e.target;if(t){var n=e.contentRect.height;if(t.classList.contains(uz)&&(Z(n),V.forEach((function(e){if(document.body.contains(e)){var t=Number(e.dataset[dz]);if(!Number.isNaN(t)){var n=e.offsetHeight;P((function(e){return e.get(t)!==n?(e.set(t,Math.max(n,z.current)),new Map(e)):e}))}}}))),t.classList.contains(cz)){var r=Number(t.dataset[dz]);Number.isNaN(r)||P((function(e){return e.get(r)!==n?(e.set(r,Math.max(n,z.current)),new Map(e)):e}))}}}))}))})),te=W.useCallback((function(e){var t=e,n=0;return _.forEach((function(){t>=0&&(t-=L.get(n)||s,n+=1)})),Math.max(n-J,0)}),[L,J,s,_]),ne=W.useCallback((function(e,t){var n=e+Q,r=0;return _.forEach((function(){n>=0&&(n-=L.get(r)||s,r+=1)})),Math.min(r-1+J,t-1)}),[L,J,Q,s,_]),re=W.useCallback((function(e){var t=0;return _.slice(0,e).forEach((function(e,n){t+=L.get(n)||s})),t}),[L,s,_]),oe=W.useMemo((function(){var e=0;return _.forEach((function(t,n){e+=L.get(n)||s})),e}),[L,_,s]),ae=W.useCallback((function(){if(U){if(U.clientHeight>=U.scrollHeight)return!1;var e=U.scrollHeight-U.scrollTop-U.clientHeight;return Math.abs(e)<10}return!1}),[U]),ie=W.useMemo((function(){var e=te(Y),t=ne(Y,_.length);Array.from(V.entries()).forEach((function(n){var r=NP(n,2),o=r[0],a=r[1];(o<e||o>t)&&(ee.unobserve(a),V.delete(o))}));var n=!0;return(n=(n=(n=(n=n&&F.current)&&!B.current)&&ae())&&_.length===t+1)&&!N.current&&queueMicrotask((function(){return j(!1)})),N.current=!1,_.slice(e,t+1).map((function(t,n){return W.cloneElement(t,{ref:function(t){if(t){var r=e+n,o=V.get(r);o!==t&&(o&&ee.unobserve(o),t.classList.add(cz),t.dataset[dz]=String(r),ee.observe(t),V.set(r,t),P((function(e){return e.get(r)!==t.offsetHeight?(e.set(r,Math.max(t.offsetHeight,s)),new Map(e)):e})))}},style:{position:"absolute",top:re(e+n),minHeight:s,minWidth:"100%",left:0}})}))}),[F,B,_,s,Y,L,te,ne,re,ae,j]),se=W.useCallback((function(e){e&&(e.addEventListener("scroll",lz((function(e){K(e.target.scrollTop)}),50)),Z(e.offsetHeight),T.unsubscribeAll(),T.subscribe((function(t){e.scrollLeft!==t&&e.scrollTo(Math.min(t,e.scrollWidth),e.scrollTop)})),R.unsubscribeAll(),R.subscribe((function(t){e.scrollLeft!==t&&e.scrollTo(Math.min(t,e.scrollWidth),e.scrollTop)})),G(e),ee.observe(e))}),[]);return W.useEffect((function(){return function(){ee.disconnect(),T.unsubscribeAll(),R.unsubscribeAll()}}),[]),W.useEffect((function(){j(!0)}),[]),W.useLayoutEffect((function(){return function(){I.current=!1}}),[]),W.createElement(Ii,kP({className:kF(n,E.root,uz,(t={},t[E.hideScrollbar]=!a,t)),sx:kP({width:"100%"},r)},C,{ref:se}),ie,W.createElement("div",{className:E.adjust,style:{top:oe}}))};fz.virtualize=function(e){return W.forwardRef((function(t,n){var r=t,o=r.className,a=r.style,i=SP(r,["className","style"]);return W.createElement("div",{className:o,style:a,ref:n},W.createElement(e,kP({},i)))}))};var hz,mz=function(e){var t=void 0===e?{}:e,n=t.defaultSize,r=void 0===n?{height:0,width:0}:n,o=r.height,a=r.width,i=t.target,s=void 0===i?null:i,l=t.map,u=t.closest,c=t.selector,d=t.debounce,p=void 0===d?0:d,f=t.compute,h=void 0===f?function(e){return e}:f,m=t.onResize,g=W.useRef(null),v=W.useRef(!0);W.useLayoutEffect((function(){return function(){v.current=!1}}),[]);var b=NP(W.useState({height:o,width:a}),2),y=b[0],x=b[1],w=HD(y);return W.useLayoutEffect((function(){var e=g.current,t=s||e;if(t&&(u&&(t=(null==t?void 0:t.closest(u))||null),c&&(t=(null==t?void 0:t.querySelector(c))||null),l&&(t=t?l(t):t),t)){var n=tD((function(e){var t=kP({},h(e));t.height=Math.floor(t.height),t.width=Math.floor(t.width);var n=w.current;n.height===t.height&&n.width===t.width||(v.current&&x(t),m&&m(t))}),p),r=new ResizeObserver((function(){var e=t.getBoundingClientRect(),r=e.height,o=e.width;n({height:r,width:o})})),o=kP({},h(kP({},t.getBoundingClientRect())));o.height=Math.floor(o.height),o.width=Math.floor(o.width),x(o),r.observe(t);var a=function(){var e=t.getBoundingClientRect(),r=e.height,o=e.width;n({height:r,width:o})};return window.visualViewport&&window.visualViewport.addEventListener("resize",a),function(){window.visualViewport&&window.visualViewport.removeEventListener("resize",a),r.disconnect(),n.clear()}}}),[g.current,s,u,c]),{elementRef:g,size:y}},gz=LP()({listBox:{overflow:"hidden !important"}}),vz=W.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.role,a=SP(e,["className","children","role"]),i=gz().classes,s=mz(),l=s.elementRef,u=s.size,c=Array.isArray(r)?r.length:0;return W.createElement("div",{ref:t},W.createElement("div",kP({},a,{ref:l,className:kF(i.listBox,n)}),W.createElement(fz,{role:o,sx:{width:u.width,height:"min(".concat(c?Math.min(54*c,300):54,"px, 45vh)"),maxHeight:"45vh"},minRowHeight:54},r)))})),bz=LP()((function(e){return{root:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",background:e.palette.background.paper,display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},hidden:{display:"none !important"}}})),yz=function(e){var t,n=e.open,r=bz().classes;return W.createElement(Ii,{className:kF(r.root,(t={},t[r.hidden]=!n,t))},W.createElement(Dx,null))},xz=LP()({root:{position:"relative",minHeight:"50px",width:"100%",overflowY:"auto",overflowX:"hidden"},hideScrollbar:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},container:{position:"absolute",top:0,left:0,right:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"stretch"}}),wz=function(e){var t,n=e.withScrollbar,r=void 0!==n&&n,o=e.className,a=e.style,i=e.sx,s=e.loading,l=void 0!==s&&s,u=e.throwError,c=void 0!==u&&u,d=e.hasMore,p=void 0===d||d,f=e.children,h=e.scrollXSubject,m=e.scrollYSubject,g=e.onDataRequest,v=e.onLoadStart,b=e.onLoadEnd,y=e.fallback,x=SP(e,["withScrollbar","className","style","sx","loading","throwError","hasMore","children","scrollXSubject","scrollYSubject","onDataRequest","onLoadStart","onLoadEnd","fallback"]),w=xz().classes,k=BD(h),S=BD(m),C=NP(W.useState(0),2),E=C[0],I=C[1],N=W.useRef(),T=W.useRef(!0),R=W.useRef(!1),_=W.useMemo((function(){return R.current=!0,f}),[f]);W.useLayoutEffect((function(){return function(){T.current=!1}}),[]);var $=!!E||l,M=HD($),O=HD(p),A=rF((function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:if($)return[2];t=!0,r.label=1;case 1:return r.trys.push([1,5,6,7]),v&&v(),T.current&&I((function(e){return e+1})),g?[4,KP(0)]:[3,4];case 2:return r.sent(),[4,g(e)];case 3:r.sent(),r.label=4;case 4:return[3,7];case 5:if(n=r.sent(),t=!1,c)throw n;return y&&y(n),[3,7];case 6:return b&&b(t),T.current&&I((function(e){return e-1})),[7];case 7:return[2]}}))}))})),L=W.useCallback((function(e){$||(N.current&&N.current.disconnect(),N.current=new IntersectionObserver((function(e){var t=NP(e,1)[0],n=!0;n=(n=n&&O.current)&&!M.current,(null==t?void 0:t.isIntersecting)&&n&&!R.current&&A(!1),R.current=!1})),e&&N.current.observe(e))}),[p,$,g]);W.useEffect((function(){A(!0)}),[]),W.useEffect((function(){return function(){N.current&&N.current.disconnect(),k.unsubscribeAll(),S.unsubscribeAll()}}),[]);var P=W.useCallback((function(e){e&&(k.unsubscribeAll(),k.subscribe((function(t){e.scrollLeft!==t&&e.scrollTo(Math.min(t,e.scrollWidth),e.scrollTop)})),S.unsubscribeAll(),S.subscribe((function(t){e.scrollLeft!==t&&e.scrollTo(Math.min(t,e.scrollWidth),e.scrollTop)})))}),[]);return W.createElement(Ii,kP({},x,{className:kF(o,w.root,(t={},t[w.hideScrollbar]=!r,t)),style:a,sx:i,ref:P}),W.createElement(Ii,{className:w.container},_,W.createElement("div",{style:{height:1},ref:L})))};!function(e){e.Single="single-selection",e.Multiple="multiple-selection",e.None="none-selection"}(hz||(hz={}));var kz=hz,Sz=function(e){void 0===e&&(e=750);var t=NP(DD(!1),2),n=t[0],r=t[1],o=W.useMemo((function(){return nF((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,KP(e)];case 1:return t.sent(),r(!1),[2]}}))}))}))}),[]);return{delay$:n,doDelay:W.useCallback((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return r(!0),[4,o()];case 1:return e.sent(),[2]}}))}))}),[])}},Cz=W.createContext(null),Ez=function(){return W.useContext(Cz)},Iz=function(e){var t=e.children,n=e.selectedRows,r=e.onSelectedRows,o=NP(W.useState(new Set(n)),2),a=o[0],i=o[1],s=Sz(),l=s.delay$,u=s.doDelay,c=function(e,t){void 0===t&&(t=!1),u(),r&&r(TP([],NP(e),!1),t),i(new Set(e))},d={selection:a,setSelection:c};return W.useEffect((function(){if(n&&!l.current){var e=new Set(n);(function(e,t){if(e.size!==t.size)return!1;var n=!0;return e.forEach((function(e){!t.has(e)&&n&&(n=!1)})),t.forEach((function(t){!e.has(t)&&n&&(n=!1)})),n})(e,a)||c(e)}}),[n]),V.createElement(Cz.Provider,{value:d},t)},Nz=LP()((function(e){return{root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},container:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column","& > *":{flex:1}},header:{display:"flex",flexDirection:"row",gap:e.spacing(1),alignItems:"center",width:"100%",height:"35px",maxHeight:"35px",borderBottom:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},headerLabel:{opacity:.65}}})),Tz=function(e){var t,n=e.className,r=e.style,o=e.sx,a=e.selectionMode,i=void 0===a?kz.None:a,s=e.headerLabel,l=void 0===s?"List":s,u=e.data,c=e.withHeader,d=void 0!==c&&c,p=e.children,f=Nz().classes,h=Ez(),m=h.selection,g=h.setSelection;return V.createElement(Ii,{className:kF(n,f.root),style:r,sx:o},V.createElement("div",{className:f.container},d?V.createElement("div",{className:f.header},(t=function(){i!==kz.None&&(i!==kz.Single?m.size?g(new Set):(u.forEach((function(e){var t=e.id;return m.add(t)})),g(m)):g(new Set))},i===kz.Single?V.createElement(IR,{onClick:t,color:"primary"}):i===kz.Multiple?V.createElement(fI,{checked:!!m.size,onClick:t,color:"primary"}):i===kz.None?V.createElement(fI,{color:"primary",onClick:t,disabled:!0}):null),!!l&&V.createElement(Kx,{variant:"body1",className:f.headerLabel},l)):null,p))},Rz=function(e,t){var n=void 0===t?{}:t,r=n.onLoadStart,o=n.onLoadEnd,a=n.fallback,i=n.throwError,s=W.useRef(null),l=NP(W.useState(!1),2),u=l[0],c=l[1],d=NP(W.useState(!1),2),p=d[0],f=d[1],h=W.useRef(!0);W.useLayoutEffect((function(){return function(){h.current=!1}}),[]);var m=rF(e),g=W.useCallback((function(e){return CP(void 0,void 0,void 0,(function(){var t,n,l,u;return EP(this,(function(d){switch(d.label){case 0:s.current&&s.current.cancel(),t=QP((function(){return CP(void 0,void 0,void 0,(function(){var t,n,a;return EP(this,(function(i){switch(i.label){case 0:t=!0,r&&r(),i.label=1;case 1:return i.trys.push([1,5,6,7]),(n=m(e))instanceof Promise?[4,n]:[3,3];case 2:return[2,i.sent()||null];case 3:return[2,n||null];case 4:return[3,7];case 5:throw a=i.sent(),t=!1,a;case 6:return o&&o(t),[7];case 7:return[2]}}))}))})),s.current=t,h.current&&c(!0),h.current&&f(!1),n=!1,d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,t()];case 2:return(l=d.sent())===XP?(n=!0,[2,null]):(s.current=null,[2,l]);case 3:if(u=d.sent(),h.current&&f(!0),i)throw u;return a&&a(u),[3,5];case 4:return n||h.current&&c(!1),[7];case 5:return[2,null]}}))}))}),[]);return{loading:u,error:p,execute:g}};function _z(e,t,n){var r=this,o=W.useRef(null),a=W.useRef(0),i=W.useRef(null),s=W.useRef([]),l=W.useRef(),u=W.useRef(),c=W.useRef(e),d=W.useRef(!0);c.current=e;var p=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var f=!!(n=n||{}).leading,h=!("trailing"in n)||!!n.trailing,m="maxWait"in n,g=m?Math.max(+n.maxWait||0,t):null,v=W.useCallback((function(e){var t=s.current,n=l.current;return s.current=l.current=null,a.current=e,u.current=c.current.apply(n,t)}),[]),b=W.useCallback((function(e,t){p&&cancelAnimationFrame(i.current),i.current=p?requestAnimationFrame(e):setTimeout(e,t)}),[p]),y=W.useCallback((function(e){if(!d.current)return!1;var n=e-o.current,r=e-a.current;return!o.current||n>=t||n<0||m&&r>=g}),[g,m,t]),x=W.useCallback((function(e){return i.current=null,h&&s.current?v(e):(s.current=l.current=null,u.current)}),[v,h]),w=W.useCallback((function(){if(d.current){var e=Date.now();if(y(e))return x(e);var n=e-o.current,r=e-a.current,i=t-n,s=m?Math.min(i,g-r):i;b(w,s)}}),[g,m,y,b,x,t]),k=W.useCallback((function(){i.current&&(p?cancelAnimationFrame(i.current):clearTimeout(i.current)),a.current=0,s.current=o.current=l.current=i.current=null}),[p]),S=W.useCallback((function(){return i.current?x(Date.now()):u.current}),[x]);W.useEffect((function(){return d.current=!0,function(){d.current=!1}}),[]);var C=W.useCallback((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!d.current)return u.current;var c=Date.now(),p=y(c);if(s.current=e,l.current=r,o.current=c,p){if(!i.current&&d.current)return a.current=o.current,b(w,t),f?v(o.current):u.current;if(m)return b(w,t),v(o.current)}return i.current||b(w,t),u.current}),[v,f,m,y,b,w,t]),E=W.useCallback((function(){return!!i.current}),[]);return W.useMemo((function(){return{callback:C,cancel:k,flush:S,pending:E}}),[C,k,S,E])}function $z(e,t){return e===t}function Mz(e,t,n){var r=n&&n.equalityFn||$z,o=NP(W.useState(e),2),a=o[0],i=o[1],s=_z(W.useCallback((function(e){return i(e)}),[]),t,n),l=W.useRef(e);return W.useEffect((function(){r(l.current,e)||(s.callback(e),l.current=e)}),[e,s,r]),[a,{cancel:s.cancel,pending:s.pending,flush:s.flush}]}var Oz,Az=function(e){var t=NP(Mz(e,800),1)[0],n=W.useRef(e),r=BD(),o=W.useRef(!0);return W.useEffect((function(){o.current?o.current=!1:GP(t,n.current)||(n.current=t,r.next(t))}),[t]),r},Lz=Symbol("get-value-map"),Pz=function(e,t){var n=new Map,r=function(){for(var r,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var i=e(o),s=null===(r=n.get(i))||void 0===r?void 0:r.current;if(void 0===s){var l={current:void 0};n.set(i,l),s=l.current=t.apply(void 0,TP([],NP(o),!1))}return s};return r[Lz]=function(){return n},r.clear=function(e){e?n.delete(e):n.clear()},r.add=function(e,t){var r=n.get(e);void 0===r?r={current:t}:r.current=t,n.set(e,r)},r.remove=function(e){return n.delete(e)},r},Dz=new uD,Fz=W.createContext(null),zz=function(e){var t=e.children,n=e.rowKey,r=void 0===n?"id":n,o=e.recomputeSubject,a=e.rowMark,i=void 0===a?function(){return""}:a,s=e.rowColor,l=void 0===s?function(){return""}:s,u=BD(o),c=W.useMemo((function(){return Pz((function(e){var t=NP(e,1)[0];return t[r]||t}),i)}),[]),d=W.useMemo((function(){return Pz((function(e){var t=NP(e,1)[0];return t[r]||t}),l)}),[]);W.useEffect((function(){return u.subscribe((function(){c.clear(),d.clear(),Dz.next()}))}),[]),W.useEffect((function(){return function(){c.clear(),d.clear()}}),[]);var p=W.useMemo((function(){return{rowMark:c,rowColor:d}}),[]);return V.createElement(Fz.Provider,{value:p},t)},Bz=W.forwardRef((function(e,t){var n=e.className,r=e.style,o=e.index,a=e.data,i=e.sx,s=e.payload,l=e.rowKey,u=e.selectionMode,c=e.children,d=e.onItemClick,p=HD(a),f=Az(a),h=W.useCallback((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,Promise.race([f.toPromise(),KP(7500)])];case 1:return e.sent(),[2]}}))}))}),[]),m=NP(W.useState(""),2),g=m[0],v=m[1],b=NP(W.useState(""),2),y=b[0],x=b[1],w=Ez(),k=w.selection,S=w.setSelection,C=W.useContext(Fz),E=C.rowMark,I=C.rowColor,N=Rz((function(){return CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(n){switch(n.label){case 0:return e=v,[4,E(p.current)];case 1:return e.apply(void 0,[n.sent()]),t=x,[4,I(p.current)];case 2:return t.apply(void 0,[n.sent()]),[2]}}))}))})).execute;W.useEffect((function(){return N(),function(){E.clear(a[l]||a)}}),[]),W.useEffect((function(){return Dz.subscribe((function(){h().then(N)}))}),[]);var T=W.useCallback((function(){var e=a[l];e&&u!==kz.None&&(u===kz.Single?k.has(e)&&1===k.size?k.delete(e):(k.clear(),k.add(e)):k.has(e)?k.delete(e):k.add(e),S(new Set(k)))}),[k]),R=W.useMemo((function(){return k.has(a[l])}),[k]);return W.createElement(vT,{ref:t,disableRipple:!0,className:n,style:r,sx:kP({background:y,"&:hover":{background:y||"transparent"}},i),selected:R,onClick:function(){return d&&d({data:a,payload:s,toggleSelection:T,isSelected:R})}},W.createElement(c,{toggleSelection:T,data:a,payload:s,index:o,rowMark:g,isSelected:R}))}));!function(e){e.Virtual="virtual",e.Intersection="intersection"}(Oz||(Oz={}));var jz,Wz=Oz,Vz=LP()({noData:{display:"flex",justifyContent:"center",alignItems:"center",padding:"12px"}}),Hz=function(e){var t,n=e.className,r=e.style,o=e.sx,a=e.itemSx,i=e.data,s=e.loading,l=e.hasMore,u=e.mode,c=void 0===u?Wz.Virtual:u,d=e.bufferSize,p=void 0===d?25:d,f=e.minRowHeight,h=void 0===f?72:f,m=e.payload,g=void 0===m?{}:m,v=e.rowKey,b=void 0===v?"id":v,y=e.noDataLabel,x=void 0===y?"No data":y,w=e.errorMessage,k=e.children,S=e.onSkip,C=e.onButtonSkip,E=e.onItemClick,I=e.onSelectedRows,N=e.selectedRows,T=e.selectionMode,R=e.recomputeSubject,_=e.scrollXSubject,$=e.scrollYSubject,M=e.withHeader,O=e.headerLabel,A=e.rowMark,L=void 0===A?function(){return""}:A,P=e.rowColor,D=void 0===P?function(){return""}:P,F=Vz().classes,z=zD(g);return W.createElement(Iz,{onSelectedRows:I,selectedRows:N},W.createElement(zz,{recomputeSubject:R,rowKey:b,rowMark:L,rowColor:D},W.createElement(Tz,{className:n,style:r,sx:o,data:i,selectionMode:T,withHeader:M,headerLabel:O},W.createElement(c===Wz.Virtual?fz:wz,{withScrollbar:!0,component:Zw,scrollYSubject:$,scrollXSubject:_,minRowHeight:h,bufferSize:p,loading:s,hasMore:l,onDataRequest:function(e){S&&l&&S(e)},children:(t=[],s||w||0!==i.length||t.push(W.createElement(Ii,{className:F.noData},W.createElement(Kx,{variant:"body1"},x))),w&&t.push(W.createElement(Ii,{className:F.noData},W.createElement(Kx,{color:"error",variant:"body1"},w))),i.forEach((function(e,n){return t.push(W.createElement(Bz,{key:e[b]||n,sx:a,index:n,payload:z,data:e,rowKey:b,selectionMode:T,onItemClick:E},k))})),i.length>0&&!w&&C&&!S&&!s&&l&&t.push(W.createElement(Ii,{className:F.noData},W.createElement(EE,{variant:"outlined",onClick:C},"Show More"))),t)}))))},Uz=W.createContext(null),Gz=function(){return W.useContext(Uz)},qz=function(e){var t=e.children,n=e.constraintManager;return W.createElement(Uz.Provider,{value:n},t)},Yz=W.createContext(null),Kz=function(){return W.useContext(Yz)},Xz=function(e){var t=e.children,n=e.size;return W.createElement(Yz.Provider,{value:n},t)},Qz="react-declatative__PaperView-root",Zz=LP()((function(e){return{outline:{border:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),background:e.palette.background.paper,borderRadius:"4px"}}})),Jz=W.forwardRef((function(e,t){var n=e.component,r=e.className,o=e.outlinePaper,a=e.transparentPaper,i=SP(e,["component","className","outlinePaper","transparentPaper"]),s=Zz().classes;return a?W.createElement(Ii,kP({className:kF(r,Qz)},i,{ref:t})):o?W.createElement(Ii,kP({className:kF(r,s.outline,Qz)},i,{component:n,ref:t})):W.createElement(uk,kP({className:kF(r,Qz)},i,{component:n,ref:t}))})),eB=LP()((function(e){return{root:{width:"100%",overflow:"hidden",display:"flex",alignItems:"stretch",justifyContent:"stretch",background:"light"===e.palette.mode?e.palette.background.paper:So("#000",.05)},container:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",flex:1},content:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",flex:1},header:{minHeight:"35px",width:"100%",display:"flex",alignItems:"center",background:"light"===e.palette.mode?So("#000",.05):e.palette.background.paper}}})),tB=function(e){var t=e.outlinePaper,n=e.transparentPaper,r=e.className,o=e.style,a=e.sx,i=e.header,s=e.children,l=eB().classes,u=Gz(),c=W.useMemo((function(){return function(){var e=document.createElement("div");e.style.position="fixed",e.style.left="-100%",e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var n=e.offsetWidth-t.offsetWidth;return document.body.removeChild(e),n}()}),[]),d=W.useMemo((function(){return function(){var e=document.createElement("div");e.style.position="fixed",e.style.left="-100%",e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var n=e.offsetHeight-t.offsetHeight;return document.body.removeChild(e),n}()}),[]),p=NP(W.useState({height:0,width:0}),2),f=p[0],h=p[1],m=zD((function(){return new ResizeObserver((function(e){var t=NP(e,1)[0].target;t&&(u.clear(),h({height:Math.max(t.offsetHeight-d,0),width:Math.max(t.offsetWidth-c,0)}))}))})),g=W.useCallback((function(e){e&&(h({height:Math.max(e.offsetHeight-d,0),width:Math.max(e.offsetWidth-c,0)}),m.observe(e))}),[m,c,d]);return W.useEffect((function(){return function(){m.disconnect()}}),[m]),W.createElement(Xz,{size:f},W.createElement(Jz,{outlinePaper:t,transparentPaper:n,className:kF(r,l.root),style:o,sx:a},W.createElement("div",{className:l.container},!!i&&W.createElement("div",{className:l.header},i),W.createElement("div",{className:l.content,ref:g},s))))},nB=W.createContext(null),rB=function(){return W.useContext(nB)},oB=function(e){var t=e.children,n=e.value;return W.createElement(nB.Provider,{value:n},t)},aB=125,iB=75,sB=function(e){var t=e.className,n=e.style,r=e.sx,o=e.column,a=e.idx,i=e.children,s=SP(e,["className","style","sx","column","idx","children"]),l=Gz(),u=Kz().width,c=rB(),d=c.rowActions,p=c.selectionMode,f=void 0===p?kz.None:p,h=W.useMemo((function(){return Math.max(u-(d?aB:0)-(f===kz.None?0:iB),0)}),[u,d]),m=W.useMemo((function(){return l.memoize("column-width-".concat(h,"-").concat(a),(function(){var e=o.width||165,t="function"==typeof e?e(h):e;return"number"==typeof t?"".concat(t,"px"):t}))}),[o.width,h,a,l]);return W.createElement(Ii,kP({className:t,style:n,sx:kP(kP({},r),{position:"relative",overflow:"hidden",minWidth:m,maxWidth:m})},s),i)},lB=function(e){var t=e.className,n=e.style,r=e.sx,o=e.children;return W.createElement(Ii,{className:t,style:n,sx:kP(kP({},r),{display:"flex",justifyContent:"center !important",alignItems:"center !important"})},o)},uB=W.createContext(null),cB=function(){return W.useContext(uB)},dB=function(e){var t=e.children,n=rB(),r=n.selectedRows,o=n.onSelectedRows,a=NP(W.useState(new Set(r)),2),i=a[0],s=a[1],l=Sz(),u=l.delay$,c=l.doDelay,d=function(e,t){void 0===t&&(t=!1),c(),o&&o(TP([],NP(e),!1),t),s(new Set(e))},p={selection:i,setSelection:d};return W.useEffect((function(){if(r&&!u.current){var e=new Set(r);(function(e,t){if(e.size!==t.size)return!1;var n=!0;return e.forEach((function(e){!t.has(e)&&n&&(n=!1)})),t.forEach((function(t){!e.has(t)&&n&&(n=!1)})),n})(e,i)||d(e)}}),[r]),V.createElement(uB.Provider,{value:p},t)},pB=QD(),fB=QD(),hB=LP()((function(e){return{root:{position:"relative",overflowX:"auto",overflowY:"hidden",width:"100%",height:"35px",borderBottom:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},container:{position:"absolute",top:0,left:0,bottom:0,height:"100%",minWidth:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch"},headerCell:{display:"flex",userSelect:"none",flexDirection:"column",justifyContent:"center",paddingLeft:"5px",paddingRight:"5px",paddingTop:"7.5px",paddingBottom:"7.5px",width:"100%",whiteSpace:"break-spaces",overflowWrap:"anywhere",textOverflow:"ellipsis",overflow:"hidden",fontWeight:"bold"},headerCellOpacity:{opacity:.7},headerCellClick:{"&:hover":{backgroundColor:"#f9f9f9",cursor:"pointer"}},coloredHeaderCell:{background:So(e.palette.background.paper,.2)},headerCellSortable:{display:"flex",justifyContent:"space-between",width:"100%","&>*:nth-of-type(n+1)":{marginLeft:e.spacing(1)}},noWrap:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}})),mB=function(e){var t=e.className,n=e.style,r=e.sx,o=e.columns,a=e.sort,i=e.rowActions,s=e.scrollXSubject,l=e.onClickHeaderColumn,u=e.onScrollX,c=hB().classes,d=rB(),p=d.data,f=d.selectionMode,h=void 0===f?kz.None:f,m=cB(),g=m.selection,v=m.setSelection,b=HD(p),y=HD(g),x=W.useCallback((function(e){e&&s.subscribe((function(t){e.scrollLeft!==t&&e.scrollTo(Math.min(t,e.scrollWidth),e.scrollTop)}))}),[s]),w=W.useCallback((function(){var e=b.current,t=y.current,n=function(){h!==kz.None&&(h!==kz.Single?t.size?v(new Set):(e.forEach((function(e){var n=e.id;return t.add(n)})),v(t)):v(new Set))};return h===kz.Single?W.createElement(IR,{onClick:n,color:"primary"}):h===kz.Multiple?W.createElement(fI,{checked:!!t.size,onClick:n,color:"primary"}):h===kz.None?W.createElement(fI,{color:"primary",onClick:n,disabled:!0}):null}),[]);return W.createElement(Ii,{ref:x,className:kF(t,c.root),style:n,sx:r,onScroll:function(e){var t=e.target;u&&u(t.scrollLeft)}},W.createElement(Ii,{className:c.container},h!==kz.None&&W.createElement(lB,{className:c.headerCell,key:fB,sx:{minWidth:iB,maxWidth:iB}},w()),o.map((function(e,t){var n,r,o="".concat(String(e.field),"-").concat(t);return W.createElement(sB,{key:o,className:kF(c.headerCell,c.headerCellOpacity,(n={},n[c.headerCellClick]=Boolean(l),n[c.coloredHeaderCell]=a&&a.value===e.field,n)),column:e,idx:t,onClick:function(){l&&l(e.field)}},W.createElement("div",{className:kF(c.noWrap,(r={},r[c.headerCellSortable]=Boolean(a),r))},e.label,a&&a.value===e.field?"ASC"===(null==a?void 0:a.sortDirection)?W.createElement(cO,null):W.createElement(gO,null):null))})),!!(null==i?void 0:i.length)&&W.createElement(lB,{className:kF(c.headerCell,c.headerCellOpacity),key:pB,sx:{minWidth:aB,maxWidth:aB}},"Actions")))},gB=W.forwardRef((function(e,t){var n=e.className,r=e.style,o=e.sx,a=e.columns,i=e.children,s=e.withRowActions,l=Gz(),u=Kz().width,c=W.useMemo((function(){return Math.max(u-(s?aB:0),0)}),[u,s]),d=W.useMemo((function(){var e=a.map((function(e,t){return parseFloat(l.memoize("column-width-".concat(c,"-").concat(t),(n=e,function(){var e=n.width||165,t="function"==typeof e?e(c):e;return"string"==typeof t?parseFloat(t):t})));var n})).reduce((function(e,t){return e+t}),0);return s&&(e+=aB),"".concat(e+=iB,"px !important")}),[a,c,s,l]);return W.createElement(Ii,{ref:t,className:kF(n,cz),style:r,sx:kP(kP({},o),{minWidth:d,maxWidth:d})},i)})),vB=LP()({root:{zIndex:"unset !important"},container:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",overflowY:"auto",overflowX:"hidden",maxHeight:"45vh"},content:{flex:1,display:"flex",flexDirection:"column",justifyContent:"stretch"},loader:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},beforeContent:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},afterContent:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}}}),bB=function(e){var t=e.options,n=void 0===t?[]:t,r=e.transparent,o=void 0!==r&&r,a=e.disabled,i=void 0!==a&&a,s=e.throwError,l=void 0!==s&&s,u=e.fallback,c=e.onToggle,d=e.onAction,p=void 0===d?function(){return null}:d,f=e.payload,h=e.className,m=e.style,g=e.sx,v=e.deps,b=e.onLoadStart,y=e.onLoadEnd,x=e.keepMounted,w=e.BeforeContent,k=e.AfterContent,S=e.reloadSubject,C=W.useRef(null),E=NP(W.useState(null),2),I=E[0],N=E[1],T=NP(W.useState(0),2),R=T[0],_=T[1],$=vB().classes,M=rF(p),O=function(){_((function(e){return e+1})),b&&b()},A=function(e){_((function(e){return Math.max(e-1,0)})),y&&y(e)},L=Rz(M,{onLoadStart:O,onLoadEnd:A,throwError:l,fallback:u}).execute;return W.createElement(W.Fragment,null,W.createElement(HI,{ref:C,className:kF(h,$.root),style:m,sx:kP(kP({},o?{boxShadow:"none !important",background:"transparent !important",color:function(e){return"".concat(So(e.palette.getContrastText(e.palette.background.default),.4)," !important")}}:void 0),g),disableFocusRipple:o,disableRipple:o,disabled:i||!!R,size:"small",color:"primary","aria-label":"more","aria-haspopup":"true",onClick:function(e){e.preventDefault(),e.stopPropagation(),N(C.current),c&&c(!0)}},W.createElement(kO,{color:"inherit"})),W.createElement(Yk,{keepMounted:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchorEl:i?null:I,open:!!I&&!i,onClose:function(e){e.preventDefault(),e.stopPropagation(),N(null),_(0),c&&c(!1)},MenuListProps:{disablePadding:!0,sx:{pt:w?0:1,pb:k?0:1}}},W.createElement(Ii,{className:$.container},0!==R&&W.createElement(Ii,{className:$.loader},W.createElement(Dx,null)),W.createElement(Ii,{className:$.content,sx:{visibility:0!==R?"hidden":"visible"}},w&&W.createElement(Ii,{className:$.beforeContent},W.createElement(w,null)),n.map((function(e,t){var n=e.label,r=void 0===n?"unknown-label":n,o=e.action,a=void 0===o?"unknown-action":o,i=e.divider,s=e.icon,d=e.isDisabled,p=void 0===d?function(){return!1}:d,h=e.isVisible,m=void 0===h?function(){return!0}:h;return W.createElement(eF,{Loader:function(){return i?null:W.createElement(Yw,{sx:{visibility:"hidden",minWidth:225}},!!s&&W.createElement(Vx,null,W.createElement(s,null)),W.createElement(Kx,{variant:"inherit"},r))},throwError:l,fallback:u,key:t,onLoadStart:O,onLoadEnd:A,reloadSubject:S,deps:v,payload:f},(function(e){return CP(void 0,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return[4,KP(250)];case 1:return n.sent(),[4,p(e)];case 2:return t=n.sent(),[4,m(e)];case 3:return n.sent()?i?[2,W.createElement(Fw,{orientation:"horizontal"})]:[2,W.createElement(Yw,{disabled:t,onClick:(o=a,function(e){e.preventDefault(),e.stopPropagation(),L(o),N(null),c&&c(!1)}),sx:{minWidth:225}},!!s&&W.createElement(Vx,null,W.createElement(s,null)),W.createElement(Kx,{variant:"inherit"},r))]:[2,null]}var o}))}))}))})),k&&W.createElement(Ii,{className:$.afterContent},W.createElement(k,null))))))},yB=new uD,xB=QD(),wB=QD(),kB=LP()((function(e){return{wrapper:{display:"flex",alignItems:"stretch",justifyContent:"stretch"},contentRow:{flex:1,position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",overflow:"hidden",minHeight:"50px",borderBottom:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),"&:hover":{background:So(e.palette.background.paper,.2)}},contentCell:{display:"flex",flexDirection:"column",justifyContent:"center",paddingLeft:"5px",paddingRight:"5px",paddingTop:"7.5px",paddingBottom:"7.5px",width:"100%",whiteSpace:"break-spaces",overflowWrap:"anywhere",textOverflow:"ellipsis",overflow:"hidden"},alignLeft:{alignItems:"flex-start"},alignRight:{alignItems:"flex-end"},alignCenter:{alignItems:"center"},alignStretch:{alignItems:"stretch","& > *:nth-of-type(1)":{flex:1}},rowOnClick:{"&:hover":{cursor:"pointer"}},mark:{position:"absolute",top:0,left:0,bottom:0,width:4},noPadding:{padding:0}}})),SB=W.forwardRef((function(e,t){var n=e.className,r=e.style,o=e.sx,a=e.rowKey,i=void 0===a?"id":a,s=e.columns,l=e.rowActions,u=e.payload,c=e.row,d=e.onTableRowClick,p=e.onRowAction,f=e.rowMark,h=e.rowColor,m=kB().classes,g=NP(W.useState(""),2),v=g[0],b=g[1],y=NP(W.useState(""),2),x=y[0],w=y[1],k=rB().selectionMode,S=void 0===k?kz.None:k,C=cB(),E=C.selection,I=C.setSelection,N=HD(c),T=Az(c),R=W.useCallback((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,Promise.race([T.toPromise(),KP(7500)])];case 1:return e.sent(),[2]}}))}))}),[]),_=Rz((function(){return CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(n){switch(n.label){case 0:return e=b,[4,f(N.current)];case 1:return e.apply(void 0,[n.sent()]),t=w,[4,h(N.current)];case 2:return t.apply(void 0,[n.sent()]),[2]}}))}))})).execute;W.useEffect((function(){return _(),function(){f.clear(c[i]||c),h.clear(c[i]||c)}}),[]),W.useEffect((function(){return yB.subscribe((function(){R().then(_)}))}),[]);var $=W.useCallback((function(e){e.preventDefault(),e.stopPropagation();var t=c[i];t&&(S===kz.Single?E.has(t)&&1===E.size?E.delete(t):(E.clear(),E.add(t)):E.has(t)?E.delete(t):E.add(t),I(new Set(E)))}),[E]),M=W.useCallback((function(){return S===kz.Single?W.createElement(IR,{color:"primary",onClick:$,checked:E.has(c.id)}):S===kz.Multiple?W.createElement(fI,{color:"primary",onClick:$,checked:E.has(c.id)}):S===kz.None?W.createElement(fI,{color:"primary",disabled:!0}):null}),[E]);return W.createElement(vT,{disableGutters:!0,disableRipple:!0,selected:E.has(c[i]),ref:t,sx:{background:x},className:kF(cz,n,m.noPadding),style:r},W.createElement(Ii,{className:m.contentRow,sx:o},v&&W.createElement(Ii,{className:m.mark,style:{background:v}}),S!==kz.None&&W.createElement(lB,{className:m.contentCell,key:wB,sx:{minWidth:iB,maxWidth:iB}},M()),s.map((function(e,t){var n,r="".concat(UP(c,i),"-").concat(t);return W.createElement(sB,{className:kF(m.contentCell,(n={},n[m.rowOnClick]=Boolean(d),n[m.alignLeft]="left"===e.align,n[m.alignRight]="right"===e.align,n[m.alignCenter]="center"===e.align,n[m.alignStretch]="stretch"===e.align,n)),onClick:function(e){d&&d(e,c)},key:r,column:e,idx:t},e.format?e.format(c,u):e.field?String(UP(c,e.field)):null)})),!!(null==l?void 0:l.length)&&W.createElement(lB,{className:m.contentCell,key:xB,sx:{minWidth:aB,maxWidth:aB}},W.createElement(bB,{transparent:!0,payload:u,options:l.map((function(e){var t=e.isDisabled,n=void 0===t?function(){return!1}:t,r=e.isVisible,o=void 0===r?function(){return!0}:r,a=SP(e,["isDisabled","isVisible"]);return kP({isVisible:function(e){return o(c,e)},isDisabled:function(e){return n(c,e)}},a)})),onAction:function(e){p&&p(e,c)}}))))})),CB=LP()({content:{height:"calc(100% - 35px)"},noData:{display:"flex",justifyContent:"center",alignItems:"center",padding:"12px"}}),EB=function(e){var t=e.className,n=e.style,r=e.sx,o=e.recomputeSubject,a=e.scrollXSubject,i=e.scrollYSubject,s=e.columns,l=e.loading,u=e.data,c=e.rowKey,d=void 0===c?"id":c,p=e.hasMore,f=e.errorMessage,h=e.rowActions,m=e.payload,g=e.minRowHeight,v=void 0===g?50:g,b=e.bufferSize,y=e.onTableRowClick,x=e.onRowAction,w=e.onButtonSkip,k=e.onSkip,S=e.onScrollX,C=e.noDataLabel,E=void 0===C?"No data":C,I=e.rowMark,N=void 0===I?function(){return""}:I,T=e.rowColor,R=void 0===T?function(){return""}:T,_=CB().classes,$=Kz().width,M=BD(o),O=W.useMemo((function(){return Pz((function(e){var t=NP(e,1)[0];return t[d]||t}),N)}),[]),A=W.useMemo((function(){return Pz((function(e){var t=NP(e,1)[0];return t[d]||t}),R)}),[]);return W.useEffect((function(){return M.subscribe((function(){O.clear(),A.clear(),yB.next()}))}),[]),W.useEffect((function(){return function(){O.clear(),A.clear()}}),[]),W.createElement(fz,{withScrollbar:!0,className:kF(t,_.content),style:n,sx:r,scrollXSubject:a,scrollYSubject:i,minRowHeight:v,bufferSize:b,loading:l,hasMore:p,onDataRequest:function(e){k&&p&&k(e)},onScroll:function(e){var t=e.target;S&&S(t.scrollLeft)}},!l&&!f&&0===u.length&&W.createElement(gB,{columns:s,withRowActions:!!(null==h?void 0:h.length)},W.createElement(Ii,{className:_.noData,sx:{position:"sticky",left:0,width:$}},W.createElement(Kx,{variant:"body1"},E))),f&&W.createElement(gB,{columns:s,withRowActions:!!(null==h?void 0:h.length)},W.createElement(Ii,{className:_.noData,sx:{position:"sticky",left:0,width:$}},W.createElement(Kx,{color:"error",variant:"body1"},f))),u.map((function(e,t){var n="".concat(UP(e,d),"-").concat(t);return W.createElement(SB,{key:n,rowMark:O,rowColor:A,columns:s,row:e,recomputeSubject:M,onTableRowClick:y,onRowAction:x,rowActions:h,payload:m,rowKey:d})})),u.length>0&&!f&&w&&!k&&!l&&p&&W.createElement(gB,{columns:s,withRowActions:!!(null==h?void 0:h.length)},W.createElement(Ii,{className:_.noData,sx:{position:"sticky",left:0,width:$}},W.createElement(EE,{variant:"outlined",onClick:w},"Show More"))))},IB=function(){var e=Kz().width;return W.createElement(rT,{sx:{width:"".concat(e,"px"),marginLeft:"-1px",marginTop:"-4px",zIndex:10}})},NB=function(e){var t=e.className,n=e.style,r=e.sx,o=e.outlinePaper,a=e.transparentPaper,i=e.header,s=e.columns,l=e.data,u=e.errorMessage,c=e.hasMore,d=e.loading,p=e.rowActions,f=e.payload,h=e.rowKey,m=e.sort,g=e.minRowHeight,v=e.bufferSize,b=void 0===v?25:v,y=e.onButtonSkip,x=e.onClickHeaderColumn,w=e.onRowAction,k=e.onSkip,S=e.rowMark,C=e.rowColor,E=e.onTableRowClick,I=e.onRowClick,N=e.noDataLabel,T=e.recomputeSubject,R=e.scrollXSubject,_=e.scrollYSubject,$=zD(f),M=zD((function(){return e=new Map,{memoize:function(t,n){if(!e.has(t)){var r=n();return e.set(t,r),r}return e.get(t)},clear:function(){e.clear()}};var e})),O=BD(R),A=W.useMemo((function(){return e=s.length,function(t){var n=Math.floor(t/e);return Math.max(n,165)};var e}),[s]),L=W.useMemo((function(){return s.map((function(e){var t=e.width,n=void 0===t?A:t,r=e.minWidth,o=void 0===r?0:r,a=SP(e,["width","minWidth"]);return kP({minWidth:o,width:function(e){var t="function"==typeof n?n(e):n,r="string"==typeof t?parseFloat(t):t,a="function"==typeof n?10:0;return Math.max(r-a,o)}},a)}))}),[s,A]);W.useEffect((function(){if(T)return T.subscribe((function(){M.clear()}))}),[T,M]);var P=W.useMemo((function(){return lz((function(e){O.next(e)}),5)}),[O]);return W.useEffect((function(){return function(){P.clear()}}),[P]),W.createElement(qz,{constraintManager:M},W.createElement(oB,{value:e},W.createElement(dB,null,W.createElement(tB,{outlinePaper:o,transparentPaper:a,className:t,header:i,style:n,sx:r},W.createElement(mB,{columns:L,sort:m,rowActions:p,onClickHeaderColumn:x,onScrollX:P,scrollXSubject:O}),!!d&&W.createElement(IB,null),W.createElement(EB,{recomputeSubject:T,noDataLabel:N,rowMark:S,rowColor:C,columns:L,data:l,errorMessage:u,hasMore:c,loading:d,rowActions:p,payload:$,rowKey:h,minRowHeight:g,bufferSize:b,onSkip:k,onTableRowClick:function(e,t){E?E(e,t):I&&I(t)},onRowAction:w,onButtonSkip:y,onScrollX:P,scrollXSubject:O,scrollYSubject:_})))))},TB=function(e,t){var n=void 0===t?{}:t,r=n.onLoadStart,o=n.onLoadEnd,a=n.fallback,i=n.throwError,s=NP(W.useState(!1),2),l=s[0],u=s[1],c=NP(W.useState(!1),2),d=c[0],p=c[1],f=W.useRef(!0);W.useLayoutEffect((function(){return function(){f.current=!1}}),[]);var h=rF(e),m=W.useMemo((function(){return ZP((function(e){return CP(void 0,void 0,void 0,(function(){var t,n,a;return EP(this,(function(i){switch(i.label){case 0:t=!0,r&&r(),i.label=1;case 1:return i.trys.push([1,5,6,7]),(n=h(e))instanceof Promise?[4,n]:[3,3];case 2:return[2,i.sent()||null];case 3:return[2,n||null];case 4:return[3,7];case 5:throw a=i.sent(),t=!1,a;case 6:return o&&o(t),[7];case 7:return[2]}}))}))}))}),[]),g=W.useMemo((function(){return function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:f.current&&u(!0),f.current&&p(!1),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,m(e)];case 2:return(t=r.sent())===XP?[2,null]:[2,t];case 3:if(n=r.sent(),f.current&&p(!0),i)throw n;return a&&a(n),[3,5];case 4:return f.current&&u(!1),[7];case 5:return[2,null]}}))}))}}),[]);return Object.assign(g,{clear:function(){m.clear()},cancel:function(){m.cancel()}}),{loading:l,error:d,execute:g}},RB=function(e){var t=e.reloadSubject,n=e.initialData,r=void 0===n?[]:n,o=e.handler,a=e.limit,i=void 0===a?25:a,s=e.delay,l=void 0===s?100:s,u=SP(e,["reloadSubject","initialData","handler","limit","delay"]),c=BD(t),d=NP(DD(r),2),p=d[0],f=d[1],h=NP(DD((function(){return{data:p.current,prevOffset:-i-p.current.length,hasMore:!0}})),2),m=h[0],g=h[1],v=rF(o),b=TB((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,v(i,m.current.prevOffset+i+p.current.length,e,m.current.data)];case 1:return[2,t.sent()]}}))}))})).execute,y=oF((function(e){return CP(void 0,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return[4,b(e)];case 1:return(t=n.sent())?(g({prevOffset:m.current.prevOffset+i+p.current.length,data:e?t:TP(TP([],NP(m.current.data),!1),NP(t),!1),hasMore:t.length>=i}),[4,KP(l)]):[2];case 2:return n.sent(),[2]}}))}))}),u),x=y.execute,w=y.loading,k=y.error;W.useEffect((function(){return c.subscribe((function(){f([]),b.cancel(),x.clear(),g({data:[],hasMore:!0,prevOffset:-i}),x(!0)}))}),[]);var S=W.useCallback((function(e){return g((function(t){return kP(kP({},t),{data:"function"==typeof e?e(t.data):e})}))}),[]),C=W.useCallback((function(){f([]),b.cancel(),x.clear(),g({data:[],hasMore:!0,prevOffset:-i})}),[]);return{data:m.current.data,setData:S,offset:m.current.prevOffset+i+p.current.length,hasMore:m.current.hasMore,loading:w,error:k,onSkip:x,reloadSubject:c,clear:C}},_B=W.createContext({modalStack:[],pop:function(){throw new Error("ModalManager no context provided")},push:function(){throw new Error("ModalManager no context provided")},clear:function(){throw new Error("ModalManager no context provided")}}),$B=function(e){var t=e.render,n=e.onMount,r=e.onUnmount,o=e.count,a=e.modalStack,i=NP(W.useState(!1),2),s=i[0],l=i[1];return W.useEffect((function(){return n&&n(o,a),l(!0),function(){r&&r(o,a)}}),[]),s?W.createElement(W.Fragment,null,t()):null},MB={key:QD(),id:"unknown",render:function(){return null}},OB={modalStack:[],count:0},AB=LP()({backdrop:{color:So("#000",.5),zIndex:1300}}),LB=new uD,PB=function(e){var t=e.children,n=e.fallback,r=e.throwError,o=e.onLoadEnd,a=e.onLoadStart,i=AB().classes,s=qa(),l=NP(W.useState(OB),2),u=l[0],c=u.modalStack,d=u.count,p=l[1],f=HD(c),h=W.useCallback((function(e){return p((function(t){var n=t.count;return{modalStack:e,count:0===e.length?0:n+1}}))}),[]),m=TB((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return e?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}),{onLoadStart:a,onLoadEnd:o,fallback:n,throwError:r}).execute,g=W.useMemo((function(){return{modalStack:f.current,pop:function(){return h(f.current.slice(1))},push:function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,m(e.onInit)];case 1:return t.sent(),h(TP([kP(kP({},e),{key:QD()})],NP(f.current),!1)),[2]}}))}))},clear:function(){LB.next()}}}),[c]);W.useEffect((function(){return LB.subscribe((function(){p(OB)}))}),[]);var v=W.useMemo((function(){var e=NP(c,1)[0],t=void 0===e?MB:e,n=t.onInit,r=void 0===n?function(){}:n,o=t.onMount,a=void 0===o?function(){}:o,i=t.onUnmount,s=void 0===i?function(){}:i,l=SP(t,["onInit","onMount","onUnmount"]);return kP({onInit:function(){m(r)},onMount:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];m((function(){return a.apply(void 0,TP([],NP(e),!1))}))},onUnmount:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];m((function(){return s.apply(void 0,TP([],NP(e),!1))}))}},l)}),[c]),b=W.useMemo((function(){return Ua(kP(kP({},s),{components:kP(kP({},s.components),{MuiBackdrop:{styleOverrides:{root:{background:"transparent"}}}})}))}),[s]),y=W.useMemo((function(){return c.slice(1,c.length)}),[c]);return W.createElement(_B.Provider,{value:g},t,W.createElement(fa,{theme:b},W.createElement($B,kP({},v,{modalStack:y,count:d}))),!!c.length&&W.createElement(Ck,{open:!0,className:i.backdrop}))},DB=function(){var e=W.useContext(_B);return{total:e.modalStack.length,push:e.push,pop:e.pop,clear:e.clear}},FB=function(e){var t=e.data.label,n=e.isSelected;return W.createElement(W.Fragment,null,W.createElement(Vx,null,W.createElement(fI,{edge:"start",checked:n,tabIndex:-1,disableRipple:!0})),W.createElement(Vw,{primary:t}))},zB=function(e){var t=e.data.label,n=e.isSelected;return W.createElement(W.Fragment,null,W.createElement(Vx,null,W.createElement(IR,{edge:"start",checked:n,tabIndex:-1,disableRipple:!0})),W.createElement(Vw,{primary:t}))},BB=function(e){var t=e.data.label;return W.createElement(Vw,{primary:t})},jB=function(e,t){for(var n,r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var i=String(t||"").toLowerCase().split(" "),s=function(t){var n=String(e[t]||"").toLowerCase().split(" ");return i.every((function(e){return n.some((function(t){return t.includes(e)}))}))},l=!1;try{for(var u=IP(o),c=u.next();!c.done;c=u.next()){var d=c.value;l=l||s(d)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return l},WB=function(e){var t=e.data,n=e.payload,r=e.itemList,o=e.tr,a=void 0===o?function(e){return e}:o;return CP(void 0,void 0,void 0,(function(){var e,o;return EP(this,(function(i){switch(i.label){case 0:return"function"!=typeof r?[3,2]:[4,r(t,n)];case 1:return o=i.sent(),[3,3];case 2:o=r,i.label=3;case 3:return e=o,[4,Promise.all(e.map((function(e){return CP(void 0,void 0,void 0,(function(){var r;return EP(this,(function(o){switch(o.label){case 0:return r={id:e},[4,a(e,t,n)];case 1:return[2,(r.label=o.sent(),r)]}}))}))})))];case 4:return[2,i.sent()]}}))}))},VB=function(e){var t=e.tip,n=e.searchText,r=e.data,o=e.payload;return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(a){switch(a.label){case 0:return"function"!=typeof t?[3,2]:[4,t(n,r,o)];case 1:return e=a.sent(),[3,3];case 2:e=t,a.label=3;case 3:return[2,e.map((function(e){return{id:e,label:e}}))]}}))}))},HB=LP()((function(e,t){var n=t.height;return{root:{marginTop:"10px",marginLeft:"10px",marginRight:"10px",gap:e.spacing(1),height:"calc(min(50vh, 60dvh) - 20px)",width:"calc(100vw - 20px)",minHeight:"".concat(Math.floor(n/2)-20,"px"),maxWidth:"450px",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},container:{position:"relative",overflow:"hidden",display:"flex",alignItems:"stretch",justifyContent:"stretch",flex:1},content:{flex:1},submit:{width:"calc(100% - 16px)",margin:"8px"},modal:{display:"flex",justifyContent:"center"}}})),UB=function(e){var t=e._autofocusDelay,n=void 0===t?650:t,r=e.type,o=e.data,a=e.payload,i=e.itemList,s=e.tip,l=e.tr,u=e.keepRaw,c=e.value,d=e.title,p=void 0===d?"Search":d,f=e.placeholder,h=e.onValueChange,m=HB(window.screen).classes,g=mz(),v=g.elementRef,b=g.size,y=W.useRef(null),x=function(e){var t=e.data,n=e.type,r=e.payload,o=e.value,a=e.itemList,i=e.tip,s=e.tr,l=e.keepRaw,u=void 0!==l&&l,c=e.onValueChange,d=BD(),p=DB().clear,f=NP(DD((function(){return"string"==typeof o?o:""})),2),h=f[0],m=f[1],g=NP(DD((function(){return Array.isArray(o)?o:[]})),2),v=g[0],b=g[1],y=rF((function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(n){switch(n.label){case 0:return e=new Set,i?[4,VB({tip:i,data:t,payload:r,searchText:h.current})]:[3,2];case 1:return[2,n.sent().filter((function(t){var n=t.id;return!e.has(n)}))];case 2:return a?[4,WB({data:t,payload:r,itemList:a,tr:s})]:[3,4];case 3:return[2,n.sent().filter((function(t){var n=t.id;return!e.has(n)}))];case 4:return[2,[]]}}))}))})),x=W.useCallback((function(){return n===FP.Items||n===FP.Combo?v.current.length?v.current:null:h.current}),[]),w=RB({handler:function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return[4,y()];case 1:return e=t.sent(),i?[2,u?e:e.filter((function(e){return jB(e,h.current,"label")}))]:[2,e.filter((function(e){return jB(e,h.current,"label")}))]}}))}))},limit:1e4,reloadSubject:d}),k=w.data,S=w.hasMore,C=w.loading,E=w.onSkip,I=W.useMemo((function(){return tD((function(){d.next()}),1e3)}),[]),N=W.useMemo((function(){return n===FP.Items?kz.Multiple:n===FP.Combo?kz.Single:kz.None}),[]),T=W.useMemo((function(){return n===FP.Complete?"":"No data"}),[]),R=W.useCallback((function(){c(x(),{skipReadonly:!0}),p()}),[]);return{items:k,hasMore:S,loading:C,onSkip:E,selectionMode:N,reloadSubject:d,onItemClick:W.useCallback((function(e){var t=e.data,r=e.toggleSelection;if(n===FP.Complete)return m(t.id),void R();r()}),[]),onSelectedRows:W.useCallback((function(e,t){t||b(e)}),[]),renderItem:W.useCallback((function(e){return n===FP.Items?W.createElement(FB,kP({},e)):n===FP.Combo?W.createElement(zB,kP({},e)):W.createElement(BB,kP({},e))}),[]),noDataLabel:T,searchText:h.current,selectedRows:v.current,setSearchText:W.useCallback((function(e){m(e),I()}),[]),beginSubmit:R,cancelSubmit:W.useCallback((function(){p()}),[])}}({type:r,data:o,payload:a,value:c,itemList:i,tip:s,keepRaw:u,tr:l,onValueChange:h}),w=x.items,k=x.hasMore,S=x.loading,C=x.onSkip,E=x.onItemClick,I=x.onSelectedRows,N=x.searchText,T=x.selectedRows,R=x.setSearchText,_=x.renderItem,$=x.selectionMode,M=x.beginSubmit,O=x.cancelSubmit,A=x.noDataLabel;return W.useLayoutEffect((function(){var e;null===(e=y.current)||void 0===e||e.focus(),setTimeout((function(){var e;null===(e=y.current)||void 0===e||e.focus()}),n)}),[]),W.createElement(Tk,{className:m.modal,open:!0,onClose:O},W.createElement(uk,{className:m.root},W.createElement(eO,{value:N,inputRef:y,onChange:function(e){var t=e.target;return R(t.value)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),M()):"Escape"===e.key&&(e.preventDefault(),O())},size:"small",variant:"filled",autoFocus:!0,tabIndex:0,label:p,placeholder:f,InputProps:{autoFocus:!0,endAdornment:W.createElement(LN,{position:"end"},W.createElement(qS,{edge:"end",onClick:O},W.createElement(TO,null)))}}),W.createElement(Ii,{className:m.container,ref:v},W.createElement(Hz,{className:m.content,sx:{maxHeight:b.height,maxWidth:b.width},selectionMode:$,selectedRows:T,data:w,hasMore:k,loading:S,noDataLabel:A,onSkip:C,onItemClick:E,onSelectedRows:I},_),W.createElement(yz,{open:S})),W.createElement(sz,{className:m.submit,size:"small",variant:"contained",color:"info",onClick:M},"Submit")))},GB=function(e){return W.createElement(UB,kP({},e))},qB=function(e){var t=DB().push,n=HD(e);return function(){t({id:"item-modal",render:function(){return W.createElement(GB,kP({},n.current))}})}},YB=function(){var e=CN((function(e){return e.breakpoints.only("xs")})),t=CN((function(e){return e.breakpoints.between("sm","lg")})),n=CN((function(e){return e.breakpoints.up("lg")})),r=t||n,o=e;return W.useMemo((function(){return{isPhone:e,isTablet:t,isDesktop:n,isWide:r,isMobile:o}}),[r,o,e,t,n])},KB=W.createContext(null),XB=function(e){var t=e.children,n=SP(e,["children"]);return W.createElement(KB.Provider,{value:n},t)},QB=function(){return W.useContext(KB)},ZB=function(e,t){void 0===t&&(t=0);var n=W.useRef(!0),r=BD();return W.useEffect((function(){n.current?n.current=!1:t?setTimeout(r.next,t):r.next()}),e),W.useEffect((function(){return function(){r.next()}}),[]),W.useCallback((function(){return new Promise((function(e){return r.once((function(){return e()}))}))}),[])},JB=W.createElement(BO,{fontSize:"small"}),ej=W.createElement(AO,{fontSize:"small"}),tj=[],nj=function(e,t){return"number"==typeof e&&"number"==typeof t?e-t:"boolean"==typeof e&&"boolean"==typeof t?(e?1:0)-(t?1:0):"string"==typeof e&&"string"==typeof t?e.localeCompare(t):0},rj=W.createElement(ZO,{fontSize:"small"}),oj=W.createElement(GO,{fontSize:"small"}),aj=[],ij=LP()((function(e){return{root:{height:72,display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",alignItems:"center",justifyContent:"stretch"},line:{background:So(e.palette.getContrastText(e.palette.background.default),.23),flexGrow:1,margin:15,height:1}}})),sj=function(){var e=W.createContext(null);return[function(t){var n=t.children,r=t.initialState,o=t.onChange,a=NP(W.useState(r),2),i=a[0],s=a[1];KD((function(){o&&o(i)}),[i]);var l=W.useCallback((function(e){return s(e)}),[]),u=W.useMemo((function(){return[i,l]}),[i,l]);return W.createElement(e.Provider,{value:u},n)},function(){return W.useContext(e)}]},lj=(jz=NP(sj(),2))[0],uj=jz[1],cj=function(e,t){return Math.min(100,Math.round(Math.max(Number(e),0)/t*100))},dj=function(e,t,n){var r,o,a=void 0===n?{}:n,i=a.symbol,s=void 0===i?"0":i,l=a.allowed,u=a.replace;if(!t||!e)return e;if(u){for(var c=e.split(""),d=0;d!==e.length;d++){var p=u(e[d])||null;null!==p&&(c[d]=p)}e=c.join("")}if(l){var f=new Set;if("function"==typeof l)for(d=0;d!==e.length;d++)l(e[d],d)||f.add(d);else for(d=0;d!==e.length;d++)e[d].match(l)||f.add(d);e=e.split("").filter((function(e,t){return!f.has(t)})).join("")}var h=0,m="";try{for(var g=IP(t),v=g.next();!v.done;v=g.next()){var b=v.value;if(h===e.length)break;b===s||b===e[h]?(m+=e[h],h++):m+=b}}catch(y){r={error:y}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}return m},pj=Symbol("never-pos"),fj=function(e,t,n,r,o,a,i,s,l,u,c,d,p,f,h,m){return kP(kP(kP({},n?{startAdornment:W.createElement(LN,{sx:{position:"relative"},position:"start"},W.createElement(qS,{edge:"start",disabled:u,disableRipple:!h,tabIndex:i,onClick:function(){o&&o(d,e,t,(function(e){return p(e,{skipReadonly:!0})}),f)}},W.createElement(n,{data:e,payload:t,disabled:u,readonly:c})))}:{}),r&&!l?{endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(qS,{edge:"end",disabled:u,disableRipple:!m,tabIndex:s,onClick:function(){a&&a(d,e,t,(function(e){return p(e,{skipReadonly:!0})}),f)}},W.createElement(r,{data:e,payload:t,disabled:u,readonly:c})))}:{}),l?{endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(qS,{disabled:u,edge:"end"},W.createElement(Dx,{color:"inherit",size:20})))}:{})},hj=function(e){return void 0===e&&(e=oA(0)),oA(function(e){var t=(new Date).getTimezoneOffset();return-1===Math.sign(t)?e.subtract(Math.abs(t)+60,"minutes"):e.add(Math.abs(t)+60,"minutes")}(e))},mj=LP()((function(e){return{toolbarBtn:{cursor:"pointer",color:e.palette.text.secondary},toolbarBtnSelected:{color:e.palette.text.primary}}})),gj=function(e){var t,n=e.selected,r=void 0!==n&&n,o=e.className,a=void 0===o?"":o,i=e.label,s=void 0===i?"":i,l=SP(e,["selected","className","label"]),u=mj().classes;return W.createElement(Kx,kP({className:kF(u.toolbarBtn,a,(t={},t[u.toolbarBtnSelected]=r,t))},l),s)},vj=LP()((function(e){return{container:{maxHeight:320,overflowY:"auto",justifyContent:"center"},yearItem:{height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none",color:e.palette.text.primary},selectedYear:{fontSize:26,margin:"10px 0",color:e.palette.primary[500]},disabled:{pointerEvents:"none",color:e.palette.text.disabled}}})),bj=function(e){var t=e.date,n=void 0===t?oA():t,r=e.minDate,o=void 0===r?oA():r,a=e.maxDate,i=void 0===a?oA():a,s=e.onChange,l=void 0===s?function(e){return console.log({change:e})}:s,u=e.disableFuture,c=void 0!==u&&u,d=e.animateYearScrolling,p=void 0===d||d,f=vj().classes,h=W.useRef(null),m=n.get("year");W.useLayoutEffect((function(){var e=h.current.getElementsByClassName(f.selectedYear)[0];e&&e.scrollIntoView({behavior:p?"smooth":"auto"})}),[p]);var g=W.useCallback((function(e){var t=n.clone().set("year",e);l(t)}),[n,l]);return W.createElement("div",{ref:h,className:f.container},function(e,t){for(var n=t.diff(e,"years")+1,r=[],o=0;o!==n;o++)r.push(e.clone().add(o,"years"));return r}(o,i).map((function(e){var t,n=e.get("year"),r=kF(f.yearItem,((t={})[f.selectedYear]=n===m,t[f.disabled]=c&&e.isAfter(oA()),t));return W.createElement("div",{role:"button",key:e.format("YYYY"),className:r,tabIndex:n,onClick:function(){return g(n)},onKeyPress:function(){return g(n)}},n)})))},yj=LP()((function(e){return{switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"10px 0 20px"},daysHeader:{display:"flex",justifyContent:"stretch",alignItems:"stretch"},dayLabel:{flex:1,margin:"0 12px 0 12px",fontSize:13,textAlign:"center",color:e.palette.text.secondary},dayLabelStart:{textAlign:"start"},dayLabelEnd:{textAlign:"end"},monthName:{color:e.palette.text.primary}}})),xj=function(e){var t=e.currentMonth,n=void 0===t?oA():t,r=e.onMonthChange,o=void 0===r?function(e){return console.log({month:e})}:r,a=yj().classes;return W.createElement("div",null,W.createElement("div",{className:a.switchHeader},W.createElement(qS,{onClick:function(){return o(n.clone().subtract(1,"months"))}},W.createElement(sA,null)),W.createElement("div",{className:a.monthName},n.format("MMMM YYYY")),W.createElement(qS,{onClick:function(){return o(n.clone().add(1,"months"))}},W.createElement(fA,null))),W.createElement("div",{className:a.daysHeader},function(){var e=oA.Ls[oA.locale()],t=e.weekdays,n=e.weekdaysMin,r=e.weekStart,o=void 0===r?0:r,a=n||t;return TP(TP([],NP(a.slice(o,7)),!1),NP(a.slice(0,o)),!1).map((function(e){return e.slice(0,1).toUpperCase()}))}().map((function(e,t){var n;return W.createElement("div",{key:t,className:kF(a.dayLabel,(n={},n[a.dayLabelStart]=0===t,n[a.dayLabelEnd]=6===t,n))}," ",e," ")}))))},wj=LP()((function(e){return{calendar:{marginTop:10,display:"grid",gridTemplateColumns:"1fr repeat(5, 2fr) 1fr"},hidden:{opacity:0,pointerEvents:"none"},day:{width:36,height:36,fontSize:14,margin:"0 2px",color:e.palette.text.primary},selected:{color:e.palette.primary[700],backgroundColor:e.palette.primary[200]},disabled:{pointerEvents:"none",color:e.palette.text.disabled},active:{color:e.palette.primary.main,fontWeight:"bold"},cell:{display:"flex",alignItems:"center",justifyContent:"center","& :nth-of-type(7n)":{justifyContent:"flex-end"},"& :nth-of-type(7n + 1)":{justifyContent:"flex-start"}},container:{}}})),kj=function(e){var t=e.onChange,n=void 0===t?function(e){return console.log({change:e})}:t,r=e.disableFuture,o=void 0!==r&&r,a=e.date,i=void 0===a?oA():a,s=wj().classes,l=NP(W.useState(i.clone().startOf("month")),2),u=l[0],c=l[1],d=W.useCallback((function(e){var t=e.clone().endOf("week"),n=u.get("month");return function(e,t){for(var n=t.diff(e,"days")+1,r=[],o=0;o!==n;o++)r.push(e.clone().add(o,"days"));return r}(e,t).map((function(e){var t,r=kF(s.day,s.cell,((t={})[s.hidden]=e.get("month")!==n,t[s.selected]=e.toString()===i.toString(),t[s.disabled]=o&&e.isAfter(oA()),t[s.active]=i.isSame(e,"date"),t));return W.createElement(qS,{key:e.toString(),className:r,onClick:function(){return f(e)}},W.createElement("span",null," ",e.format("DD")," "))}))}),[o,s,i,u]),p=W.useCallback((function(){return function(e,t){for(var n=t.diff(e,"weeks")+1,r=[],o=0;o!==n;o++)r.push(e.clone().add(o,"weeks"));return r}(u.clone().startOf("week"),u.clone().endOf("month").endOf("week")).map((function(e){return W.createElement(W.Fragment,{key:"week-".concat(e.toString())},d(e))}))}),[u]),f=function(e){return n(e)};return W.createElement("div",{className:s.container},W.createElement(xj,{currentMonth:u,onMonthChange:function(e){return c(e)}}),W.createElement("div",{className:s.calendar},p()))},Sj=LP()((function(e){return{container:{width:300,height:420},toolbar:{backgroundColor:e.palette.primary.main,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:100}}})),Cj=function(e){var t=e.date,n=void 0===t?oA():t,r=e.minDate,o=void 0===r?hj():r,a=e.maxDate,i=void 0===a?new Date(4102434e6):a,s=e.onChange,l=void 0===s?function(e){return console.log({change:e})}:s,u=e.disableFuture,c=void 0!==u&&u,d=e.animateYearScrolling,p=void 0===d||d,f=e.openToYearSelection,h=void 0!==f&&f,m=NP(W.useState(n),2),g=m[0],v=m[1],b=NP(W.useState(h),2),y=b[0],x=b[1],w=Sj().classes,k=g.startOf("day"),S=function(e){v(e),l(e)};return W.createElement("div",{className:w.container},W.createElement(z$,{className:w.toolbar},W.createElement(gj,{type:"subheading",onClick:function(){return x(!0)},selected:y,label:g.format("YYYY")}),W.createElement(gj,{type:"display1",onClick:function(){return x(!1)},selected:!y,label:g.format("ddd, MMM DD")})),y?W.createElement(bj,{date:k,onChange:function(e){x(!1),S(e)},minDate:oA(o),maxDate:oA(i),disableFuture:c,animateYearScrolling:p}):W.createElement(kj,{date:k,onChange:S,disableFuture:c}))},Ej="DD/MM/YYYY",Ij="HH:MM",Nj=function(){function e(e,t){var n=this;this.hour=e,this.minute=t,this.toString=function(){return Mj(n)},this.toStamp=function(){return 60*n.hour+n.minute}}return Object.defineProperty(e.prototype,"isValid",{get:function(){var e=hj();return(e=(e=e.set("hour",this.hour)).set("minute",this.minute)).isValid()},enumerable:!1,configurable:!0}),e.fromStamp=function(t){if(null===t)return null;var n=hj().set("hour",0).set("minute",0).add(t,"minute");return new e(n.get("hour"),n.get("minute"))},e}(),Tj=function(){function e(e,t,n){var r=this;this.day=e,this.month=t,this.year=n,this.toString=function(){return _j(r)},this.toStamp=function(){var e=hj(),t=hj().set("hour",0);return(t=(t=(t=t.set("date",r.day)).set("month",r.month-1)).set("year",r.year)).isValid()?Math.max(Math.floor(t.diff(e,"day",!0)),-1):-1}}return Object.defineProperty(e.prototype,"isValid",{get:function(){var e=hj();return(e=(e=(e=e.set("date",this.day)).set("month",this.month-1)).set("year",this.year)).isValid()},enumerable:!1,configurable:!0}),e.fromStamp=function(t){if(null===t)return null;var n=hj().add(t,"days").toDate();return new e(n.getDate(),n.getMonth()+1,n.getFullYear())},e}(),Rj=function(e){if(!e)return null;if("string"!=typeof e)return null;var t=NP(e.split("/"),3),n=t[0],r=void 0===n?"":n,o=t[1],a=void 0===o?"":o,i=t[2],s=void 0===i?"":i;if(2===r.length&&2===a.length&&4===s.length){var l=parseInt(r,10),u=parseInt(a,10),c=parseInt(s,10);return Number.isNaN(l)||Number.isNaN(u)||Number.isNaN(c)?null:new Tj(l,u,c)}return null},_j=function(e){var t="",n="",r="";return e instanceof Tj?(t=e.day.toString(),n=e.month.toString(),r=e.year.toString(),t=1===t.length?"0"+t:t,n=1===n.length?"0"+n:n,"".concat(t,"/").concat(n,"/").concat(r)):null},$j=function(e){if(!e)return null;if("string"!=typeof e)return null;var t=NP(e.split(":"),2),n=t[0],r=t[1];if(n&&r){var o=parseInt(n),a=parseInt(r);return isNaN(o)||isNaN(a)?null:new Nj(o,a)}return null},Mj=function(e){var t="",n="";return e instanceof Nj?(t=e.hour.toString(),n=e.minute.toString(),t=1===t.length?"0"+t:t,n=1===n.length?"0"+n:n,"".concat(t,":").concat(n)):null},Oj=function(){var e=new window.Date,t=new Tj(e.getDate(),e.getMonth()+1,e.getFullYear());return _j(t)},Aj=function(){var e=new window.Date,t=new Nj(e.getHours(),e.getMinutes());return Mj(t)},Lj=Object.freeze({__proto__:null,DATE_PLACEHOLDER:Ej,TIME_PLACEHOLDER:Ij,DATE_EXPR:/(?:\d\d\/\d\d\/\d\d\d\d)/g,TIME_EXPR:/(?:\d\d:\d\d)/g,Time:Nj,Date:Tj,parseDate:Rj,serializeDate:_j,parseTime:$j,serializeTime:Mj,currentDate:Oj,currentTime:Aj,timeStamp:function(e){void 0===e&&(e=Aj());var t=$j(e);return t?t.toStamp():-1},dateStamp:function(e){void 0===e&&(e=Oj());var t=Rj(e);return t?t.toStamp():-1}}),Pj="##/##/####",Dj=Symbol("never-pos"),Fj=LP()((function(e,t){var n=t.size;return{root:{display:"inline-flex",alignItems:"stretch",justifyContent:"stretch",height:n,width:n},container:{position:"relative",height:n,width:n,flex:1},icon:{position:"absolute",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",top:0,left:0,right:0,bottom:0,zIndex:1},spinner:{position:"absolute",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:0}}})),zj=function(e){var t=e.className,n=e.style,r=e.sx,o=e.noProgress,a=void 0!==o&&o,i=e.throwError,s=void 0!==i&&i,l=e.disabled,u=void 0!==l&&l,c=e.onLoadStart,d=e.onLoadEnd,p=e.onClick,f=void 0===p?function(){}:p,h=e.fallback,m=e.children,g=e.size,v=void 0===g?40:g,b=e.thickness,y=void 0===b?3.6:b,x=SP(e,["className","style","sx","noProgress","throwError","disabled","onLoadStart","onLoadEnd","onClick","fallback","children","size","thickness"]),w=Fj({size:v,thickness:y}).classes,k=NP(W.useState(0),2),S=k[0],C=k[1],E=W.useRef(!0);W.useLayoutEffect((function(){return function(){E.current=!1}}),[]);var I=HD(S);return W.createElement(Ii,{className:kF(t,w.root),style:n,sx:r},W.createElement(qS,kP({},x,{className:w.container,disabled:!!S||u,onClick:function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:if(I.current)return[2];t=!0,r.label=1;case 1:return r.trys.push([1,3,4,5]),c&&c(),E.current&&C((function(e){return e+1})),[4,f(e)];case 2:return r.sent(),[3,5];case 3:if(n=r.sent(),t=!1,s)throw n;return h&&h(n),[3,5];case 4:return d&&d(t),E.current&&C((function(e){return e-1})),[7];case 5:return[2]}}))}))}}),!!S&&!a&&W.createElement("div",{className:w.spinner},W.createElement(Dx,{size:v,thickness:y})),W.createElement(Ii,{className:w.icon},m)))},Bj=LP()((function(e){return{root:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},container:{display:"flex",alignItems:"stretch",justifyContent:"stretch",borderRadius:"50%"},backgroundPrimary:{background:e.palette.primary.main},backgroundSecondary:{background:e.palette.secondary.main},backgroundError:{background:e.palette.error.main},backgroundInfo:{background:e.palette.info.main},backgroundSuccess:{background:e.palette.success.main},backgroundWarning:{background:e.palette.warning.main}}})),jj="hours",Wj="minutes",Vj=130,Hj=130,Uj=Vj-Vj,Gj=0-Hj,qj=function(e,t,n){var r=t-Vj,o=n-Hj,a=57.29577951308232*(Math.atan2(Uj,Gj)-Math.atan2(r,o));return a=Math.round(a/e)*e,a%=360,Math.floor(a/e)||0},Yj=LP()((function(e){return{pointer:{width:2,backgroundColor:e.palette.primary.main,height:"40%",position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},thumb:{width:4,height:4,backgroundColor:e.palette.primary.main,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid ".concat(e.palette.primary.main),boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}}})),Kj=function(e){var t,n=e.hasSelected,r=void 0!==n&&n,o=e.value,a=void 0===o?0:o,i=e.max,s=void 0===i?0:i,l=Yj().classes,u=W.useCallback((function(){return{transform:"rotateZ(".concat(360/s*a,"deg)")}}),[a,s]);return W.createElement("div",{className:l.pointer,style:u()},W.createElement("div",{className:kF(l.thumb,(t={},t[l.noPoint]=r,t))}))},Xj=LP()({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",marginTop:40},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none",userSelect:"none",cursor:"pointer"},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",touchAction:"none"}}),Qj=new function(){var e=this;this.lastOffsetX=0,this.lastOffsetY=0,this.toMouseEvent=function(t){var n=t.target,r=t.targetTouches,o=n.getBoundingClientRect(),a=o.left,i=o.top,s=window.scrollX,l=window.scrollY,u=NP(r,1)[0];if(u){var c=u.pageX,d=u.pageY;e.lastOffsetX=c-s-a,e.lastOffsetY=d-l-i}return{offsetX:e.lastOffsetX,offsetY:e.lastOffsetY}}},Zj=function(e){var t=e.type,n=void 0===t?"":t,r=e.value,o=void 0===r?0:r,a=e.children,i=e.onChange,s=void 0===i?function(e){return console.log({value:e})}:i,l=Xj().classes,u=function(e){var t,r,o,a,i,l=n===Wj?(t=e.offsetX,r=e.offsetY,void 0===o&&(o=6),qj(o,t,r)):(a=e.offsetX,i=e.offsetY,(qj(30,a,i)||12)%12);s(l)};return W.createElement("div",{className:l.container},W.createElement("div",{className:l.clock},W.createElement("div",{className:l.squareMask,onMouseMove:function(e){e.preventDefault(),1===e.buttons&&u(e.nativeEvent)},onTouchMove:function(e){return e.stopPropagation(),u(Qj.toMouseEvent(e)),!0}}),W.createElement(Kj,{max:n===jj?12:60,hasSelected:n===jj||o%5==0,value:o}),a))},Jj=[[0,5],[55,19.6],[94.4,59.5],[109,114],[94.4,168.5],[54.5,208.4],[0,223],[-54.5,208.4],[-94.4,168.5],[-109,114],[-94.4,59.5],[-54.5,19.6]],eW=LP()((function(e){return{clockNumber:{width:32,height:32,position:"absolute",left:"calc(50% - 16px)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",pointerEvents:"all",color:e.palette.text.primary},selected:{color:e.palette.getContrastText(e.palette.text.primary)}}})),tW=function(e){var t,n=e.selected,r=void 0!==n&&n,o=e.label,a=void 0===o?"":o,i=e.index,s=void 0===i?0:i,l=SP(e,["selected","label","index"]),u=eW().classes,c=kF(u.clockNumber,((t={})[u.selected]=r,t));return W.createElement("div",kP({className:c,style:function(e){var t=Jj[e];return{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px")}}(s)},l),a)},nW=function(e){var t=e.date,n=void 0===t?oA():t,r=e.onChange,o=void 0===r?function(e){return console.log({change:e})}:r,a=function(e){var t=n.clone().hour(e);o(t)},i=n.get("hours"),s=Number(n.format("hh"));return W.createElement(Zj,{type:jj,onChange:a,value:i},W.createElement(tW,{onClick:function(){return a(12)},label:"12",selected:12===s,index:0}),W.createElement(tW,{onClick:function(){return a(1)},label:"1",selected:1===s,index:1}),W.createElement(tW,{onClick:function(){return a(2)},label:"2",selected:2===s,index:2}),W.createElement(tW,{onClick:function(){return a(3)},label:"3",selected:3===s,index:3}),W.createElement(tW,{onClick:function(){return a(4)},label:"4",selected:4===s,index:4}),W.createElement(tW,{onClick:function(){return a(5)},label:"5",selected:5===s,index:5}),W.createElement(tW,{onClick:function(){return a(6)},label:"6",selected:6===s,index:6}),W.createElement(tW,{onClick:function(){return a(7)},label:"7",selected:7===s,index:7}),W.createElement(tW,{onClick:function(){return a(8)},label:"8",selected:8===s,index:8}),W.createElement(tW,{onClick:function(){return a(9)},label:"9",selected:9===s,index:9}),W.createElement(tW,{onClick:function(){return a(10)},label:"10",selected:10===s,index:10}),W.createElement(tW,{onClick:function(){return a(11)},label:"11",selected:11===s,index:11}))},rW=function(e){var t=e.onChange,n=void 0===t?function(e){return console.log({change:e})}:t,r=e.date,o=void 0===r?oA():r,a=o.get("minutes"),i=function(e){var t=o.clone().minute(e);n(t)};return W.createElement(Zj,{type:Wj,onChange:i,value:a},W.createElement(tW,{onClick:function(){return i(0)},label:"00",selected:0===a,index:0}),W.createElement(tW,{onClick:function(){return i(5)},label:"05",selected:5===a,index:1}),W.createElement(tW,{onClick:function(){return i(10)},label:"10",selected:10===a,index:2}),W.createElement(tW,{onClick:function(){return i(15)},label:"15",selected:15===a,index:3}),W.createElement(tW,{onClick:function(){return i(20)},label:"20",selected:20===a,index:4}),W.createElement(tW,{onClick:function(){return i(25)},label:"25",selected:25===a,index:5}),W.createElement(tW,{onClick:function(){return i(30)},label:"30",selected:30===a,index:6}),W.createElement(tW,{onClick:function(){return i(35)},label:"35",selected:35===a,index:7}),W.createElement(tW,{onClick:function(){return i(40)},label:"40",selected:40===a,index:8}),W.createElement(tW,{onClick:function(){return i(45)},label:"45",selected:45===a,index:9}),W.createElement(tW,{onClick:function(){return i(50)},label:"50",selected:50===a,index:10}),W.createElement(tW,{onClick:function(){return i(55)},label:"55",selected:55===a,index:11}))},oW=function(e){return{container:{width:300,height:420},toolbar:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:e.palette.primary.main,height:100}}},aW=LP()((function(e){return kP(kP({},oW(e)),{toolbar:kP(kP({},oW(e).toolbar),{flexDirection:"row",alignItems:"center",paddingLeft:50}),separator:{margin:"0 2px 0 4px",cursor:"default"},ampmSelection:{marginLeft:20,marginRight:-20},ampmLabel:{fontSize:18}})})),iW=function(e){var t=e.onChange,n=void 0===t?function(e){return console.log({change:e})}:t,r=e.date,o=void 0===r?oA():r,a=NP(W.useState(o),2),i=a[0],s=a[1],l=aW().classes,u=NP(W.useState({meridiemMode:i.format("a"),isHourViewShown:!0}),2),c=u[0],d=u[1],p=W.useCallback((function(e){if(e.format("a")!==c.meridiemMode){var t="am"===c.meridiemMode?e.hour()-12:e.hour()+12;e=e.clone().hour(t)}s(e),n(e)}),[c]),f=function(e){return function(){return d((function(t){return kP(kP({},t),{meridiemMode:e})}))}};return W.useEffect((function(){return p(i)}),[c.meridiemMode]),W.createElement("div",{className:l.container},W.createElement(z$,{className:l.toolbar},W.createElement(gj,{type:"display3",onClick:function(){return d((function(e){return kP(kP({},e),{isHourViewShown:!0})}))},selected:c.isHourViewShown,label:"am"===c.meridiemMode?i.format("hh"):i.format("HH")}),W.createElement(gj,{type:"display3",label:":",selected:!1,className:l.separator}),W.createElement(gj,{type:"display3",onClick:function(){return d((function(e){return kP(kP({},e),{isHourViewShown:!1})}))},selected:!c.isHourViewShown,label:i.format("mm")}),W.createElement("div",{className:l.ampmSelection},W.createElement(gj,{className:l.ampmLabel,selected:"am"===c.meridiemMode,type:"subheading",label:"AM",onClick:f("am")}),W.createElement(gj,{className:l.ampmLabel,selected:"pm"===c.meridiemMode,type:"subheading",label:"PM",onClick:f("pm")}))),c.isHourViewShown?W.createElement(nW,{date:i,onChange:p}):W.createElement(rW,{date:i,onChange:p}))},sW="##:##",lW=Symbol("never-pos"),uW=LP()((function(e){return{switchBase:{color:"".concat(e.palette.primary.main," !important")},checked:{color:"".concat(e.palette.primary.main," !important")},track:{background:"".concat(So(e.palette.primary.main,.4)," !important")}}})),cW=function(e,t,n,r,o,a,i,s,l,u,c,d){return W.createElement(qS,{disableRipple:!d,tabIndex:u,onClick:function(){l&&l(a,t,n,(function(e){return s(e,{skipReadonly:!0})}),i)},edge:c},W.createElement(e,{data:t,payload:n,disabled:r,readonly:o}))},dW=function(e){return new Promise((function(t){var n=document.createElement("input");n.setAttribute("type","file"),n.style.display="none",e&&(n.accept=e),document.body.appendChild(n);var r=!0;n.onchange=function(){document.body.contains(n)&&document.body.removeChild(n),r=!1;var e=n.files;(null==e?void 0:e.length)&&(t(e[0]),n.value="")},new Promise((function(e){var t=function(){document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),e()};KP(1e3).then((function(){document.addEventListener("mousemove",t),document.addEventListener("touchmove",t)}))})).then((function(){setTimeout((function(){r&&(document.body.contains(n)&&document.body.removeChild(n),t(null))}),1e3)})),n.click()}))},pW=null,fW=new uD,hW=function(e){return CP(void 0,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return[4,fW.next(e)];case 1:return n.sent(),pW?(pW(e),[2]):((t=document.createElement("a")).href=e,t.target="_blank",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),[2])}}))}))};hW.override=function(e){pW=e},hW.listen=function(e){return fW.subscribe(e)};var mW=function(e,t){void 0===t&&(t={});var n=NP(DD(null),2),r=n[0],o=n[1],a=Rz((function(){return CP(void 0,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),o(t),[2]}}))}))}),t),i=t.deps;W.useEffect((function(){a.execute()}),void 0===i?[]:i);var s=W.useCallback((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return r.current?[3,2]:[4,KP(250)];case 1:return e.sent(),[3,0];case 2:return[2,r.current]}}))}))}),[]);return[r.current,a,o,{waitForResult:s,data$:r}]},gW=[],vW=function(e,t,n,r){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(o){switch(o.label){case 0:return Array.isArray(e)?[4,Promise.all(e.map((function(e){return t(e,n,r)})))]:[3,2];case 1:case 3:return[2,o.sent()];case 2:return e?[4,t(e,n,r)]:[3,4];case 4:return[2,null]}}))}))},bW=Symbol("never-pos"),yW=W.createElement(BO,{fontSize:"small"}),xW=W.createElement(AO,{fontSize:"small"}),wW=["Yes","No"],kW=LP()({item:{whiteSpace:"break-spaces"}}),SW=function(e){var t=e.value,n=e.label,r=kW().classes;return W.createElement(Yw,{className:r.item,key:t,value:t},n)},CW=LP()({item:{whiteSpace:"break-spaces"}}),EW=function(){var e=CW().classes;return W.createElement(Yw,{className:e.item},"Create item")},IW=LP()((function(e){return{listHeader:{background:"transparent",paddingTop:e.spacing(1.5)}}})),NW=function(e){var t=e.type,n=e.mode,r=e.pattern,o=e.getValue,a=e.loading,i=e.placeholder,s=e.autoComplete,l=e.onTextChange,u=e.reloadSubject,c=IW().classes,d=W.useRef(null);W.useEffect((function(){return u.subscribe((function(){var e=d.current;e&&(e.focus(),e.value=o())}))}),[]),W.useEffect((function(){var e=d.current;!a&&e&&(e.focus(),e.value=o())}),[a]);var p=W.useMemo((function(){return tD((function(e){l(e.target.value)}),1500)}),[]);W.useEffect((function(){return function(){p.flush()}}),[]);var f=W.useCallback((function(e){"Escape"!==e.key&&e.stopPropagation()}),[]);return W.createElement(tC,{className:c.listHeader},W.createElement(eO,{inputRef:d,type:t,variant:"standard",autoFocus:!0,fullWidth:!0,disabled:a,defaultValue:o,autoComplete:s,placeholder:i,inputProps:{pattern:r},InputProps:{inputMode:n,startAdornment:W.createElement(LN,{position:"start"},W.createElement(VA,null)),endAdornment:W.createElement(LN,{position:"end"},W.createElement(qS,{disabled:a,onClick:function(){l("")}},a?W.createElement(Dx,{size:24}):W.createElement(TO,null)))},onChange:p,onKeyDown:f,sx:{mb:1}}))},TW="react-declarative__searchViewRoot",RW=LP()({root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",height:360,width:"100%"},item:{whiteSpace:"break-spaces"},stretch:{display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *:nth-of-type(1)":{flex:1}}}),_W=function(e){var t=e.value,n=e.items,r=e.item,o=e.payload,a=e.loading,i=e.hasMore,s=e.SearchItem,l=e.CreateButton,u=e.onItemChange,c=e.onDataRequest,d=e.onCreate,p=e.onLoadStart,f=e.onLoadEnd,h=e.fallback,m=e.throwError,g=RW().classes,v=W.useRef(null),b=NP(W.useState(""),2),y=b[0],x=b[1],w=NP(W.useState(0),2),k=w[0],S=w[1],C=W.useCallback((function(){S((function(e){return e+1})),p&&p()}),[]),E=W.useCallback((function(e){S((function(e){return e-1})),f&&f(e)}),[]),I=a||!!k;W.useLayoutEffect((function(){var e=v.current,t=null==e?void 0:e.closest(".".concat(TW)),n=null==t?void 0:t.querySelector("input");x((null==n?void 0:n.value)||"")}),[I]);var N=W.useCallback((function(){return!I&&d||r||n.length?null:W.createElement(Yw,{className:g.item,disabled:!0},I?"Loading":"Nothing found")}),[r,n,I,d]),T=W.useCallback((function(){return d&&y?r||n.length||I?null:W.createElement("div",{className:g.stretch,onClick:function(){d(y)}},W.createElement(l,{payload:o,search:y})):null}),[r,n,I,y,d]);return W.createElement(Ii,{ref:v,p:1},W.createElement(fz,{key:"".concat(t,"-").concat(null==r?void 0:r.value),className:g.root,onDataRequest:c,onLoadStart:C,onLoadEnd:E,fallback:h,throwError:m,loading:I,hasMore:i,minRowHeight:45,bufferSize:25},r&&W.createElement("div",{className:g.stretch},W.createElement(s,{disabled:!0,payload:o,data:r.data,label:r.label,value:r.value})),N(),n.filter((function(e){return e.value!==(null==r?void 0:r.value)})).map((function(e){return W.createElement("div",{className:g.stretch,onClick:function(){return u(e)},key:e.value},W.createElement(s,{disabled:!1,payload:o,data:e.data,label:e.label,value:e.value}))})),T()))},$W=LP()({root:{minHeight:425,minWidth:290,maxHeight:"45vh",overflowY:"auto",overflowX:"hidden"}}),MW=function(e){var t=e.className,n=e.style,r=e.sx,o=e.type,a=void 0===o?"text":o,i=e.mode,s=void 0===i?"text":i;e.variant;var l=e.pattern,u=e.value,c=e.label,d=e.placeholder,p=e.searchText,f=e.changeSubject,h=e.onChange,m=void 0===h?function(){}:h,g=e.onTextChange,v=void 0===g?function(){}:g,b=e.delay,y=void 0===b?500:b,x=e.limit,w=void 0===x?25:x,k=e.payload,S=void 0===k?{}:k,C=e.autoComplete;e.fullWidth;var E=e.disabled,I=e.onCreate,N=e.onLoadStart,T=e.onLoadEnd,R=e.fallback,_=e.handler,$=e.inputRef,M=e.SearchItem,O=void 0===M?SW:M,A=e.SearchInput,L=void 0===A?NW:A,P=e.CreateButton,D=void 0===P?EW:P,F=e.startAdornment,z=void 0===F?null:F,B=e.endAdornment,j=void 0===B?null:B,V=e.throwError,H=SP(e,["className","style","sx","type","mode","variant","pattern","value","label","placeholder","searchText","changeSubject","onChange","onTextChange","delay","limit","payload","autoComplete","fullWidth","disabled","onCreate","onLoadStart","onLoadEnd","fallback","handler","inputRef","SearchItem","SearchInput","CreateButton","startAdornment","endAdornment","throwError"]),U=$W().classes,G=BD(),q=W.useRef(null),Y=zD(S),K=NP(DD(!1),2),X=K[0],Q=K[1],Z=NP(W.useState((function(){return{item:null,open:!1,value:""}})),2),J=Z[0],ee=Z[1],te=BD(f),ne=HD(J.value),re=rF(m),oe=rF(v),ae=TB((function(){return CP(void 0,void 0,void 0,(function(){var e,t,n;return EP(this,(function(r){switch(r.label){case 0:return e={value:"",item:null,open:!1},u?"function"!=typeof u?[3,2]:[4,u()]:[3,3];case 1:return t=r.sent(),Object.assign(e,{item:t}),[3,3];case 2:u&&Object.assign(e,{item:u}),r.label=3;case 3:return p?"function"!=typeof p?[3,5]:[4,p()]:[3,6];case 4:return n=r.sent(),Object.assign(e,{value:n}),[3,6];case 5:p&&Object.assign(e,{value:p}),r.label=6;case 6:return ee(e),Q(!0),[2]}}))}))}),{onLoadStart:N,onLoadEnd:T,fallback:R,throwError:V}).execute;W.useEffect((function(){ae()}),[]),W.useEffect((function(){return te.subscribe((function(){X.current&&(Q(!1),ae())}))}),[]);var ie=RB({reloadSubject:G,handler:function(e,t,n,r){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(o){switch(o.label){case 0:return[4,_(ne.current,e,t,n,r)];case 1:return[2,o.sent()]}}))}))},onLoadStart:N,onLoadEnd:T,fallback:R,throwError:V,delay:y,limit:w}),se=ie.data,le=ie.hasMore,ue=ie.loading,ce=ie.onSkip,de=ie.clear,pe=W.useMemo((function(){var e,t=new Set([(null===(e=J.item)||void 0===e?void 0:e.value)||""]);return se.filter((function(e){var n=!t.has(e.value);return t.add(e.value),n}))}),[se,J.item]);KD((function(){X.current&&(G.next(),oe(J.value))}),[J.value]),KD((function(){var e;X.current&&(G.next(),re(J.item),oe((null===(e=J.item)||void 0===e?void 0:e.label)||""))}),[J.item]);var fe=W.useCallback((function(e){return ee((function(t){return kP(kP({},t),{open:e})}))}),[]),he=W.useCallback((function(e){return ee((function(t){return kP(kP({},t),{value:e,item:null})}))}),[]),me=W.useCallback((function(e){return ee((function(t){return kP(kP({},t),{value:e.label,open:!1,item:e})}))}),[]),ge=W.useCallback((function(){return ee((function(){return{open:!1,value:"",item:null}}))}),[]),ve=rF((function(){var e;return(null===(e=J.item)||void 0===e?void 0:e.label)||J.value||""})),be=ve();return W.createElement(Ii,{ref:q,onContextMenu:function(){return fe(!1)},className:t,style:n,sx:r},W.createElement(eO,kP({},H,{fullWidth:!0,key:be,focused:!1,autoComplete:C,type:a,label:c,placeholder:d,ref:$,onClick:function(){return fe(!0)},value:be,disabled:E||!X.current,inputProps:{pattern:l},InputProps:{inputMode:s,readOnly:!0,startAdornment:z?W.createElement(LN,{position:"start"},z):void 0,endAdornment:W.createElement(LN,{sx:{display:J.item||j?void 0:"none"},position:"end"},J.item?W.createElement(qS,{size:"small",onClick:function(e){e.stopPropagation(),ge()},edge:"end"},W.createElement(TO,null)):j)}})),W.createElement(Fk,{className:TW,anchorEl:q.current,open:J.open,onClose:function(){de(),fe(!1)}},W.createElement("div",{className:U.root},J.open&&W.createElement(L,{type:a,mode:s,pattern:l,placeholder:c||d,autoComplete:C,reloadSubject:G,loading:ue,getValue:ve,onTextChange:he}),J.open&&W.createElement(_W,{items:pe,value:J.value,payload:Y,item:J.item,hasMore:le,loading:ue,onDataRequest:ce,onLoadStart:N,onLoadEnd:T,fallback:R,throwError:V,SearchItem:O,CreateButton:D,onItemChange:me,onCreate:I?function(e){I(e),fe(!1)}:void 0}))))},OW=function(){return null},AW=function(){return null},LW=function(){throw new Error("react-declarative DictField dictValue callback is not provided")},PW=function(){throw new Error("react-declarative DictField dictSearch callback is not provided")},DW=function(){return""},FW=Symbol("never-pos"),zW=function(e,t,n,r,o,a,i,s,l,u,c,d){return W.createElement(qS,{disableRipple:!d,tabIndex:u,onClick:function(){l&&l(a,t,n,(function(e){return s(e,{skipReadonly:!0})}),i)},edge:c},W.createElement(e,{data:t,payload:n,disabled:r,readonly:o}))},BW=W.createElement(ZO,{fontSize:"small"}),jW=W.createElement(GO,{fontSize:"small"}),WW=LP()((function(e){return{ul:{listStyleType:"none",padding:0,"& > *:not(:first-of-type)":{marginLeft:"32px"}},li:{paddingBottom:"6px",paddingLeft:"16px",paddingRight:"16px"},listItem:{"&:hover":{background:"transparent !important"}},hidden:{display:"none"},icons:{fill:e.palette.action.active}}})),VW=function(e){var t=e.className,n=e.style,r=e.sx,o=e.disabled,a=e.loading,i=e.readOnly,s=e.items,l=void 0===s?[]:s,u=e.value,c=void 0===u?[]:u,d=e.onChange,p=void 0===d?function(){}:d,f=SP(e,["className","style","sx","disabled","loading","readOnly","items","value","onChange"]),h=WW().classes,m=W.useRef(!1),g=NP(DD(c||[]),2),v=g[0],b=g[1],y=NP(W.useState(!1),2),x=y[0],w=y[1];KD((function(){m.current=!0,b(c||[])}),[c]);var k=JD(),S=k.reloadTrigger,C=k.doReload,E=XD(v.current);KD((function(){m.current?m.current=!1:v.current.length?p(v.current):p(null)}),[v.current]),W.useEffect((function(){if(x){var e=E.once((function(){var t=tD((function(e){var t=e.clientX,n=e.clientY,r=document.elementFromPoint(t,n);(null==r?void 0:r.closest(".MuiAutocomplete-popper"))||(w(!1),C())}),45);document.addEventListener("mousemove",t),e=function(){document.removeEventListener("mousemove",t),t.clear()}}));return function(){return e()}}}),[x]);var I=W.useMemo((function(){var e=l.map((function(e){var t=e.label,n=e.value,r=e.child,o=void 0===r?[]:r,a=QD(),i=o.map((function(e){return{label:e.label,value:e.value,groupId:a}}));return{label:t,value:n,groupId:a,child:i.length?i:void 0}}));e=function(e){void 0===e&&(e=[]);var t=[],n=function(e){return void 0===e&&(e=[]),e.forEach((function(e){var r=e.child||[];n(r),t.push(e)}))};return n(e),t}(e);var t=new Map,n=new Map;return e.forEach((function(e){if(e.child){var r={label:e.label,child:e.child.map((function(e){return e.value}))};t.set(e.groupId,r),n.set(e.value,r)}})),{items:e,groupIdMap:t,groupValueMap:n}}),[l]),N=I.items,T=I.groupIdMap,R=I.groupValueMap,_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=v.current,r=new Set(n),o=e.some((function(e){return r.has(e)}));e.forEach((function(e){o?r.delete(e):r.add(e)}));var a=TP([],NP(r),!1);b(a),p(a)},$=W.useMemo((function(){return N.filter((function(e){return v.current.includes(e.value)}))}),[v.current,N]);return W.createElement(XC,{key:S,loading:a,className:t,style:n,sx:r,options:N,value:$,open:x,onOpen:function(){return w(!0)},onClose:function(){return w(!1)},multiple:!0,disabled:o,readOnly:i,disableCloseOnSelect:!0,groupBy:function(e){return e.groupId},getOptionLabel:function(e){return e.label||""},renderInput:function(e){return W.createElement(eO,kP({},e,f,{InputProps:kP(kP(kP({},e.InputProps),f.InputProps),{readOnly:i})}))},renderGroup:function(e){var t=T.get(e.group);if(!t)return W.createElement(W.Fragment,null,e.children);var n=t.child.every((function(e){return v.current.includes(e)})),r=t.child.some((function(e){return v.current.includes(e)}));return W.createElement("li",{key:e.key},W.createElement("ul",{className:h.ul},W.createElement(vT,{key:-1,onClick:function(){return _.apply(void 0,TP([],NP(t.child),!1))},className:h.li,dense:!0},W.createElement(Vx,null,W.createElement(fI,{disableRipple:!0,icon:BW,checkedIcon:jW,checked:n,indeterminate:r})),W.createElement(Vw,{primary:t.label}),W.createElement(gO,{className:h.icons})),e.children))},renderOption:function(e,t,n){var r;return W.createElement(vT,{key:t.value,className:kF(h.li,(r={},r[h.hidden]=R.has(t.value),r)),onClick:function(){return _(t.value)},dense:!0},W.createElement(Vx,null,W.createElement(fI,{disableRipple:!0,icon:BW,checkedIcon:jW,checked:n.selected})),W.createElement(Vw,{primary:t.label}))},renderTags:function(e,t){return W.createElement(W.Fragment,null,e.map((function(e,n){return W.createElement(uC,kP({variant:"outlined"},t({index:n}),{label:e.label,onDelete:i?void 0:function(){return _(e.value)}}))})))}})},HW=[],UW={CheckBox:function(e){var t=e.disabled,n=e.onChange,r=e.title,o=e.value;return W.createElement(lN,null,W.createElement(oN,{control:W.createElement(fI,{disabled:t,checked:Boolean(o),onChange:function(e,t){return n(t)}}),label:r||""}))},Combo:function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.description,a=void 0===o?"":o,i=e.placeholder,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.itemList,d=void 0===c?[]:c,p=e.virtualListBox,f=e.watchItemList,h=e.labelShrink,m=e.noDeselect,g=e.freeSolo,v=e.loading,b=e.title,y=void 0===b?"":b,x=e.dirty,w=e.invalid,k=e.incorrect,S=e.fieldReadonly,C=e.withContextMenu,E=e.tr,I=void 0===E?function(e){return e.toString()}:E,N=e.onChange,T=YB().isMobile,R=qD().object,_=$D(),$=dF().requestSubject,M=JD(),O=M.reloadTrigger,A=M.doReload,L=NP(W.useState((function(){return{options:[],labels:{}}})),2),P=L[0],D=L[1],F=NP(W.useState(!1),2),z=F[0],B=F[1],j=W.useRef(!1),V=ZB([P],10),H=HD(P.labels),U=W.useMemo((function(){return Array.isArray(t)?NP(t,1)[0]:t}),[t]),G=W.useMemo((function(){return U?[U]:U}),[U]),q=qB({data:R,payload:_,itemList:d,keepRaw:!1,onValueChange:N,placeholder:s,tip:void 0,title:y,tr:I,type:FP.Combo,value:G}),Y=QB().fallback,K=Rz((function(e){return CP(void 0,void 0,void 0,(function(){var t,n,r,o,a,i,s;return EP(this,(function(l){switch(l.label){case 0:return t={},d=d||[],r=[[]],o=Set.bind,i=(a=Object).values,"function"!=typeof d?[3,2]:[4,Promise.resolve(d(e,_))];case 1:return s=l.sent(),[3,3];case 2:s=d,l.label=3;case 3:return n=TP.apply(void 0,r.concat([NP.apply(void 0,[new(o.apply(Set,[void 0,i.apply(a,[s])]))]),!1])),[4,Promise.all(n.map((function(n){return CP(void 0,void 0,void 0,(function(){var r,o;return EP(this,(function(a){switch(a.label){case 0:return r=t,o=n,[4,Promise.resolve(I(n,e,_))];case 1:return[2,r[o]=a.sent()]}}))}))})))];case 4:return l.sent(),g&&U&&!n.includes(U)&&n.push(U),D({labels:t,options:n}),j.current=!0,[4,V()];case 5:return l.sent(),[2]}}))}))}),{fallback:Y}),X=K.loading,Q=K.execute,Z=function(e){return Object.values(e||{}).sort((function(e,t){return t.localeCompare(e)})).join("-")}(U),J=W.useRef(null),ee=W.useRef(!0);W.useEffect((function(){if(!ee.current){if(J.current===R)return;if(!f)return}J.current=R,ee.current=!1,Q(R)}),[Z,n,x,w,k,R,r]);var te=function(e,t){return function(n){return W.createElement(eO,kP({},n,{sx:kP({},!u&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),variant:u?"outlined":"standard",placeholder:e?void 0:s,label:y,helperText:x&&(w||k)||a,error:x&&(null!==w||null!==k),InputProps:kP(kP({},n.InputProps),{readOnly:t,endAdornment:W.createElement(W.Fragment,null,e?W.createElement(Dx,{color:"inherit",size:20}):null,n.InputProps.endAdornment)}),InputLabelProps:kP(kP({},n.InputLabelProps),h&&{shrink:!0})}))}},ne=function(e,t,n){var r=H.current;return W.createElement("li",kP({},e),W.createElement(IR,{icon:JB,checkedIcon:ej,style:{marginRight:8},checked:n.selected}),g?t:r[t]||"".concat(t," (unknown)"))},re=function(e){var t=H.current;return g?e:t[e]||"".concat(e," (unknown)")},oe=BD();return W.useEffect((function(){if(z){var e=oe.once((function(){var t=tD((function(e){var t=e.clientX,n=e.clientY,r=document.elementFromPoint(t,n);(null==r?void 0:r.closest(".MuiAutocomplete-popper"))||(B(!1),A())}),45);document.addEventListener("mousemove",t),e=function(){document.removeEventListener("mousemove",t),t.clear()}}));return function(){return e()}}}),[z]),W.useEffect((function(){return C&&$.subscribe((function(){B(!1)}))}),[]),X||!j.current||v?W.createElement(XC,{disableCloseOnSelect:!0,disableClearable:m,disabled:!0,loading:!0,value:null,options:tj,onChange:function(){return null},freeSolo:g,ListboxComponent:p?vz:void 0,getOptionLabel:re,renderInput:te(!0,!0),renderOption:ne}):W.createElement(XC,{key:O,onOpen:function(){S||(T?q():B(!0))},onClose:function(){return B(!1)},disableCloseOnSelect:!0,disableClearable:m,loading:X,value:U||null,onChange:function(e,t){return N(t||null),void oe.next()},getOptionLabel:re,freeSolo:g,options:P.options,disabled:n,readOnly:r,ListboxComponent:p?vz:void 0,renderInput:te(!1,r),renderOption:ne})},Items:function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.description,a=e.placeholder,i=e.outlined,s=void 0!==i&&i,l=e.itemList,u=void 0===l?[]:l,c=e.freeSolo,d=e.noDeselect,p=e.virtualListBox,f=e.watchItemList,h=e.labelShrink,m=e.loading,g=e.dirty,v=e.invalid,b=e.incorrect,y=e.title,x=e.fieldReadonly,w=e.tr,k=void 0===w?function(e){return e.toString()}:w,S=e.onChange,C=e.withContextMenu,E=YB().isMobile,I=qD().object,N=$D(),T=dF().requestSubject,R=JD(),_=R.reloadTrigger,$=R.doReload,M=NP(W.useState((function(){return{options:[],labels:{}}})),2),O=M[0],A=M[1],L=NP(W.useState(!1),2),P=L[0],D=L[1],F=W.useRef(!1),z=ZB([O],10),B=HD(O.labels),j=W.useMemo((function(){if("string"==typeof t)return[t];if(t){var e=Object.values(t);return WP(e)?[]:e}return[]}),[t]),V=qB({data:I,payload:N,itemList:u,keepRaw:!1,onValueChange:S,placeholder:a,tip:void 0,title:y,tr:k,type:FP.Items,value:j}),H=W.useRef(j),U=W.useMemo((function(){return function(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=TP([],NP(e),!1).sort(nj),r=TP([],NP(t),!1).sort(nj);return n.every((function(e,t){return e===r[t]}))}return!1}(H.current,j)?H.current:(H.current=j,j)}),[j]),G=HD(U),q=QB().fallback,Y=Rz((function(e){return CP(void 0,void 0,void 0,(function(){var t,n,r,o,a,i,s;return EP(this,(function(l){switch(l.label){case 0:return t={},u=u||[],r=[[]],o=Set.bind,i=(a=Object).values,"function"!=typeof u?[3,2]:[4,Promise.resolve(u(e,N))];case 1:return s=l.sent(),[3,3];case 2:s=u,l.label=3;case 3:return n=TP.apply(void 0,r.concat([NP.apply(void 0,[new(o.apply(Set,[void 0,i.apply(a,[s])]))]),!1])),[4,Promise.all(n.map((function(n){return CP(void 0,void 0,void 0,(function(){var r,o;return EP(this,(function(a){switch(a.label){case 0:return r=t,o=n,[4,Promise.resolve(k(n,e,N))];case 1:return[2,r[o]=a.sent()]}}))}))})))];case 4:return l.sent(),c&&U.forEach((function(e){n.includes(e)||n.push(e)})),A({options:n,labels:t}),F.current=!0,[4,z()];case 5:return l.sent(),[2]}}))}))}),{fallback:q}),K=Y.loading,X=Y.execute,Q=function(e){return Object.values(e||{}).sort((function(e,t){return t.localeCompare(e)})).join("-")}(U),Z=W.useRef(null),J=W.useRef(!0);W.useEffect((function(){if(!J.current){if(Z.current===I)return;if(!f)return}Z.current=I,J.current=!1,X(I)}),[Q,n,g,v,b,I,r]);var ee=BD();W.useEffect((function(){if(P){var e=ee.once((function(){var t=tD((function(e){var t=e.clientX,n=e.clientY,r=document.elementFromPoint(t,n);(null==r?void 0:r.closest(".MuiAutocomplete-popper"))||(D(!1),$())}),45);document.addEventListener("mousemove",t),e=function(){document.removeEventListener("mousemove",t),t.clear()}}));return function(){return e()}}}),[P]),W.useEffect((function(){return C&&T.subscribe((function(){D(!1)}))}),[]);var te=function(e,t){var n=B.current;return e.map((function(e,r){return W.createElement(uC,kP({variant:s?"outlined":"filled",label:c?e:n[e]||"".concat(e," (unknown)")},t({index:r})))}))},ne=function(e){var t=B.current;return c?e:t[e]||"".concat(e," (unknown)")},re=function(e,t){return function(n){return W.createElement(eO,kP({},n,{sx:kP({},!s&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),variant:s?"outlined":"standard",label:y,helperText:g&&(v||b)||o,placeholder:e||G.current.length?void 0:a,error:g&&(null!==v||null!==b),InputProps:kP(kP({},n.InputProps),{readOnly:t,endAdornment:W.createElement(W.Fragment,null,e?W.createElement(Dx,{color:"inherit",size:20}):null,n.InputProps.endAdornment)}),InputLabelProps:kP(kP({},n.InputLabelProps),h&&{shrink:!0})}))}},oe=function(e,t,n){var r=B.current;return W.createElement("li",kP({},e),W.createElement(fI,{icon:rj,checkedIcon:oj,style:{marginRight:8},checked:n.selected}),c?t:r[t]||"".concat(t," (unknown)"))};return K||!F.current||m?W.createElement(XC,{multiple:!0,disableCloseOnSelect:!0,disableClearable:d,loading:!0,disabled:!0,freeSolo:c,onChange:function(){return null},value:aj,options:aj,ListboxComponent:p?vz:void 0,getOptionLabel:ne,renderTags:te,renderInput:re(!0,!0),renderOption:oe}):W.createElement(XC,{key:_,multiple:!0,loading:K,disabled:n,disableCloseOnSelect:!0,disableClearable:d,freeSolo:c,readOnly:r,open:P,onChange:function(e,t){return S((null==(n=t)?void 0:n.length)?n:null),void ee.next();var n},onOpen:function(){x||(E?V():D(!0))},onClose:function(){return D(!1)},getOptionLabel:ne,ListboxComponent:p?vz:void 0,value:U,options:O.options,renderTags:te,renderInput:re(!1,!!r),renderOption:oe})},Line:function(e){var t=e.title,n=void 0===t?"":t,r=e.lineTransparent,o=void 0!==r&&r,a=ij().classes;return W.createElement(Ii,{className:a.root},W.createElement(Kx,{variant:"h5"},n),!o&&W.createElement(Ii,{className:a.line}))},Radio:function(e){var t=e.disabled,n=e.onChange,r=e.title,o=e.readonly,a=e.radioValue,i=e.value,s=e.name,l=void 0===s?"":s,u=NP(uj(),2),c=u[0],d=u[1],p=HD(c),f=W.useCallback((function(e){return d((function(t){var n;return kP(kP({},t),((n={})[l]=e,n))}))}),[]),h=W.useCallback((function(e){f(e),n(e)}),[]);return W.useEffect((function(){var e=p.current;i!==e[l]&&f(i)}),[i]),W.createElement(lN,null,W.createElement(RR,{value:i,onChange:function(e,t){o||h(t||null)}},W.createElement(oN,{value:a,control:W.createElement(IR,{disabled:t}),label:r||""})))},Rating:function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.onChange;return W.createElement(Ii,{display:"flex",justifyContent:"center",component:"fieldset",borderColor:"transparent"},W.createElement(qR,{onChange:function(e,t){return o(t)},disabled:n,value:Number(t),readOnly:r}))},Progress:function(e){var t=e.maxPercent,n=void 0===t?1:t,r=e.showPercentLabel,o=e.value;return W.createElement(Ii,{display:"flex",alignItems:"center"},W.createElement(Ii,{width:"100%",mr:1},W.createElement(rT,{variant:"determinate",value:cj(Number(o),Number(n))})),r&&W.createElement(Ii,{minWidth:35},W.createElement(Kx,{variant:"body2",color:"textSecondary"},"".concat(cj(Number(o),Number(n)),"%"))))},Typography:function(e){var t=e.value,n=void 0===t?"":t,r=e.placeholder,o=void 0===r?"":r,a=e.typoVariant,i=void 0===a?"body1":a,s=e.style;return W.createElement(Kx,{variant:i,style:s},n||o)},Button:function(e){var t=e.disabled,n=e.click,r=e.icon,o=e.title,a=e.value,i=e.placeholder,s=e.buttonVariant,l=e.buttonSize,u=e.buttonColor;return W.createElement(sz,{variant:s,size:l,color:u,startIcon:r&&W.createElement(r,null),disabled:t,onClick:n},a||o||i)},Text:function(e){var t,n=e.invalid,r=e.incorrect,o=e.value,a=e.disabled,i=e.readonly,s=e.inputType,l=void 0===s?"text":s,u=e.inputMode,c=void 0===u?"text":u,d=e.inputPattern,p=void 0===d?void 0:d,f=e.labelShrink,h=e.description,m=void 0===h?"":h,g=e.outlined,v=void 0!==g&&g,b=e.title,y=void 0===b?"":b,x=e.leadingIcon,w=e.trailingIcon,k=e.leadingIconClick,S=e.trailingIconClick,C=e.leadingIconTabIndex,E=e.trailingIconTabIndex,I=e.leadingIconRipple,N=void 0===I||I,T=e.trailingIconRipple,R=void 0===T||T,_=e.inputRows,$=void 0===_?1:_,M=e.placeholder,O=void 0===M?"":M,A=e.inputAutocomplete,L=void 0===A?"off":A,P=e.inputFormatterSymbol,D=void 0===P?"0":P,F=e.inputFormatterAllowed,z=e.inputFormatterReplace,B=e.inputFormatterTemplate,j=void 0===B?"":B,V=e.inputFormatter,H=void 0===V?function(e){return dj(e,j,{symbol:D,allowed:F,replace:z})}:V,U=e.dirty,G=e.loading,q=e.autoFocus,Y=e.inputRef,K=e.onChange,X=$D(),Q=qD(),Z=Q.object,J=Q.changeObject,ee=W.useRef(),te=W.useMemo((function(){var e=pj;return{render:function(){if("text"===l){var t=ee.current;"number"==typeof e&&(null==t||t.setSelectionRange(e,e),e=pj)}},pos:function(){var t,n=ee.current;return n&&(e=(t=n).selectionStart||t.value.length,e+=function(e){for(var t=0,n=Math.max(e-1,0);n<j.length&&j[n]!==D;n++)t+=1;return t}(e)),e}}}),[]);return W.useLayoutEffect((function(){if(j){var e=ee.current,t=function(){return te.pos()};return e&&e.addEventListener("keyup",t),e&&e.addEventListener("click",t),function(){e&&e.removeEventListener("keyup",t),e&&e.removeEventListener("click",t)}}}),[ee.current]),W.useLayoutEffect((function(){j&&te.render()}),[o]),W.createElement(eO,kP({sx:kP({},!v&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),inputRef:function(e){ee.current=e,Y&&Y(e)},variant:v?"outlined":"standard",helperText:U&&(n||r)||m,error:U&&(null!==n||null!==r),InputProps:kP({autoComplete:L,readOnly:i,inputMode:c,autoFocus:q},fj(Z,X,x,w,k,S,C,E,G,a,!!i,(o||"").toString(),K,J,N,R)),inputProps:{pattern:p},InputLabelProps:f?{shrink:f}:void 0,type:l,focused:q,autoComplete:L,value:G?"Loading":String(o||""),placeholder:O,onChange:function(e){var t=e.target,n=t.value;if(j){n="";for(var r=0;r<t.value.length;r++)n+=t.value[r],n=H(n);te.pos()}K(n)},label:y,disabled:a},{multiline:(t=$)>1,rows:t}))},Icon:function(e){var t,n=e.disabled,r=e.click,o=e.icon,a=void 0===o?EA:o,i=e.iconSize,s=e.iconColor,l=e.iconBackground,u=Bj().classes,c=$D(),d=qD().object;return W.createElement("div",{className:u.root},W.createElement("div",{className:kF(u.container,(t={},t[u.backgroundPrimary]="primary"===l,t[u.backgroundSecondary]="secondary"===l,t[u.backgroundError]="error"===l,t[u.backgroundInfo]="info"===l,t[u.backgroundSuccess]="success"===l,t[u.backgroundWarning]="warning"===l,t))},W.createElement(zj,{size:i,color:s,disabled:n,onClick:r},W.createElement(a,{data:d,payload:c}))))},Date:function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.title,d=void 0===c?"Text":c,p=e.placeholder,f=void 0===p?Ej:p,h=e.labelShrink,m=e.dirty,g=e.autoFocus,v=e.inputRef,b=e.onChange,y=e.withContextMenu,x=dF().requestSubject,w=W.useRef(),k=W.useRef(!1),S=W.useRef(!1),C=NP(W.useState(null),2),E=C[0],I=C[1],N=function(){I(null)},T=NP(W.useState(Rj(r||"")?r:""),2),R=T[0],_=T[1],$=HD(R);W.useEffect((function(){S.current?S.current=!1:Rj(r||"")?(k.current=!0,_(r)):$.current&&(k.current=!0,_(""))}),[r]);var M=HD(r);W.useEffect((function(){if(k.current)k.current=!1;else{var e=Rj(R||"");e?(S.current=!0,b(_j(e))):M.current&&(S.current=!0,b(""))}}),[R]);var O=W.useMemo((function(){if(R){var e=Rj(R);if(!e)return;var t=oA();return(t=(t=t.set("date",e.day)).set("month",e.month-1)).set("year",e.year)}}),[R]),A=W.useMemo((function(){var e=Dj;return{render:function(){var t=w.current;"number"==typeof e&&(null==t||t.setSelectionRange(e,e),e=Dj)},pos:function(){var t,n=w.current;return n&&(e=(t=n).selectionStart||t.value.length,e+=function(e){for(var t=0,n=Math.max(e-1,0);n<10&&"#"!==Pj[n];n++)t+=1;return t}(e)),e}}}),[]);return W.useLayoutEffect((function(){var e=w.current,t=function(){return A.pos()};return e&&e.addEventListener("keyup",t),e&&e.addEventListener("click",t),function(){e&&e.removeEventListener("keyup",t),e&&e.removeEventListener("click",t)}}),[w.current]),W.useLayoutEffect((function(){A.render()}),[R]),W.useEffect((function(){return y&&x.subscribe(N)}),[]),W.createElement(W.Fragment,null,W.createElement(eO,{inputRef:function(e){w.current=e,v&&v(e)},sx:kP({},!u&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),type:"text",InputProps:{readOnly:a,autoFocus:g,endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(qS,{onClick:function(e){var t=e.clientX,n=e.clientY,r=e.target,o=document.elementFromPoint(t,n);I(o||r)},disabled:o,edge:"end"},W.createElement(yA,null)))},InputLabelProps:h?{shrink:h}:void 0,disabled:o,focused:g,placeholder:f,variant:u?"outlined":"standard",value:R,label:d,helperText:m&&(t||n)||s,error:m&&(null!==t||null!==n),onChange:function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=e[n],t=dj(t,Pj,{allowed:/\d/,symbol:"#"});A.pos(),_(t)}(e.target.value)}}),W.createElement(Fk,{open:!!E,anchorEl:E,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"right"}},W.createElement(Cj,{date:O,onChange:function(e){if(e){var t=e.get("date"),n=e.get("month")+1,r=e.get("year");_(new Tj(t,n,r).toString())}else _(null)}})))},Time:function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.title,d=void 0===c?"Text":c,p=e.labelShrink,f=e.placeholder,h=void 0===f?Ij:f,m=e.dirty,g=e.autoFocus,v=e.inputRef,b=e.onChange,y=e.withContextMenu,x=dF().requestSubject,w=W.useRef(),k=W.useRef(!1),S=W.useRef(!1),C=NP(W.useState(null),2),E=C[0],I=C[1],N=function(){I(null)},T=NP(W.useState($j(r||"")?r:""),2),R=T[0],_=T[1],$=HD(R);W.useEffect((function(){S.current?S.current=!1:$j(r||"")?(k.current=!0,_(r)):$.current&&(k.current=!0,_(""))}),[r]);var M=HD(r);W.useEffect((function(){if(k.current)k.current=!1;else{var e=$j(R||"");e?(S.current=!0,b(Mj(e))):M.current&&(S.current=!0,b(""))}}),[R]);var O=W.useMemo((function(){if(R){var e=$j(R);if(!e)return;var t=oA();return(t=t.set("hour",e.hour)).set("minute",e.minute)}}),[R]),A=W.useMemo((function(){var e=lW;return{render:function(){var t=w.current;"number"==typeof e&&(null==t||t.setSelectionRange(e,e),e=lW)},pos:function(){var t,n=w.current;return n&&(e=(t=n).selectionStart||t.value.length,e+=function(e){for(var t=0,n=Math.max(e-1,0);n<5&&"#"!==sW[n];n++)t+=1;return t}(e)),e}}}),[]);return W.useLayoutEffect((function(){var e=w.current,t=function(){return A.pos()};return e&&e.addEventListener("keyup",t),e&&e.addEventListener("click",t),function(){e&&e.removeEventListener("keyup",t),e&&e.removeEventListener("click",t)}}),[w.current]),W.useLayoutEffect((function(){A.render()}),[R]),W.useEffect((function(){return y&&x.subscribe(N)}),[]),W.createElement(W.Fragment,null,W.createElement(eO,{sx:kP({},!u&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),inputRef:function(e){w.current=e,v&&v(e)},type:"text",InputProps:{readOnly:a,autoFocus:g,endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(qS,{onClick:function(e){var t=e.clientX,n=e.clientY,r=e.target,o=document.elementFromPoint(t,n);I(o||r)},disabled:o,edge:"end"},W.createElement($A,null)))},InputLabelProps:p?{shrink:p}:void 0,disabled:o,focused:g,placeholder:h,variant:u?"outlined":"standard",value:R,label:d,helperText:m&&(t||n)||s,error:m&&(null!==t||null!==n),onChange:function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=e[n],t=dj(t,sW,{allowed:/\d/,symbol:"#"});A.pos(),_(t)}(e.target.value)}}),W.createElement(Fk,{open:!!E,anchorEl:E,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"right"}},W.createElement(iW,{date:O,onChange:function(e){if(e){var t=e.get("hour"),n=e.get("minute");_(new Nj(t,n).toString())}else _(null)}})))},Switch:function(e){var t=e.disabled,n=e.value,r=e.onChange,o=e.title,a=e.switchNoColor,i=e.switchActiveLabel,s=uW().classes,l=W.useMemo((function(){return a?s:void 0}),[]);return W.createElement(Ii,{display:"flex",alignItems:"center"},W.createElement(Ii,{sx:{flex:i?void 0:1,whiteSpace:"nowrap",textAlign:i?"right":void 0}},W.createElement(Kx,{variant:"body1"},o)),W.createElement(n$,{disabled:t,classes:l,checked:Boolean(n),onChange:function(e,t){return r(t)}}),!!i&&W.createElement(Ii,{sx:{flex:1,whiteSpace:"nowrap",textAlign:"left"}},W.createElement(Kx,{variant:"body1"},i)))},Slider:function(e){var t=e.value,n=e.onChange,r=e.leadingIcon,o=e.trailingIcon,a=e.leadingIconClick,i=e.trailingIconClick,s=e.leadingIconTabIndex,l=e.trailingIconTabIndex,u=e.leadingIconRipple,c=void 0===u||u,d=e.trailingIconRipple,p=void 0===d||d,f=e.labelFormatSlider,h=e.stepSlider,m=e.disabled,g=e.readonly,v=e.maxSlider,b=void 0===v?100:v,y=e.minSlider,x=void 0===y?0:y,w=$D(),k=qD(),S=k.object,C=k.changeObject;return W.createElement(Ii,{mr:1},W.createElement(cS,{alignItems:"center",container:!0,spacing:2},W.createElement(cS,{item:!0},r&&cW(r,S,w,!!m,!!g,t,C,n,a,s,"start",c)),W.createElement(cS,{item:!0,xs:!0},W.createElement(S_,{disabled:m,step:h,marks:!!h,min:x,max:b,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",color:"primary",value:t||0,onChange:function(e,t){return!g&&n(t)},valueLabelFormat:f})),W.createElement(cS,{item:!0},o&&cW(o,S,w,!!m,!!g,t,C,n,i,l,"end",p))))},File:function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.labelShrink,d=e.title,p=void 0===d?"":d,f=e.placeholder,h=void 0===f?"No file chosen":f,m=e.dirty,g=e.loading,v=e.inputRef,b=e.onChange,y=e.fileAccept,x=e.name,w=e.upload,k=void 0===w?function(e){return e instanceof File?e.name:x}:w,S=e.view,C=void 0===S?function(e){hW(e)}:S,E=NP(W.useState(!1),2),I=E[0],N=E[1],T=$D(),R=qD().object,_=g||I;return W.createElement(Y_,{direction:"row",alignItems:u?"stretch":"center",spacing:1},W.createElement(eO,{sx:kP({flex:1},!u&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),inputRef:v,variant:u?"outlined":"standard",helperText:m&&(t||n)||s,error:m&&(null!==t||null!==n),InputProps:{readOnly:a,endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(qS,{edge:"end",disabled:o||!r,onClick:function(){b(null)}},W.createElement(TO,null)))},InputLabelProps:c?{shrink:c}:void 0,value:_?"Loading":r?String(r):"",placeholder:h,label:p,disabled:o}),!!r&&W.createElement(sz,{variant:"outlined",onLoadStart:function(){return N(!0)},onLoadEnd:function(){return N(!1)},onClick:function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,C(r,R,T)];case 1:return e.sent(),[2]}}))}))}},"View"),W.createElement(sz,{variant:"outlined",onLoadStart:function(){return N(!0)},onLoadEnd:function(){return N(!1)},onClick:function(){return CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(n){switch(n.label){case 0:return[4,dW(y)];case 1:return(e=n.sent())?[4,k(e,R,T)]:[3,3];case 2:t=n.sent(),b(t),n.label=3;case 3:return[2]}}))}))}},_&&"Uploading",!_&&"Choose"))},Choose:function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.title,d=void 0===c?"":c,p=e.placeholder,f=void 0===p?"Not chosen":p,h=e.labelShrink,m=void 0===h||h,g=e.dirty,v=e.loading,b=e.inputRef,y=e.onChange,x=e.choose,w=void 0===x?function(){return"unknown"}:x,k=e.tr,S=void 0===k?function(e){return e}:k,C=$D(),E=qD().object,I=JD(),N=I.doReload,T=I.reloadTrigger,R=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,vW(r,S,E,C)];case 1:return[2,e.sent()]}}))}))}),{deps:[r]}),2),_=R[0],$=R[1].loading,M=oF((function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return r?(y(null),[2]):[4,w(E,C)];case 1:return e=t.sent(),y(Array.isArray(e)?e.length?e:null:e||null),[2]}}))}))})),O=M.execute,A=M.loading,L=v||$||A;return W.createElement(XC,{key:"".concat(T,"-").concat(_),fullWidth:!0,multiple:Array.isArray(_),disableClearable:!0,disabled:o,loading:L,value:_||null,options:gW,onChange:function(){return null},freeSolo:!0,readOnly:!0,renderInput:function(e){return W.createElement(eO,kP({},e,{value:e.inputProps.value,variant:u?"outlined":"standard",helperText:g&&(t||n)||s,error:g&&(null!==t||null!==n),sx:kP({flex:1},!u&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),inputRef:b,onClick:function(e){var t;null===(t=e.currentTarget)||void 0===t||t.blur(),r||O(),N()},InputProps:kP(kP({},e.InputProps),{readOnly:!0,placeholder:f,endAdornment:L?e.InputProps.endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(sz,{sx:{pointerEvents:a?"none":"all",mb:u?void 0:.5},disabled:L||o,variant:"outlined",size:"small",color:r?"secondary":"primary",onClick:function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,O()];case 1:return e.sent(),[2]}}))}))}},r&&"Deselect",!r&&"Choose"))}),InputLabelProps:kP(kP({},e.InputLabelProps),{shrink:m||void 0}),placeholder:f,label:d}))}})},Complete:function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.inputType,s=void 0===i?"text":i,l=e.inputMode,u=void 0===l?"text":l,c=e.inputPattern,d=void 0===c?void 0:c,p=e.labelShrink,f=e.description,h=void 0===f?"":f,m=e.outlined,g=void 0!==m&&m,v=e.keepRaw,b=void 0!==v&&v,y=e.title,x=void 0===y?"":y,w=e.placeholder,k=void 0===w?"":w,S=e.inputAutocomplete,C=void 0===S?"off":S,E=e.dirty,I=e.loading,N=e.tip,T=void 0===N?function(){return["unset"]}:N,R=e.tipSelect,_=e.autoFocus,$=e.onChange,M=e.fieldReadonly,O=e.inputFormatterSymbol,A=void 0===O?"0":O,L=e.inputFormatterAllowed,P=e.inputFormatterReplace,D=e.inputFormatterTemplate,F=void 0===D?"":D,z=e.inputFormatter,B=void 0===z?function(e){return dj(e,F,{symbol:A,allowed:L,replace:P})}:z,j=e.withContextMenu,V=YB().isMobile,H=$D(),U=qD(),G=U.object,q=U.changeObject,Y=dF().requestSubject,K=QB().fallback,X=void 0===K?function(e){throw e}:K,Q=mz(),Z=Q.elementRef,J=Q.size,ee=W.useRef(null),te=NP(W.useState(null),2),ne=te[0],re=te[1],oe=function(){re(null)},ae=NP(W.useState(-1),2),ie=ae[0],se=ae[1],le=NP(W.useState(!1),2),ue=le[0],ce=le[1],de=NP(W.useState([]),2),pe=de[0],fe=de[1],he=I||ue,me=HD(r),ge=NP(Mz(r,500),1)[0],ve=HD(T),be=HD(G),ye=rF($),xe=qB({data:G,payload:H,itemList:void 0,tr:void 0,tip:T,keepRaw:!1,onValueChange:$,placeholder:k,title:x,type:FP.Complete,value:r}),we=W.useMemo((function(){var e=bW;return{render:function(){if("text"===s){var t=ee.current;"number"==typeof e&&(null==t||t.setSelectionRange(e,e),e=bW)}},pos:function(){var t,n=ee.current;return n&&(e=(t=n).selectionStart||t.value.length,e+=function(e){for(var t=0,n=Math.max(e-1,0);n<F.length&&F[n]!==A;n++)t+=1;return t}(e)),e}}}),[]);W.useLayoutEffect((function(){if(F){var e=ee.current,t=function(){return we.pos()};return e&&e.addEventListener("keyup",t),e&&e.addEventListener("click",t),function(){e&&e.removeEventListener("keyup",t),e&&e.removeEventListener("click",t)}}}),[ee.current]),W.useLayoutEffect((function(){F&&we.render()}),[r]);var ke=W.useMemo((function(){return ZP((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return se(-1),[4,ye(e)];case 1:return t.sent(),[2]}}))}))}))}),[]),Se=W.useMemo((function(){return ZP((function(){return CP(void 0,void 0,void 0,(function(){var e,t,n,r,o;return EP(this,(function(a){switch(a.label){case 0:ce(!0),a.label=1;case 1:return a.trys.push([1,5,6,7]),"function"!=typeof ve.current?[3,3]:[4,ve.current(me.current||"",be.current,H)];case 2:return t=a.sent(),[3,4];case 3:t=ve.current,a.label=4;case 4:if(e=t,!Array.isArray(e))throw new Error("CompleteField tip invalid result");return!b&&me.current&&(n=String(me.current||"").toLowerCase(),r=n.split(" "),e=e.filter((function(e){var t=String(e).toLowerCase().split(" "),n=!0;return r.forEach((function(e){n=n&&t.some((function(t){return t.includes(e)}))})),n}))),e=e.slice(0,100),se(-1),fe(TP([],NP(new Set(e)),!1)),[3,7];case 5:return o=a.sent(),X(o),[3,7];case 6:return ce(!1),[7];case 7:return[2]}}))}))}))}),[]);W.useEffect((function(){open&&Se()}),[ge,open]);var Ce=function(){var e;oe(),se(-1),null===(e=ee.current)||void 0===e||e.setSelectionRange(null,null)};return W.useEffect((function(){return j&&Y.subscribe((function(){Ce()}))}),[]),W.createElement(W.Fragment,null,W.createElement("div",{ref:Z},W.createElement(eO,{sx:kP({},!g&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),fullWidth:!0,inputRef:ee,variant:g?"outlined":"standard",value:String(r||""),helperText:E&&(t||n)||h,error:E&&(null!==t||null!==n),InputProps:{onKeyDown:function(e){(function(t){var n;if("Escape"===t)return oe(),se(-1),e.currentTarget.blur(),!0;if("ArrowDown"===t)return se((function(e){return Math.min(Math.max(e+1,0),pe.length-1)})),!0;if("ArrowUp"===t)return se((function(e){return Math.min(Math.max(e-1,0),pe.length-1)})),!0;if("Enter"===t){var r=pe.find((function(e,t){return t===ie}));if(r)return ke(r),null===(n=ee.current)||void 0===n||n.setSelectionRange(r.length,r.length),oe(),se(-1),!0}return!1})(e.key)&&e.preventDefault()},autoComplete:C,readOnly:a,inputMode:u,autoFocus:_,endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(qS,{onClick:function(e){var t;e.preventDefault(),e.stopPropagation(),he||open||!r||(ke(""),null===(t=ee.current)||void 0===t||t.setSelectionRange(null,null))},disabled:o,edge:"end"},he&&W.createElement(Dx,{color:"inherit",size:20}),!he&&!open&&!!r&&W.createElement(DA,null)))},inputProps:{pattern:d},InputLabelProps:p?{shrink:p}:void 0,type:s,focused:_,autoComplete:C,placeholder:k,onChange:function(e){var t=e.target,n=t.value;if(F){n="";for(var r=0;r<t.value.length;r++)n+=t.value[r],n=B(n);we.pos()}$(n)},onClick:function(e){var t=e.clientX,n=e.clientY,r=e.target;if(!M)if(V)xe();else{var o=document.elementFromPoint(t,n);re(o||r)}},label:x,disabled:o})),W.createElement(Fk,{open:!!ne,anchorEl:ne,onClose:Ce,anchorOrigin:{vertical:"bottom",horizontal:"left"},disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0},!!ne&&W.createElement(fz,{component:Zw,sx:{width:J.width,height:pe.length?Math.min(36*pe.length,250):36,mb:1,maxHeight:"45vh"},minRowHeight:36},!pe.length&&W.createElement(NT,{disableGutters:!0,dense:!0},W.createElement(vT,{disableRipple:!0,disableTouchRipple:!0},W.createElement(Vw,{primary:he?"Loading":"No tips"}))),pe.map((function(e,t){return W.createElement(NT,{disableGutters:!0,dense:!0,key:"".concat(e,"-").concat(t)},W.createElement(vT,{selected:t===ie,onClick:function(t){t.preventDefault(),t.stopPropagation(),ke(e),R&&R(e,be.current,H,q),oe()}},W.createElement(Vw,{primary:e})))})))))},YesNo:function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.description,a=void 0===o?"":o,i=e.placeholder,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.virtualListBox,d=e.labelShrink,p=e.noDeselect,f=e.title,h=void 0===f?"":f,m=e.tr,g=void 0===m?function(e){return e}:m,v=e.dirty,b=e.invalid,y=e.incorrect,x=e.onChange,w=JD(),k=w.reloadTrigger,S=w.doReload,C=NP(W.useState({}),2),E=C[0],I=C[1],N=NP(W.useState(!1),2),T=N[0],R=N[1],_=W.useRef(!1),$=HD(E),M=$D(),O=qD().object,A=W.useMemo((function(){return!0===t?"Yes":!1===t?"No":null}),[t]),L=QB().fallback,P=Rz((function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return e={},[4,Promise.all(wW.map((function(t){return CP(void 0,void 0,void 0,(function(){var n,r;return EP(this,(function(o){switch(o.label){case 0:return n=e,r=t,[4,Promise.resolve(g(t,O,M))];case 1:return[2,n[r]=o.sent()]}}))}))})))];case 1:return t.sent(),I(e),_.current=!0,[2]}}))}))}),{fallback:L}),D=P.loading,F=P.execute;W.useEffect((function(){F()}),[]);var z=function(e){return $.current[e]||e},B=function(e,t){return function(n){return W.createElement(eO,kP({},n,{sx:kP({},!u&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),variant:u?"outlined":"standard",placeholder:e?void 0:s,label:h,helperText:v&&(b||y)||a,error:v&&(null!==b||null!==y),InputProps:kP(kP({},n.InputProps),{readOnly:t,endAdornment:W.createElement(W.Fragment,null,e?W.createElement(Dx,{color:"inherit",size:20}):null,n.InputProps.endAdornment)}),InputLabelProps:kP(kP({},n.InputLabelProps),d&&{shrink:!0})}))}},j=function(e,t,n){var r=$.current;return W.createElement("li",kP({},e),W.createElement(IR,{icon:yW,checkedIcon:xW,style:{marginRight:8},checked:n.selected}),r[t]||t)},V=BD();return W.useEffect((function(){if(T){var e=V.once((function(){var t=tD((function(e){var t=e.clientX,n=e.clientY,r=document.elementFromPoint(t,n);(null==r?void 0:r.closest(".MuiAutocomplete-popper"))||(R(!1),S())}),45);document.addEventListener("mousemove",t),e=function(){document.removeEventListener("mousemove",t),t.clear()}}));return function(){return e()}}}),[T]),D||!_.current?W.createElement(XC,{disableCloseOnSelect:!0,disableClearable:p,disabled:!0,loading:!0,value:null,options:wW,onChange:function(){return null},ListboxComponent:c?vz:void 0,getOptionLabel:z,renderInput:B(!0,!0),renderOption:j}):W.createElement(XC,{key:k,onOpen:function(){return R(!0)},onClose:function(){return R(!1)},disableCloseOnSelect:!0,disableClearable:p,value:A||null,onChange:function(e,t){return x("Yes"===(n=t)||"No"!==n&&null),void V.next();var n},options:wW,disabled:n,readOnly:r,ListboxComponent:c?vz:void 0,getOptionLabel:z,renderInput:B(!1,r),renderOption:j})},Dict:function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.inputType,s=void 0===i?"text":i,l=e.inputMode,u=void 0===l?"text":l,c=e.inputPattern,d=void 0===c?void 0:c,p=e.inputAutocomplete,f=e.description,h=void 0===f?"":f,m=e.outlined,g=void 0!==m&&m,v=e.title,b=void 0===v?"":v,y=e.placeholder,x=void 0===y?"":y,w=e.dirty,k=e.loading,S=e.inputRef,C=e.onChange,E=e.dictLimit,I=void 0===E?25:E,N=e.dictDelay,T=void 0===N?500:N,R=e.dictOnText,_=void 0===R?OW:R,$=e.dictOnItem,M=void 0===$?AW:$,O=e.dictSearch,A=void 0===O?PW:O,L=e.dictValue,P=void 0===L?LW:L,D=e.dictSearchText,F=void 0===D?DW:D,z=e.dictOnAppend,B=e.dictSearchItem,j=e.dictCreateButton,V=e.inputFormatterSymbol,H=void 0===V?"0":V,U=e.inputFormatterAllowed,G=e.inputFormatterReplace,q=e.inputFormatterTemplate,Y=void 0===q?"":q,K=e.inputFormatter,X=void 0===K?function(e){return dj(e,Y,{symbol:H,allowed:U,replace:G})}:K,Q=e.leadingIcon,Z=e.trailingIcon,J=e.leadingIconClick,ee=e.trailingIconClick,te=e.leadingIconRipple,ne=void 0===te||te,re=e.trailingIconRipple,oe=void 0===re||re,ae=e.leadingIconTabIndex,ie=e.trailingIconTabIndex,se=$D(),le=qD(),ue=le.object,ce=le.changeObject,de=XD(r),pe=W.useMemo((function(){return function(e){var t=e.type,n=e.mode,r=e.pattern,o=e.getValue,a=e.loading,i=e.autoComplete,l=e.onTextChange,u=e.reloadSubject,c=NP(W.useState(o),2),d=c[0],p=c[1],f=W.useRef(null),h=W.useMemo((function(){var e=FW;return{render:function(){if("text"===s){var t=f.current;"number"==typeof e&&(null==t||t.setSelectionRange(e,e),e=FW)}},pos:function(){var t,n=f.current;return n&&(e=(t=n).selectionStart||t.value.length,e+=function(e){for(var t=0,n=Math.max(e-1,0);n<Y.length&&Y[n]!==H;n++)t+=1;return t}(e)),e}}}),[]);W.useLayoutEffect((function(){if(Y){var e=f.current,t=function(){return h.pos()};return e&&e.addEventListener("keyup",t),e&&e.addEventListener("click",t),function(){e&&e.removeEventListener("keyup",t),e&&e.removeEventListener("click",t)}}}),[f.current]),W.useLayoutEffect((function(){Y&&h.render()}),[d]),W.useEffect((function(){return u.subscribe((function(){var e;null===(e=f.current)||void 0===e||e.focus(),p(o)}))}),[]),W.useEffect((function(){var e;a||(null===(e=f.current)||void 0===e||e.focus(),p(o))}),[a]);var m=W.useMemo((function(){return tD((function(e){l(e)}),1500)}),[]);W.useEffect((function(){return function(){m.flush()}}),[]),W.useEffect((function(){return wD(m.flush)}),[]);var g=W.useCallback((function(e){"Escape"!==e.key&&e.stopPropagation()}),[]);return W.createElement(tC,{sx:{background:"transparent",pt:1.5}},W.createElement(eO,{inputRef:f,type:t,variant:"standard",autoFocus:!0,fullWidth:!0,disabled:a,value:d,autoComplete:i,placeholder:b||x,inputProps:{pattern:r},InputProps:{inputMode:n,startAdornment:W.createElement(LN,{sx:{position:"relative"},position:"start"},W.createElement(VA,null)),endAdornment:W.createElement(LN,{sx:{position:"relative"},position:"end"},W.createElement(qS,{disabled:a,onClick:function(){l("")}},a?W.createElement(Dx,{size:24}):W.createElement(TO,null)))},onChange:function(e){var t=e.target,n=t.value;if(Y){n="";for(var r=0;r<t.value.length;r++)n+=t.value[r],n=X(n);h.pos()}p(n),m(n)},onKeyDown:g,sx:{mb:1}}))}}),[]),fe=HD(ue);return W.createElement(MW,{sx:kP({},!g&&{position:"relative",mt:1,"& .MuiFormHelperDict-root":{position:"absolute",top:"100%"}}),startAdornment:Q&&zW(Q,ue,se,!!o,!!a,r,ce,C,J,ae,"start",ne),endAdornment:Z&&zW(Z,ue,se,!!o,!!a,r,ce,C,ee,ie,"end",oe),handler:function(e,t,n,r,o){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(a){switch(a.label){case 0:return[4,A({search:e,limit:t,offset:n,initial:r,data:fe.current,payload:se,rows:o})];case 1:return[2,a.sent()]}}))}))},changeSubject:de,mode:u,pattern:d,autoComplete:p,limit:I,delay:T,inputRef:S,variant:g?"outlined":"standard",helperText:w&&(t||n)||h,error:w&&(null!==t||null!==n),type:s,value:function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return r?[4,P(r,fe.current,se)]:[3,2];case 1:return[2,e.sent()||null];case 2:return[2,null]}}))}))},searchText:function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,F(fe.current,se)];case 1:return[2,e.sent()||""]}}))}))},placeholder:x,onChange:function(e){M((null==e?void 0:e.value)||null,fe.current,se,C,ce),C((null==e?void 0:e.value)||null)},onTextChange:function(e){return _(e,fe.current,se,C,ce)},onCreate:z?function(e){return z(e,fe.current,se,C,ce)}:void 0,label:b,payload:se,disabled:o||k||a,SearchItem:B,CreateButton:j,SearchInput:pe})},Tree:function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.title,d=void 0===c?"":c,p=e.placeholder,f=void 0===p?"":p,h=e.dirty,m=e.loading,g=e.onChange,v=e.itemTree,b=void 0===v?HW:v,y=$D(),x=qD().object,w=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return"function"!=typeof b?[3,2]:[4,b(x,y)];case 1:return[2,e.sent()];case 2:return[2,b]}}))}))}),{deps:[r]}),2),k=w[0],S=w[1].loading,C=m||S;return W.createElement(VW,{fullWidth:!0,sx:kP({flex:1},!u&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),readOnly:a,loading:C,items:k||HW,value:(null==k?void 0:k.length)?r:null,disabled:o||C,variant:u?"outlined":"standard",helperText:h&&(t||n)||s,error:h&&(null!==t||null!==n),placeholder:f,label:d,onChange:g})}},GW=W.createContext(UW),qW=function(e){var t=e.children,n=SP(e,["children"]),r=W.useContext(GW),o=W.useMemo((function(){return kP(kP({},r),n)}),[]);return W.createElement(GW.Provider,{value:o},t)},YW=function(e){var t=W.useContext(GW).Text;return W.createElement(t,kP({},e))},KW=function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.inputType,s=void 0===i?"text":i,l=e.description,u=void 0===l?"":l,c=e.outlined,d=void 0!==c&&c,p=e.labelShrink,f=e.title,h=void 0===f?"":f,m=e.leadingIconRipple,g=e.trailingIconRipple,v=e.leadingIcon,b=e.trailingIcon,y=e.leadingIconClick,x=e.trailingIconClick,w=e.inputRows,k=void 0===w?1:w,S=e.placeholder,C=void 0===S?"":S,E=e.inputAutocomplete,I=void 0===E?"off":E,N=e.inputFormatter,T=e.inputFormatterSymbol,R=e.inputFormatterAllowed,_=e.inputFormatterTemplate,$=e.dirty,M=e.loading,O=e.onChange,A=e.autoFocus,L=e.inputRef,P=e.name,D=e.leadingIconTabIndex,F=e.trailingIconTabIndex;return W.createElement(YW,{autoFocus:A,inputRef:L,invalid:t,incorrect:n,value:r,readonly:a,disabled:o,inputType:s,description:u,outlined:d,title:h,leadingIconRipple:m,trailingIconRipple:g,leadingIcon:v,trailingIcon:b,labelShrink:p,leadingIconClick:y,trailingIconClick:x,inputRows:k,placeholder:C,inputAutocomplete:I,inputFormatter:N,inputFormatterSymbol:T,inputFormatterAllowed:R,inputFormatterTemplate:_,dirty:$,loading:M,onChange:O,name:P,leadingIconTabIndex:D,trailingIconTabIndex:F})};KW.displayName="TextField";var XW=YF(KW),QW=function(e){var t=W.useContext(GW).Line;return W.createElement(t,kP({},e))},ZW=function(e){var t=e.title,n=void 0===t?"":t,r=e.lineTransparent,o=void 0!==r&&r;return W.createElement(QW,{lineTransparent:o,title:n})};ZW.displayName="LineField";var JW=YF(ZW,{defaultProps:{fieldRightMargin:"0",fieldBottomMargin:"0"},skipFocusBlurCall:!0}),eV=function(e){var t=W.useContext(GW).Radio;return W.createElement(t,kP({},e))},tV=function(e){var t=e.disabled,n=e.value,r=e.onChange,o=e.title,a=e.radioValue,i=e.readonly,s=e.name,l=void 0===s?"":s;return W.createElement(eV,{value:n,disabled:t,readonly:i,onChange:r,title:o,radioValue:a,name:l})};tV.displayName="RadioField";var nV=YF(tV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0}),rV=function(e){var t=W.useContext(GW).Switch;return W.createElement(t,kP({},e))},oV=function(e){var t=e.disabled,n=e.value,r=e.readonly,o=e.onChange,a=e.switchNoColor,i=e.switchActiveLabel,s=e.title;return W.createElement(rV,{readonly:r,disabled:t,value:n,onChange:o,switchNoColor:a,switchActiveLabel:i,title:s})};oV.displayName="SwitchField";var aV=YF(oV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0}),iV=function(e){var t=W.useContext(GW).CheckBox;return W.createElement(t,kP({},e))},sV=function(e){var t=e.disabled,n=e.value,r=e.readonly,o=e.onChange,a=e.title;return W.createElement(iV,{disabled:t,value:n,readonly:r,onChange:o,title:a})};sV.displayName="CheckboxField";var lV=YF(sV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0}),uV=function(e){var t=W.useContext(GW).Progress;return W.createElement(t,kP({},e))},cV=function(e){var t=e.maxPercent,n=void 0===t?1:t,r=e.showPercentLabel,o=e.value;return W.createElement(uV,{showPercentLabel:r,maxPercent:n,value:o})};cV.displayName="ProgressField";var dV=YF(cV,{skipFocusBlurCall:!0}),pV=function(e){var t=W.useContext(GW).Slider;return W.createElement(t,kP({},e))},fV=function(e){var t=e.value,n=e.onChange,r=e.leadingIconRipple,o=e.trailingIconRipple,a=e.leadingIcon,i=e.trailingIcon,s=e.leadingIconClick,l=e.trailingIconClick,u=e.stepSlider,c=e.maxSlider,d=e.minSlider,p=e.labelFormatSlider,f=e.leadingIconTabIndex,h=e.trailingIconTabIndex;return W.createElement(pV,{value:t,onChange:n,leadingIconRipple:r,trailingIconRipple:o,leadingIcon:a,trailingIcon:i,leadingIconClick:s,trailingIconClick:l,labelFormatSlider:p,stepSlider:u,maxSlider:c,minSlider:d,leadingIconTabIndex:f,trailingIconTabIndex:h})};fV.displayName="SliderField";var hV=YF(fV,{skipDebounce:!0,withApplyQueue:!0,skipDirtyClickListener:!0}),mV=function(e){var t=W.useContext(GW).Combo;return W.createElement(t,kP({},e))},gV=function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.description,a=void 0===o?"":o,i=e.placeholder,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.itemList,d=void 0===c?[]:c,p=e.freeSolo,f=void 0!==p&&p,h=e.virtualListBox,m=void 0===h||h,g=e.watchItemList,v=e.noDeselect,b=e.labelShrink,y=e.title,x=void 0===y?"":y,w=e.dirty,k=e.loading,S=e.invalid,C=e.incorrect,E=e.fieldReadonly,I=e.withContextMenu,N=e.tr,T=void 0===N?function(e){return e.toString()}:N,R=e.onChange;return W.createElement(mV,{value:t,disabled:n,readonly:r,description:a,placeholder:s,outlined:u,itemList:d,noDeselect:v,virtualListBox:m,watchItemList:g,labelShrink:b,freeSolo:f,title:x,dirty:w,invalid:S,loading:k,incorrect:C,fieldReadonly:E,withContextMenu:I,tr:T,onChange:R})};gV.displayName="ComboField";var vV=YF(gV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0}),bV=function(e){var t=W.useContext(GW).Items;return W.createElement(t,kP({},e))},yV=function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.description,a=e.placeholder,i=e.loading,s=e.outlined,l=void 0!==s&&s,u=e.itemList,c=void 0===u?[]:u,d=e.freeSolo,p=void 0!==d&&d,f=e.virtualListBox,h=void 0===f||f,m=e.labelShrink,g=e.watchItemList,v=e.noDeselect,b=e.dirty,y=e.invalid,x=e.incorrect,w=e.title,k=e.fieldReadonly,S=e.withContextMenu,C=e.tr,E=void 0===C?function(e){return e.toString()}:C,I=e.onChange;return W.createElement(bV,{value:t,disabled:n,readonly:r,loading:i,fieldReadonly:k,description:o,placeholder:a,outlined:l,itemList:c,noDeselect:v,labelShrink:m,virtualListBox:h,watchItemList:g,freeSolo:p,dirty:b,invalid:y,incorrect:x,title:w,tr:E,onChange:I,withContextMenu:S})};yV.displayName="ItemsField";var xV=YF(yV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0}),wV=function(e){var t=W.useContext(GW).Rating;return W.createElement(t,kP({},e))},kV=function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.name,a=e.onChange;return W.createElement(wV,{value:t,disabled:n,readonly:r,name:o,onChange:a})};kV.displayName="RatingField";var SV=YF(kV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0}),CV=function(e){var t=W.useContext(GW).Typography;return W.createElement(t,kP({},e))},EV=function(e){var t=e.value,n=void 0===t?"":t,r=e.placeholder,o=void 0===r?"":r,a=e.typoVariant,i=void 0===a?"body1":a,s=e.style;return W.createElement(CV,{value:n,placeholder:o,typoVariant:i,style:s})};EV.displayName="TypographyField";var IV=YF(EV,{skipFocusBlurCall:!0}),NV=function(e){var t=W.useContext(GW).Date;return W.createElement(t,kP({},e))},TV=function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.title,d=void 0===c?"":c,p=e.placeholder,f=void 0===p?d:p,h=e.labelShrink,m=e.dirty,g=e.autoFocus,v=e.inputRef,b=e.onChange,y=e.withContextMenu,x=e.name;return W.createElement(NV,{autoFocus:g,inputRef:v,invalid:t,incorrect:n,value:r,readonly:a,disabled:o,description:s,outlined:u,labelShrink:h,title:d,placeholder:f,withContextMenu:y,dirty:m,onChange:b,name:x})};TV.displayName="DateField";var RV=YF(TV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0,skipFocusBlurCall:!0}),_V=function(e){var t=W.useContext(GW).Time;return W.createElement(t,kP({},e))},$V=function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.labelShrink,s=e.description,l=void 0===s?"":s,u=e.outlined,c=void 0!==u&&u,d=e.title,p=void 0===d?"":d,f=e.placeholder,h=void 0===f?p:f,m=e.dirty,g=e.autoFocus,v=e.inputRef,b=e.onChange,y=e.name,x=e.withContextMenu;return W.createElement(_V,{autoFocus:g,inputRef:v,invalid:t,incorrect:n,value:r,readonly:a,disabled:o,labelShrink:i,description:l,outlined:c,title:p,placeholder:h,dirty:m,onChange:b,name:y,withContextMenu:x})};$V.displayName="TimeField";var MV=YF($V,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0,skipFocusBlurCall:!0}),OV=function(e){var t=W.useContext(GW).File;return W.createElement(t,kP({},e))},AV=function(e){var t=e.invalid,n=e.value,r=e.disabled,o=e.readonly,a=e.description,i=void 0===a?"":a,s=e.outlined,l=void 0!==s&&s,u=e.title,c=void 0===u?"":u,d=e.placeholder,p=void 0===d?"":d,f=e.incorrect,h=e.upload,m=e.view,g=e.dirty,v=e.labelShrink,b=e.loading,y=e.onChange,x=e.inputRef,w=e.name;return W.createElement(OV,{inputRef:x,invalid:t,incorrect:f,value:n,readonly:o,disabled:r,description:i,outlined:l,labelShrink:v,title:c,placeholder:p,upload:h,view:m,dirty:g,loading:b,onChange:y,name:w})};AV.displayName="FileField";var LV=YF(AV,{withApplyQueue:!0,skipDirtyClickListener:!0,skipDebounce:!0,skipFocusBlurCall:!0}),PV=function(e){var t=W.useContext(GW).Choose;return W.createElement(t,kP({},e))},DV=function(e){var t=e.invalid,n=e.value,r=e.disabled,o=e.readonly,a=e.incorrect,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.title,d=void 0===c?"":c,p=e.placeholder,f=void 0===p?"":p,h=e.labelShrink,m=e.choose,g=e.tr,v=e.dirty,b=e.loading,y=e.onChange,x=e.inputRef,w=e.name,k=e.withContextMenu;return W.createElement(PV,{inputRef:x,invalid:t,incorrect:a,value:n,readonly:o,disabled:r,labelShrink:h,description:s,outlined:u,title:d,placeholder:f,withContextMenu:k,choose:m,tr:g,dirty:v,loading:b,onChange:y,name:w})};DV.displayName="ChooseField";var FV=YF(DV,{withApplyQueue:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0,skipFocusBlurCall:!0,skipDebounce:!0}),zV=function(e){var t=W.useContext(GW).Tree;return W.createElement(t,kP({},e))},BV=function(e){var t=e.invalid,n=e.value,r=e.disabled,o=e.readonly,a=e.incorrect,i=e.description,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.title,d=void 0===c?"":c,p=e.placeholder,f=void 0===p?"":p,h=e.itemTree,m=e.dirty,g=e.loading,v=e.onChange,b=e.name,y=e.withContextMenu,x=e.watchItemTree;return W.createElement(zV,{invalid:t,incorrect:a,value:n,readonly:o,disabled:r,description:s,outlined:u,watchItemTree:x,title:d,placeholder:f,withContextMenu:y,itemTree:h,dirty:m,loading:g,onChange:v,name:b})};BV.displayName="TreeField";var jV=YF(BV,{withApplyQueue:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0,skipDebounce:!0}),WV=function(e){var t=W.useContext(GW).Complete;return W.createElement(t,kP({},e))},VV=function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.inputType,s=void 0===i?"text":i,l=e.description,u=void 0===l?"":l,c=e.outlined,d=void 0!==c&&c,p=e.keepRaw,f=void 0!==p&&p,h=e.title,m=void 0===h?"":h,g=e.labelShrink,v=e.tip,b=e.tipSelect,y=e.placeholder,x=void 0===y?"":y,w=e.inputAutocomplete,k=void 0===w?"off":w,S=e.dirty,C=e.loading,E=e.onChange,I=e.autoFocus,N=e.inputRef,T=e.name,R=e.inputFormatter,_=e.inputFormatterAllowed,$=e.inputFormatterReplace,M=e.inputFormatterSymbol,O=e.inputFormatterTemplate,A=e.fieldReadonly,L=e.withContextMenu;return W.createElement(WV,{autoFocus:I,inputRef:N,invalid:t,incorrect:n,value:r,readonly:a,disabled:o,inputType:s,description:u,withContextMenu:L,outlined:d,keepRaw:f,fieldReadonly:A,labelShrink:g,title:m,tip:v,tipSelect:b,placeholder:x,inputAutocomplete:k,dirty:S,loading:C,onChange:E,name:T,inputFormatter:R,inputFormatterAllowed:_,inputFormatterReplace:$,inputFormatterSymbol:M,inputFormatterTemplate:O})};VV.displayName="CompleteField";var HV=YF(VV),UV=function(e){var t=W.useContext(GW).YesNo;return W.createElement(t,kP({},e))},GV=function(e){var t=e.value,n=e.disabled,r=e.readonly,o=e.description,a=void 0===o?"":o,i=e.placeholder,s=void 0===i?"":i,l=e.outlined,u=void 0!==l&&l,c=e.virtualListBox,d=void 0===c||c,p=e.noDeselect,f=e.labelShrink,h=e.title,m=void 0===h?"":h,g=e.tr,v=e.dirty,b=e.invalid,y=e.incorrect,x=e.onChange;return W.createElement(UV,{value:t,disabled:n,readonly:r,description:a,placeholder:s,outlined:u,noDeselect:p,virtualListBox:d,labelShrink:f,tr:g,title:m,dirty:v,invalid:b,incorrect:y,onChange:x})};GV.displayName="YesNoField";var qV=YF(GV,{withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0,skipFocusReadonly:!0}),YV=function(e){var t=W.useContext(GW).Dict;return W.createElement(t,kP({},e))},KV=function(e){var t=e.invalid,n=e.incorrect,r=e.value,o=e.disabled,a=e.readonly,i=e.inputType,s=void 0===i?"text":i,l=e.inputAutocomplete,u=e.description,c=void 0===u?"":u,d=e.outlined,p=void 0!==d&&d,f=e.title,h=void 0===f?"":f,m=e.placeholder,g=void 0===m?"":m,v=e.dirty,b=e.loading,y=e.onChange,x=e.dictLimit,w=e.dictDelay,k=e.dictSearch,S=e.dictOnAppend,C=e.dictOnText,E=e.dictOnItem,I=e.dictValue,N=e.dictSearchText,T=e.dictSearchItem,R=e.dictCreateButton,_=e.inputMode,$=e.inputPattern,M=e.groupRef,O=e.inputRef,A=e.inputFormatter,L=e.inputFormatterAllowed,P=e.inputFormatterReplace,D=e.inputFormatterSymbol,F=e.inputFormatterTemplate,z=e.name,B=e.leadingIcon,j=e.trailingIcon,V=e.leadingIconClick,H=e.trailingIconClick,U=e.leadingIconRipple,G=e.trailingIconRipple,q=e.leadingIconTabIndex,Y=e.trailingIconTabIndex;return W.createElement(YV,{inputRef:O,groupRef:M,invalid:t,incorrect:n,value:r,readonly:a,disabled:o,inputType:s,description:c,inputAutocomplete:l,outlined:p,title:h,placeholder:g,dirty:v,loading:b,dictLimit:x,dictDelay:w,dictSearch:k,dictOnAppend:S,dictOnText:C,dictOnItem:E,dictValue:I,dictSearchText:N,dictSearchItem:T,dictCreateButton:R,inputMode:_,inputPattern:$,onChange:y,name:z,inputFormatter:A,inputFormatterAllowed:L,inputFormatterReplace:P,inputFormatterSymbol:D,inputFormatterTemplate:F,leadingIcon:B,trailingIcon:j,leadingIconClick:V,trailingIconClick:H,leadingIconRipple:U,trailingIconRipple:G,leadingIconTabIndex:q,trailingIconTabIndex:Y})};KV.displayName="DictField";var XV=YF(KV,{withApplyQueue:!1,skipDirtyClickListener:!0,skipFocusReadonly:!0,skipDebounce:!0}),QV=function(e){var t=W.useContext(GW).Button;return W.createElement(t,kP({},e))},ZV=function(e){var t=e.disabled,n=e.click,r=e.icon,o=e.title,a=e.value,i=e.buttonSize,s=e.buttonVariant,l=e.buttonColor,u=e.placeholder;return W.createElement(QV,{disabled:t,click:n,icon:r,title:o,value:a,buttonVariant:s,buttonColor:l,buttonSize:i,placeholder:u})};ZV.displayName="ButtonField";var JV=YF(ZV,{skipClickListener:!0,withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0}),eH=function(e){var t=W.useContext(GW).Icon;return W.createElement(t,kP({},e))},tH=function(e){var t=e.disabled,n=e.click,r=e.icon,o=e.iconSize,a=e.iconColor,i=e.iconBackground;return W.createElement(eH,{iconSize:o,iconColor:a,iconBackground:i,click:n,disabled:t,icon:r})};tH.displayName="IconField";var nH,rH=YF(tH,{skipClickListener:!0,withApplyQueue:!0,skipDebounce:!0,skipDirtyClickListener:!0}),oH=Object.create(null);Object.assign(oH,((nH={})[FP.Component]=az,nH[FP.Text]=XW,nH[FP.Line]=JW,nH[FP.Radio]=nV,nH[FP.Switch]=aV,nH[FP.Checkbox]=lV,nH[FP.Progress]=dV,nH[FP.Slider]=hV,nH[FP.Combo]=vV,nH[FP.Items]=xV,nH[FP.Rating]=SV,nH[FP.Typography]=IV,nH[FP.Date]=RV,nH[FP.Time]=MV,nH[FP.File]=LV,nH[FP.Choose]=FV,nH[FP.Complete]=HV,nH[FP.YesNo]=qV,nH[FP.Init]=function(){return null},nH[FP.Dict]=XV,nH[FP.Tree]=jV,nH[FP.Button]=JV,nH[FP.Icon]=rH,nH));var aH=function(e,t){void 0===t&&(t="");var n,r=e.type;if(n=oH[r])return W.createElement(n,kP({},e,{key:t}));throw new Error("FieldFactory unknown key type")},iH=LP()((function(e){return{heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),sH=function(e){var t=e.title,n=void 0===t?"":t,r=e.description,o=void 0===r?"":r,a=e.className,i=void 0===a?"":a,s=e.columnsOverride,l=e.isBaselineAlign,u=e.sx,c=e.style,d=e.children,p=e.expansionOpened,f=void 0!==p&&p,h=iH().classes,m=NP(W.useState(f),2),g=m[0],v=m[1];return W.createElement($S,{sx:u,expanded:g,onChange:function(){return v(!g)},className:i,style:c},W.createElement(WS,{sx:{pointerEvents:"all"},expandIcon:W.createElement(QA,null)},W.createElement(Kx,{className:h.heading},n),W.createElement(Kx,{className:h.secondaryHeading},o)),W.createElement(LS,null,W.createElement(MF,{isBaselineAlign:l,columnsOverride:s},d)))};sH.displayName="Expansion";var lH=LP()({hidden:{display:"none !important"},disabled:{pointerEvents:"none"},readonly:{pointerEvents:"none"}}),uH=function(){return!0},cH=function(){return!1},dH=function(){return!1};function pH(e){var t=W.memo(e),n=function(e){var n,r=e.className,o=e.children,a=e.object,i=e.isVisible,s=void 0===i?uH:i,l=e.isReadonly,u=void 0===l?cH:l,c=e.isDisabled,d=void 0===c?dH:c,p=e.disabled,f=void 0!==p&&p,h=e.readonly,m=void 0!==h&&h,g=e.phoneHidden,v=e.tabletHidden,b=e.desktopHidden,y=e.ready,x=SP(e,["className","children","object","isVisible","isReadonly","isDisabled","disabled","readonly","phoneHidden","tabletHidden","desktopHidden","ready"]),w=lH().classes,k=$D(),S=qD().object,C=W.useMemo((function(){var e="function"==typeof g?g(k):g,t="function"==typeof v?v(k):v,n="function"==typeof b?b(k):b;return{phoneHidden:e,tabletHidden:t,desktopHidden:n,hasHiddenConstraint:e||t||n}}),[]),E=C.phoneHidden,I=C.tabletHidden,N=C.desktopHidden,T=C.hasHiddenConstraint?YB():{},R=T.isPhone,_=void 0!==R&&R,$=T.isTablet,M=void 0!==$&&$,O=T.isDesktop,A=void 0!==O&&O,L=S||a,P=function(){var e=NP(W.useState((function(){return{readonly:!1,visible:!1,disabled:!1}})),2),t=e[0],n=e[1];return{state:t,action:W.useMemo((function(){return{setDisabled:function(e){return n((function(t){return kP(kP({},t),{disabled:e})}))},setReadonly:function(e){return n((function(t){return kP(kP({},t),{readonly:e})}))},setVisible:function(e){return n((function(t){return kP(kP({},t),{visible:e})}))}}}),[])}}(),D=P.state,F=D.disabled,z=D.readonly,B=D.visible,j=P.action,V=j.setDisabled,H=j.setReadonly,U=j.setVisible;return W.useEffect((function(){var e=d(L,k),t=s(L,k),n=u(L,k);H(n),V(e),U(t),!t&&y()}),[L]),B?E&&_||I&&M||N&&A?null:W.createElement(t,kP({className:kF(r,(n={},n[w.disabled]=F||f,n[w.readonly]=z||m,n[w.hidden]=!B,n)),ready:y,object:L},x),F||f?W.Children.map(o,(function(e){return W.cloneElement(e,{disabled:!0})})):z||m?W.Children.map(o,(function(e){return W.cloneElement(e,{readonly:!0})})):o):null};return n.displayName="Wrapped".concat(e.displayName||"UnknownLayout"),W.memo(n)}var fH=LP()((function(e){return{root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flexGrow:1,width:"100%"},outlinePaper:{background:"transparent",boxShadow:"none !important",border:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),borderRadius:"4px"},transparentPaper:{background:"transparent"}}})),hH=function(e){var t,n=e.columns,r=e.columnsOverride,o=e.sx,a=e.phoneColumns,i=e.tabletColumns,s=e.desktopColumns,l=e.isBaselineAlign,u=e.fieldRightMargin,c=void 0===u?"0":u,d=e.fieldBottomMargin,p=void 0===d?"0":d,f=e.style,h=e.className,m=e.children,g=e.title,v=e.testId,b=e.description,y=e.expansionOpened,x=e.outlinePaper,w=e.transparentPaper,k=fH().classes;return W.createElement(MF,{className:kF(h,k.root),"data-testid":v,style:f,sx:o,isItem:!0,columns:n,phoneColumns:a,tabletColumns:i,desktopColumns:s,fieldRightMargin:c,fieldBottomMargin:p},W.createElement(sH,{className:kF(k.content,(t={},t[k.outlinePaper]=x&&!w,t[k.transparentPaper]=!x&&w,t)),columnsOverride:r,expansionOpened:y,title:g,isBaselineAlign:l,description:b},m))};hH.displayName="ExpansionLayout";var mH=pH(hH),gH=LP()({stretch:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flexGrow:1,width:"100%"}}),vH=function(e){var t=e.className,n=void 0===t?"":t,r=e.style,o=e.children,a=e.columnsOverride,i=e.isBaselineAlign,s=e.sx,l=gH().classes;return W.createElement(uk,{sx:s,className:kF(n,l.stretch),style:r},W.createElement(Ii,{className:l.content},W.createElement(MF,{columnsOverride:a,isBaselineAlign:i,fieldBottomMargin:"0",fieldRightMargin:"0"},o)))};vH.displayName="Paper";var bH=LP()({baselineAdjust:{width:"100%"}}),yH=function(){var e=bH().classes;return W.createElement("div",{className:kF(e.baselineAdjust,"react-declarative__oneBaselineAdjust")})},xH=LP()((function(e){return{stretch:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",border:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),borderRadius:"4px"},content:{flexGrow:1,width:"100%"}}})),wH=function(e){var t=e.className,n=void 0===t?"":t,r=e.columnsOverride,o=e.style,a=e.children,i=e.isBaselineAlign,s=e.sx,l=xH().classes;return W.createElement(Ii,{className:kF(n,l.stretch),sx:s,style:o},W.createElement(Ii,{className:l.content},W.createElement(MF,{isBaselineAlign:i,columnsOverride:r,fieldBottomMargin:"0",fieldRightMargin:"0"},a)))};wH.displayName="Outline";var kH=LP()({stretch:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flexGrow:1,width:"100%"}}),SH=function(e){var t=e.className,n=void 0===t?"":t,r=e.columnsOverride,o=e.style,a=e.children,i=e.isBaselineAlign,s=e.sx,l=kH().classes;return W.createElement(Ii,{className:kF(n,l.stretch),sx:s,style:o},W.createElement(Ii,{className:l.content},W.createElement(MF,{isBaselineAlign:i,columnsOverride:r,fieldBottomMargin:"0",fieldRightMargin:"0"},a)))};SH.displayName="Outline";var CH=LP()({root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flexGrow:1,width:"100%"}}),EH=function(e){var t=e.columns,n=e.columnsOverride,r=e.sx,o=e.phoneColumns,a=e.tabletColumns,i=e.desktopColumns,s=e.style,l=e.className,u=e.children,c=e.testId,d=e.isBaselineAlign,p=e.fieldRightMargin,f=void 0===p?"0":p,h=e.fieldBottomMargin,m=void 0===h?"0":h,g=e.innerPadding,v=void 0===g?"18px":g,b=e.outlinePaper,y=void 0!==b&&b,x=e.transparentPaper,w=void 0!==x&&x,k=CH().classes;return W.createElement(MF,{className:kF(l,k.root),"data-testid":c,style:s,sx:r,isItem:!0,columns:t,phoneColumns:o,tabletColumns:a,desktopColumns:i,fieldRightMargin:f,fieldBottomMargin:m},W.createElement(w?SH:y?wH:vH,{className:k.content,columnsOverride:n,isBaselineAlign:d,style:{padding:v},children:W.createElement(W.Fragment,null,u,W.createElement(yH,null))}))};EH.displayName="PaperLayout";var IH=pH(EH),NH=LP()({root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flexGrow:1,width:"100%"}}),TH=function(e){var t=e.columns,n=e.columnsOverride,r=e.sx,o=e.phoneColumns,a=e.tabletColumns,i=e.desktopColumns,s=e.style,l=e.className,u=e.children,c=e.testId,d=e.isBaselineAlign,p=e.fieldRightMargin,f=void 0===p?"0":p,h=e.fieldBottomMargin,m=void 0===h?"0":h,g=e.innerPadding,v=void 0===g?"18px":g,b=NH().classes;return W.createElement(MF,{className:kF(l,b.root),"data-testid":c,style:s,sx:r,isItem:!0,columns:t,phoneColumns:o,tabletColumns:a,desktopColumns:i,fieldRightMargin:f,fieldBottomMargin:m},W.createElement(wH,{className:b.content,isBaselineAlign:d,columnsOverride:n,style:{padding:v}},u,W.createElement(yH,null)))};TH.displayName="OutlineLayout";var RH=pH(TH),_H=LP()({root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flexGrow:1,width:"100%"}}),$H=function(e){var t=e.columns,n=e.columnsOverride,r=e.sx,o=e.phoneColumns,a=e.tabletColumns,i=e.desktopColumns,s=e.isBaselineAlign,l=e.fieldRightMargin,u=void 0===l?"0":l,c=e.fieldBottomMargin,d=void 0===c?"0":c,p=e.style,f=e.testId,h=e.className,m=e.children,g=_H().classes;return W.createElement(MF,{className:kF(h,g.root),"data-testid":f,style:p,sx:r,isItem:!0,columns:t,phoneColumns:o,tabletColumns:a,desktopColumns:i,fieldRightMargin:u,fieldBottomMargin:d},W.createElement(MF,{className:g.content,isBaselineAlign:s,columnsOverride:n},m,W.createElement(yH,null)))};$H.displayName="GroupLayout";var MH=pH($H),OH=function(e){var t=e.children,n=e.isVisible,r=void 0===n?function(){return!0}:n,o=e.ready,a=NP(W.useState(!1),2),i=a[0],s=a[1],l=$D(),u=qD().object;return W.useEffect((function(){if(u){var e=r(u,l);s(e)}o()}),[u]),i?W.createElement(W.Fragment,null,t):W.createElement(W.Fragment,null)};OH.displayName="FragmentLayout";var AH=function(e){var t=e.children,n=e.className,r=e.style,o=e.testId;return W.createElement("div",kP({},{className:n,style:r},{"data-testid":o}),t)};AH.displayName="DivLayout";var LH=pH(AH),PH=function(e){var t=e.children,n=e.className,r=e.style,o=e.sx,a=e.testId;return W.createElement(Ii,{className:n,style:r,sx:o,"data-testid":a},t)};PH.displayName="BoxLayout";var DH=pH(PH),FH=LP()((function(e,t,n){var r;return{root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",overflow:"hidden","& > *":{flex:1}},keepFlow:(r={overflow:"initial !important"},r["& .".concat(n.container)]={position:"static !important"},r["& .".concat(n.content)]={overflow:"hidden !important"},r),minSize:{minWidth:225,minHeight:225},container:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column","& > *":{flex:1}},tabs:{maxHeight:48},content:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflowY:"auto","& > *":{flex:1}},line:{background:So(e.palette.getContrastText(e.palette.background.default),.23),maxHeight:2,marginTop:-2},background:{background:So("#000",.05)}}})),zH=function(e){var t,n,r=e.children,o=e.className,a=e.style,i=e.tabChange,s=e.tabVariant,l=void 0===s?"fullWidth":s,u=e.tabLine,c=void 0!==u&&u,d=e.tabColor,p=void 0===d?"primary":d,f=e.tabList,h=void 0===f?["Empty"]:f,m=e.tabKeepFlow,g=void 0!==m&&m,v=e.tabBackground,b=void 0!==v&&v,y=e.tabIndex,x=void 0===y?0:y,w=e.columns,k=e.columnsOverride,S=e.isBaselineAlign,C=e.sx,E=e.testId,I=e.phoneColumns,N=e.tabletColumns,T=e.desktopColumns,R=e.fieldRightMargin,_=void 0===R?"0":R,$=e.fieldBottomMargin,M=void 0===$?"0":$,O=FH().classes,A=NP(W.useState(x),2),L=A[0],P=A[1],D=W.useMemo((function(){return Array(h.length).fill({}).reduce((function(e,t,n){var r;return kP(((r={})["& > *:nth-of-type(".concat(n+1,")")]={display:L===n?"inherit":"none !important"},r),e)}),{})}),[L]);return W.createElement(MF,{className:o,style:a,isItem:!0,columns:w,"data-testid":E,columnsOverride:k,isBaselineAlign:S,phoneColumns:I,tabletColumns:N,desktopColumns:T,fieldRightMargin:_,fieldBottomMargin:M,sx:C},W.createElement(Ii,{className:kF(O.root,(t={},t[O.keepFlow]=g,t[O.minSize]=!g,t))},W.createElement(Ii,{className:O.container},W.createElement(YM,{value:L,indicatorColor:p,textColor:p,variant:l,onChange:function(e,t){i&&i(t),P(t)},className:kF(O.tabs,"react-declarative__tabsLayoutHeader")},h.map((function(e,t){return W.createElement(s$,{key:t,label:e})}))),c&&W.createElement(Ii,{className:O.line}),W.createElement(Ii,{className:kF(O.content,(n={},n[O.background]=b,n)),sx:D},r))))};zH.displayName="TabsLayout";var BH=pH(zH),jH=LP()({root:{display:"flex",alignItems:"stretch",justifyContent:"stretch"},container:{minWidth:1,overflowY:"auto",display:"flex",alignItems:"stretch",justifyContent:"stretch",flex:1},content:{overflow:"hidden",flex:1,minHeight:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},hidden:{visibility:"hidden"}}),WH=function(e){var t,n=e.children,r=e.className,o=e.style,a=e.innerPadding,i=void 0===a?"0px":a,s=e.columns,l=e.phoneColumns,u=e.tabletColumns,c=e.desktopColumns,d=e.columnsOverride,p=e.isBaselineAlign,f=e.testId,h=e.sx,m=e.fieldRightMargin,g=void 0===m?"0":m,v=e.fieldBottomMargin,b=void 0===v?"0":v,y=jH().classes,x=NP(W.useState(),2),w=x[0],k=x[1],S=NP(W.useState(0),2),C=S[0],E=S[1],I=NP(W.useState(!0),2),N=I[0],T=I[1],R=mz(),_=R.elementRef,$=R.size,M=W.useRef(!0);return W.useLayoutEffect((function(){return function(){M.current=!1}}),[]),W.useEffect((function(){var e=function(e){if(void 0===e&&(e=!1),w&&M.current){var t=w.getBoundingClientRect(),n=t.width,r=t.left,o=0;w.querySelectorAll(":scope > *").forEach((function(e){return o=Math.max(o,e.getBoundingClientRect().right)}));var a=Math.min(o-r-n,0);E(a),e&&T(!1)}},t=To((function(){return e(!0)}),250),n=new MutationObserver(t),r=new ResizeObserver(t);return w&&(n.observe(w,{childList:!0,subtree:!0}),r.observe(w),window.addEventListener("resize",t),e(),t()),function(){t.clear(),n.disconnect(),w&&r.unobserve(w),window.removeEventListener("resize",t),r.disconnect()}}),[w]),W.createElement(MF,{className:r,style:o,sx:h,isItem:!0,"data-testid":f,columns:s,phoneColumns:l,tabletColumns:u,desktopColumns:c,fieldRightMargin:g,fieldBottomMargin:b},W.createElement("div",{ref:_,className:y.root},W.createElement("div",{className:kF(y.container,(t={},t[y.hidden]=N,t))},W.createElement("div",{className:y.content,style:{padding:i}},W.createElement("div",{style:{marginRight:C,width:C?$.width:"100%"}},W.createElement(MF,{columnsOverride:d,isBaselineAlign:p,ref:function(e){return k(e)}},n))))))};WH.displayName="CenterLayout";var VH=pH(WH),HH=LP()({root:{position:"relative",overflowY:"auto",width:"100%",height:"100%",flex:1},container:{position:"absolute",top:0,left:0,right:0,minHeight:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column","& > *":{flex:1}}}),UH=function(e){var t=e.children,n=e.className,r=e.style,o=e.testId,a=e.innerPadding,i=void 0===a?"0px":a,s=HH().classes;return W.createElement("div",{className:kF(s.root,n),"data-testid":o,style:r},W.createElement("div",{className:s.container,style:{padding:i}},t))};UH.displayName="StretchLayout";var GH=pH(UH),qH="0px",YH="100%",KH="unset",XH=LP()({root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},container:{flexGrow:1,width:"100%"},content:{flex:1,position:"relative",overflow:"hidden"},item:{position:"absolute",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flexGrow:1}}}),QH=function(e,t){return matchMedia("(min-width: ".concat(e,"px) and (max-width: ").concat(t,"px)")).matches},ZH=function(e){var t=e.className,n=e.bpoints,r=e.height,o=e.width,a=e.registry,i=e.children,s=e.object,l=e.element,u=NP(W.useState({}),2),c=u[0],d=u[1],p=NP(W.useState({}),2),f=p[0],h=p[1],m=function(e){var t=e.xs,n=void 0===t?0:t,r=e.sm,o=void 0===r?600:r,a=e.lg,i=void 0===a?1280:a;return{isPhone:QH(n,o),isTablet:QH(o,i),isDesktop:QH(i,1e16)}}(n),g=m.isDesktop,v=m.isTablet,b=m.isPhone,y=W.useRef(!0);return W.useLayoutEffect((function(){return function(){y.current=!1}}),[]),W.useLayoutEffect((function(){CP(void 0,void 0,void 0,(function(){var e,t,n;return EP(this,(function(r){switch(r.label){case 0:return l?(e=kP(kP(kP(kP({},g&&(a.heroOuterDesktopStyle||a.heroOuterStyle)),v&&(a.heroOuterTabletStyle||a.heroOuterStyle)),b&&(a.heroOuterPhoneStyle||a.heroOuterStyle)),!b&&!v&&!g&&a.heroOuterStyle),t=kP(kP(kP(kP({},g&&(a.heroInnerDesktopStyle||a.heroInnerStyle)),v&&(a.heroInnerTabletStyle||a.heroInnerStyle)),b&&(a.heroInnerPhoneStyle||a.heroInnerStyle)),!b&&!v&&!g&&a.heroInnerStyle),[4,(o=l,new Promise((function(e){var t=setInterval((function(){var n=o.getBoundingClientRect(),r=n.height,a=n.width;return document.body.contains(o)?r||a?(clearInterval(t),void e()):void 0:(clearInterval(t),void e())}),50)})))]):[2];case 1:if(r.sent(),n=function(e){if("function"==typeof e){var t=l.getBoundingClientRect(),n=t.height,r=t.width;return e(s,{height:n,width:r},l)}return e},g)e.minHeight=n(a.desktopMinHeight||a.minHeight||KH),e.maxHeight=n(a.desktopMaxHeight||a.maxHeight||KH),e.minWidth=n(a.desktopMinWidth||a.minWidth||KH),e.maxWidth=n(a.desktopMaxWidth||a.maxWidth||KH),e.height=n(a.desktopHeight||a.height||YH),e.width=n(a.desktopWidth||a.width||YH),t.top=n(a.desktopTop||a.top||qH),t.left=n(a.desktopLeft||a.left||qH),t.right=n(a.desktopRight||a.right||qH),t.bottom=n(a.desktopBottom||a.bottom||qH);else if(v)e.minHeight=n(a.tabletMinHeight||a.minHeight||KH),e.maxHeight=n(a.tabletMaxHeight||a.maxHeight||KH),e.minWidth=n(a.tabletMinWidth||a.minWidth||KH),e.maxWidth=n(a.tabletMaxWidth||a.maxWidth||KH),e.height=n(a.tabletHeight||a.height||YH),e.width=n(a.tabletWidth||a.width||YH),t.top=n(a.tabletTop||a.top||qH),t.left=n(a.tabletLeft||a.left||qH),t.right=n(a.tabletRight||a.right||qH),t.bottom=n(a.tabletBottom||a.bottom||qH);else{if(!b)throw new Error("HeroLayout invalid media query");e.minHeight=n(a.phoneMinHeight||a.minHeight||KH),e.maxHeight=n(a.phoneMaxHeight||a.maxHeight||KH),e.minWidth=n(a.phoneMinWidth||a.minWidth||KH),e.maxWidth=n(a.phoneMaxWidth||a.maxWidth||KH),e.height=n(a.phoneHeight||a.height||YH),e.width=n(a.phoneWidth||a.width||YH),t.top=n(a.phoneTop||a.top||qH),t.left=n(a.phoneLeft||a.left||qH),t.right=n(a.phoneRight||a.right||qH),t.bottom=n(a.phoneBottom||a.bottom||qH)}return y.current&&(d(e),h(t)),[2]}var o}))}))}),[s,o,r,l]),W.createElement("div",{style:c},W.createElement("div",{className:t,style:f},i))},JH=function(e){var t=e.children,n=e.className,r=e.style,o=e.object,a=e.columns,i=e.columnsOverride,s=e.isBaselineAlign,l=e.testId,u=e.sx,c=e.phoneColumns,d=e.tabletColumns,p=e.desktopColumns,f=SP(e,["children","className","style","object","columns","columnsOverride","isBaselineAlign","testId","sx","phoneColumns","tabletColumns","desktopColumns"]),h=qa().breakpoints.values,m=NP(W.useState(null),2),g=m[0],v=m[1],b=XH().classes,y=mz({target:document.body}),x=y.elementRef,w=y.size;return W.createElement(MF,{className:kF(n,b.root),"data-testid":l,ref:function(e){return v(e)},style:r,sx:u,isItem:!0,columns:a,phoneColumns:c,tabletColumns:d,desktopColumns:p,fieldRightMargin:"0",fieldBottomMargin:"0"},W.createElement(MF,{className:b.container,isBaselineAlign:s,columnsOverride:i},W.createElement("div",{ref:x,className:b.content},W.createElement(ZH,{element:g,className:b.item,bpoints:h,height:w.height,width:w.width,registry:f,object:o},t))))};JH.displayName="HeroLayout";var eU=pH(JH),tU=function(e){var t=e.Else,n=void 0===t?null:t,r=e.Loading,o=void 0===r?n:r,a=e.children,i=e.condition,s=e.fallback,l=e.onLoadStart,u=e.onLoadEnd,c=e.payload,d=e.deps,p=void 0===d?[]:d,f=e.throwError,h=void 0!==f&&f,m=NP(W.useState((function(){return function(e,t){var n=!1;"function"==typeof e&&(n=function(e){var t=null;return Promise.resolve(e).then((function(e){return t=e})),t}(e(t)));return!!n}(i,c)})),2),g=m[0],v=m[1],b=NP(W.useState(0),2),y=b[0],x=b[1],w=W.useRef(null),k=W.useRef(!0);W.useLayoutEffect((function(){return function(){k.current=!1}}),[]);var S=HD(i);return W.useEffect((function(){var e=S.current;w.current&&w.current.cancel();var t=QP((function(){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:t=!0,x((function(e){return e+1})),l&&l(),r.label=1;case 1:return r.trys.push([1,5,6,7]),"function"!=typeof e?[3,3]:[4,Promise.resolve(e(c))];case 2:return[2,r.sent()];case 3:return[2,e];case 4:return[3,7];case 5:throw n=r.sent(),t=!1,n;case 6:return o=t,x((function(e){return e-1})),u&&u(o),[7];case 7:return[2]}var o}))}))}));w.current=t,CP(void 0,void 0,void 0,(function(){var e,n;return EP(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return(e=r.sent())===XP?[2]:(w.current=null,k.current&&v(e),[3,3]);case 2:if(n=r.sent(),k.current&&v(!1),h)throw n;return s&&s(n),[3,3];case 3:return[2]}}))}))}),TP([c],NP(p),!1)),g?W.createElement(W.Fragment,null,a):y?W.createElement(W.Fragment,null,o):W.createElement(W.Fragment,null,n)},nU=function(e,t){var n,r=null,o=!0,a=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return o||e(r,a)?(r=a,o=!1,n=t.apply(void 0,TP([],NP(a),!1))):n};return a.clear=function(){r=null},a},rU=function(e){var t=e.children,n=e.condition,r=void 0===n?function(){return!0}:n,o=e.shouldCondition,a=void 0===o?function(){return!1}:o,i=e.conditionLoading,s=e.conditionElse,l=e.fallback,u=void 0===l?function(e){throw e}:l,c=e.object,d=$D(),p=W.useMemo((function(){return nU((function(e,t){return a(e[0],t[0],d)}),r)}),[]),f=W.useCallback((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,p(e,d)];case 1:return[2,t.sent()]}}))}))}),[]);return W.createElement(tU,{condition:f,Loading:i&&W.createElement(i,{data:c,payload:d}),Else:s&&W.createElement(s,{data:c,payload:d}),fallback:u,payload:c},t)};rU.displayName="ConditionLayout";var oU=pH(rU),aU=["dirty","fallback","readonly","invalid","loading","object","onChange","prefix","value"],iU=LP()({root:{display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}}}),sU=function(e){var t=e.children;return W.createElement(W.Fragment,null,t)},lU=function(e){var t=e.children,n=e.className,r=e.style,o=e.sx,a=e.testId,i=e.customLayout,s=void 0===i?sU:i,l=SP(e,["children","className","style","sx","testId","customLayout"]),u=iU().classes,c=qD(),d=c.object,p=c.changeObject,f=$D(),h=W.useMemo((function(){var e=Object.entries(l).filter((function(e){var t=NP(e,1)[0];return!aU.includes(t)})).reduce((function(e,t){var n,r=NP(t,2),o=r[0],a=r[1];return kP(kP({},e),((n={})[o]=a,n))}),{});return kP(kP({},d),{onChange:p,_fieldParams:e,_fieldData:d,_payload:f})}),[d]);return W.createElement(Ii,{className:kF(n,u.root),"data-testid":a,style:r,sx:o},W.createElement(s,kP({},h),t))};lU.displayName="CustomLayout";var uU,cU=pH(lU),dU=Object.create(null);Object.assign(dU,((uU={})[FP.Group]=MH,uU[FP.Box]=DH,uU[FP.Paper]=IH,uU[FP.Outline]=RH,uU[FP.Expansion]=mH,uU[FP.Div]=LH,uU[FP.Tabs]=BH,uU[FP.Hero]=eU,uU[FP.Fragment]=OH,uU[FP.Center]=VH,uU[FP.Stretch]=GH,uU[FP.Condition]=oU,uU[FP.Layout]=cU,uU));var pU=function(e,t,n){void 0===n&&(n="");var r,o=e.type;if(r=dU[o])return W.createElement(r,kP({},e,{key:n}),t);throw new Error("FieldFactory unknown key type")},fU=new Set([FP.Choose,FP.Combo,FP.Complete,FP.Date,FP.File,FP.Items,FP.Text,FP.Time,FP.Dict,FP.Tree,FP.Button,FP.Icon]),hU=function(e){return e.type===FP.Fragment?mU(e):!BP(e.type)&&!e.outlined&&!e.noBaseline&&(!!e.baseline||fU.has(e.type))},mU=function(e){var t=e.outlined,n=e.noBaseline,r=e.baseline,o=e.child,a=e.fields;return!t&&!n&&(!!r||(o?[o]:a||[]).some(hU))},gU=function(e){return BP(e.type)?mU(e):hU(e)},vU=W.createContext(null),bU=function(e){var t=e.children,n=W.useMemo((function(){var e=Object.create(null);return Object.assign(e,{focusMap:new Map,blurMap:new Map,menuMap:new Map,clickMap:new Map,baselineMap:new Map,fieldsMap:new Map,statefullMap:new Map,trMap:new Map,itemListMap:new Map}),e}),[]);return W.useEffect((function(){return function(){return Object.values(n).forEach((function(e){e.clear()}))}}),[]),W.createElement(vU.Provider,{value:n},t)},yU=["custom-layout","switch-field","line-field","file-field","group-layout","paper-layout","outline-layout","expansion-layout","radio-field","checkbox-field","text-field","date-field","time-field","progress-field","component-field","slider-field","combo-field","choose-field","init-field","complete-field","items-field","rating-field","typography-field","fragment-layout","div-layout","box-layout","tabs-layout","hero-layout","center-layout","stretch-layout","condition-layout"].reduce((function(e,t){var n;return kP(kP({},e),((n={})[Symbol.for(t)]=t,n))}),{}),xU=function(e){var t=e.filter(jP).length;return Math.max(t,1)},wU=function(){return null},kU=function(){return null},SU=function(){return null},CU=function(e,t){return e!==t},EU=function(e,t){return NP(e,1)[0]!==NP(t,1)[0]},IU=function(e,t){var n=e.itemList,r=e.shouldUpdateItemList,o=void 0===r?CU:r;if(n)return Array.isArray(n)?n:nU((function(e,n){return o(e[0],n[0],t)}),n)},NU=function(e,t){var n=e.tr,r=e.shouldUpdateTr,o=void 0===r?EU:r;if(n)return nU((function(e,n){return o(e,n,t)}),n)},TU=function(e){var t=e.rendered,n=void 0!==t&&t,r=e.fields,o=void 0===r?[]:r,a=e.features,i=e.dirty,s=e.ready,l=void 0===s?wU:s,u=e.prefix,c=void 0===u?"root":u,d=e.invalidity,p=void 0===d?kU:d,f=e.fallback,h=void 0===f?SU:f,m=e.outlinePaper,g=void 0!==m&&m,v=e.transparentPaper,b=void 0!==v&&v,y=e.readonly,x=e.disabled,w=e.baseline,k=e.noBaseline,S=e.readTransform,C=e.writeTransform,E=e.focus,I=e.blur,N=e.click,T=e.menu,R=e.createField,_=void 0===R?aH:R,$=e.createLayout,M=void 0===$?pU:$,O=e.isBaseline,A=void 0===O?gU:O,L=e.withNamedPlaceholders,P=$D(),D=W.useContext(vU),F=D.focusMap,z=D.blurMap,B=D.menuMap,j=D.baselineMap,V=D.fieldsMap,H=D.clickMap,U=D.statefullMap,G=D.trMap,q=D.itemListMap,Y=W.useMemo((function(){var e=V.has(o)?V.get(o):V.set(o,o.filter((function(e){return!a||!e.features||e.features.some((function(e){return a.includes(e)}))})).filter((function(e){return e.type!==FP.Phony})).filter((function(e){var t=e.hidden;return"function"==typeof t&&(t=t(P)),!t})).filter((function(e){return e.type!==FP.Init}))).get(o);return{fields:e,statefull:U.has(o)?U.get(o):U.set(o,xU(e)).get(o)}}),[]),K=Y.fields,X=Y.statefull,Q=W.useRef(X),Z=qD(),J=Z.object,ee=Z.setObject;W.useEffect((function(){0==K.length&&l()}),[]);var te=W.useCallback((function(e,t){ee(e,t)}),[]),ne=W.useCallback((function(){0==--Q.current&&l()}),[l]);return J?W.createElement(W.Fragment,null,K.map((function(e,t){var r="".concat(c,".").concat(function(e){return yU[e]||e.toString()}(e.type),"[").concat(t,"]"),o=e.child?[e.child]:e.fields||[],s=kP(kP({readTransform:S,writeTransform:C,invalidity:e.invalidity||p,readonly:y||e.readonly,disabled:x||e.disabled,testId:e.testId,prefix:r,change:te,ready:ne,fallback:h,isBaselineAlign:void 0===j.get(e)?!!j.set(e,!!w||!k&&A(e)).get(e):!!j.get(e)},e),{placeholder:L?"".concat(e.name||"unknown"):e.placeholder,outlinePaper:e.outlinePaper||g,transparentPaper:e.transparentPaper||b,click:H.has(e)?H.get(e):H.set(e,(function(t,n,r,o,a,i){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(s){switch(s.label){case 0:return e.click?[4,e.click(t,n,r,o,a,i)]:[3,2];case 1:s.sent(),s.label=2;case 2:return N?[4,N(t,r,o,a,i,n)]:[3,4];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))})).get(e),focus:F.has(e)?F.get(e):F.set(e,(function(t,n,r,o,a){e.focus&&e.focus(t,n,r,o,a),E&&E(t,n,r,o,a)})).get(e),blur:z.has(e)?z.get(e):z.set(e,(function(t,n,r,o,a){e.blur&&e.blur(t,n,r,o,a),I&&I(t,n,r,o,a)})).get(e),menu:B.has(e)?B.get(e):B.set(e,(function(t,n,r,o,a,i){e.menu&&e.menu(t,n,r,o,a,i),T&&T(t,n,r,o,a,i)})).get(e),tr:G.has(e)?G.get(e):G.set(e,NU(e,P)).get(e),itemList:q.has(e)?q.get(e):q.set(e,IU(e,P)).get(e),object:J,dirty:e.dirty||i}),l={rendered:n,ready:ne,prefix:r,readTransform:S,writeTransform:C,readonly:y||e.readonly,disabled:x||e.disabled,outlinePaper:s.outlinePaper,transparentPaper:s.transparentPaper,withNamedPlaceholders:L,baseline:w,noBaseline:k,createField:_,createLayout:M,isBaseline:A,fields:o,features:a,handler:J,invalidity:p,focus:E,click:N,menu:T,blur:I,dirty:e.dirty||i};return BP(e.type)?M(s,W.createElement(RU,kP({},l)),r):_(s,r)}))):null};TU.displayName="OneInternal";var RU=W.memo(TU),_U="react-declarative__oneContainer",$U=LP()({root:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},adjust:{flex:1}}),MU=function(e){var t=e.className,n=e.children,r=SP(e,["className","children"]),o=$U().classes;return W.createElement(Ii,kP({className:kF(_U,t,o.root),"data-testid":_U},r),n,W.createElement("div",{className:o.adjust}))},OU="react-declarative__oneGenesis",AU="react-declarative__oneGenesisReady",LU=LP()({readonly:{pointerEvents:"none"},rendering:{pointerEvents:"none"}}),PU=function(){return null},DU=function(e){return console.log({data:e})},FU=function(e){return e},zU=function(e){var t,n=W.useRef(!1),r=NP(W.useState(!1),2),o=r[0],a=r[1],i=LU().classes,s=e.isBaselineForRoot,l=void 0===s?hU:s,u=e.outgoingTransform,c=void 0===u?FU:u,d=e.change,p=void 0===d?DU:d,f=e.ready,h=void 0===f?PU:f,m=e.fields,g=void 0===m?[]:m,v=e.slots,b=void 0===v?{}:v,y=e.payload,x=void 0===y?{}:y,w=e.fieldDebounce,k=void 0===w?0:w,S=e.features,C=e.context,E=e.baseline,I=e.noBaseline,N=zD(x),T=e.className,R=e.style,_=e.sx,$=W.useMemo((function(){return g}),[]),M=HD(h),O=HD(p),A=W.useCallback((function(){var e=M.current;n.current||(n.current=!0,a(!0),e())}),[]),L=W.useCallback((function(e,t){var n=O.current,r=!0;AD(g).forEach((function(t){var n=t.isInvalid,o=void 0===n?function(){return null}:n,a=t.hidden;("function"==typeof a?a(N):a)||(r=r&&null===(o(e,N)||null))})),r&&n(c(e,N),t)}),[]),P=kP(kP({},e),{context:void 0,fields:$,change:L,features:S,payload:N}),D=kP(kP({},e),{context:void 0,fields:$,ready:A,features:S,payload:N,rendered:o}),F=W.useMemo((function(){return!!E||!I&&$.some(l)}),[]);return W.createElement(PP,null,W.createElement(bU,null,W.createElement(ID,{payload:k},W.createElement(QF,{context:C},W.createElement(lj,{initialState:function(){return AD(g).filter((function(e){return e.type===FP.Radio})).filter((function(e){return e.name})).reduce((function(e,t){var n,r=t.name,o=t.defaultValue;return kP(kP({},e),((n={})[r]=e[r]||String(o)||null,n))}),{})}},W.createElement(ez,{features:S},W.createElement(_D,{payload:N},W.createElement(GD,kP({},P),W.createElement(cF,null,W.createElement(qW,kP({},b),W.createElement(MU,{className:T,style:R,sx:_},W.createElement(MF,{isBaselineAlign:F,className:kF(OU,(t={},t[AU]=o,t[i.readonly]=e.readonly,t[i.rendering]=!o,t)),"data-testid":o?AU:OU},W.createElement(RU,kP({},D))))))))))))))};zU.displayName="OneGenesis";var BU=function(){return W.createElement(W.Fragment,null)},jU=function(e){function t(t){var n=e.call(this,t)||this;return n.componentDidMount=function(){requestAnimationFrame((function(){n.setState({canRender:!0})}))},n.render=function(){var e=n.props,t=e.children,r=e.ServerView,o=void 0===r?BU:r;return n.state.canRender?W.createElement(W.Fragment,null,t):W.createElement(o,null)},n.state={canRender:!1},n}return wP(t,e),t}(W.Component),WU=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(Array.isArray(e))return e.map((function(e){return WU(e)}));if(WP(e)){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=WU(e[n]));return t}return e},VU=Symbol("never-value"),HU=function(){return null},UU=function(){return null},GU=function(){return null},qU=function(){return null},YU=function(){return null},KU=function(){return null},XU=function(){return null},QU=function(){return null},ZU=function(){return null},JU=function(e){return e},eG=function(e){return e},tG=function(e){return e},nG=function(e){return e},rG=function(e){var t=function(e){var t=e.changeSubject,n=e.fields,r=e.handler,o=e.data,a=void 0===o?VU:o,i=SP(e,["changeSubject","fields","handler","data"]),s=HD(a),l=W.useMemo((function(){return function(e){var t,n,r=function(e){var t=e.name,n=e.validation,r=[];if(!t)return"continue";if(!n)return"continue";var o=n.required,a=n.pattern,i=n.minLength,s=n.maxLength,l=n.numeric,u=n.minNum,c=n.maxNum,d=n.date,p=n.time;o&&r.push((function(e){var n=UP(e,t);return!1===n||0===n||n?null:"Required"})),d&&r.push((function(e){var n;return(null===(n=Rj(UP(e,t)))||void 0===n?void 0:n.isValid)?null:"The date is invalid"})),p&&r.push((function(e){var n;return(null===(n=$j(UP(e,t)))||void 0===n?void 0:n.isValid)?null:"time date is invalid"})),l&&r.push((function(e){return isNaN(UP(e,t))?"Must be a number":null})),c&&r.push((function(e){return isNaN(UP(e,t))?"Must be a number":parseInt(UP(e,t))>c?"Maximum value reached":null})),u&&r.push((function(e){return isNaN(UP(e,t))?"Must be a number":parseInt(UP(e,t))<u?"Minimum value reached":null})),a&&r.push((function(e){return new RegExp(a.source,a.flags).test(UP(e,t))?null:"Pattern does not match"})),s&&r.push((function(e){var n;return((null===(n=UP(e,t))||void 0===n?void 0:n.length)||0)>s?"Maximum length reached":null})),i&&r.push((function(e){var n;return((null===(n=UP(e,t))||void 0===n?void 0:n.length)||0)<i?"Minimum length reached":null})),e.isInvalid||(e.isInvalid=function(e){var t,n;try{for(var o=(t=void 0,IP(r)),a=o.next();!a.done;a=o.next()){var i=(0,a.value)(e);if(i)return i}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null})};try{for(var o=IP(AD(e)),a=o.next();!a.done;a=o.next())r(a.value)}catch(i){t={error:i}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return e}(WU(n))}),[]);if(zD(a===VU))return kP({handler:r,fields:l},i);var u=BD(t),c=XD(a);return W.useEffect((function(){return c.subscribe((function(e){u.next(e)}))}),[]),kP({changeSubject:u,fields:l,handler:function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return s.current?[3,2]:[4,c.toPromise()];case 1:return[2,e.sent()];case 2:return[2,s.current]}}))}))}},i)}(e),n=t.createField,r=void 0===n?aH:n,o=t.createLayout,a=void 0===o?pU:o,i=t.isBaseline,s=void 0===i?gU:i,l=t.isBaselineForRoot,u=void 0===l?hU:l,c=t.apiRef,d=t.changeSubject,p=t.reloadSubject,f=t.updateSubject,h=rF(t.onFocus||HU),m=rF(t.onBlur||UU),g=rF(t.onMenu||GU),v=rF(t.onClick||qU),b=rF(t.onReady||YU),y=rF(t.onChange||KU),x=rF(t.onInvalid||XU),w=rF(t.onLoadStart||QU),k=rF(t.onLoadEnd||ZU),S=t.focus,C=void 0===S?h:S,E=t.blur,I=void 0===E?m:E,N=t.menu,T=void 0===N?g:N,R=t.click,_=void 0===R?v:R,$=t.ready,M=void 0===$?b:$,O=t.change,A=void 0===O?y:O,L=t.invalidity,P=void 0===L?x:L,D=t.loadStart,F=void 0===D?w:D,z=t.loadEnd,B=void 0===z?k:z,j=t.features,V=SP(t,["focus","blur","menu","click","ready","change","invalidity","loadStart","loadEnd","features"]),H=rF(t.readTransform||JU),U=rF(t.writeTransform||eG),G=rF(t.incomingTransform||tG),q=rF(t.outgoingTransform||nG),Y={readTransform:W.useCallback((function(e,t,n,r){return"string"==typeof e||Array.isArray(e)?H(e,t,n,r):e}),[]),writeTransform:W.useCallback((function(e,t,n,r){return"string"==typeof e||Array.isArray(e)?U(e,t,n,r):e}),[])},K={focus:C,blur:I,menu:T,click:_,ready:M,change:A,invalidity:P,loadStart:F,loadEnd:B},X=W.useMemo((function(){var e=j;return"function"==typeof j&&(e=j()),e&&!Array.isArray(e)&&(e=Object.entries(e).map((function(e){var t=NP(e,2),n=t[0];return t[1]?n:null})).filter((function(e){return!!e}))),e}),[]),Q=kP(kP(kP(kP({},V),K),Y),{incomingTransform:G,outgoingTransform:q,createField:r,createLayout:a,isBaseline:s,isBaselineForRoot:u,features:X});return W.createElement(jU,null,W.createElement(AP,{apiRef:c,changeSubject:d,reloadSubject:p,updateSubject:f},W.createElement(XB,kP({},Q),W.createElement(PB,null,W.createElement(zU,kP({},Q))))))};rG.displayName="One";var oG,aG=function(e){return W.createElement(rG,kP({},e))};aG.displayName="OneTyped",rG.typed=aG,new(function(){function e(){var e=this;this.abort=function(){var t;"AbortController"in window&&(null===(t=e._lastInstance)||void 0===t||t.abort(),e._lastInstance=new AbortController)},"AbortController"in window&&(this._lastInstance=new AbortController)}return Object.defineProperty(e.prototype,"signal",{get:function(){var e;return null===(e=this._lastInstance)||void 0===e?void 0:e.signal},enumerable:!1,configurable:!0}),e}()),function(e){function t(t,n,r){var o=e.call(this,t.message||"FetchError")||this;return o.originalError=t,o.request=n,o.response=r,o}wP(t,e)}(Error);var iG=function(){var e;return globalThis.location?"file:"===(null===(e=globalThis.location)||void 0===e?void 0:e.protocol)?nL():function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function o(){var e=n.location,t=e.pathname,o=e.search,a=e.hash,i=r.state||{};return[i.idx,{pathname:t,search:o,hash:a,state:i.usr||null,key:i.key||"default"}]}var a=null;n.addEventListener("popstate",(function(){if(a)d.call(a),a=null;else{var e=KA.Pop,t=o(),n=t[0],r=t[1];if(d.length){if(null!=n){var i=l-n;i&&(a={action:e,location:r,retry:function(){v(-1*i)}},v(i))}}else g(e)}}));var i=KA.Pop,s=o(),l=s[0],u=s[1],c=aL(),d=aL();function p(e){return"string"==typeof e?e:sL(e)}function f(e,t){return void 0===t&&(t=null),we({pathname:u.pathname,hash:"",search:""},"string"==typeof e?lL(e):e,{state:t,key:iL()})}function h(e,t){return[{usr:e.state,key:e.key,idx:t},p(e)]}function m(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function g(e){i=e;var t=o();l=t[0],u=t[1],c.call({action:i,location:u})}function v(e){r.go(e)}return null==l&&(l=0,r.replaceState(we({},r.state,{idx:l}),"")),{get action(){return i},get location(){return u},createHref:p,push:function e(t,o){var a=KA.Push,i=f(t,o);if(m(a,i,(function(){e(t,o)}))){var s=h(i,l+1),u=s[0],c=s[1];try{r.pushState(u,"",c)}catch(d){n.location.assign(c)}g(a)}},replace:function e(t,n){var o=KA.Replace,a=f(t,n);if(m(o,a,(function(){e(t,n)}))){var i=h(a,l),s=i[0],u=i[1];r.replaceState(s,"",u),g(o)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return c.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(tL,oL),function(){t(),d.length||n.removeEventListener(tL,oL)}}}}():nL()},sG=W.createContext(null),lG=function(e){var t,n=e.children,r=NP(W.useState(null),2),o=r[0],a=r[1],i=W.useCallback((function(e){return a((function(){return e}))}),[]),s={handleElement:i,handleClear:W.useCallback((function(){return a(null)}),[]),handleUpdate:(t=NP(W.useState(!0),2)[1],W.useCallback((function(){t((function(e){return!e}))}),[]))};return W.createElement(jU,null,W.createElement(PP,null,W.createElement(sG.Provider,{value:s},n,o&&W.createElement(o))))},uG=function(e,t){void 0===t&&(t=[]);var n=NP(W.useState(!1),2),r=n[0],o=n[1],a=W.useContext(sG),i=a.handleElement,s=a.handleClear,l=a.handleUpdate,u=W.useCallback((function(){i(e)}),[]);return W.useEffect((function(){r?u():s()}),[r]),W.useEffect((function(){r&&l()}),TP([r],NP(t),!1)),{showModal:W.useCallback((function(){o(!0)}),[]),hideModal:W.useCallback((function(){o(!1)}),[])}},cG=LP()({dialog:{"&:first-of-type":{padding:0},overflow:"hidden"}}),dG=function(e){var t=e.children,n=e.disabled,r=e.invalid,o=e.dividers,a=void 0!==o&&o,i=e.canCancel,s=void 0===i||i,l=e.noSave,u=void 0!==l&&l,c=e.onAccept,d=void 0===c?function(){return console.log("accept")}:c,p=e.onDismiss,f=void 0===p?function(){return console.log("dismiss")}:p,h=SP(e,["children","disabled","invalid","dividers","canCancel","noSave","onAccept","onDismiss"]),m=cG().classes;return W.createElement(II,kP({},h),W.createElement(PI,{dividers:a,className:m.dialog},t),W.createElement(_I,null,!u&&W.createElement(EE,{disabled:n||r,color:"primary",onClick:d},"OK"),s&&W.createElement(EE,{disabled:n,color:"primary",onClick:f},"Cancel")))},pG=function(e){var t=e.onChange,n=void 0===t?function(e){return console.log({result:e})}:t,r=e.canCancel,o=void 0===r||r,a=e.title,i=e.msg,s=e.open,l=void 0===s||s;return W.createElement(dG,{open:l,canCancel:o,onAccept:function(){return n(!0)},onDismiss:function(){return n(!1)}},W.createElement(zI,null,W.createElement(Ii,{mr:3},a)),W.createElement(Ii,{p:3},W.createElement(Kx,{variant:"body2"},i)))},fG=function(e){var t=void 0===e?{}:e,n=t.title,r=void 0===n?"":n,o=t.msg,a=void 0===o?"":o,i=t.canCancel,s=void 0===i||i,l=W.useRef(),u=rF((function(){return{currentCanCancel:s,currentTitle:r,currentMsg:a,open:!1}})),c=NP(aF(u),2),d=c[0],p=c[1];W.useEffect((function(){d.current.open||p((function(e){return kP(kP({},e),{currentTitle:r})}))}),[r]),W.useEffect((function(){d.current.open||p((function(e){return kP(kP({},e),{currentMsg:a})}))}),[a]),W.useEffect((function(){d.current.open||p((function(e){return kP(kP({},e),{currentCanCancel:s})}))}),[s]);var f=function(e){var t=l.current;t&&t(e),p(u),g()},h=uG((function(){return W.createElement(pG,{open:!0,canCancel:d.current.currentCanCancel,title:d.current.currentTitle,msg:d.current.currentMsg,onChange:f})}),[]),m=h.showModal,g=h.hideModal;return function(e){var t=void 0===e?{}:e,n=t.canCancel,r=t.title,o=t.msg;return new function(){var e=this;this.then=function(e){l.current=e},this.toPromise=function(){return CP(e,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return e=new uD,this.then(e.next),[4,e.toPromise()];case 1:return[2,t.sent()]}}))}))},p((function(e){return{currentTitle:void 0!==r?r:e.currentTitle,currentCanCancel:void 0!==n?n:e.currentCanCancel,currentMsg:void 0!==o?o:e.currentMsg,open:!0}})),m()}}};iG();var hG=function(e,t){void 0===t&&(t={});var n={};return AD(e).filter((function(e){return!!e.name})).filter((function(e){return e.type!==FP.Phony})).filter((function(e){return e.type!==FP.Button})).filter((function(e){return e.type!==FP.Icon})).forEach((function(e){var r=e.type,o=e.name,a=e.defaultValue,i=e.hidden;PD(n,o),("function"==typeof i?i(t):i)||HP(n,o,void 0===a?UP(n,o)||OD(r):"function"==typeof a?a(t):a)})),n};LP()((function(e){return{content:{minWidth:"300px",maxWidth:"80vw",maxHeight:"80vh",overflowY:"auto",overflowX:"hidden",paddingTop:e.spacing(2),paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingBottom:e.spacing(2)}}}));var mG="react-declarative__oneButtonContent",gG=LP()((function(e){return{content:{minWidth:"300px",maxWidth:"80vw",maxHeight:"80vh",overflowY:"auto",overflowX:"hidden",paddingTop:e.spacing(2),paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingBottom:e.spacing(2)}}})),vG=function(e){var t=e.waitForChangesDelay,n=void 0===t?600:t,r=e.fieldDebounce,o=e.withCloseAfterChange,a=void 0!==o&&o,i=e.noBadge,s=void 0!==i&&i,l=e.fields,u=e.handler,c=e.payload,d=void 0===c?{}:c,p=e.badgeColor,f=void 0===p?"info":p,h=e.color,m=void 0===h?"primary":h,g=e.badgeOverlap,v=e.badgeSx,b=e.oneSx,y=e.onChange,x=void 0===y?function(){}:y,w=e.onFocus,k=e.onBlur,S=e.isBaseline,C=e.isBaselineForRoot,E=e.onInvalid,I=e.readTransform,N=e.writeTransform,T=e.incomingTransform,R=e.outgoingTransform,_=SP(e,["waitForChangesDelay","fieldDebounce","withCloseAfterChange","noBadge","fields","handler","payload","badgeColor","color","badgeOverlap","badgeSx","oneSx","onChange","onFocus","onBlur","isBaseline","isBaselineForRoot","onInvalid","readTransform","writeTransform","incomingTransform","outgoingTransform"]),$=gG().classes,M=zD(d),O=NP(W.useState(null),2),A=O[0],L=O[1],P=NP(W.useState(!1),2),D=P[0],F=P[1],z=rF(x),B=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){var e,t,n,r;return EP(this,(function(o){switch(o.label){case 0:return e=function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return"function"!=typeof u?[3,2]:[4,u(M)];case 1:return[2,e.sent()];case 2:return[2,u]}}))}))},n=LD,r=[{},hG(l,M)],[4,e()];case 1:return t=n.apply(void 0,r.concat([o.sent()])),z(t,!0),[2,t]}}))}))})),4),j=B[0],V=B[1],H=V.loading,U=V.error,G=B[2],q=B[3].data$,Y=NP(W.useState(!1),2),K=Y[0],X=Y[1],Q=ZB([j],10);KD((function(){"function"!=typeof u&&G(u)}),[u]);var Z=W.useMemo((function(){return s?0:Object.values(j||{}).filter((function(e){return e})).length}),[j]),J=W.useMemo((function(){return nF((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return F(!0),[4,CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,Promise.race([Q(),KP(n)])];case 1:return e.sent(),[2]}}))}))];case 1:return e.sent(),z(q.current,!1),L(null),F(!1),[2]}}))}))}))}),[]),ee=BD();return W.useEffect((function(){if(A&&a){var e=ee.once((function(){var t=tD((function(t){var n=t.clientX,r=t.clientY,o=document.elementFromPoint(n,r);(null==o?void 0:o.closest(".".concat(mG)))||(J(),e&&e())}),15);document.addEventListener("mousemove",t),e=function(){document.removeEventListener("mousemove",t),t.clear()}}));return function(){return e()}}}),[A]),H||U?null:W.createElement(W.Fragment,null,W.createElement(rE,{badgeContent:Z,overlap:g,color:f,sx:v},W.createElement(EE,kP({},_,{onClick:function(e){var t=e.currentTarget;A||L(t)},color:K?"error":m}))),W.createElement(Fk,{keepMounted:!0,open:!!A,anchorEl:A,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"}},W.createElement(rG,{className:kF($.content,mG),sx:b,transparentPaper:!0,fieldDebounce:r,fields:l,payload:M,handler:function(){return j},readonly:D,isBaseline:S,isBaselineForRoot:C,onChange:function(e,t){t||(G(e),X(!1),z(e,!1),ee.next())},onInvalid:function(e,t,n){X(!0),E&&E(e,t,n)},readTransform:I,writeTransform:N,incomingTransform:T,outgoingTransform:R,onFocus:w,onBlur:k})))},bG="react-declarative__scrollViewTarget",yG=LP()({root:{display:"flex",alignItems:"stretch",justifyContent:"stretch"},container:{flex:1,position:"relative"},overflowX:{overflowX:"auto"},noOverflowX:{overflowX:"hidden"},overflowY:{overflowY:"auto"},noOverflowY:{overflowY:"hidden"},hideScrollbar:{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"},content:{position:"absolute",top:0,left:0},stretch:{display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},center:{display:"flex",alignItems:"center",justifyContent:"center"}}),xG=function(e){var t,n,r=e.children,o=e.className,a=e.style,i=e.center,s=void 0!==i&&i,l=e.withScrollbar,u=void 0!==l&&l,c=e.hideOverflowX,d=void 0!==c&&c,p=e.hideOverflowY,f=void 0!==p&&p,h=SP(e,["children","className","style","center","withScrollbar","hideOverflowX","hideOverflowY"]),m=yG().classes,g=mz(),v=g.elementRef,b=g.size,y=b.height,x=b.width;return W.createElement(Ii,kP({className:kF(o,m.root),style:a},h),W.createElement("div",{ref:v,className:kF(m.container,bG,(t={},t[m.hideScrollbar]=!u,t[m.overflowX]=!d,t[m.overflowY]=!f,t[m.noOverflowX]=d,t[m.noOverflowY]=f,t))},W.createElement("div",{className:kF(m.content,(n={},n[m.stretch]=!s,n[m.center]=s,n)),style:{minHeight:y,minWidth:x}},r)))},wG=LP()((function(e,t){var n=t.size;return{root:{display:"inline-flex",alignItems:"stretch",justifyContent:"stretch",height:n,width:n},container:{position:"relative",height:n,width:n,flex:1},icon:{position:"absolute",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",top:0,left:0,right:0,bottom:0,zIndex:1},spinner:{position:"absolute",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:0}}})),kG=function(e){var t=e.className,n=e.style,r=e.sx,o=e.noProgress,a=void 0!==o&&o,i=e.throwError,s=void 0!==i&&i,l=e.disabled,u=void 0!==l&&l,c=e.size,d=void 0===c?40:c,p=e.thickness,f=void 0===p?3.6:p,h=e.color,m=void 0===h?"primary":h,g=e.onLoadStart,v=e.onLoadEnd,b=e.onClick,y=void 0===b?function(){}:b,x=e.fallback,w=e.children,k=SP(e,["className","style","sx","noProgress","throwError","disabled","size","thickness","color","onLoadStart","onLoadEnd","onClick","fallback","children"]),S=wG({size:d,thickness:f}).classes,C=NP(W.useState(0),2),E=C[0],I=C[1],N=W.useRef(!0);W.useLayoutEffect((function(){return function(){N.current=!1}}),[]);var T=HD(E);return W.createElement(Ii,{className:kF(t,S.root),style:n,sx:r},W.createElement(HI,kP({},k,{className:S.container,disabled:!!E||u,onClick:function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:if(T.current)return[2];t=!0,r.label=1;case 1:return r.trys.push([1,3,4,5]),g&&g(),N.current&&I((function(e){return e+1})),[4,y(e)];case 2:return r.sent(),[3,5];case 3:if(n=r.sent(),t=!1,s)throw n;return x&&x(n),[3,5];case 4:return v&&v(t),N.current&&I((function(e){return e-1})),[7];case 5:return[2]}}))}))},color:m}),!!E&&!a&&W.createElement("div",{className:S.spinner},W.createElement(Dx,{size:d,thickness:f})),W.createElement(Ii,{className:S.icon},w)))},SG=LP()((function(e){var t;return{root:(t={display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",minHeight:"100%",width:"100%"},t["& .".concat(bG)]={"& > div > div":{marginBottom:e.spacing(2)}},t),container:{position:"relative",flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flex:1,display:"flex"},cell:{border:"1px solid ".concat(e.palette.action.active),padding:e.spacing(.5),margin:e.spacing(.5)},headerCell:{background:e.palette.primary.main,color:e.palette.getContrastText(e.palette.background.default)},fabFullscreen:{position:"absolute",transition:"opacity 150ms",opacity:0,bottom:10,right:10,zIndex:2},fabFullscreenToggle:{opacity:1}}})),CG=function(e){if("Sanitizer"in window){var t=new window.Sanitizer,n=document.createElement("div");return n.setHTML(e,{sanitizer:t}),n.innerHTML}return e};W.forwardRef((function(e,t){var n,r=e.data,o=e.maxCols,a=void 0===o?25:o,i=e.maxRows,s=void 0===i?100:i,l=e.withHeader,u=e.withFullScreen,c=e.className,d=e.style,p=e.sx,f=SP(e,["data","maxCols","maxRows","withHeader","withFullScreen","className","style","sx"]),h=SG().classes,m=NP(W.useState(!1),2),g=m[0],v=m[1],b=W.useMemo((function(){return function(e){var t=e.reduce((function(e,t){return Math.max(e,t.length)}),0);return e.map((function(e){var n=Array(t).fill("");return e.forEach((function(e,t){return n[t]=e})),n}))}(r)}),[r]),y=W.useMemo((function(){if(!l)return[];var e=NP(b,1)[0];return(void 0===e?[]:e).slice(0,a)}),[l,b,a]),x=W.useMemo((function(){return l?b.slice(1,s).map((function(e){return e.slice(0,a)})):b.slice(0,s).map((function(e){return e.slice(0,a)}))}),[l,s,a,b]);return W.createElement(Ii,kP({},f,{ref:t,className:kF(h.root,c),style:d,sx:p,onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)}}),W.createElement(Ii,{className:h.container},W.createElement(xG,{withScrollbar:!0,className:h.content},W.createElement("table",null,!!y.length&&W.createElement("thead",null,W.createElement("tr",null,y.map((function(e,t){return W.createElement("th",{key:"".concat(e,"-").concat(t),className:h.headerCell},e)})))),W.createElement("tbody",null,x.map((function(e,t){return W.createElement("tr",{key:"".concat(e.length,"-").concat(t)},e.map((function(e,t){return W.createElement("td",{key:"".concat(e,"-").concat(t),className:h.cell},e)})))}))))),u&&W.createElement(kG,{className:kF(h.fabFullscreen,(n={},n[h.fabFullscreenToggle]=g,n)),color:"primary",size:48,onClick:function(e){e.preventDefault(),e.stopPropagation();var t,n,r,o=(n=x,r="",r+="<style>table{border-collapse:collapse;min-width:100%}td,th{border:1px solid #ddd;text-align:left;padding:8px}th{background-color:#f2f2f2}</style>",r+="<table>",(t=y).length&&(r+="<thead>",r+="<tr>",t.forEach((function(e){r+="<th>".concat(CG(e),"</th>")})),r+="</tr>",r+="</thead>"),r+="<tbody>",n.forEach((function(e){r+="<tr>",e.forEach((function(e){r+="<td>".concat(CG(e),"</td>")})),r+="</tr>"})),r+="</tbody>"),a=window.open("about:blank","_blank","width=600,height=400");a&&(a.document.write(o),a.document.close())}},W.createElement(dL,{color:"inherit"}))))})),LP()({root:{display:"flex",alignItems:"center",justifyContent:"center"},container:{position:"relative"},content:{position:"absolute",top:0,left:0,transform:"translate(-50%, -50%)",borderRadius:"50%"}});var EG=W.createContext(null),IG=function(e){return W.createElement(EG.Provider,{value:e},e.children)},NG=function(){return W.useContext(EG)},TG=W.createContext(null),RG=function(){return W.useContext(TG)},_G=function(e){var t=e.children,n=e.selectedRows,r=NP(W.useState(new Set(n)),2),o=r[0],a=r[1],i=NG().onSelectedRows,s=Sz(),l=s.delay$,u=s.doDelay,c=function(e,t){void 0===t&&(t=!1),u(),i&&i(TP([],NP(e),!1),t),a(new Set(e))},d={selection:o,setSelection:c};return W.useEffect((function(){if(n&&!l.current){var e=new Set(n);(function(e,t){if(e.size!==t.size)return!1;var n=!0;return e.forEach((function(e){!t.has(e)&&n&&(n=!1)})),t.forEach((function(t){!e.has(t)&&n&&(n=!1)})),n})(e,o)||c(e)}}),[n]),V.createElement(TG.Provider,{value:d},t)},$G=LP()({root:{display:"flex",alignItems:"center",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},"& .MuiTablePagination-selectLabel":{display:"none"},"& .MuiToolbar-root":{paddingLeft:"unset !important"},"& .MuiToolbar-root > .MuiInputBase-root":{marginRight:"unset !important"},"& .MuiTablePagination-displayedRows":{transform:"translateY(-1px)",marginLeft:"10px",marginRight:"10px"},"& .MuiTablePagination-actions":{marginLeft:"unset !important"},"& .MuiToolbar-root > .MuiPagination-root":{marginLeft:"unset !important"},"& .MuiToolbar-root > .MuiPagination-root > .MuiPagination-ul":{flexWrap:"nowrap"},overflowX:"auto"},label:{margin:0,padding:0,paddingLeft:15,whiteSpace:"nowrap"},disabled:{pointerEvents:"none",opacity:.5},stretch:{flex:1}}),MG=function(e){return"Selected: ".concat(function(e,t){var n=t.one,r=t.many,o=t.two,a=void 0===o?r:o;return"".concat(e," ").concat(function(){if(0===e||e>=11&&e<20)return r;var t=e%10;return 0===t?r:1===t?n:t<5?a:r}())}(e,{one:"item",many:"items"}))},OG=function(){return W.createElement(Dx,{size:"16px"})},AG=function(e){var t,n=$G().classes,r=RG().selection,o=NG(),a=o.loading,i=o.selectionLabel,s=void 0===i?MG:i,l=o.fallback,u=o.rows,c=o.BeforeSelectionLabel,d=rF((function(){return s(r.size)}));return W.createElement(Ii,kP({},e,{className:kF(e.className,n.root,(t={},t[n.disabled]=a,t))}),c&&W.createElement(c,kP({},o)),W.createElement(Kx,{variant:"body1",className:n.label},W.createElement(eF,{Loader:OG,deps:[r,u],fallback:l,throwError:!0},d)),W.createElement("div",{className:n.stretch}),e.children)},LG=function(e){var t=e.className,n=e.count,r=e.page,o=e.rowsPerPage,a=e.onPageChange,i=Math.ceil(n/o),s=r+1;return W.createElement(dR,{className:t,page:s,count:-1===n?Math.max(s+1,10):i,renderItem:function(e){return W.createElement(aR,kP({components:{previous:sA,next:fA}},e))},size:"small",onChange:function(e,t){return a(e,t-1)}})},PG=function(e){var t=e.width;e.height;var n=SP(e,["width","height"]),r=NG(),o=r.withArrowPagination,a=void 0!==o&&o,i=r.withRangePagination,s=void 0!==i&&i,l=r.noDisplayedRows,u=void 0!==l&&l,c=r.rowsPerPage,d=r.limit,p=r.loading,f=t>500&&s?LG:void 0,h=n.count,m=n.rowsPerPage,g=n.page,v=n.onPageChange,b=rF((function(e,t){if(-1===h)v(e,Math.max(g+t,0));else{var n=Math.ceil(h/m)-1;v(e,Math.min(Math.max(g+t,0),n))}}));return W.useEffect((function(){var e=function(e){var t=e.key;"ArrowRight"===t?b(e,1):"ArrowLeft"===t&&b(e,-1)};return a&&!p&&document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[a,p]),W.createElement(dM,kP({},n,{sx:kP(kP({},u&&{"& .MuiTablePagination-displayedRows":{display:"none"}}),{width:t,overflow:"hidden",overflowX:"auto"}),component:AG,rowsPerPageOptions:c,labelDisplayedRows:function(e){var t=e.page,n=e.count;return-1===n?"#".concat(t+1):"".concat(t+1,"/").concat(Math.ceil(n/d))},labelRowsPerPage:"",ActionsComponent:f}))},DG=Symbol("resize-event");!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHeightRequest=t.props.heightRequest,t.lastWidthRequest=t.props.widthRequest,t._patchSizeRequest=function(e){e.heightRequest&&(t.lastHeightRequest=e.heightRequest),e.widthRequest&&(t.lastWidthRequest=e.widthRequest)},t.state={height:t.props.defaultHeight||0,width:t.props.defaultWidth||0,childHeight:t.props.defaultHeight||0,childWidth:t.props.defaultWidth||0},t._onResize=function(){var e=t.props.onResize;if(t._parentNode){var n=t._parentNode.offsetHeight||0,r=t._parentNode.offsetWidth||0,o=window.getComputedStyle(t._parentNode)||{},a=parseInt(o.paddingLeft,10)||0,i=parseInt(o.paddingRight,10)||0,s=n-(parseInt(o.paddingTop,10)||0)-(parseInt(o.paddingBottom,10)||0),l=r-a-i,u=t.lastHeightRequest(s),c=t.lastWidthRequest(l),d=!1;(d=(d=(d=(d=d||t.state.height!==s)||t.state.width!==l)||t.state.childHeight!==u)||t.state.childWidth!==c)&&(t.setState({height:s,width:l,childHeight:u,childWidth:c}),e({height:n,width:r}))}},t._setRef=function(e){t._autoSizer=e},t}wP(t,e),t.prototype.shouldComponentUpdate=function(e,t){this._patchSizeRequest(e);var n=!1;if(n=(n=(n=(n=n||this.state.height!==t.height)||this.state.width!==t.width)||this.state.childHeight!==t.childHeight)||this.state.childWidth!==t.childWidth)return!0;var r=!1;return(r=(r=(r=(r=r||e.className!==this.props.className)||e.withContainerHeight!==this.props.withContainerHeight)||e.withContainerWidth!==this.props.withContainerWidth)||!GP(e.style,this.props.style))||e.payload!==this.props.payload},t.prototype.componentDidMount=function(){var e,t,n,r=this.props.target||this._autoSizer;this.props.closest&&(r=(null==r?void 0:r.closest(this.props.closest))||null),this.props.selector&&(r=(null==r?void 0:r.querySelector(this.props.selector))||null),r&&r.parentNode&&r.parentNode.ownerDocument&&r.parentNode.ownerDocument.defaultView&&r.parentNode instanceof r.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=r.parentNode,this._detectElementResize=(e=new qP,t=function(){return e.emit(DG)},n=new ResizeObserver(t),{addResizeListener:function(r,o){e.hasListeners||window.addEventListener("resize",t),n.observe(r),e.subscribe(DG,o)},removeResizeListener:function(r,o){n.unobserve(r),e.unsubscribe(DG,o),e.hasListeners||window.removeEventListener("resize",t)}}),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())},t.prototype.componentWillUnmount=function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.withContainerHeight,o=e.withContainerWidth,a=e.style,i=this.state,s=i.height,l=i.width,u=i.childHeight,c=i.childWidth,d={overflow:"visible"},p={payload:this.props.payload};return r&&(d.height=s),p.height=u,o&&(d.width=l),p.width=c,W.createElement("div",{className:n,ref:this._setRef,style:kP(kP({},d),a)},t(p))},t.defaultProps={onResize:function(){},heightRequest:function(e){return e},widthRequest:function(e){return e},withContainerHeight:!1,withContainerWidth:!1,style:{}}}(W.Component);var FG=function(e,t){return function(n){return n>=e&&n<t}};!function(e){e.Phone="phone",e.Tablet="tablet",e.Desktop="desktop"}(oG||(oG={}));var zG,BG=oG,jG=NP(CD(),2),WG=jG[0],VG=jG[1],HG=W.createContext(null),UG=function(e){var t=e.children,n=e.value,r=void 0===n?{}:n;return W.createElement(HG.Provider,{value:r},t)},GG=function(){return W.useContext(HG)},qG=W.createContext(null),YG=function(e){var t=e.children,n=e.limit,r=e.offset,o=W.useMemo((function(){return{limit:n,offset:r}}),[n,r]);return W.createElement(qG.Provider,{value:o},t)},KG=function(){return W.useContext(qG)},XG=W.createContext(null),QG=function(e){var t=e.children,n=e.value,r=zD(void 0===n?{}:n);return W.createElement(XG.Provider,{value:r},t)},ZG=function(){return W.useContext(XG)},JG=W.createContext(null),eq=function(e){return W.createElement(JG.Provider,{value:e.value},e.children)},tq=function(){return W.useContext(JG)},nq=function(e){var t=W.useContext(VY).CheckboxCell;return W.createElement(t,kP({},e))},rq=LP()({root:{position:"relative"}}),oq=function(e){var t=rq().classes;return W.createElement(E$,{className:t.root,padding:"checkbox"},W.createElement(nq,kP({},e)))},aq=function(e){var t=W.useContext(VY).CommonCell;return W.createElement(t,kP({},e))};!function(e){e.Text="text-cell",e.Action="action-cell",e.CheckBox="checkbox-cell",e.Compute="compute-cell",e.Component="component-cell"}(zG||(zG={}));var iq=zG,sq=LP()({root:{position:"relative",overflow:"hidden",paddingLeft:"0px !important",paddingRight:"0 !important",overflowWrap:"break-word"}}),lq=function(e){var t=sq().classes,n=e.column,r=n.type===iq.Component?"none":n.type===iq.CheckBox?"checkbox":"normal",o=n.type===iq.Action?"center":"left",a=n.width,i=a,s=n.minHeight;return W.createElement(E$,{className:t.root,style:{minWidth:a,maxWidth:i,minHeight:s},align:o,padding:r},W.createElement(aq,kP({},e)))},uq=function(){var e=NG(),t=e.handleReload,n=e.computeKeepPageOnReload;return function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(r){switch(r.label){case 0:return n()?[3,2]:[4,t(!1)];case 1:case 3:return[2,r.sent()];case 2:return[4,t(e)]}}))}))}},cq=!1,dq=null,pq=new uD,fq=function(){return CP(void 0,void 0,void 0,(function(){var e,t,n,r,o,a,i,s,l,u,c;return EP(this,(function(d){switch(d.label){case 0:return[4,pq.next()];case 1:if(d.sent(),cq=!0,dq)return dq(),[2];if(e=window.location,t=e.href,n=e.origin,r=e.protocol,!("caches"in window))return[3,10];d.label=2;case 2:return d.trys.push([2,8,9,10]),[4,window.caches.keys()];case 3:o=IP.apply(void 0,[d.sent()]),a=o.next(),d.label=4;case 4:return a.done?[3,7]:(i=a.value,[4,caches.delete(i)]);case 5:d.sent(),d.label=6;case 6:return a=o.next(),[3,4];case 7:return[3,10];case 8:return s=d.sent(),u={error:s},[3,10];case 9:try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(u)throw u.error}return[7];case 10:return"file:"!==r?((l=new URL(t,n)).pathname="/",l.search="",l.hash="",window.location.href=l.toString()):window.location.reload(!0),[2]}}))}))};window&&window.addEventListener&&window.addEventListener("beforeunload",(function(e){cq&&e.stopImmediatePropagation()}),!0),fq.override=function(e){dq=e},fq.listen=function(e){return pq.subscribe(e)};var hq,mq=function(e){return e instanceof Promise?new Promise((function(t,n){return CP(void 0,void 0,void 0,(function(){var r,o;return EP(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,e];case 1:return r=a.sent(),t(!r),[3,3];case 2:return o=a.sent(),n(o),[3,3];case 3:return[2]}}))}))})):!e},gq=function(e){var t=NP(e.split("_")),n=t[0],r=t.slice(1);return TP(["".concat(n.charAt(0).toUpperCase()).concat(n.slice(1))],NP(r),!1).join(" ")},vq=W.createContext(null),bq=function(){return W.useContext(vq)},yq=function(e){var t=e.children,n=e.sortModel,r=NG().withSingleSort,o=void 0!==r&&r,a=NP(W.useState(new Map(n.map((function(e){return[String(e.field),e]})))),2),i=a[0],s=a[1],l=HD(i),u=NG().handleSortModel,c={sortModel:i,setSortModel:function(e){var t=l.current;if(o){var n=TP([],NP(e.values()),!1).find((function(e){var n=e.field,r=e.sort,o=t.get(n);return!o||o.sort!==r}));e.forEach((function(t){var r=t.field;r!==(null==n?void 0:n.field)&&e.delete(r)}))}u(TP([],NP(e.values()),!1)),s(new Map(e))}};return V.createElement(vq.Provider,{value:c},t)},xq=LP()((function(e,t,n){var r;return{inactive:{opacity:.5},container:{width:300,height:340},list:(r={},r["& > .".concat(n.item,":nth-of-type(2n)")]={background:So(e.palette.getContrastText(e.palette.background.paper),.04)},r),item:{"& .MuiListItemText-root > .MuiTypography-root":{maxWidth:215,overflow:"hidden",textOverflow:"ellipsis"}}}})),wq=function(e){var t=e.columns,n=e.onClose,r=xq().classes,o=bq(),a=o.sortModel,i=o.setSortModel,s=NP(W.useState(new Map(a)),2),l=s[0],u=s[1],c=t.map((function(e){var t=e.sortable,n=void 0===t||t,r=SP(e,["sortable"]);return kP({sortable:n},r)})).filter((function(e){return e.sortable}));return W.createElement(dG,{open:!0,onAccept:function(){i(l),n()},onDismiss:function(){n()}},W.createElement(Ii,{className:r.container},W.createElement(Zw,{className:r.list,disablePadding:!0},c.map((function(e,t){var n=l.get(e.field||""),o=(null==n?void 0:n.sort)||void 0,a="asc"===o?W.createElement(vL,null):"desc"===o?W.createElement(SL,null):W.createElement(vL,{className:r.inactive}),i=e.headerName,s=void 0===i?gq(e.field||"")||"Unknown":i;return W.createElement(NT,{key:t,className:r.item,secondaryAction:a,onClick:function(){return function(e){var t=new Map(l),n=t.get(e);n?"asc"===n.sort?t.set(e,{field:e,sort:"desc"}):"desc"===n.sort&&t.delete(e):t.set(e,{field:e,sort:"asc"}),u(t)}(e.field)},component:vT},W.createElement(Vw,{primary:s}))})))))},kq=function(){return W.useContext(Sq)},Sq=W.createContext(null),Cq=function(e){var t=e.children,n=NG().columns,r=W.useMemo((function(){return n.filter((function(e){var t=!!e.field;return(t=t&&!1!==e.sortable)&&e.type!==iq.Action}))}),[]),o=uG((function(){return W.createElement(wq,{columns:r,onClose:function(){return i()}})}),[]),a=o.showModal,i=o.hideModal;return W.createElement(Sq.Provider,{value:function(){return a()}},t)},Eq=function(e){var t=e.children;return W.createElement(lG,null,W.createElement(Cq,null,t))},Iq=W.createContext(null),Nq=function(){return W.useContext(Iq)},Tq=function(e){var t=e.children,n=NP(W.useState(new Map),2),r=n[0],o=n[1],a=NG().rows,i=RG().selection;W.useEffect((function(){var e,t,n,s;if(i.size){var l=function(e){var t=a.find((function(t){return t.id===e}));t&&r.set(e,t)};try{for(var u=IP(i),c=u.next();!c.done;c=u.next())l(f=c.value)}catch(h){e={error:h}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}try{for(var d=IP(r.keys()),p=d.next();!p.done;p=d.next()){var f=p.value;i.has(f)||r.delete(f)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(n)throw n.error}}o(new Map(r))}else o(new Map)}),[i,a]);var s=W.useMemo((function(){return TP([],NP(i),!1).map((function(e){return r.get(e)}))}),[r]),l={cachedRows:r,selectedRows:s};return V.createElement(Iq.Provider,{value:l},t)},Rq=function(){var e=NG().handleFilter;return function(){return e({})}},_q=NP(sj(),2),$q=_q[0],Mq=_q[1],Oq=function(e,t){void 0===t&&(t={}),W.useEffect((function(){var n=e();if(!(n instanceof Promise))return n;!function(e,t){var n=t.onLoadStart,r=t.onLoadEnd,o=t.fallback,a=t.throwError;CP(void 0,void 0,void 0,(function(){var t,i;return EP(this,(function(s){switch(s.label){case 0:t=!0,n&&n(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,e];case 2:return s.sent(),[3,5];case 3:if(i=s.sent(),t=!1,a)throw i;return o&&o(i),[3,5];case 4:return r&&r(t),[7];case 5:return[2]}}))}))}(n,t)}),[])},Aq=function(e){var t=W.useContext(VY).OperationListSlot;return W.createElement(t,kP({},e))},Lq=function(e){var t=W.useContext(VY).ActionListSlot;return W.createElement(t,kP({},e))},Pq=function(e){var t=W.useContext(VY).FilterListSlot;return W.createElement(t,kP({},e))},Dq=function(e){var t=W.useContext(VY).ChipListSlot;return W.createElement(t,kP({},e))},Fq=function(e){var t=W.useContext(VY).SearchSlot;return W.createElement(t,kP({},e))},zq="react-declarative__listRootMark",Bq=[],jq=LP()({root:{position:"relative",height:"100%",width:"100%"},container:{position:"absolute",top:0,left:0},content:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},inner:{position:"absolute",top:0,left:0,display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden","& > :nth-of-type(1)":{flex:1}},stretch:{flex:1},noElevation:{background:"transparent"},beforeActionList:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},afterActionList:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},hidden:{display:"none"},rendering:{visibility:"hidden"}}),Wq=W.forwardRef((function(e,t){var n,r,o,a,i,s,l,u,c=jq().classes,d=ZG(),p=KG(),f=VG().constraintManager,h=NP(Mq(),1)[0],m=YB().isMobile,g=e.className,v=e.style,b=e.filters,y=void 0===b?[]:b,x=e.actions,w=void 0===x?[]:x,k=e.actionSubject,S=e.listChips,C=e.denseHeight,E=e.isDense,I=e.heightRequest,N=void 0===I?function(e){return e}:I,T=e.widthRequest,R=void 0===T?function(e){return e}:T,_=e.operations,$=e.title,M=void 0===$?"":$,O=e.filterLabel,A=void 0===O?"":O,L=e.filterData,P=e.computeKeepPageOnReload,D=e.handleFilter,F=e.handleDefault,z=e.handleChips,B=e.handleLimitChange,j=e.handlePageChange,V=e.handleReload,H=e.handleRerender,U=e.handleRowsChange,G=e.handleSortModel,q=e.initComplete,Y=e.children,K=e.isChooser,X=e.loading,Q=e.withToggledFilters,Z=e.onFilterChange,J=e.onResize,ee=e.onAction,te=e.withSearch,ne=void 0!==te&&te,re=e.search,oe=e.sortModel,ae=void 0===oe?Bq:oe,ie=e.chips,se=e.handleSearch,le=e.handleFiltersCollapsed,ue=e.sizeByElement,ce=void 0===ue||ue,de=e.withOutlinePaper,pe=void 0!==de&&de,fe=e.withTransparentPaper,he=void 0!==fe&&fe,me=e.rerender,ge=void 0!==me&&me,ve=e.BeforeActionList,be=e.AfterActionList,ye=e.BeforeOperationList,xe=e.AfterOperationList,we=Nq().selectedRows,ke=mz({target:ce?void 0:document.body,debounce:100,compute:function(e){var t=e.height,n=e.width;return{height:N(t),width:R(n)}},onResize:J}),Se=ke.elementRef,Ce=ke.size,Ee=W.useMemo((function(){if(E)return!0;if(m)return!1;var e=Ce.height;return!!C&&C>e}),[C,Ce.height,m,E]),Ie=mz({debounce:100}),Ne=Ie.elementRef,Te=Ie.size;W.useEffect((function(){f.clear(),h.clear()}),[L,p,ae,ie,re,d]);var Re=kq(),_e=Rq(),$e=uq(),Me=rF((function(e){(null==w?void 0:w.length)||("update-now"===e?$e():"resort-action"===e?Re():"drop-filters"===e&&_e(),ee&&ee(e,we,$e))}));return Oq((function(){return k&&k.subscribe(Me)})),W.createElement(Ii,{ref:Se,className:kF(c.root,g,zq,(n={},n[c.rendering]=!Ce.height||!Te.height,n)),style:v},W.createElement("div",{className:kF(c.container,"react-declarative__listContainerMark")},W.createElement("div",{ref:t,style:Ce,className:kF(c.content,c.stretch,"react-declarative__listContentMark")},q&&W.createElement("div",{className:kF((r={},r[c.hidden]=Ee,r))},ve&&W.createElement(Ii,{className:c.beforeActionList},W.createElement(ve,{filterData:L,chips:ie,pagination:p,payload:d,search:re,sortModel:ae,computeKeepPageOnReload:P,handleFilter:D,handleDefault:F,handleChips:z,handleLimitChange:B,handlePageChange:j,handleReload:V,handleRerender:H,handleRowsChange:U,handleSortModel:G,handleSearch:se,handleFiltersCollapsed:le}))),W.createElement("div",null,!!(null==w?void 0:w.length)&&W.createElement(Lq,{height:Ce.height,width:Ce.width,title:M,filterData:L,actions:w})),q&&W.createElement("div",{className:kF((o={},o[c.hidden]=Ee,o))},be&&W.createElement(Ii,{className:c.afterActionList},W.createElement(be,{filterData:L,chips:ie,pagination:p,payload:d,search:re,sortModel:ae,computeKeepPageOnReload:P,handleFilter:D,handleDefault:F,handleChips:z,handleLimitChange:B,handlePageChange:j,handleReload:V,handleRerender:H,handleRowsChange:U,handleSortModel:G,handleSearch:se,handleFiltersCollapsed:le}))),q&&W.createElement("div",{className:kF((a={},a[c.hidden]=Ee,a))},ye&&W.createElement(Ii,{className:c.beforeActionList},W.createElement(ye,{filterData:L,chips:ie,pagination:p,payload:d,search:re,sortModel:ae,computeKeepPageOnReload:P,handleFilter:D,handleDefault:F,handleChips:z,handleLimitChange:B,handlePageChange:j,handleReload:V,handleRerender:H,handleRowsChange:U,handleSortModel:G,handleSearch:se,handleFiltersCollapsed:le}))),W.createElement("div",{className:kF((i={},i[c.hidden]=Ee,i))},Array.isArray(_)&&!!_.length&&W.createElement(Aq,{operations:_,width:Ce.width})),q&&W.createElement("div",{className:kF((s={},s[c.hidden]=Ee,s))},xe&&W.createElement(Ii,{className:c.beforeActionList},W.createElement(xe,{filterData:L,chips:ie,pagination:p,payload:d,search:re,sortModel:ae,computeKeepPageOnReload:P,handleFilter:D,handleDefault:F,handleChips:z,handleLimitChange:B,handlePageChange:j,handleReload:V,handleRerender:H,handleRowsChange:U,handleSortModel:G,handleSearch:se,handleFiltersCollapsed:le}))),W.createElement(Jz,{className:kF(c.content,c.stretch,"react-declarative__listPaperMark",(l={},l[c.noElevation]=K,l)),outlinePaper:pe,transparentPaper:he},W.createElement("div",null,!K&&Array.isArray(y)&&!!y.length&&W.createElement(Pq,{filterData:L,withToggledFilters:Q,onFilterChange:Z,change:D,onSearchChange:se,onCollapsedChange:le,clean:F,label:A,filters:y,loading:X,search:re,height:Ce.height,width:Ce.width,withSearch:ne})),W.createElement("div",null,!K&&(!Array.isArray(y)||!y.length)&&ne&&W.createElement(Fq,{onSearchChange:se,clean:F,search:re,height:Ce.height,width:Ce.width,loading:X,label:A})),W.createElement("div",{className:kF((u={},u[c.hidden]=Ee,u))},!K&&Array.isArray(S)&&!!S.length&&W.createElement(Dq,{listChips:S,loading:X})),W.createElement(Ii,{ref:Ne,className:kF(c.content,c.stretch)},W.createElement("div",{className:kF(c.inner,"react-declarative__listInnerMark"),style:Te},!ge&&W.createElement(W.Fragment,null,Y)))))))})),Vq=NP(CD(),2),Hq=Vq[0],Uq=Vq[1],Gq=function(e){return new function(){this.getValue=function(){try{return JSON.parse(sessionStorage.getItem(e)||"null")}catch(t){return null}},this.setValue=function(t){try{sessionStorage.setItem(e,JSON.stringify(t,null,2))}catch(n){n instanceof DOMException&&(console.log("react-declarative createSsManager exceeded the quota"),sessionStorage.clear(),fq())}},this.clear=function(){sessionStorage.removeItem(e)}}}("LIST_RESTORE_POS_ID"),qq=function(e){var t,n,r=this;this.withRestorePos=e,this.reloadSubject=new uD,this.idMap=new Map,this.viewportMap=new Map,this.isListening=!0,this.getIsVisible=function(e){return!!r.viewportMap.get(e)},this.getElementCount=function(){return r.idMap.size},this._applyScroll=(t=this,n=0,function(e,r){return t.viewportMap.get(e)&&!(n++<3)||(r.scrollIntoView({block:"start"}),!1)}),this.emitSubject=tD((function(){r.reloadSubject.next()}),450),this.intersectionObserver=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.target,n=r.idMap.get(t);n?(r.viewportMap.set(n,e.isIntersecting),r.emitSubject()):console.error("List IntersectionManager id is undefined")}))})),this.observe=function(e,t){r.withRestorePos&&(r.intersectionObserver.observe(t),r.idMap.set(t,e),r.viewportMap.set(e,!1))},this.unobserve=function(e,t){r.withRestorePos&&(r.idMap.delete(t),r.viewportMap.delete(e))},this.scrollIntoView=function(e){return CP(r,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return 20===t?[3,8]:(n=document.querySelector("[data-intersectionid='".concat(e,"']")))?[3,3]:[4,KP(250)];case 2:return r.sent(),[3,7];case 3:return o=n,a=document.querySelector(".".concat(zq)),i=function(e){for(var t=e.parentElement;t;){if(t.scrollHeight>t.clientHeight)return t;t=t.parentElement}return null}(o),(null==a?void 0:a.contains(i))&&i?[3,5]:[4,KP(250)];case 4:return r.sent(),[3,7];case 5:return this._applyScroll(e,n)?[2,!0]:[4,KP(250)];case 6:r.sent(),r.label=7;case 7:return t++,[3,1];case 8:return[2,!1]}var o,a,i}))}))},this.disconnect=function(){r.intersectionObserver.disconnect(),r.isListening=!1}},Yq=function(e){var t=e.children,n=NG(),r=n.rows,o=n.withRestorePos,a=zD((function(){return new qq(!!o)})),i=HD(r),s=W.useRef(!0);W.useEffect((function(){return function(){s.current=!1,a.disconnect()}}),[]);var l=W.useCallback((function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return e=a.getElementCount(),s.current?0!==e&&e>=i.current.length?[3,2]:[4,KP(100)]:[2];case 1:return t.sent(),[3,0];case 2:return[2]}}))}))}),[]);return W.useEffect((function(){if(o)return a.reloadSubject.subscribe((function(){var e,t,n=9999999999,r=function(e,t){if(!t)return"continue";var r=i.current.findIndex((function(t){return t.id===e}));if(-1===r)return"continue";n=Math.min(r,n)};try{for(var o=IP(a.viewportMap.entries()),s=o.next();!s.done;s=o.next()){var l=NP(s.value,2);r(l[0],l[1])}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}var u=i.current[n];u&&Gq.setValue(u.id)}))})),mW((function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return e=Gq.getValue(),o&&e?[4,l()]:[2];case 1:return t.sent(),[4,mq(a.scrollIntoView(e))];case 2:return t.sent()&&console.error("List IntersectionProvider scrollIntoView failed: id=".concat(e," not found")),[2]}}))}))})),W.createElement(Hq,{payload:a},t)},Kq=function(e){var t=NP(W.useState(null),2),n=t[0],r=t[1],o=Uq();return W.useEffect((function(){if(n&&o)return n.dataset.intersectionid=String(e),o.observe(e,n),function(){return o.unobserve(e,n)}}),[n]),W.useCallback((function(t){o&&o.withRestorePos&&(t&&(t.dataset.intersectionid=String(e)),r(t))}),[])},Xq=LP()({root:{},cellStretch:{width:"100%"},separator:{minWidth:32,maxWidth:32},disabled:{pointerEvents:"none",opacity:.5}}),Qq=LP()({root:{position:"relative",width:48,maxWidth:48}}),Zq=function(e){var t=Qq().classes;return W.createElement(E$,{className:t.root,padding:"checkbox"},W.createElement(nq,kP({},e)))},Jq=Object.freeze({__proto__:null,thinsp:"",nbsp:"",emdash:"",endash:"",terminator:"\0",bullet:""}),eY="react_declarative_listMobileCell",tY=LP()({root:{position:"relative",paddingBottom:"0 !important"},noGutters:{paddingLeft:"0 !important",paddingRight:"0 !important"},container:{minHeight:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",flexWrap:"wrap"},content:{position:"relative",overflow:"hidden",overflowWrap:"break-word",fontWeight:"bold",flex:1},shrinkWidth:{width:48,maxWidth:48}}),nY=function(e){var t,n=e.className,r=e.colSpan,o=e.withLabel,a=e.fullWidth,i=e.disableGutters,s=SP(e,["className","colSpan","withLabel","fullWidth","disableGutters"]),l=tY().classes,u=s.column,c=W.useMemo((function(){return u.minHeight||(u.type===iq.Component?70:void 0)}),[]),d=W.useMemo((function(){return Math.max(a-35,0)}),[a]),p=u.headerName,f=void 0===p?gq(u.field||"")||"Unknown":p;return W.createElement(E$,{className:kF(l.root,n,(t={},t[l.noGutters]=i,t[l.shrinkWidth]=u.type===iq.Action,t)),colSpan:r},W.createElement(Ii,{className:l.container},o&&W.createElement(Kx,{variant:"body1"},W.createElement(W.Fragment,{children:["".concat(""," "),f]})),W.createElement(Ii,{className:kF(l.content,eY),style:{minHeight:c,maxWidth:d}},W.createElement(aq,kP({},s,{fullWidth:a})))))},rY=LP()((function(e){var t;return{root:{"&:nth-of-type(2n)":{background:So(e.palette.getContrastText(e.palette.background.paper),.04)},"& > .MuiTableCell-root":{borderBottom:"1px solid ".concat(e.palette.divider)},overflow:"hidden"},row:{"& .MuiTableCell-root":{borderBottom:"0 !important",overflow:"hidden"},marginBottom:16},disabled:{pointerEvents:"none",opacity:.5},hideIfEmpty:(t={},t["&:has(.".concat(eY," > :empty)")]={display:"none"},t["&:has(.".concat(eY,":empty)")]={display:"none"},t)}})),oY=function(e){var t=RG(),n=t.selection,r=t.setSelection;return function(t){return void 0===t&&(t=!1),function(o){o.preventDefault(),o.stopPropagation(),n.has(e.id)?n.delete(e.id):(t&&n.clear(),n.add(e.id)),r(n)}}},aY=function(e){var t=e.row,n=NP(W.useState(""),2),r=n[0],o=n[1],a=W.useRef(!0),i=NG(),s=i.fallback,l=i.rowMark;return W.useEffect((function(){CP(void 0,void 0,void 0,(function(){var e,n,r;return EP(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),"function"!=typeof l?[3,4]:(e=l(t))instanceof Promise?[4,e]:[3,2];case 1:return n=i.sent(),[3,3];case 2:n=e,i.label=3;case 3:return e=n,a.current&&o(e),[3,5];case 4:l&&a.current&&o(t[l]),i.label=5;case 5:return[3,7];case 6:return r=i.sent(),s&&s(r),[3,7];case 7:return[2]}}))}))}),[t,l]),W.useLayoutEffect((function(){return function(){a.current=!1}}),[]),r},iY=LP()({root:{position:"relative"},mark:{position:"absolute",top:0,left:0,bottom:0,width:4}}),sY="list-item",lY=LP()({stretch:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *:nth-of-type(1)":{flex:1}}}),uY=LP()((function(e){return{cell:{paddingLeft:"0px !important",paddingRight:"0 !important",background:"".concat(e.palette.background.paper," !important")},bold:{fontWeight:"bold !important",opacity:.7},menu:{margin:"0 !important",padding:"0 !important",width:"unset !important",height:"unset !important","& .MuiSvgIcon-root":{height:"20px !important",width:"20px !important"}},cellStretch:{width:"100%",background:"".concat(e.palette.background.paper," !important")},separator:{minWidth:32,maxWidth:32,background:"".concat(e.palette.background.paper," !important")},checkbox:{marginLeft:"4px"}}})),cY="list-columns",dY=function(e){var t,n=e.columns,r=uY().classes,o=NG(),a=bq(),i=a.sortModel,s=a.setSortModel,l=RG(),u=l.selection,c=l.setSelection,d=Nq().selectedRows,p=ZG(),f=uq(),h=o.selectionMode,m=o.loading,g=o.onColumnAction,v=o.onLoadStart,b=o.onLoadEnd,y=o.fallback,x=W.useMemo((function(){var e,t;try{for(var n=IP(o.rows),r=n.next();!r.done;r=n.next()){var a=r.value;if(!u.has(a.id))return!1}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!!o.rows.length}),[u,o.rows]),w=!!u.size&&!x,k=function(){return h===kz.Single?W.createElement(IR,{className:r.checkbox,key:u.size,disabled:m,color:"primary",onChange:function(){c(new Set)}}):h===kz.Multiple?W.createElement(fI,{className:r.checkbox,disabled:m,color:"primary",checked:x,indeterminate:w,onClick:function(){h!==kz.None&&(h!==kz.Single?x?c(new Set):(o.rows.forEach((function(e){var t=e.id;return u.add(t)})),c(u)):c(new Set))}}):W.createElement(fI,{className:r.checkbox,color:"primary",disabled:!0})},S=W.useCallback((function(e){var t=new Map(i),n=i.get(e);n?"asc"===n.sort?t.set(e,{field:e,sort:"desc"}):"desc"===n.sort&&t.delete(e):t.set(e,{field:e,sort:"asc"}),s(t)}),[i]),C=function(){return v&&v(cY)},E=function(e){return b&&b(e,cY)};return W.createElement(vM,null,W.createElement(E$,{className:r.cell,padding:"checkbox"},h===kz.None?W.createElement(W.Fragment,null,k()):W.createElement(H_,{title:h===kz.Single?"Deselect":w?"Select all":x?"Deselect":"Select all"},k())),(t=n.map((function(e,t){var n=i.get(e.field||""),o=(null==n?void 0:n.sort)||void 0,a=!!e.field;a=(a=a&&!1!==e.sortable)&&e.type!==iq.Action;var s,l=e.width,u=l,c=e.type===iq.Action?"center":"left",h=e.headerName,v=void 0===h?gq(e.field||"")||"Unknown":h;return W.createElement(W.Fragment,null,t>0&&W.createElement(E$,{className:r.separator}),W.createElement(E$,{className:r.cell,key:t,align:c,style:{minWidth:l,maxWidth:u},sortDirection:o},W.createElement(Ii,{sx:{width:"calc(100% - 40px)",display:"inline-block"}},a?W.createElement(CM,{className:r.bold,active:!!n,direction:o,onClick:function(){a&&S(e.field)},disabled:m},v):W.createElement("span",{className:r.bold},v)),!!e.columnMenu&&W.createElement(bB,{transparent:!0,className:r.menu,options:e.columnMenu.map((function(e){var t=e.isDisabled,n=void 0===t?function(){return!1}:t,r=e.isVisible,o=void 0===r?function(){return!0}:r,a=SP(e,["isDisabled","isVisible"]);return kP(kP({},a),{isDisabled:function(){return n(d,p)},isVisible:function(){return o(d,p)}})})),onAction:(s=e.field||"unset-field",function(e){return g&&g(s,e,d,f)}),fallback:y,payload:d,onLoadStart:C,onLoadEnd:E,disabled:m,deps:[p],throwError:!0})))})),t),W.createElement(E$,{className:r.cellStretch}))},pY=function(){return W.createElement(W.Fragment,null)},fY="action-menu",hY=LP()({button:{borderRadius:"50px !important",minHeight:"40px !important",paddingLeft:"15px !important",paddingRight:"15px !important",zIndex:99},fab:{zIndex:99}}),mY=NP(CD(),2),gY=mY[0],vY=mY[1],bY="action-menu",yY="action-menu",xY=LP()({button:{borderRadius:"50px !important",minHeight:"40px !important",paddingLeft:"15px !important",paddingRight:"15px !important"},fab:{zIndex:99}}),wY=NP(CD(),2),kY=wY[0],SY=wY[1],CY=W.createContext(null),EY=function(e){var t=e.children,n=e.chips,r=e.chipData,o=NP(W.useState(new Map(n.map((function(e){var t=e.name,n=e.enabled,o=void 0!==n&&n;return[t.toString(),r[t]||o]})))),2),a=o[0],i=o[1],s=NG().handleChips,l={chips:a,setChips:function(e){s(TP([],NP(e),!1).reduce((function(e,t){var n,r=NP(t,2),o=r[0],a=r[1];return kP(kP({},e),((n={})[o]=a,n))}),{})),i(new Map(e))}};return V.createElement(CY.Provider,{value:l},t)},IY=LP()((function(e){return{root:{height:48,width:"100%",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},stretch:{flex:1}}}));!function(e){e.Add="add-action",e.Fab="fab-action",e.Menu="menu-action"}(hq||(hq={}));var NY,TY,RY,_Y,$Y=hq,MY=function(e){var t=W.useContext(VY).ActionMenu;return W.createElement(t,kP({},e))},OY=function(e){var t=W.useContext(VY).ActionAdd;return W.createElement(t,kP({},e))},AY=function(e){var t=W.useContext(VY).ActionFab;return W.createElement(t,kP({},e))},LY=LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"stretch",minHeight:70,"& > *:nth-of-type(n + 1)":{marginLeft:e.spacing(1)},marginBottom:5},stretch:{flex:1},noData:{maxHeight:0},title:{color:e.palette.primary.main,marginLeft:"unset !important",fontWeight:"bold",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}})),PY=Symbol("never-pos"),DY=function(e){var t=e.inputFormatterSymbol,n=void 0===t?"0":t,r=e.inputFormatterAllowed,o=e.inputFormatterReplace,a=e.inputFormatterTemplate,i=void 0===a?"00000000000000000000000000000000000000000000000000":a,s=e.inputFormatter,l=void 0===s?function(e){return dj(e,i,{symbol:n,allowed:r,replace:o})}:s,u=e.value,c=void 0===u?"":u,d=e.onChange,p=W.useRef(null),f=NP(W.useState(c),2),h=f[0],m=f[1],g=HD(h);KD((function(){var e;c!==g.current&&(m(function(e,t){var n=void 0===t?{}:t,r=n.inputFormatterSymbol,o=void 0===r?"0":r,a=n.inputFormatterAllowed,i=n.inputFormatterReplace,s=n.inputFormatterTemplate,l=void 0===s?"":s,u=n.inputFormatter,c=void 0===u?function(e){return dj(e,l,{symbol:o,allowed:a,replace:i})}:u,d="string"==typeof e?e:"";d="";for(var p=0;p<e.length;p++)d=c(d+=e[p]);return d}(c,{inputFormatter:l,inputFormatterSymbol:n,inputFormatterAllowed:r,inputFormatterReplace:o,inputFormatterTemplate:i})),null===(e=p.current)||void 0===e||e.setSelectionRange(null,null))}),[c]);var v=W.useMemo((function(){var e=PY;return{render:function(){var t=p.current;t&&"text"!==t.type||"number"==typeof e&&(null==t||t.setSelectionRange(e,e),e=PY)},pos:function(){var t,r=p.current;return r&&(e=(t=r).selectionStart||t.value.length,e+=function(e){for(var t=0,r=Math.max(e-1,0);r<i.length&&i[r]!==n;r++)t+=1;return t}(e)),e}}}),[]);W.useLayoutEffect((function(){if(i){var e=p.current,t=function(){return v.pos()};return e&&e.addEventListener("keyup",t),e&&e.addEventListener("click",t),function(){e&&e.removeEventListener("keyup",t),e&&e.removeEventListener("click",t)}}}),[p.current]),W.useLayoutEffect((function(){i&&v.render()}),[h]);var b=W.useCallback((function(e){var t=e.target.value;if(i){t="";for(var n=0;n<e.target.value.length;n++)t+=e.target.value[n],t=l(t);v.pos()}m(t),d&&d(t)}),[]);return{inputRef:p,inputValue:h,onInputChange:b}},FY=LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},container:{flex:1,minHeight:60,maxHeight:"50vh",overflow:"hidden",overflowY:"auto"},controls:{display:"flex",alignItems:"center"},controlsWidth:{minWidth:75,marginRight:5,flexDirection:"row-reverse"},title:{display:"flex",alignItems:"center"},disabled:{pointerEvents:"none",userSelect:"none",opacity:.5},labelContent:{display:"flex",minHeight:"60px","& > *:nth-of-type(1)":{flex:1},padding:e.spacing(1)},filters:{padding:e.spacing(1),overflowX:"hidden",overflowY:"auto"}}})),zY="list-operations",BY=LP()((function(e){return{root:{height:50,width:"100%",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},container:{minWidth:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flex:1,display:"flex",alignItems:"center","& > *":{marginRight:"5px !important",whiteSpace:"nowrap"}},label:{display:"flex",whiteSpace:"nowrap"},checkbox:{display:"flex",alignItems:"center"}}})),jY=LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},container:{flex:1,minHeight:60,maxHeight:"50vh",overflow:"hidden",overflowY:"auto"},controls:{display:"flex",alignItems:"center",minWidth:75,marginRight:5,flexDirection:"row-reverse"},disabled:{pointerEvents:"none",userSelect:"none",opacity:.5},labelContent:{display:"flex",minHeight:"60px","& > *:nth-of-type(1)":{flex:1},padding:e.spacing(1)}}})),WY={BodyRow:function(e){var t=NG().withMobile,n=void 0!==t&&t,r=W.useContext(VY),o=r.MobileBodyRow,a=r.DesktopBodyRow;return e.mode===BG.Phone&&n?W.createElement(o,kP({},e)):W.createElement(a,kP({},e))},CheckboxCell:function(e){var t=e.row,n=e.disabled,r=iY().classes,o=RG().selection,a=aY({row:t}),i=NG(),s=i.selectionMode,l=void 0===s?kz.None:s,u=i.rowMark,c=i.loading,d=oY(t);return W.createElement(W.Fragment,null,u&&W.createElement(Ii,{className:r.mark,style:{background:a}}),l===kz.Single?W.createElement(IR,{color:"primary",onClick:d(!0),checked:o.has(t.id),disabled:c||n}):l===kz.Multiple?W.createElement(fI,{color:"primary",onClick:d(!1),checked:o.has(t.id),disabled:c||n}):l===kz.None?W.createElement(fI,{color:"primary",disabled:!0}):null)},CommonCell:function(e){var t=e.column,n=e.row,r=e.disabled,o=e.onMenuToggle,a=e.onAction,i=function(e){var t=Uq(),n=NP(W.useState((function(){return!!(null==t?void 0:t.getIsVisible(e))})),2),r=n[0],o=n[1],a=W.useRef(!0);return W.useEffect((function(){return function(){a.current=!1}}),[]),W.useEffect((function(){return null==t?void 0:t.reloadSubject.subscribe((function(){queueMicrotask((function(){a.current&&o(t.getIsVisible(e))}))}))}),[]),!t||!t.withRestorePos||r}(n.id),s=lY().classes,l=ZG(),u=HD(n),c=NG(),d=c.fallback,p=c.rowActions,f=void 0===p?[]:p,h=c.onLoadStart,m=c.onLoadEnd,g=c.loading,v=function(){return h&&h(sY)},b=function(e){return m&&m(e,sY)};if(t.type===iq.Text)return n[t.field];if(t.type===iq.Compute)return W.createElement(eF,{disabled:!i,payload:n,deps:[l],fallback:d,onLoadStart:v,onLoadEnd:b,throwError:!0},(function(e){return CP(void 0,void 0,void 0,(function(){var n;return EP(this,(function(r){switch(r.label){case 0:return n=kP(kP({},e),{_payload:l}),t.element?[2,W.createElement(t.element,n)]:[3,1];case 1:return t.compute?[4,t.compute(n,l)]:[3,3];case 2:return[2,r.sent()];case 3:return[2,null]}}))}))}));if(t.type===iq.CheckBox)return W.createElement(fI,{color:"primary",disabled:!0,checked:n[t.field]});if(t.type===iq.Component){var y=t.element,x=void 0===y?function(){return W.createElement(W.Fragment,null)}:y;return W.createElement(Ii,{className:s.stretch},W.createElement(x,kP({},kP(kP({},n),{_payload:l}))))}return t.type===iq.Action?W.createElement(bB,{transparent:!0,options:f.map((function(e){var t=e.isVisible,n=void 0===t?function(){return!0}:t,r=e.isDisabled,o=void 0===r?function(){return!1}:r,a=SP(e,["isVisible","isDisabled"]);return kP(kP({},a),{isVisible:function(){return n(u.current,l)},isDisabled:function(){return o(u.current,l)}})})),onToggle:o,onAction:a,fallback:d,payload:n,deps:[l],onLoadStart:v,onLoadEnd:b,disabled:g||r,throwError:!0}):null},HeadRow:function(e){var t=NG().withMobile,n=void 0!==t&&t;return e.mode===BG.Phone&&n?W.createElement(pY,kP({},e)):W.createElement(dY,kP({},e))},ActionAdd:function(e){var t=e.action,n=void 0===t?"add-action":t,r=e.width,o=e.label,a=e.isVisible,i=void 0===a?function(){return!0}:a,s=e.isDisabled,l=void 0===s?function(){return!1}:s,u=hY().classes,c=ZG(),d=NG(),p=uq(),f=Nq().selectedRows,h=d.fallback,m=d.onAction,g=d.onLoadStart,v=d.onLoadEnd,b=rF((function(e){e.stopPropagation(),m&&m(n,f,p)})),y=function(e){var t=e.disabled,n=e.onClick,r=vY(),a=NG().loading;return o&&!r?W.createElement(EE,{className:u.button,variant:"contained",disabled:a||t,size:"medium",startIcon:W.createElement(RL,{color:"inherit"}),onClick:n},o):W.createElement(HI,{className:u.fab,disabled:a||t,size:"small",color:"primary",onClick:n},W.createElement(RL,{color:"inherit"}))},x=r<500;return W.createElement(gY,{payload:x},W.createElement(eF,{Loader:function(){var e=vY();return o&&!e?W.createElement(EE,{className:u.button,variant:"contained",size:"small",startIcon:W.createElement(RL,{color:"inherit"})},o):W.createElement(HI,{className:u.fab,disabled:!0,size:"small",color:"primary"},W.createElement(RL,{color:"inherit"}))},fallback:h,onLoadStart:function(){return g&&g(fY)},onLoadEnd:function(e){return v&&v(e,fY)},payload:f,deps:[c],throwError:!0},(function(){return CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(n){switch(n.label){case 0:return[4,i(f,c)];case 1:return e=n.sent(),[4,l(f,c)];case 2:return t=n.sent(),e?[2,W.createElement(y,{disabled:t,onClick:b})]:[2,null]}}))}))})))},ActionMenu:function(e){var t=e.options,n=void 0===t?[]:t,r=e.deps,o=void 0===r?[]:r,a=Nq().selectedRows,i=kq(),s=Rq(),l=uq(),u=ZG(),c=NG(),d=c.onAction,p=c.fallback,f=c.onLoadStart,h=c.onLoadEnd,m=c.loading,g=c.actionSubject,v=rF((function(e){"update-now"===e?l():"resort-action"===e?i():"drop-filters"===e&&s(),d&&d(e,a,l)}));return Oq((function(){return g&&g.subscribe(v)})),g?null:W.createElement(bB,{options:n.map((function(e){var t=e.action,n=e.isDisabled,r=void 0===n?function(){return!1}:n,o=e.isVisible,i=void 0===o?function(){return!0}:o,s=SP(e,["action","isDisabled","isVisible"]);return kP(kP({action:t},s),"update-now"===t?{icon:s.icon||jL,isDisabled:function(){return r(a,u)},isVisible:function(){return i(a,u)},label:s.label||"Refresh manually"}:"add-action"===t?{icon:s.icon||RL,isDisabled:function(){return r(a,u)},isVisible:function(){return i(a,u)},label:s.label||"Create new row"}:"resort-action"===t?{icon:s.icon||qL,isDisabled:function(){return r(a,u)},isVisible:function(){return i(a,u)},label:s.label||"Change sort order"}:"drop-filters"===t?{icon:s.icon||LL,isDisabled:function(){return r(a,u)},isVisible:function(){return i(a,u)},label:s.label||"Drop filters"}:{isDisabled:function(){return r(a,u)},isVisible:function(){return i(a,u)}})})),onAction:v,fallback:p,payload:a,deps:TP(TP([],NP(o),!1),[u],!1),onLoadStart:function(){return f&&f(bY)},onLoadEnd:function(e){return h&&h(e,bY)},disabled:m})},ActionFab:function(e){var t=e.action,n=void 0===t?"fab-action":t,r=e.label,o=e.width,a=e.icon,i=void 0===a?JL:a,s=e.isVisible,l=void 0===s?function(){return!0}:s,u=e.isDisabled,c=void 0===u?function(){return!1}:u,d=xY().classes,p=NG(),f=ZG(),h=uq(),m=Nq().selectedRows,g=p.fallback,v=p.onAction,b=p.onLoadStart,y=p.onLoadEnd,x=rF((function(e){e.stopPropagation(),v&&v(n,m,h)})),w=function(e){var t=e.disabled,n=e.onClick,o=SY(),a=NG().loading;return r&&!o?W.createElement(EE,{className:d.button,variant:"contained",disabled:a||t,size:"small",startIcon:W.createElement(i,{color:"inherit"}),onClick:n},r):W.createElement(HI,{className:d.fab,disabled:a||t,size:"small",color:"primary",onClick:n},W.createElement(i,{color:"inherit"}))},k=o<500;return W.createElement(kY,{payload:k},W.createElement(eF,{Loader:function(){var e=SY();return r&&!e?W.createElement(EE,{className:d.button,variant:"contained",size:"small",startIcon:W.createElement(i,{color:"inherit"})},r):W.createElement(HI,{className:d.fab,disabled:!0,size:"small",color:"primary"},W.createElement(i,{color:"inherit"}))},fallback:g,onLoadStart:function(){return b&&b(yY)},onLoadEnd:function(e){return y&&y(e,yY)},payload:m,deps:[f],throwError:!0},(function(){return CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(n){switch(n.label){case 0:return[4,l(m,f)];case 1:return e=n.sent(),[4,c(m,f)];case 2:return t=n.sent(),e?[2,W.createElement(w,{disabled:t,onClick:x})]:[2,null]}}))}))})))},ChipListSlot:function(e){var t=e.listChips,n=void 0===t?[]:t,r=e.loading,o=IY().classes,a=W.useContext(CY),i=a.chips,s=a.setChips,l=NG(),u=l.withSingleChip,c=l.AfterChips,d=function(e,t){return void 0===t&&(t=!0),function(){u&&TP([],NP(i.keys()),!1).forEach((function(e){return i.set(e,!1)})),i.set(e,t),s(i)}};return W.createElement(xG,{className:o.root,hideOverflowY:!0},W.createElement(Y_,{width:"100%",alignItems:"center",direction:"row",spacing:1,pl:1},n.map((function(e,t){var n=e.name.toString(),o=!!i.get(n);return W.createElement(oN,{key:t,sx:{pointerEvents:"none","& span:last-of-type":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"125px"}},control:W.createElement(fI,{onClick:d(n,!o),sx:{pointerEvents:"all"},checked:o}),label:e.label,disabled:r})})),W.createElement("div",{className:o.stretch}),c&&W.createElement(c,kP({},e))))},ActionListSlot:function(e){var t,n=e.className,r=e.actions,o=void 0===r?[]:r,a=e.style,i=e.title,s=e.height,l=e.width,u=e.deps,c=void 0===u?[]:u,d=LY().classes,p=Nq().selectedRows,f=NG().operations,h=ZG(),m=Array.isArray(f)&&!!f.length;return W.createElement("div",{className:kF(n,d.root,(t={},t[d.noData]=0===o.length,t)),style:a},W.createElement(Kx,{className:d.title,variant:"h5",sx:{marginLeft:m?"0 !important":"inherit"}},i),W.createElement("div",{className:d.stretch}),o.map((function(e,t){return W.createElement(W.Fragment,{key:t},function(e){var t=e.type,n=e.options,r=void 0===n?[]:n,o=e.isDisabled,a=e.isVisible,i=e.label,u=e.icon,d=e.action;if(t===$Y.Add)return W.createElement(OY,{label:i,action:d,isDisabled:o,isVisible:a,height:s,width:l});if(t===$Y.Fab)return W.createElement(AY,{label:i,action:d,icon:u,isDisabled:o,isVisible:a,height:s,width:l});if(t===$Y.Menu){var f=r.map((function(e){var t=e.isDisabled,n=void 0===t?function(){return!1}:t,r=e.isVisible,o=void 0===r?function(){return!0}:r,a=SP(e,["isDisabled","isVisible"]);return kP(kP({},a),{isDisabled:function(){return n(p,h)},isVisible:function(){return o(p,h)}})}));return W.createElement(MY,{options:f,deps:TP(TP([],NP(c),!1),[h],!1)})}throw new Error("List Actions unknown action type")}(e))})))},FilterListSlot:function(e){var t,n,r=e.className,o=e.style,a=e.height,i=e.filterData,s=e.filters,l=e.change,u=e.label,c=e.loading,d=e.withSearch,p=e.withToggledFilters,f=e.search,h=e.onSearchChange,m=void 0===h?function(){return null}:h,g=e.onFilterChange,v=void 0===g?function(){return null}:g,b=e.onCollapsedChange,y=void 0===b?function(){return null}:b,x=ZG(),w=NG(),k=w.features,S=w.readTransform,C=w.writeTransform,E=w.incomingTransform,I=w.outgoingTransform,N=w.isBaseline,T=w.isBaselineForRoot,R=FY().classes,_=NP(W.useState(!!p),2),$=_[0],M=_[1],O=NP(W.useState(!1),2),A=O[0],L=O[1],P=W.useRef(!1),D=DY({value:f,onChange:m}),F=D.inputRef,z=D.inputValue,B=D.onInputChange;W.useEffect((function(){P.current&&(L(!0),setTimeout(V,1e3))}),[$]),W.useEffect((function(){return P.current=!0,function(){P.current=!1}}),[]);var j,V=W.useCallback((function(){P.current&&(y($),setTimeout((function(){return L(!1)}),100))}),[$]),H=function(){m("")};return W.createElement("div",{className:kF(r,R.root),style:o},W.createElement("div",{className:R.container},W.createElement(ES,{onTransitionEnd:V,in:$},W.createElement(Ii,{className:kF(R.filters,(t={},t[R.disabled]=c,t)),sx:{maxHeight:Math.max(a/2-150,220)}},W.createElement(rG,{features:k,readTransform:S,writeTransform:C,incomingTransform:E,outgoingTransform:I,isBaseline:N,isBaselineForRoot:T,handler:i,payload:x,fields:s,change:function(e){v(e),l(e)},readonly:c}))),W.createElement(ES,{in:!$},W.createElement(Ii,{className:R.labelContent},d?W.createElement(eO,{label:"Search",variant:"standard",inputRef:F,value:z,onChange:B,onKeyDown:function(e){var t=e.key,n=e.currentTarget;"Enter"!==t&&"Escape"!==t||n.blur()},className:kF((j={},j[R.disabled]=c,j)),sx:{maxWidth:"max(calc(50% - 75px), 256px)"},InputProps:{readOnly:c,startAdornment:W.createElement(LN,{position:"start"},W.createElement(VA,null)),endAdornment:!!f&&W.createElement(LN,{sx:{cursor:"pointer",marginBottom:"15px"},onClick:H,position:"end"},W.createElement(TO,null))},placeholder:u,InputLabelProps:{shrink:!0},focused:!0}):W.createElement(Kx,{variant:"body1",className:R.title},u)))),W.createElement("div",{className:kF(R.controls,(n={},n[R.controlsWidth]=!p,n))},!p&&W.createElement(qS,{disabled:A,onClick:function(){return M(!$)}},$?W.createElement(aP,null):W.createElement(QA,null))))},OperationListSlot:function(e){var t=e.className,n=e.style,r=e.operations,o=e.width,a=BY().classes,i=ZG(),s=NG(),l=s.onOperation,u=void 0===l?function(){return null}:l,c=s.fallback,d=s.onLoadStart,p=s.onLoadEnd,f=s.loading,h=s.withAllListOperations,m=uq(),g=NP(W.useState(!1),2),v=g[0],b=g[1],y=Nq().selectedRows,x=v?"all":y,w=rF(u),k=function(e){return function(){w(e,y,v,m)}},S=W.createElement(fI,{disabled:f,value:v,onChange:function(){return b(!v)}}),C=!y.length&&!v,E=function(e){var t=e.available,n=e.onClick,r=e.label,o=e.icon,a=NG().loading;return W.createElement(EE,{disabled:a||!t,size:"small",variant:"contained",onClick:n,startIcon:o&&W.createElement(o,null)},r)};return W.createElement(xG,{className:a.root,hideOverflowY:!0},W.createElement(Ii,{className:kF(t,a.container),style:n},W.createElement(Ii,{className:a.content},W.createElement(eF,{payload:x,deps:[i],Loader:function(){return W.createElement(W.Fragment,null,r.map((function(e,t){var n=e.label,r=e.icon;return W.createElement(EE,{disabled:!0,key:t,size:"small",variant:"contained",startIcon:r&&W.createElement(r,null)},W.createElement(Y_,{direction:"row",alignItems:"center",spacing:1},W.createElement(Ii,{display:"flex",alignItems:"center"},W.createElement(Dx,{size:"16px",color:"inherit"})),W.createElement(Ii,null,n)))})))},fallback:c,onLoadStart:function(){return d&&d(zY)},onLoadEnd:function(e){return p&&p(e,zY)},throwError:!0},(function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,Promise.all(r.map((function(e,t){var n=e.action,r=void 0===n?"unknown-action":n,o=e.label,a=void 0===o?"Unknown":o,s=e.icon,l=e.isAvailable,u=void 0===l||l;return CP(void 0,void 0,void 0,(function(){var e,n,o;return EP(this,(function(l){switch(l.label){case 0:return e=function(){return"function"==typeof u?u(y,v,i):u},C?(o=!1,[3,3]):[3,1];case 1:return[4,e()];case 2:o=l.sent(),l.label=3;case 3:return n=o,[2,W.createElement(E,{key:t,available:n,label:a,icon:s,onClick:k(r)})]}}))}))})))];case 1:return[2,e.sent()]}}))}))}))),h&&W.createElement(Ii,{className:a.label},o<500?S:W.createElement(oN,{disabled:f,control:S,label:"All items"}))))},SearchSlot:function(e){var t,n=e.className,r=e.style,o=e.label,a=e.loading,i=e.search,s=e.onSearchChange,l=void 0===s?function(){return null}:s,u=jY().classes;return W.createElement("div",{className:kF(n,u.root),style:r},W.createElement("div",{className:u.container},W.createElement(Ii,{className:u.labelContent},W.createElement(eO,{label:"Search",variant:"standard",value:i,sx:{maxWidth:"max(calc(50% - 75px), 256px)"},onChange:function(e){var t=e.target;return l(t.value)},onKeyDown:function(e){var t=e.key,n=e.currentTarget;"Enter"!==t&&"Escape"!==t||n.blur()},className:kF((t={},t[u.disabled]=a,t)),InputProps:{readOnly:a,startAdornment:W.createElement(LN,{position:"start"},W.createElement(VA,null)),endAdornment:!!i&&W.createElement(LN,{sx:{cursor:"pointer",marginBottom:"15px"},onClick:function(){l("")},position:"end"},W.createElement(TO,null))},placeholder:o,InputLabelProps:{shrink:!0},focused:!0}))),W.createElement("div",{className:u.controls}))},DesktopBodyRow:function(e){var t,n=e.row,r=e.mode,o=e.columns,a=e.disabled,i=e.fullWidth,s=Kq(n.id),l=NP(W.useState(!1),2),u=l[0],c=l[1],d=Xq().classes,p=NG(),f=uq(),h=RG(),m=h.selection,g=h.setSelection,v=p.onRowClick,b=p.onRowAction,y=p.rowColor,x=void 0===y?function(){return"inherit"}:y,w=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,x(n)];case 1:return[2,e.sent()]}}))}))})),1),k=w[0],S=function(e){c(e)},C=function(e){b&&b(e,n,f)},E=W.useMemo((function(){return o.map((function(e,t){return W.createElement(W.Fragment,null,t>0&&W.createElement(E$,{className:d.separator}),W.createElement(lq,{column:e,disabled:a,row:n,key:t,idx:t,mode:r,fullWidth:i,onAction:C,onMenuToggle:S}))}))}),[i,n,a]);return W.createElement(vM,{ref:s,"data-testId":n.id,className:kF(d.root,(t={},t[d.disabled]=a,t)),sx:{background:k||""},selected:m.has(n.id),onClick:function(){u||(p.withSelectOnRowClick&&p.selectionMode!==kz.None?(p.selectionMode===kz.Single?m.has(n.id)&&1===m.size?m.delete(n.id):(m.clear(),m.add(n.id)):m.has(n.id)?m.delete(n.id):m.add(n.id),g(m)):v&&v(n,f))}},W.createElement(oq,{disabled:a,row:n}),E,W.createElement(E$,{className:d.cellStretch}))},MobileBodyRow:function(e){var t,n=e.row,r=e.mode,o=e.disabled,a=e.columns,i=e.fullWidth,s=Kq(n.id),l=NP(W.useState(!1),2),u=l[0],c=l[1],d=rY().classes,p=NG(),f=uq(),h=RG(),m=h.selection,g=h.setSelection,v=p.onRowClick,b=p.onRowAction,y=p.rowColor,x=void 0===y?function(){return"inherit"}:y,w=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,x(n)];case 1:return[2,e.sent()]}}))}))})),1),k=w[0],S=function(e){c(e)},C=function(e){b&&b(e,n,f)},E=NP(W.useMemo((function(){var e=function(e,t,a,s){return function(l,u){var c;return W.createElement(nY,{className:kF((c={},c[d.hideIfEmpty]=l.type!==iq.Component&&p.withHideIfEmpty,c)),column:l,disabled:o,row:n,key:"".concat(t,"-").concat(u),idx:u,mode:r,colSpan:e,fullWidth:i,onAction:C,withLabel:a,disableGutters:s,onMenuToggle:S})}},t=a.filter((function(e){return e.type!==iq.Action})),s=NP(a.filter((function(e){return e.type===iq.Action})).map(e(1,"action",!1,!0)),1)[0],l=void 0===s?null:s,u=t.slice(0,1).map(e(1,"first",!0,!0)).pop(),c=t.filter((function(e){return e.primary})).map(e(1,"primary",!0,!0)).pop();return[c||u,l,(c?t:t.slice(1)).map(e(l?3:2,"col",!0,!1))]}),[i]),3),I=E[0],N=E[1],T=E[2],R=W.useMemo((function(){return Math.max(i-35,0)}),[i]);return W.createElement(vM,{ref:s,"data-testId":n.id,className:d.root,selected:m.has(n.id),sx:{background:k||"",maxWidth:R},onClick:function(){u||(p.withSelectOnRowClick&&p.selectionMode!==kz.None?(p.selectionMode===kz.Single?m.has(n.id)&&1===m.size?m.delete(n.id):(m.clear(),m.add(n.id)):m.has(n.id)?m.delete(n.id):m.add(n.id),g(m)):v&&v(n,f))}},W.createElement(E$,{padding:"none",sx:{maxWidth:R}},W.createElement(f$,{className:kF(d.row,(t={},t[d.disabled]=o,t))},W.createElement(x$,null,W.createElement(vM,null,W.createElement(Zq,{disabled:o,row:n}),I,N),T.map((function(e,t){return W.createElement(vM,{key:t},e)}))))))}},VY=W.createContext(WY),HY=function(e){var t=e.children,n=SP(e,["children"]),r=W.useContext(VY),o=W.useMemo((function(){return kP(kP({},r),n)}),[]);return W.createElement(VY.Provider,{value:o},t)},UY=function(e){var t=W.useContext(VY).BodyRow;return W.createElement(t,kP({},e))},GY=function(e){var t=e.fullWidth,n=e.mode,r=e.row,o=NG(),a=o.columns,i=o.isRowDisabled,s=void 0===i?function(){return!1}:i,l=VG().wrapColumns,u=GG(),c=KG(),d=NG(),p=d.sort,f=d.chips,h=tq(),m=ZG(),g=NP(Mq(),1)[0],v=W.useMemo((function(){return{filterData:u,pagination:c,sortModel:p||[],chips:f||{},search:h,payload:m}}),[u,c,p,f,h,m]),b=W.useMemo((function(){var e=l({columns:a,visibilityRequest:v,fullWidth:t,mode:n});return g.set(r.id,s(r,v)),e}),[t,v]);return W.createElement(UY,{row:r,mode:n,disabled:!!g.get(r.id),columns:b,fullWidth:t})},qY=function(e){var t=W.useContext(VY).HeadRow;return W.createElement(t,kP({},e))},YY=function(e){var t=e.fullWidth,n=e.mode,r=NG().columns,o=VG().wrapColumns,a=GG(),i=KG(),s=NG(),l=s.sortModel,u=s.chips,c=tq(),d=ZG(),p=W.useMemo((function(){return{filterData:a,pagination:i,sortModel:l||[],chips:u||{},search:c,payload:d}}),[a,i,l,u,c,d]),f=W.useMemo((function(){return o({columns:r,visibilityRequest:p,fullWidth:t,mode:n})}),[t,p]);return W.createElement(qY,{mode:n,columns:f,fullWidth:t})},KY=NP(CD(),2),XY=KY[0],QY=KY[1],ZY=[10,25,50],JY=LP()((function(e,t,n){var r;return{root:{position:"relative"},container:(r={position:"absolute",top:0,left:0,background:e.palette.background.paper},r["& .".concat(n.noBorder)]={paddingLeft:"0 !important",paddingRight:"0 !important"},r),noBorder:{border:"none !important"},tableHead:{position:"sticky",top:-1,zIndex:5,background:e.palette.background.paper}}})),eK=function(e){var t=JY().classes,n=QY(),r=VG().constraintManager,o=mz({debounce:100}),a=o.elementRef,i=o.size,s=i.height,l=i.width,u=function(e){var t=qa(),n=W.useMemo((function(){var e=t.breakpoints.values,n=e.xs,r=void 0===n?0:n,o=e.sm,a=void 0===o?600:o,i=e.lg,s=void 0===i?1280:i;return{isPhoneFn:FG(r,a),isTabletFn:FG(a,s),isDesktopFn:FG(s,1e16)}}),[t]),r=n.isPhoneFn,o=n.isTabletFn,a=n.isDesktopFn;return{isPhone:r(e),isTablet:o(e),isDesktop:a(e)}}(l),c=u.isTablet,d=u.isDesktop,p=e.limit,f=e.offset,h=e.rows,m=e.loading,g=e.total,v=e.labelDisplayedRows,b=e.columns,y=void 0===b?[]:b,x=e.withLoader,w=void 0!==x&&x,k=e.withInitialLoader,S=void 0!==k&&k,C=e.handleLimitChange,E=e.handlePageChange;W.useEffect((function(){return function(){n.clear()}}),[]);var I,N;return W.createElement(Wq,kP({},e,{onResize:function(){return r.clear()}}),W.createElement(Ii,{ref:a,className:t.root},W.createElement(Ii,{className:t.container},W.createElement(R$,{ref:n.provideRef,style:{height:s-52,width:l}},W.createElement(f$,{stickyHeader:!0},(I=d?BG.Desktop:c?BG.Tablet:BG.Phone,W.createElement(W.Fragment,null,W.createElement(L$,{className:t.tableHead},W.createElement(YY,{fullWidth:l,mode:I})),W.createElement(x$,null,w&&m||S&&m&&0===h.length||!m&&0===h.length?W.createElement(vM,null,(N=l,W.createElement(E$,{className:t.noBorder,sx:{position:"relative"},colSpan:2*y.length||999,align:"center"},W.createElement(Y_,{sx:{position:"sticky",top:0,left:0,width:N-65},direction:"row",alignItems:"center",justifyContent:"center",gap:1},m&&W.createElement(Dx,{size:24}),W.createElement(Kx,{variant:"body1"},m?"Loading":"Nothing found"))))):h.map((function(e,t){return W.createElement(W.Fragment,{key:"".concat(e.id,"-").concat(t)},W.createElement(GY,{fullWidth:l,row:e,mode:I}))}))))))),W.createElement(PG,{width:l,height:s,count:g||-1,rowsPerPage:p,page:f/p,labelDisplayedRows:v,rowsPerPageOptions:ZY,onPageChange:function(e,t){return E(t)},onRowsPerPageChange:function(e){return C(e.target.value)}}))))},tK=(NY=NP(CD(),2))[0],nK=NY[1],rK=function(e){var t=e.scrollYSubject,n=e.rows,r=BD(),o=QY(),a=nK(),i=W.useRef(!0),s=NP(DD(n),2),l=s[0],u=s[1],c=W.useCallback((function(e){return u((function(t){if(!i.current)return e;var n=new Set(t.map((function(e){return e.id}))),r=new Map(e.map((function(e){return[e.id,e]})));return TP(TP([],NP(t.map((function(e){return r.get(e.id)||e}))),!1),NP(e.filter((function(e){var t=e.id;return!n.has(t)}))),!1)}))}),[]),d=W.useCallback((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,KP(500)];case 1:return e.sent(),i.current||(null==t||t.next(0),o.scrollTop()),[2]}}))}))}),[]);return W.useEffect((function(){return a.subscribe((function(e){"rows-reload"===e.type&&(i.current=!1,c(e.rows),d()),"filterdata-changed"!==e.type||e.keepPagination||(i.current=!1),"chips-changed"===e.type&&(i.current=!1),"rows-changed"===e.type&&(c(e.rows),d(),i.current=!0),"search-changed"===e.type&&(i.current=!1),"sort-changed"===e.type&&(i.current=!1),r.next()}))}),[]),{rows:l.current,recomputeSubject:r}},oK=LP()({root:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",background:So("#000",.2),display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},hidden:{display:"none !important"}}),aK=function(e){var t,n=e.open,r=oK().classes;return W.createElement(Ii,{className:kF(r.root,(t={},t[r.hidden]=!n,t))},W.createElement(Dx,null))},iK=function(e){var t=e.row,n=NG().selectionMode,r=RG().selection,o=oY(t);return n===kz.Single?W.createElement(IR,{color:"primary",onClick:o(!0),checked:r.has(t.id)}):n===kz.Multiple?W.createElement(fI,{color:"primary",onClick:o(!1),checked:r.has(t.id)}):W.createElement(fI,{color:"primary",disabled:!0})},sK=LP()({mark:{position:"absolute",top:0,left:0,bottom:0,width:4}}),lK=function(e){var t=e.row,n=sK().classes,r=aY({row:t});return W.createElement(Ii,{className:n.mark,style:{background:r}})},uK="list-item",cK=function(e){var t=e.row,n=e.fallback,r=e.column,o=NG(),a=o.onLoadStart,i=o.onLoadEnd,s=ZG();return W.createElement(eF,{fallback:n,payload:t,onLoadStart:function(){return a&&a(uK)},onLoadEnd:function(e){return i&&i(e,uK)},throwError:!0},(function(){return r&&r.element?W.createElement(r.element,t):r&&r.compute?r.compute(t,s):r&&r.field?t[r.field]:"empty"}))},dK=LP()({root:{position:"relative",overflow:"hidden"},checkbox:{opacity:.2}}),pK=function(e){var t=e.row,n=e.style,r=NP(W.useState(!1),2),o=r[0],a=r[1],i=dK().classes,s=NG(),l=s.columns,u=void 0===l?[]:l,c=s.withSelectOnRowClick,d=s.selectionMode,p=s.rowActions,f=s.onRowClick,h=s.onRowAction,m=s.rowMark,g=s.fallback,v=s.onLoadStart,b=s.onLoadEnd,y=uq(),x=ZG(),w=RG(),k=w.selection,S=w.setSelection,C=HD(t),E=u.find((function(e){return e.primary}))||u.find((function(e){return!!e.field})),I=u.find((function(e){return e.secondary})),N=u.find((function(e){return e.avatar})),T=W.createElement(cK,{row:t,fallback:g,column:E}),R=I?W.createElement(cK,{row:t,fallback:g,column:I}):null,_=N?W.createElement(cK,{row:t,fallback:g,column:N}):null;return W.createElement(vT,{selected:k.has(t.id),className:i.root,onClick:function(){o||(c&&d!==kz.None?(d===kz.Single?k.has(t.id)&&1===k.size?k.delete(t.id):(k.clear(),k.add(t.id)):k.has(t.id)?k.delete(t.id):k.add(t.id),S(k)):f&&f(t,y))},style:n,disableRipple:o},!!m&&W.createElement(lK,{row:t}),W.createElement(Vx,{sx:{display:"flex",alignItems:"center",gap:"8px"}},W.createElement(iK,{row:t}),!!_&&W.createElement(Ii,{sx:{marginRight:"16px"}},_)),W.createElement(Vw,{primary:T,secondary:R}),!!p&&W.createElement(bB,{transparent:!0,options:p.map((function(e){var t=e.isDisabled,n=void 0===t?function(){return!1}:t,r=e.isVisible,o=void 0===r?function(){return!0}:r,a=SP(e,["isDisabled","isVisible"]);return kP(kP({},a),{isVisible:function(){return o(C.current,x)},isDisabled:function(){return n(C.current,x)}})})),onToggle:function(e){a(e)},onAction:function(e){h&&h(e,t,y)},fallback:g,payload:t,deps:[x],onLoadStart:function(){return v&&v(uK)},onLoadEnd:function(e){return b&&b(e,uK)},throwError:!0}))},fK=LP()((function(e){return{root:{position:"relative"},container:{position:"absolute",top:0,left:0,background:e.palette.background.paper},empty:{position:"absolute",zIndex:999,top:0,left:0,right:0}}})),hK=function(e){var t=fK().classes,n=QY(),r=BD(),o=rK({rows:e.rows,scrollYSubject:r});W.useEffect((function(){return n.scrollYSubject.subscribe((function(){r.next(0)}))}),[]);var a=e.offset,i=e.limit,s=e.total,l=e.loading,u=e.withLoader,c=void 0!==u&&u,d=mz({target:document.body,selector:".MuiDialog-container > .MuiPaper-root"}).size.width,p=mz(),f=p.elementRef,h=p.size.height,m=e.handlePageChange,g=Math.floor(a/i)+1,v=!s||g*i<s,b=ZB([l]),y=oF((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return e?[2]:v&&!l?(m(g),[4,b()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})).execute;return W.createElement(Wq,kP({},e,o),W.createElement(Ii,{ref:f,className:t.root},W.createElement(Ii,{className:t.container},W.createElement(Ii,{position:"relative",style:{height:h,width:d}},W.createElement(fz,{scrollYSubject:r,minRowHeight:75,onDataRequest:function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,y(e)];case 1:return[2,void t.sent()]}}))}))},sx:{height:h,width:d}},!l&&0===o.rows.length&&W.createElement(NT,{className:t.empty},W.createElement(Vx,null,W.createElement(dP,null)),W.createElement(Vw,{primary:"Empty",secondary:"Nothing found"})),o.rows.map((function(e,t){return W.createElement(pK,{key:"".concat(e.id,"-").concat(t),row:e})}))),W.createElement(aK,{open:c&&l})))))},mK=LP()({root:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",background:So("#000",.2),display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},hidden:{display:"none !important"}}),gK=function(e){var t,n=e.open,r=mK().classes;return W.createElement(Ii,{className:kF(r.root,(t={},t[r.hidden]=!n,t))},W.createElement(Dx,null))},vK=LP()((function(e){return{root:{position:"relative"},container:{position:"absolute",top:0,left:0,background:e.palette.background.paper},empty:{position:"absolute",zIndex:999,top:0,left:0,right:0}}})),bK=function(e){var t=vK().classes,n=BD(),r=rK({rows:e.rows,scrollYSubject:n}),o=RG(),a=o.selection,i=o.setSelection,s=e.offset,l=e.limit,u=e.total,c=e.loading,d=e.payload,p=e.rowMark,f=e.rowColor,h=e.columns,m=e.selectionMode,g=void 0===m?kz.None:m,v=e.withLoader,b=void 0!==v&&v,y=e.onRowClick,x=e.onRowAction,w=uq(),k=W.useMemo((function(){return function(e,t){var n=(void 0===t?{}:t).minWidth,r=void 0===n?185:n;return e.map((function(e,t){var n="".concat(e.field||"unknown","-").concat(t);return e.type===iq.Action?null:e.type===iq.CheckBox?{label:e.headerName||n,width:e.width,field:e.field,minWidth:r,format:function(t){return W.createElement(fI,{color:"primary",disabled:!0,checked:t[e.field]})}}:{label:e.headerName||n,width:e.width,field:e.field,minWidth:r,format:function(t,n){var r=this;return e.compute||e.element?W.createElement(eF,{payload:t},(function(t){return CP(r,void 0,void 0,(function(){var r,o;return EP(this,(function(a){switch(a.label){case 0:return r=e.element,(o=e.compute)?[4,o(t,n)]:[3,2];case 1:return[2,a.sent()];case 2:return r?[2,W.createElement(r,kP({},t,{_payload:n}))]:[2,e.field?UP(t,e.field):""]}}))}))})):e.field?UP(t,e.field):""}}})).filter((function(e){return null!==e}))}(h)}),[]),S=W.useMemo((function(){return TP([],NP(a),!1)}),[a]),C=mz(),E=C.elementRef,I=C.size,N=I.height,T=I.width,R=e.handlePageChange,_=Math.floor(s/l)+1,$=!u||_*l<u,M=ZB([c]),O=oF((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return e?[2]:$&&!c?(R(_),[4,M()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})).execute;return W.createElement(Wq,kP({},e,r),W.createElement(Ii,{ref:E,className:t.root},W.createElement(Ii,{className:t.container},W.createElement(Ii,{position:"relative",style:{height:N,width:T}},W.createElement(NB,{scrollYSubject:n,minRowHeight:45,hasMore:$,loading:c,bufferSize:Math.min(2*l,15),selectedRows:S,onSelectedRows:function(e,t){t||i(new Set(e))},selectionMode:g,transparentPaper:!0,payload:d,rowMark:p,onRowClick:function(t){e.withSelectOnRowClick&&e.selectionMode!==kz.None?(e.selectionMode===kz.Single?a.has(t.id)&&1===a.size?a.delete(t.id):(a.clear(),a.add(t.id)):a.has(t.id)?a.delete(t.id):a.add(t.id),i(a)):y&&y(t,w)},onRowAction:function(e,t){x&&x(e,t,w)},rowKey:"id",rowColor:f,columns:k,data:r.rows,onSkip:function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,O(e)];case 1:return[2,void t.sent()]}}))}))},sx:{height:N,width:T}}),W.createElement(gK,{open:b&&c})))))},yK=new Set(["@","+","(",")","-","_","!","#","$","%","&","*","/","="]),xK=function(e){var t,n,r="";try{for(var o=IP(e),a=o.next();!a.done;a=o.next()){var i=a.value;yK.has(i)?r+=" ":r+=i}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.split(" ").filter((function(e){return e})).join(" ")},wK=LP()({root:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",background:So("#000",.2),display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},hidden:{display:"none !important"}}),kK=function(e){var t,n=e.open,r=wK().classes;return W.createElement(Ii,{className:kF(r.root,(t={},t[r.hidden]=!n,t))},W.createElement(Dx,null))},SK=function(){return W.createElement(Vw,{primary:"DEFAULT_TEMPLATE",secondary:"DEFAULT_TEMPLATE"})},CK=LP()((function(e){return{root:{position:"relative"},container:{position:"absolute",top:0,left:0,background:e.palette.background.paper},empty:{position:"absolute",zIndex:999,top:0,left:0,right:0}}})),EK=function(e){var t=CK().classes,n=QY(),r=BD(),o=rK({rows:e.rows,scrollYSubject:r});W.useEffect((function(){return n.scrollYSubject.subscribe((function(){r.next(0)}))}),[]);var a=RG(),i=a.selection,s=a.setSelection,l=e.offset,u=e.limit,c=e.total,d=e.loading,p=e.payload,f=e.rowMark,h=e.rowColor,m=e.selectionMode,g=void 0===m?kz.None:m,v=e.customTemplate,b=void 0===v?SK:v,y=e.customTemplateMinHeight,x=void 0===y?45:y,w=e.withLoader,k=void 0!==w&&w,S=e.onRowClick,C=e.tileMode,E=e.itemSx,I=uq(),N=W.useMemo((function(){return TP([],NP(i),!1)}),[i]),T=mz(),R=T.elementRef,_=T.size,$=_.height,M=_.width,O=e.handlePageChange,A=Math.floor(l/u)+1,L=!c||A*u<c,P=ZB([d]),D=oF((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return e?[2]:L&&!d?(O(A),[4,P()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})).execute;return W.createElement(Wq,kP({},e,o),W.createElement(Ii,{ref:R,className:t.root},W.createElement(Ii,{className:t.container},W.createElement(Ii,{position:"relative",style:{height:$,width:M}},W.createElement(Hz,{mode:C,itemSx:E,recomputeSubject:o.recomputeSubject,scrollYSubject:r,minRowHeight:x,hasMore:L,bufferSize:Math.min(2*u,15),selectedRows:N,onSelectedRows:function(e,t){t||s(new Set(e))},selectionMode:g,payload:p,rowMark:f,rowKey:"id",rowColor:h,data:o.rows,loading:d,onSkip:function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,D(e)];case 1:return[2,void t.sent()]}}))}))},onItemClick:function(t){var n;n=t.data,e.withSelectOnRowClick&&e.selectionMode!==kz.None?(e.selectionMode===kz.Single?i.has(n.id)&&1===i.size?i.delete(n.id):(i.clear(),i.add(n.id)):i.has(n.id)?i.delete(n.id):i.add(n.id),s(i)):S&&S(n,I)},sx:{height:$,width:M}},b),W.createElement(kK,{open:k&&d})))))},IK=function(){return W.createElement(Vw,{primary:"DEFAULT_TEMPLATE",secondary:"DEFAULT_TEMPLATE"})},NK=[10,25,50],TK=LP()((function(e){return{root:{position:"relative"},container:{position:"absolute",top:0,left:0,background:e.palette.background.paper},empty:{position:"absolute",zIndex:999,top:0,left:0,right:0}}})),RK=function(e){var t=TK().classes,n=QY(),r=BD();W.useEffect((function(){return n.scrollYSubject.subscribe((function(){r.next(0)}))}),[]);var o=RG(),a=o.selection,i=o.setSelection,s=e.rows,l=e.offset,u=e.limit,c=e.total,d=e.payload,p=e.rowMark,f=e.rowColor,h=e.selectionMode,m=void 0===h?kz.None:h,g=e.pageItemTemplate,v=void 0===g?IK:g,b=e.pageItemTemplateMinHeight,y=void 0===b?45:b,x=e.labelDisplayedRows,w=e.onRowClick,k=e.tileMode,S=e.itemSx,C=rK({rows:e.rows,scrollYSubject:r}),E=uq(),I=W.useMemo((function(){return TP([],NP(a),!1)}),[a]),N=mz(),T=N.elementRef,R=N.size,_=R.height,$=R.width,M=e.handlePageChange,O=e.handleLimitChange;return W.createElement(Wq,kP({},e),W.createElement(Ii,{ref:T,className:t.root},W.createElement(Ii,{className:t.container},W.createElement(Ii,{position:"relative",style:{height:_-52,width:$}},W.createElement(Hz,{mode:k,itemSx:S,recomputeSubject:C.recomputeSubject,scrollYSubject:r,minRowHeight:y,hasMore:!1,loading:!1,bufferSize:Math.min(2*u,15),selectedRows:I,onSelectedRows:function(e,t){t||i(new Set(e))},selectionMode:m,payload:d,rowMark:p,rowKey:"id",rowColor:f,data:s,onItemClick:function(t){var n;n=t.data,e.withSelectOnRowClick&&e.selectionMode!==kz.None?(e.selectionMode===kz.Single?a.has(n.id)&&1===a.size?a.delete(n.id):(a.clear(),a.add(n.id)):a.has(n.id)?a.delete(n.id):a.add(n.id),i(a)):w&&w(n,E)},sx:{height:_-52,width:$}},v)),W.createElement(PG,{width:$,height:_,count:c||-1,rowsPerPage:u,page:l/u,labelDisplayedRows:x,rowsPerPageOptions:NK,onPageChange:function(e,t){return M(t)},onRowsPerPageChange:function(e){return O(e.target.value)}}))))};!function(e){function t(t){var n=e.call(this,t)||this;return n.stateActionEmitter=new uD,n.isMountedFlag=!1,n.isFetchingFlag=!1,n.isRerenderFlag=!1,n.isPatchingFlag=!1,n.prevState={},n.scrollManager=new function(){var e=this;this.scrollYSubject=new uD,this._lastScrollX=0,this._handleScroll=function(){if(e._currentElement){var t=e._currentElement.scrollLeft;e._lastScrollX=t}},this.provideRef=function(t){e.clear(),t&&(t.addEventListener("scroll",e._handleScroll,{passive:!0}),e._currentElement=t)},this.scrollTop=function(){e._currentElement&&e._currentElement.scrollTo(e._lastScrollX,0),e.scrollYSubject.next(0)},this.clear=function(){e._currentElement&&e._currentElement.removeEventListener("scroll",e._handleScroll),e._currentElement=void 0}},n.constraintManager=function(){var e=new function(){var e=this;this._cache=new Map,this.memoize=function(t,n){if(e._cache.has(t))return e._cache.get(t);var r=n();return e._cache.set(t,r),r},this.clear=function(){e._cache.clear()}},t=function(t){var n=t.fullWidth,r=t.column,o=t.mode,a=t.idx;return e.memoize("column-order-".concat(n,"-").concat(a),(function(){var e=0;return o===BG.Desktop||o===BG.Tablet?e=r.desktopOrder||0:o===BG.Phone&&(e=r.phoneOrder||0),e}))},n=function(t){var n=t.fullWidth,r=t.column,o=t.idx,a=Math.max(n-75,1);return e.memoize("column-width-".concat(n,"-").concat(o),(function(){var e=r.width,t="function"==typeof e?e(a):e;return"number"==typeof t?"".concat(t,"px"):t}))};return{constraintManager:e,wrapColumns:function(r){var o=r.columns,a=r.fullWidth,i=r.mode,s=r.visibilityRequest;return o.filter((function(t,n){return o=(r={visibilityRequest:s,column:t,fullWidth:a,mode:i,idx:n}).column,l=r.fullWidth,u=r.visibilityRequest,c=r.idx,e.memoize("column-visibility-".concat(l,"-").concat(c),(function(){var e=!0;return o.isVisible&&(e=o.isVisible(u)),e}));var r,o,l,u,c})).filter((function(t,n){return o=(r={visibilityRequest:s,column:t,fullWidth:a,mode:i,idx:n}).column,l=r.fullWidth,u=r.mode,c=r.idx,!e.memoize("column-hidden-".concat(l,"-").concat(c),(function(){var e=!1;return u===BG.Desktop?e=!!o.desktopHidden:u===BG.Tablet?e=!!o.tabletHidden:u===BG.Phone&&(e=!!o.phoneHidden),e}));var r,o,l,u,c})).map((function(e,t){return[e,t]})).sort((function(e,n){var r=NP(e,2),o=r[0],l=r[1],u=NP(n,2),c=u[0],d=u[1];return t({visibilityRequest:s,fullWidth:a,column:o,idx:l,mode:i})+l-(l>d?1:0)-(t({visibilityRequest:s,fullWidth:a,column:c,idx:d,mode:i})+d-(d>l?1:0))})).map((function(e){return NP(e,1)[0]})).map((function(e,t,r){var o=r.length;return kP(kP({},e),{width:n({visibilityRequest:s,fullWidth:a-32*o,column:e,mode:i,idx:t})})}))}}}(),n.computeKeepPageOnReload=function(){var e=!0;return(e=(e=e&&!n.props.isChooser)&&!n.props.isInfinite)&&!n.props.isCustom},n.setLoading=function(e){return n.isMountedFlag&&n.setState((function(t){return kP(kP({},t),{loading:e})}))},n.setFiltersCollapsed=function(e){return n.isMountedFlag&&n.setState((function(t){return kP(kP({},t),{filtersCollapsed:e})}))},n.componentDidUpdate=function(){n.handleUpdateRef(),n.state.rerender?n.beginRerender():n.beginFetchQueue()},n.componentDidMount=function(){n.isMountedFlag=!0,n.handleReady(!0),n.handleUpdateRef()},n.componentWillUnmount=function(){n.isFetchingFlag=!1,n.isMountedFlag=!1,n.handleFetchQueue.clear(),n.unReloadSubject&&n.unReloadSubject(),n.unRerenderSubject&&n.unRerenderSubject(),n.unSetLimitSubject&&n.unSetLimitSubject(),n.unSetPageSubject&&n.unSetPageSubject(),n.unSetRowsSubject&&n.unSetRowsSubject()},n.beginRerender=function(){queueMicrotask((function(){return vy.flushSync((function(){n.isMountedFlag&&n.setState((function(e){return kP(kP({},e),{rerender:!1})})),n.isRerenderFlag=!0}))}))},n.beginFetchQueue=function(){n.prevState.filtersCollapsed===n.state.filtersCollapsed?n.handleFetchQueue():n.prevState.filtersCollapsed=n.state.filtersCollapsed},n.createHandleFetchQueue=function(e){return void 0===e&&(e=1e3),To((function(){var e=[n.handlePageChanged,n.handleParamsChanged],t=!0;if(t=(t=t&&!n.state.loading)&&n.state.initComplete){if(!n.isFetchingFlag)return void(n.isPatchingFlag=!1);n.isRerenderFlag?n.isRerenderFlag=!1:n.isPatchingFlag?n.isPatchingFlag=!1:(n.isFetchingFlag=!1,e.reduce((function(e,t){return e?!t():e}),!0))}n.prevState=kP({},n.state)}),e)},n.handleFetchQueue=n.createHandleFetchQueue(),n.handlePageChanged=function(){var e=!1;return(e=(e=e||n.prevState.offset===n.state.offset)||n.prevState.limit===n.state.limit)&&n.handleReload(),e},n.handleParamsChanged=function(){var e=!1;return(e=(e=(e=e||n.prevState.chips===n.state.chips)||n.prevState.sort===n.state.sort)||n.prevState.search===n.state.search)&&(n.handleFilter(n.state.filterData,!1),n.props.onPageChange(0)),e},n.handleUpdateRef=function(){var e=n.props.apiRef,t={reload:n.handleReload,setLimit:n.handleLimitChange,setPage:n.handlePageChange,setRows:n.handleRowsChange,setFilterData:n.handleFilter,getState:function(){return kP({},n.state)},rerender:n.handleRerender};"function"==typeof e?e(t):e&&(e.current=t),n.props.reloadSubject&&(n.unReloadSubject&&n.unReloadSubject(),n.unReloadSubject=n.props.reloadSubject.subscribe((function(){return CP(n,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return this.computeKeepPageOnReload()?[3,2]:[4,this.handleReload(!1)];case 1:case 3:return e.sent(),[2];case 2:return[4,this.handleReload()]}}))}))}))),n.props.rerenderSubject&&(n.unRerenderSubject&&n.unRerenderSubject(),n.unRerenderSubject=n.props.rerenderSubject.subscribe(n.handleRerender)),n.props.setLimitSubject&&(n.unSetLimitSubject&&n.unSetLimitSubject(),n.unSetLimitSubject=n.props.setLimitSubject.subscribe(n.handleLimitChange)),n.props.setPageSubject&&(n.unSetPageSubject&&n.unSetPageSubject(),n.unSetPageSubject=n.props.setPageSubject.subscribe(n.handlePageChange)),n.props.setRowsSubject&&(n.unSetRowsSubject&&n.unSetRowsSubject(),n.unSetRowsSubject=n.props.setRowsSubject.subscribe(n.handleRowsChange)),n.props.setFilterDataSubject&&(n.unSetFilterDataSubject&&n.unSetFilterDataSubject(),n.unSetFilterDataSubject=n.props.setFilterDataSubject.subscribe(n.handleFilter))},n.handleReady=function(e){void 0===e&&(e=!1),n.handleDefault(e),n.prevState.filtersCollapsed=n.state.filtersCollapsed},n.handleRows=function(e,t){return void 0===t&&(t=!1),CP(n,void 0,void 0,(function(){var n,r,o,a,i,s,l,u,c,d;return EP(this,(function(p){switch(p.label){case 0:return[4,KP(0)];case 1:return p.sent(),"function"!=typeof this.props.handler?[3,3]:[4,Promise.resolve(this.props.handler(e,{limit:this.state.limit,offset:t?this.state.offset:0},this.state.sort,this.state.chips,String(this.props.withRawSearch?this.state.search:xK(this.state.search)).trim(),this.state.payload))];case 2:return n=p.sent(),Array.isArray(n)?(n.length>this.state.limit&&console.warn("List rows count is more than it's capacity"),d={rows:n.slice(0,this.state.limit),total:null},this.props.onRows(d.rows),[2,d]):(o=(r=n||{}).rows,l=void 0===o?[]:o,a=r.total,c=void 0===a?null:a,l.length>this.state.limit&&console.warn("List rows count is more than it's capacity"),d={rows:l.slice(0,this.state.limit),total:c},this.props.onRows(d.rows),[2,d]);case 3:return Array.isArray(this.props.handler)?(d={rows:this.props.handler.slice(this.state.offset,this.state.limit+this.state.offset),total:this.props.handler.length},this.props.onRows(d.rows),[2,d]):(i=this.props.handler||{},s=i.rows,l=void 0===s?[]:s,u=i.total,c=void 0===u?null:u,d={rows:l.slice(this.state.offset,this.state.limit+this.state.offset),total:c},this.props.onRows(d.rows),[2,d]);case 4:return[2]}}))}))},n.handleFilter=function(e,t){return void 0===t&&(t=!1),CP(n,void 0,void 0,(function(){var n,r,o,a;return EP(this,(function(i){switch(i.label){case 0:if(this.state.loading)return[2];this.setLoading(!0),i.label=1;case 1:return i.trys.push([1,5,6,7]),[4,this.stateActionEmitter.next({type:"filterdata-changed",keepPagination:t,filterData:e})];case 2:return i.sent(),[4,this.handleRows(e,t)];case 3:return n=i.sent(),r=n.rows,o=n.total,[4,this.stateActionEmitter.next({type:"rows-changed",rows:r,total:o})];case 4:return i.sent(),t||this.scrollManager.scrollTop(),this.isMountedFlag&&this.setState((function(n){return kP(kP(kP({},n),{initComplete:!0,loading:!1,filterData:e,rows:r,total:o}),!t&&{offset:0})})),[3,7];case 5:return a=i.sent(),this.props.fallback(a),[3,7];case 6:return this.setLoading(!1),this.props.onFilterChange(e),[7];case 7:return[2]}}))}))},n.handleDefault=function(e){return void 0===e&&(e=!1),CP(n,void 0,void 0,(function(){var t,n=this;return EP(this,(function(r){switch(r.label){case 0:return t={},AD(this.props.filters).filter((function(e){return!!e.name})).forEach((function(e){var r=e.type,o=e.name,a=e.defaultValue,i=e.hidden;PD(t,o),("function"==typeof i?i(n.state.payload):i)||HP(t,o,void 0===a?UP(t,o)||OD(r):"function"==typeof a?a(n.state.payload):a)})),e&&LD(t,this.props.filterData),[4,this.handleFilter(t,e)];case 1:return r.sent(),!e&&this.props.onPageChange(0),[2]}}))}))},n.handleReload=function(e){return void 0===e&&(e=!0),CP(n,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return this.constraintManager.constraintManager.clear(),this.scrollManager.clear(),[4,this.handleFilter(this.state.filterData,e)];case 1:return t.sent(),!e&&this.props.onPageChange(0),[2]}}))}))},n.handlePageChange=function(e){n.isFetchingFlag=!0,n.isMountedFlag&&n.setState((function(t){return kP(kP({},t),{offset:e*t.limit})})),n.props.onPageChange(e)},n.handleLimitChange=function(e){n.isFetchingFlag=!0;var t=Math.floor(n.state.offset/e);n.isMountedFlag&&n.setState((function(n){return kP(kP({},n),{offset:t*e,limit:e})})),n.props.onLimitChange(e)},n.handleRowsChange=function(e){return CP(n,void 0,void 0,(function(){return EP(this,(function(t){return e=e.slice(0,this.state.limit).map((function(e){return kP({},e)})),this.stateActionEmitter.next({type:"rows-reload",rows:e}),this.isPatchingFlag=!0,this.isMountedFlag&&this.setState((function(t){return kP(kP({},t),{rows:e})})),[2]}))}))},n.handleSortModel=function(e){return CP(n,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,this.stateActionEmitter.next({type:"sort-changed",sort:e})];case 1:return t.sent(),this.isFetchingFlag=!0,this.isMountedFlag&&this.setState((function(t){return kP(kP({},t),{offset:0,sort:e})})),this.props.onSortModelChange(e),this.props.onPageChange(0),[2]}}))}))},n.handleChips=function(e){return CP(n,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,this.stateActionEmitter.next({type:"chips-changed",chips:e})];case 1:return t.sent(),this.isFetchingFlag=!0,this.isMountedFlag&&this.setState((function(t){return kP(kP({},t),{offset:0,chips:e})})),this.props.onChipsChange(kP(kP({},this.state.chips),e)),this.props.onPageChange(0),[2]}}))}))},n.handleSearch=function(e){return CP(n,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,this.stateActionEmitter.next({type:"search-changed",search:e})];case 1:return t.sent(),this.isFetchingFlag=!0,this.isMountedFlag&&this.setState((function(t){return kP(kP({},t),{offset:0,search:e})})),this.props.onSearchChange(e),this.props.onPageChange(0),[2]}}))}))},n.handleRerender=function(){queueMicrotask((function(){return vy.flushSync((function(){n.isMountedFlag&&n.setState((function(e){return kP(kP({},e),{rerender:!0})}))}))}))},n.handleFiltersCollapsed=function(e){return n.setFiltersCollapsed(e)},n.getCallbacks=function(){return{handlePageChange:n.handlePageChange,handleLimitChange:n.handleLimitChange,handleSortModel:n.handleSortModel,handleDefault:n.handleDefault,handleFilter:n.handleFilter,handleReload:n.handleReload,handleChips:n.handleChips,handleSearch:n.handleSearch,handleRowsChange:n.handleRowsChange,handleFiltersCollapsed:n.handleFiltersCollapsed,handleRerender:n.handleRerender,computeKeepPageOnReload:n.computeKeepPageOnReload}},n.renderInner=function(){var e=n.getCallbacks();return n.state.isPageItem?W.createElement(RK,kP({},n.props,n.state,{handler:n.props.handler,filters:n.props.filters,columns:n.props.columns,actions:n.props.actions,limit:n.state.limit,offset:n.state.offset,listChips:n.props.chips},e)):n.state.isCustom?W.createElement(EK,kP({},n.props,n.state,{handler:n.props.handler,filters:n.props.filters,columns:n.props.columns,actions:n.props.actions,limit:n.state.limit,offset:n.state.offset,listChips:n.props.chips},e)):n.state.isInfinite?W.createElement(bK,kP({},n.props,n.state,{handler:n.props.handler,filters:n.props.filters,columns:n.props.columns,actions:n.props.actions,limit:n.state.limit,offset:n.state.offset,listChips:n.props.chips},e)):n.state.isChooser?W.createElement(hK,kP({},n.props,n.state,{handler:n.props.handler,filters:n.props.filters,columns:n.props.columns,actions:n.props.actions,limit:n.state.limit,offset:n.state.offset,listChips:n.props.chips},e)):W.createElement(eK,kP({},n.props,n.state,{handler:n.props.handler,filters:n.props.filters,columns:n.props.columns,actions:n.props.actions,limit:n.state.limit,offset:n.state.offset,listChips:n.props.chips},e))},n.render=function(){var e=n.getCallbacks();return W.createElement(jU,null,W.createElement(PP,null,W.createElement(tK,{payload:n.stateActionEmitter},W.createElement(IG,kP({},kP(kP(kP({},n.props),n.state),e)),W.createElement(Yq,null,W.createElement(XY,{payload:n.scrollManager},W.createElement(WG,{payload:n.constraintManager},W.createElement(_G,{selectedRows:n.props.selectedRows},W.createElement(Tq,null,W.createElement($q,{initialState:function(){return new Map}},W.createElement(yq,{sortModel:n.props.sortModel},W.createElement(EY,{chips:n.props.chips,chipData:n.props.chipData},W.createElement(UG,{value:n.state.filterData},W.createElement(YG,{limit:n.state.limit,offset:n.state.offset},W.createElement(eq,{value:n.state.search},W.createElement(Eq,null,W.createElement(HY,kP({},n.props.slots),W.createElement(QG,{value:n.state.payload},n.renderInner()))))))))))))))))))},n.state={initComplete:!1,payload:"function"==typeof n.props.payload?n.props.payload():n.props.payload,isChooser:n.props.isChooser,isInfinite:n.props.isInfinite,isCustom:!!n.props.customTemplate||n.props.isCustom,isPageItem:!!n.props.pageItemTemplate||n.props.isPageItem,filterData:n.props.filterData,rows:[],limit:n.props.limit,offset:n.props.isChooser||n.props.isInfinite||n.props.isCustom?0:n.props.limit*n.props.page,total:null,search:n.props.search||"",loading:!1,filtersCollapsed:n.props.withToggledFilters,sort:n.props.sortModel,chips:n.props.chips.reduce((function(e,t){var r,o=t.name,a=t.enabled,i=void 0!==a&&a;return kP(kP({},e),((r={})[o]=n.props.chipData[o]||i,r))}),{}),rerender:!1},n.prevState=kP({},n.state),n.handleFetchQueue=n.createHandleFetchQueue(t.fetchDebounce),n}wP(t,e),t.defaultProps={handler:function(){return[]},payload:{},fallback:function(e){return console.error(e)},limit:10,page:0,isChooser:!1,isInfinite:!1,isCustom:!1,filters:[],columns:[],actions:[],onRows:function(){return null},onSortModelChange:function(){return null},onFilterChange:function(){return null},onChipsChange:function(){return null},onSearchChange:function(){return null},onPageChange:function(){return null},onLimitChange:function(){return null},labelDisplayedRows:function(e){var t=e.count,n=e.from,r=e.to;return"".concat(n,"").concat(r," ").concat(-1!==t?"(".concat(t,")"):"")},selectionLabel:function(e){return"".concat(e||"")},filterData:{},withToggledFilters:!1,fetchDebounce:1e3,tileMode:Oz.Intersection,sortModel:[],chips:[],chipData:{},search:"",slots:{}}}(W.Component),ZP((function(e,t,n){var r=e.state,o=e.action,a=t.prefix,i=void 0===a?"":a,s=t.updateDelay,l=void 0===s?500:s,u=t.noCleanupExtra,c=void 0!==u&&u,d=t.noCleanupOnLeave,p=void 0!==d&&d;return CP(void 0,void 0,void 0,(function(){var e,t,a,s,u,d,f,h,m,g,v,b,y,x,w;return EP(this,(function(k){switch(k.label){case 0:return[4,KP(l)];case 1:if(k.sent(),!n.current)return[2];if("update"===o){if(e=new URL(window.location.href,window.location.origin),Object.entries(r).forEach((function(t){var n=NP(t,2),r=n[0],o=n[1];Array.isArray(o)||WP(o)?e.searchParams.set("".concat(i,"_").concat(r),JSON.stringify(o)):e.searchParams.set("".concat(i,"_").concat(r),String(o))})),!c)try{for(t=IP(TP([],NP(e.searchParams.keys()),!1)),a=t.next();!a.done;a=t.next())(m=a.value).startsWith("".concat(i,"_"))||e.searchParams.delete(m)}catch(S){g={error:S}}finally{try{a&&!a.done&&(v=t.return)&&v.call(t)}finally{if(g)throw g.error}}window.history.pushState(null,"",e.toString())}if("unmount"===o){if(s=new URL(window.location.href,window.location.origin),p)return[2];try{for(u=IP(TP([],NP(s.searchParams.keys()),!1)),d=u.next();!d.done;d=u.next())m=d.value,s.searchParams.delete(m)}catch(S){b={error:S}}finally{try{d&&!d.done&&(y=u.return)&&y.call(u)}finally{if(b)throw b.error}}if(!c)try{for(f=IP(TP([],NP(s.searchParams.keys()),!1)),h=f.next();!h.done;h=f.next())(m=h.value).startsWith("".concat(i,"_"))||s.searchParams.delete(m)}catch(S){x={error:S}}finally{try{h&&!h.done&&(w=f.return)&&w.call(f)}finally{if(x)throw x.error}}window.history.pushState(null,"",s.toString())}return[2]}}))}))})),LP()((function(e){return{root:{height:48,width:"100%",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},stretch:{flex:1}}})),LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},container:{position:"static",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5},loader:{minHeight:"".concat(4,"px"),maxHeight:"".concat(4,"px"),marginTop:"-".concat(4,"px"),zIndex:2,width:"100%"},content:{flex:1,overflowY:"auto",overflowX:"hidden",paddingTop:e.spacing(1)},title:{display:"flex",justifyContent:"stretch",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},stretch:{flex:1},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"}}})),LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},container:{flex:1,minHeight:60,maxHeight:"50vh",overflow:"hidden",overflowY:"auto"},controls:{display:"flex",alignItems:"center"},controlsWidth:{marginRight:"5px"},title:{display:"flex",alignItems:"center"},disabled:{pointerEvents:"none",userSelect:"none",opacity:.5},labelContent:{display:"flex",minHeight:"60px","& > *:nth-of-type(1)":{flex:1},padding:e.spacing(1)},filters:{padding:e.spacing(1),overflowX:"hidden",overflowY:"auto"}}})),LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},container:{flex:1,minHeight:60,maxHeight:"50vh",overflow:"hidden",overflowY:"auto"},controls:{display:"flex",alignItems:"center"},controlsWidth:{marginRight:"5px"},title:{display:"flex",alignItems:"center"},disabled:{pointerEvents:"none",userSelect:"none",opacity:.5},labelContent:{display:"flex",minHeight:"60px","& > *:nth-of-type(1)":{flex:1},padding:e.spacing(1)},filters:{padding:e.spacing(1),overflowX:"hidden",overflowY:"auto"}}})),LP()({button:{minHeight:"35px !important",maxHeight:"35px !important",paddingLeft:"15px !important",paddingRight:"15px !important",order:-1,zIndex:99},fab:{order:-1,zIndex:99}});var _K=NP(CD(),2);_K[0],_K[1],LP()({button:{minHeight:"35px !important",maxHeight:"35px !important",paddingLeft:"15px !important",paddingRight:"15px !important"},fab:{zIndex:99,minHeight:"40px !important",maxHeight:"40px !important"}});var $K=NP(CD(),2);$K[0],$K[1],LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},container:{flex:1,minHeight:"45px",maxHeight:"50vh",overflow:"hidden",overflowY:"auto"},controls:{display:"flex",alignItems:"center",gap:e.spacing(1)},controlsWidth:{marginRight:"5px"},title:{display:"flex",alignItems:"center"},disabled:{pointerEvents:"none",userSelect:"none",opacity:.5},labelContent:{display:"flex",alignItems:"flex-end",minHeight:"45px","& > *:nth-of-type(1)":{flex:1},padding:e.spacing(1)},filters:{padding:e.spacing(1),overflowX:"hidden",overflowY:"auto"}}})),LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",background:So(e.palette.getContrastText(e.palette.background.paper),.05)},container:{flex:1,minHeight:60,maxHeight:"50vh",overflow:"hidden",overflowY:"auto"},controls:{display:"flex",alignItems:"center",gap:e.spacing(1)},disabled:{pointerEvents:"none",userSelect:"none",opacity:.5},labelContent:{display:"flex",minHeight:"60px","& > *:nth-of-type(1)":{flex:1},padding:e.spacing(1)}}}));var MK=function(e){return new function(){this.getValue=function(){try{return JSON.parse(localStorage.getItem(e)||"null")}catch(t){return null}},this.setValue=function(t){try{localStorage.setItem(e,JSON.stringify(t,null,2))}catch(n){n instanceof DOMException&&(console.log("react-declarative createLsManager exceeded the quota"),localStorage.clear(),fq())}},this.clear=function(){localStorage.removeItem(e)}}};LP()((function(e,t,n){var r;return{inactive:{opacity:.5},container:{boxSizing:"border-box",width:"min(100vw - 100px, 400px)",height:340},list:(r={boxSizing:"border-box",width:"100%"},r["& > .".concat(n.item,":nth-of-type(2n)")]={background:So(e.palette.getContrastText(e.palette.background.paper),.04)},r),item:{"& .MuiListItemText-root > .MuiTypography-root":{width:"100%",overflow:"hidden",textOverflow:"ellipsis"}},item_right_side:{display:"flex",alignItems:"center",gap:"5px"},dialog_wrapper:{width:"100%",maxwidth:"400px",boxSizing:"border-box"},dialog:{"&:first-of-type":{padding:0},width:"100%",boxSizing:"border-box"}}}));var OK,AK,LK,PK,DK,FK,zK=function(e,t){return function(){return W.createElement(Ii,{sx:kP({display:"flex",flexDirection:"column",height:400,width:"100%",alignItems:"center",justifyContent:"center",fontSize:18,color:"text.secondary"},t)},e)}},BK=zK("An error acquired",{color:wa[500],fontWeight:500,fontSize:24}),jK=zK("Loading data"),WK=LP()({slideDown:{animation:"".concat(Sn(TY||(TY=_P(["\n            0% {\n                opacity: 0;\n                transform: translateY(-10px);\n            }\n            100% {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        "],["\n            0% {\n                opacity: 0;\n                transform: translateY(-10px);\n            }\n            100% {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        "])))," 250ms ease-out")},fadeIn:{animation:"".concat(Sn(RY||(RY=_P(["\n            0% {\n                opacity: 0;\n            }\n            100% {\n                opacity: 1;\n            }\n        "],["\n            0% {\n                opacity: 0;\n            }\n            100% {\n                opacity: 1;\n            }\n        "])))," 250ms ease-out")},scale:{animation:"".concat(Sn(_Y||(_Y=_P(["\n            0% {\n                transform: scale(0.4);\n            }\n            100% {\n                transform: scale(1);\n            }\n        "],["\n            0% {\n                transform: scale(0.4);\n            }\n            100% {\n                transform: scale(1);\n            }\n        "])))," 250ms ease-out")}}),VK=W.forwardRef((function(e,t){var n,r=e.children,o=e.className,a=e.animation,i=void 0===a?"slideDown":a,s=e.appear,l=void 0===s||s,u=SP(e,["children","className","animation","appear"]),c=WK().classes,d={slideDown:c.slideDown,fadeIn:c.fadeIn,scale:c.scale};return W.createElement(Ii,kP({ref:t,className:kF(o,(n={},n[d[i]]=l,n))},u),r)})),HK=LP()({root:{width:"100%"}}),UK=function(e){var t=e.animation,n=e.className,r=e.style,o=e.Loader,a=void 0===o?jK:o,i=e.Error,s=void 0===i?BK:i,l=e.onLoadEnd,u=e.onLoadStart,c=e.children,d=e.state,p=e.payload,f=SP(e,["animation","className","style","Loader","Error","onLoadEnd","onLoadStart","children","state","payload"]),h=HK().classes,m=NP(W.useState(!1),2),g=m[0],v=m[1],b=function(e){return CP(void 0,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return"function"!=typeof d?[3,5]:(t=d(e),Array.isArray(t)?[4,Promise.all(t)]:[3,2]);case 1:return[2,n.sent()];case 2:return[4,t];case 3:return[2,[n.sent()]];case 4:return[3,6];case 5:return[2,[]];case 6:return[2]}}))}))};return W.createElement(VK,{className:kF(n,h.root),style:r,animation:t,appear:g},W.createElement(eF,kP({},f,{Loader:a,Error:s,onLoadStart:function(){u&&u(),v(!1)},onLoadEnd:function(e){l&&l(e),v(!0)},payload:p}),(function(e){return CP(void 0,void 0,void 0,(function(){var t;return EP(this,(function(n){switch(n.label){case 0:return[4,b(e)];case 1:return t=n.sent(),[2,c.apply(void 0,TP([],NP(t),!1))]}}))}))})))},GK=function(){return W.createElement("p",null,"Forbidden")},qK=function(){return W.createElement("p",null,"Not found")},YK=function(){return W.createElement(Ck,{sx:{zIndex:function(e){return e.zIndex.drawer+1}},open:!0},W.createElement(Dx,{color:"primary"}))},KK=function(){return W.createElement("p",null,"500")},XK=function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:return t=e.guard,(n=(void 0===t?function(){return!0}:t)())instanceof Promise?[4,n]:[3,2];case 1:return[2,r.sent()];case 2:return[2,n]}}))}))},QK=iG(),ZK=function(e){var t=e.element,n=void 0===t?JK:t,r=e.key,o=e.params;return W.createElement(n,kP({key:r},o))},JK=function(){return W.createElement(W.Fragment,null)},eX=new uD,tX=function(e){var t=e.className,n=e.style,r=e.Loader,o=void 0===r?YK:r,a=e.Forbidden,i=void 0===a?GK:a,s=e.NotFound,l=void 0===s?qK:s,u=e.Error,c=void 0===u?KK:u,d=e.animation,p=e.history,f=void 0===p?QK:p,h=e.children,m=void 0===h?ZK:h,g=e.fallback,v=e.items,b=e.onLoadStart,y=e.onLoadEnd,x=e.onInit,w=void 0===x?function(){}:x,k=e.onDispose,S=void 0===k?function(){}:k,C=e.throwError,E=void 0!==C&&C,I=W.useMemo((function(){return TP([],NP(v),!1).sort((function(e,t){var n,r,o,a,i=e.path,s=void 0===i?"":i,l=t.path,u=void 0===l?"":l,c=(null===(n=s.match(/\:/g))||void 0===n?void 0:n.length)||0,d=(null===(r=u.match(/\:/g))||void 0===r?void 0:r.length)||0,p=(null===(o=s.match(/\\/g))||void 0===o?void 0:o.length)||0,f=(null===(a=u.match(/\\/g))||void 0===a?void 0:a.length)||0,h=Math.max(p-c,0);return Math.max(f-d,0)-h}))}),[]),N=NP(W.useState(!1),2),T=N[0],R=N[1],_=W.useRef(null),$=NP(W.useState(kP({},f.location)),2),M=$[0],O=$[1];W.useEffect((function(){return CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(n){switch(n.label){case 0:e=!0,b&&b(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,w()];case 2:return n.sent(),[3,5];case 3:if(t=n.sent(),e=!1,E)throw t;return g&&g(t),[3,5];case 4:return y&&y(e),R(!0),[7];case 5:return[2]}}))})),function(){CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(n){switch(n.label){case 0:e=!0,b&&b(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,S()];case 2:return n.sent(),[3,5];case 3:if(t=n.sent(),e=!1,E)throw t;return g&&g(t),[3,5];case 4:return y&&y(e),[7];case 5:return[2]}}))}))}}),[]),W.useEffect((function(){return f.listen((function(e){if("REPLACE"!==e.action&&e.location.pathname!==M.pathname){var t=kP({},e.location);O(t)}}))}),[f,M]);var A=W.useMemo((function(){return function(){return CP(void 0,void 0,void 0,(function(){var e,t,n,r,o,a,s,u,c,d;return EP(this,(function(p){switch(p.label){case 0:return e=M.pathname,t=void 0===e?"/":e,_.current?[4,_.current()]:[3,2];case 1:p.sent(),p.label=2;case 2:n=function(e){var n,r,o,a,s,l,u,c,d,p,f,h,m,g,v,b;return EP(this,(function(y){switch(y.label){case 0:return n=e.element,r=void 0===n?JK:n,o=e.redirect,a=e.prefetch,s=e.unload,l=e.path,u={},d=yP(l,c=[]),p=d.test(t),f=function(){var e=d.exec(t);e&&c.forEach((function(t,n){u[t.name]=e[n+1]}))},h=function(){s&&(_.current=function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve(s(u))];case 1:return e.sent(),_.current=null,[2]}}))}))})},p?[4,XK(e)]:[3,5];case 1:return y.sent()?(f(),a?(g=(m=Object).assign,v=[u],[4,a(u)]):[3,3]):[3,4];case 2:g.apply(m,v.concat([y.sent()])),y.label=3;case 3:return h(),"string"==typeof o?(O((function(e){return kP(kP({},e),{pathname:o})})),[2,{value:{element:JK,key:QD(),path:l}}]):"function"==typeof o&&null!==(b=o(u)||null)?(O((function(e){return kP(kP({},e),{pathname:b})})),[2,{value:{element:JK,key:QD(),path:l}}]):[2,{value:{element:r,key:QD(),params:u,path:l}}];case 4:return[2,{value:{element:i,key:QD(),path:l}}];case 5:return[2]}}))},p.label=3;case 3:p.trys.push([3,8,9,10]),r=IP(I),o=r.next(),p.label=4;case 4:return o.done?[3,7]:(a=o.value,[5,n(a)]);case 5:if("object"==typeof(s=p.sent()))return[2,s.value];p.label=6;case 6:return o=r.next(),[3,4];case 7:return[3,10];case 8:return u=p.sent(),c={error:u},[3,10];case 9:try{o&&!o.done&&(d=r.return)&&d.call(r)}finally{if(c)throw c.error}return[7];case 10:return[2,{element:l,key:QD(),path:t}]}}))}))}}),[M]);return T?W.createElement(UK,{className:t,style:n,state:A,Loader:o,Error:c,animation:d,payload:M,fallback:g,onLoadStart:b,onLoadEnd:y,throwError:E},(function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,KP(0)];case 1:return t.sent(),eX.next(e),[2,m(e)]}}))}))})):W.createElement(o,null)};tX.listen=function(e){return eX.subscribe(e)},tX.waitForNavigate=function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,eX.toPromise()];case 1:return[2,e.sent()]}}))}))},LP()({root:{display:"flex",alignItems:"center",justifyContent:"center"}});var nX,rX=LP()({root:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",width:"100%"},container:{position:"relative",paddingBottom:"100%",width:"100%",height:0},content:{position:"absolute",height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",top:0,left:0,right:0,bottom:0,"& > *:nth-of-type(1)":{flex:1}}});W.forwardRef((function(e,t){var n=e.className,r=e.children,o=SP(e,["className","children"]),a=rX().classes;return W.createElement(Ii,kP({ref:t,className:kF(n,a.root)},o),W.createElement("div",{className:a.container},W.createElement("div",{className:a.content},r)))})),(OK=NP(CD(),2))[0],OK[1],(AK=NP(CD(),2))[0],AK[1],(LK=NP(CD(),2))[0],LK[1],(PK=NP(CD(),2))[0],PK[1],LP()((function(e){return{selected:{color:"".concat(e.palette.primary.main," !important"),"& .MuiListItemIcon-root":{color:"".concat(e.palette.primary.main," !important")}},disabled:{pointerEvents:"none",opacity:.5},bold:{fontWeight:"bold"},root:{display:"flex",width:"100%",flex:1,"& .MuiListItemIcon-root":{maxWidth:"36px !important",minWidth:"36px !important"}},navLink:{color:e.palette.text.primary,"& .MuiListItemIcon-root":{color:e.palette.text.primary}}}})),LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",minHeight:"100vh",maxHeight:"100vh",minWidth:"100vw",maxWidth:"100vw"},container:{flex:1},title:{flexGrow:1},appBarSolidPaper:{background:"".concat(e.palette.background.paper," !important"),color:"".concat(e.palette.getContrastText(e.palette.background.paper)," !important")},drawer:{width:256,"& > .MuiPaper-root":{width:256,overflowX:"hidden"}},loaderBar:{marginTop:-4},offsetRegular:{minHeight:64},offsetDense:{minHeight:48},searchBox:{display:"inline-flex",margin:5,"& > *":{flex:1}},beforeSearch:{width:"calc(100% - 10px)",margin:"5px",marginBottom:"0px",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},afterSearch:{width:"calc(100% - 10px)",margin:"5px",marginTop:"0px",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}}}})),LP()((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,background:e.palette.background.paper}}})),W.createContext(null),(DK=NP(sj(),2))[0],DK[1],W.createContext(null),LP()({tabsRoot:{minHeight:48,height:48},tabRoot:{minHeight:48,height:48}}),(FK=NP(sj(),2))[0],FK[1],W.createContext(null),W.createContext(null),LP()({hidden:{visibility:"hidden"}}),LP()({tabsRoot:{minHeight:48,height:48},tabRoot:{minHeight:48,height:48}}),V.createElement,LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",paddingTop:"10px",paddingBottom:"10px",flexWrap:"wrap",gap:e.spacing(1)},stretch:{flexGrow:1,shrink:1},button:{borderRadius:"50px !important",minHeight:"40px !important",paddingLeft:"15px !important",paddingRight:"15px !important"}}}));var oX=LP()({root:{zIndex:"unset !important"},container:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",overflowY:"auto",overflowX:"hidden",maxHeight:"45vh"},content:{flex:1,display:"flex",flexDirection:"column",justifyContent:"stretch"},loader:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},beforeContent:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},afterContent:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}}}),aX=function(e){var t=e.variant,n=void 0===t?"contained":t,r=e.size,o=e.options,a=void 0===o?[]:o,i=e.disabled,s=void 0!==i&&i,l=e.throwError,u=void 0!==l&&l,c=e.fallback,d=e.onToggle,p=e.onAction,f=void 0===p?function(){return null}:p,h=e.payload,m=e.className,g=e.style,v=e.sx,b=e.deps,y=e.onLoadStart,x=e.onLoadEnd,w=e.keepMounted,k=e.BeforeContent,S=e.AfterContent,C=e.reloadSubject,E=W.useRef(null),I=NP(W.useState(null),2),N=I[0],T=I[1],R=NP(W.useState(0),2),_=R[0],$=R[1],M=oX().classes,O=rF(f),A=function(){$((function(e){return e+1})),y&&y()},L=function(e){$((function(e){return Math.max(e-1,0)})),x&&x(e)},P=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return[4,Promise.all(a.map((function(e){return CP(void 0,void 0,void 0,(function(){var t,n,r=e.isVisible,o=void 0===r?function(){return!0}:r,a=e.isDisabled,i=void 0===a?function(){return!1}:a,s=SP(e,["isVisible","isDisabled"]);return EP(this,(function(e){switch(e.label){case 0:return t=[kP({},s)],n={},[4,o(h)];case 1:return n.visible=e.sent(),[4,i(h)];case 2:return[2,kP.apply(void 0,t.concat([(n.disabled=e.sent(),n)]))]}}))}))})))];case 1:return e=t.sent(),[2,NP(e.filter((function(e){return e.visible})).filter((function(e){return!e.disabled})).filter((function(e){return!e.divider})).sort((function(e,t){var n=e.primary,r=t.primary;return("boolean"==typeof r?r?1:0:null!=r?r:0)-("boolean"==typeof n?n?1:0:null!=n?n:0)})),1)[0]||e[0]]}}))}))}),{onLoadStart:A,onLoadEnd:L}),4),D=P[0],F=P[1].loading,z=P[3].waitForResult,B=W.useMemo((function(){return F?"Loading":D?D.label:"Unset"}),[D,F]),j=Rz(O,{onLoadStart:A,onLoadEnd:L,throwError:u,fallback:c}).execute;return W.createElement(W.Fragment,null,W.createElement(_E,{className:kF(m,M.root),style:g,sx:v,variant:n,size:r,ref:E,disabled:s||!!_},W.createElement(sz,{size:r,variant:n,sx:{pl:2.5,pr:2.5},disabled:!D||!!_,onLoadStart:A,onLoadEnd:L,onClick:function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return D&&D.action?[4,O(D.action)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}},B),W.createElement(EE,{size:r,variant:n,disabled:!!_,"aria-haspopup":"menu",onClick:function(e){e.preventDefault(),e.stopPropagation(),T(E.current),d&&d(!0)}},W.createElement(gO,null))),W.createElement(Yk,{keepMounted:w,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},anchorEl:s?null:N,open:!!N&&!s,onClose:function(e){e.preventDefault(),e.stopPropagation(),T(null),$(0),d&&d(!1)},MenuListProps:{disablePadding:!0,sx:{pt:k?0:1,pb:S?0:1}}},W.createElement(Ii,{className:M.container},0!==_&&W.createElement(Ii,{className:M.loader},W.createElement(Dx,null)),W.createElement(Ii,{className:M.content,sx:{visibility:0!==_?"hidden":"visible"}},k&&W.createElement(Ii,{className:M.beforeContent},W.createElement(k,null)),a.map((function(e,t){var n=e.label,r=void 0===n?"unknown-label":n,o=e.action,a=void 0===o?"unknown-action":o,i=e.divider,s=e.icon,l=e.isDisabled,p=void 0===l?function(){return!1}:l,f=e.isVisible,m=void 0===f?function(){return!0}:f;return W.createElement(eF,{Loader:function(){return i?null:W.createElement(Yw,{sx:{visibility:"hidden",minWidth:225}},!!s&&W.createElement(Vx,null,W.createElement(s,null)),W.createElement(Kx,{variant:"inherit"},r))},throwError:u,fallback:c,key:t,onLoadStart:A,onLoadEnd:L,reloadSubject:C,deps:b,payload:h},(function(e){return CP(void 0,void 0,void 0,(function(){var t,n,o;return EP(this,(function(l){switch(l.label){case 0:return[4,KP(250)];case 1:return l.sent(),[4,p(e)];case 2:return t=l.sent(),[4,m(e)];case 3:return n=l.sent(),[4,z()];case 4:return(null==(o=l.sent())?void 0:o.action)===a?[2,null]:n?i?[2,W.createElement(Fw,{orientation:"horizontal"})]:[2,W.createElement(Yw,{disabled:t,onClick:(u=a,function(e){e.preventDefault(),e.stopPropagation(),j(u),T(null),d&&d(!1)}),sx:{minWidth:225}},!!s&&W.createElement(Vx,null,W.createElement(s,null)),W.createElement(Kx,{variant:"inherit"},r))]:[2,null]}var u}))}))}))})),S&&W.createElement(Ii,{className:M.afterContent},W.createElement(S,null))))))};!function(e){e.Link="breadcrumbs2-link",e.Button="breadcrumbs2-button",e.Fab="breadcrumbs2-fab",e.ActionGroup="breadcrumbs2-actiongroup",e.Component="breadcrumbs2-component"}(nX||(nX={}));var iX,sX=nX,lX=function(){return W.createElement(Dx,{size:20})},uX=function(){return W.createElement(W.Fragment,null)},cX=LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",paddingTop:"10px",paddingBottom:"10px",flexWrap:"wrap",gap:e.spacing(1)},link:{cursor:"pointer"},stretch:{flexGrow:1,shrink:1},disabled:{pointerEvents:"none",opacity:.5}}})),dX=function(e){var t=e.className,n=e.style,r=e.sx,o=e.onAction,a=void 0===o?function(){}:o,i=e.items,s=e.actions,l=e.payload,u=e.BeforeMenuContent,c=e.AfterMenuContent,d=e.onLoadStart,p=e.onLoadEnd,f=e.fallback,h=e.throwError,m=cX().classes,g=NP(DD(0),2),v=g[0],b=g[1],y=function(){b((function(e){return e+1})),d&&d()},x=function(e){b((function(e){return Math.max(e-1,0)})),p&&p(e)},w=rF((function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return v.current>1?[2]:[4,a(e)];case 1:return t.sent(),[2]}}))}))}));return W.createElement(Ii,{className:kF(m.root,t),style:n,sx:r},W.createElement(Ii,{className:m.stretch},W.createElement(eF,{payload:l,Loader:lX},(function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return[4,Promise.all(i.filter((function(e){var t=e.type;return t===sX.Link||t===sX.Component})).map((function(e){var t=e.action,n=e.label,r=e.type,o=e.element,a=e.compute,i=void 0===a?function(){return n}:a,s=e.isDisabled,u=void 0===s?function(){return!1}:s,c=e.isVisible,d=void 0===c?function(){return!0}:c,p=e.sx;return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(n){switch(n.label){case 0:return e={},[4,d(l)];case 1:return e.visible=n.sent(),[4,u(l)];case 2:return e.disabled=n.sent(),e.element=o,e.action=t,e.type=r,[4,i(l)];case 3:return[2,(e.label=n.sent(),e.sx=p,e)]}}))}))})))];case 1:return e=t.sent(),[2,W.createElement(gE,{className:m.stretch},e.filter((function(e){return e.type===sX.Link})).filter((function(e){return e.visible})).map((function(e,t){var n,r=e.action,o=void 0===r?"unknown-action":r,a=e.label,i=e.disabled,s=e.sx;return W.createElement(cT,{key:"".concat(o,"-").concat(t),className:kF(m.link,(n={},n[m.disabled]=i,n)),onClick:function(e){return e.preventDefault(),w(o),!1},color:"inherit",sx:s},a)})))]}}))}))})),W.createElement(eF,{payload:l,Loader:lX},(function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return[4,Promise.all(i.filter((function(e){return e.type===sX.Component})).map((function(e){var t=e.element,n=void 0===t?function(){return W.createElement(W.Fragment,null)}:t,r=e.isDisabled,o=void 0===r?function(){return!1}:r,a=e.isVisible,i=void 0===a?function(){return!0}:a;return CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(r){switch(r.label){case 0:return[4,o(l)];case 1:return e=r.sent(),t={element:function(){return W.createElement(n,{disabled:e,payload:l})}},[4,i(l)];case 2:return[2,(t.visible=r.sent(),t)]}}))}))})))];case 1:return e=t.sent(),[2,W.createElement(W.Fragment,null,e.filter((function(e){return e.visible})).map((function(e,t){var n=e.element;return W.createElement(n,{key:t})})))]}}))}))}))),W.createElement(eF,{payload:l,Loader:uX},(function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return[4,Promise.all(i.filter((function(e){return e.type===sX.ActionGroup})).map((function(e){var t=e.action,n=e.label,r=e.icon,o=e.outlined,a=void 0===o||o,i=e.actions,s=void 0===i?[]:i,u=e.isDisabled,c=void 0===u?function(){return!1}:u,d=e.isVisible,p=void 0===d?function(){return!0}:d,f=e.sx;return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(o){switch(o.label){case 0:return e={},[4,p(l)];case 1:return e.visible=o.sent(),[4,c(l)];case 2:return[2,(e.disabled=o.sent(),e.actions=s.map((function(e){var t=e.isVisible,n=void 0===t?function(){return!0}:t,r=e.isDisabled,o=void 0===r?function(){return!1}:r,a=SP(e,["isVisible","isDisabled"]);return kP(kP({},a),{isVisible:function(){return n(l)},isDisabled:function(){return o(l)}})})),e.icon=r,e.outlined=a,e.action=t,e.label=n,e.sx=f,e)]}}))}))})))];case 1:return e=t.sent(),[2,W.createElement(W.Fragment,null,e.filter((function(e){return e.visible})).map((function(e,t){var n=e.action,r=void 0===n?"unknown-action":n,o=e.disabled,a=e.actions,i=e.outlined,s=e.sx;return W.createElement(aX,{key:"".concat(r,"-").concat(t),variant:i?"outlined":"contained",payload:l,options:a,disabled:o,onAction:w,BeforeContent:u,AfterContent:c,onLoadStart:y,onLoadEnd:x,fallback:f,throwError:h,sx:s})})))]}}))}))})),W.createElement(eF,{payload:l,Loader:uX},(function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return[4,Promise.all(i.filter((function(e){return e.type===sX.Button})).map((function(e){var t=e.action,n=e.label,r=e.icon,o=e.isDisabled,a=void 0===o?function(){return!1}:o,i=e.isVisible,s=void 0===i?function(){return!0}:i,u=e.sx,c=e.buttonColor,d=e.buttonVariant;return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(o){switch(o.label){case 0:return e={},[4,s(l)];case 1:return e.visible=o.sent(),[4,a(l)];case 2:return[2,(e.disabled=o.sent(),e.icon=r,e.action=t,e.label=n,e.sx=u,e.buttonColor=c,e.buttonVariant=d,e)]}}))}))})))];case 1:return e=t.sent(),[2,W.createElement(W.Fragment,null,e.filter((function(e){return e.visible})).map((function(e,t){var n=e.action,r=void 0===n?"unknown-action":n,o=e.label,a=e.buttonColor,i=e.buttonVariant,s=void 0===i?"contained":i,l=e.disabled,u=e.icon,c=e.sx;return W.createElement(sz,{key:"".concat(r,"-").concat(t),color:a,variant:s,startIcon:u&&W.createElement(u,null),disabled:l,onClick:function(){return w(r)},onLoadStart:y,onLoadEnd:x,fallback:f,throwError:h,sx:c},o)})))]}}))}))})),W.createElement(eF,{payload:l,Loader:uX},(function(){return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return[4,Promise.all(i.filter((function(e){return e.type===sX.Fab})).map((function(e){var t=e.action,n=e.icon,r=e.isDisabled,o=void 0===r?function(){return!1}:r,a=e.isVisible,i=void 0===a?function(){return!0}:a,s=e.label,u=e.sx,c=e.fabColor,d=void 0===c?"primary":c;return CP(void 0,void 0,void 0,(function(){var e;return EP(this,(function(r){switch(r.label){case 0:return e={},[4,i(l)];case 1:return e.visible=r.sent(),[4,o(l)];case 2:return[2,(e.disabled=r.sent(),e.icon=n,e.action=t,e.label=s,e.sx=u,e.fabColor=d,e)]}}))}))})))];case 1:return e=t.sent(),[2,W.createElement(W.Fragment,null,e.filter((function(e){return e.visible})).map((function(e,t){var n=e.action,r=void 0===n?"unknown-action":n,o=e.label,a=e.fabColor,i=e.disabled,s=e.icon,l=e.sx;return W.createElement(H_,{title:o},W.createElement(HI,{key:"".concat(r,"-").concat(t),size:"small",color:a,disabled:i,onClick:function(){return w(r)},sx:l},s&&W.createElement(s,null)))})))]}}))}))})),!!(null==s?void 0:s.length)&&W.createElement(bB,{payload:l,options:s.map((function(e){var t=e.isVisible,n=void 0===t?function(){return!0}:t,r=e.isDisabled,o=void 0===r?function(){return!1}:r,a=SP(e,["isVisible","isDisabled"]);return kP(kP({},a),{isVisible:function(){return n(l)},isDisabled:function(){return o(l)}})})),onAction:w,BeforeContent:u,AfterContent:c,onLoadStart:y,onLoadEnd:x,fallback:f,throwError:h}))};!function(e){function t(t){var n=e.call(this,t)||this;return n.componentDidMount=function(){var e;n.unReload=null===(e=n.props.reloadSubject)||void 0===e?void 0:e.subscribe((function(){n.setState({hasError:!1})}))},n.componentWillUnmount=function(){n.unHistory&&n.unHistory(),n.unReload&&n.unReload()},n.componentDidUpdate=function(){var e;n.state.hasError&&(n.unHistory=null===(e=n.props.history)||void 0===e?void 0:e.listen((function(){n.setState({hasError:!1}),n.unHistory&&n.unHistory()})))},n.componentDidCatch=function(e,t){n.props.onError&&n.props.onError(e,t)},n.render=function(){return n.state.hasError?null:n.props.children},n.state={hasError:!1},n}wP(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}}}(W.Component),LP()((function(e){return{root:{color:e.palette.action.active,cursor:"pointer",transition:"color 500ms",borderRadius:"50%",padding:0},input:{visibility:"hidden",height:0,width:0,maxHeight:0,maxWidth:0}}})),function(e){e.Initial="initial-state",e.Active="active-state",e.Abort="abort-state",e.Succeed="succeed-state",e.Closed="closed-state"}(iX||(iX={}));var pX,fX,hX,mX=iX,gX=LP()((function(e){var t=Sn(pX||(pX=_P(["\n        0% {\n            transform: scale(1,1);\n        }\n        100% {\n            transform: scale(0.9, 1.1) translateY(-200px);\n        }\n    "],["\n        0% {\n            transform: scale(1,1);\n        }\n        100% {\n            transform: scale(0.9, 1.1) translateY(-200px);\n        }\n    "]))),n=Sn(fX||(fX=_P(["\n        0% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        10% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        20% {\n            transform: scale(1,1) translateY(-7px);\n        }\n        30% {\n            transform: scale(1,1) translateY(0);\n        }\n        40% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        50% {\n            transform: scale(1,1) translateY(-7px);\n        }\n        60% {\n            transform: scale(1,1) translateY(0);\n        }\n        70% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        80% {\n            transform: scale(1,1) translateY(-7px);\n        }\n        90% {\n            transform: scale(1,1) translateY(0);\n        }\n        100% {\n            transform: scale(1,1) translateY(0);\n        }\n    "],["\n        0% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        10% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        20% {\n            transform: scale(1,1) translateY(-7px);\n        }\n        30% {\n            transform: scale(1,1) translateY(0);\n        }\n        40% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        50% {\n            transform: scale(1,1) translateY(-7px);\n        }\n        60% {\n            transform: scale(1,1) translateY(0);\n        }\n        70% {\n            transform: scale(1.05, 0.95) translateY(0);\n        }\n        80% {\n            transform: scale(1,1) translateY(-7px);\n        }\n        90% {\n            transform: scale(1,1) translateY(0);\n        }\n        100% {\n            transform: scale(1,1) translateY(0);\n        }\n    "]))),r=Sn(hX||(hX=_P(["\n        0% {\n            opacity: 1;\n            transform: scale(0.9, 1.1) translateY(-200px);\n        }\n        100% {\n            opacity: 0;\n            transform: scale(0.9, 1.1) translateY(-400px);\n        }\n    "],["\n        0% {\n            opacity: 1;\n            transform: scale(0.9, 1.1) translateY(-200px);\n        }\n        100% {\n            opacity: 0;\n            transform: scale(0.9, 1.1) translateY(-400px);\n        }\n    "])));return{initial:{},succeed:{animation:"".concat(r," 500ms ").concat(e.transitions.easing.easeInOut),transform:"scale(0.9, 1.1) translateY(-400px)",opacity:0},active:{animation:"".concat(t," 5s ").concat(e.transitions.easing.easeInOut),transform:"scale(0.9, 1.1) translateY(-200px)"},abort:{animation:"".concat(n," 500ms ").concat(e.transitions.easing.easeInOut)},closed:{visibility:"hidden"}}})),vX=function(e){var t=e.defaultState,n=void 0===t?mX.Initial:t,r=e.onAnimationEnd,o=e.onAnimationStart,a=e.className,i=e.children,s=e.stateSubject,l=SP(e,["defaultState","onAnimationEnd","onAnimationStart","className","children","stateSubject"]),u=gX().classes,c=W.useMemo((function(){var e;return(e={})[mX.Initial]=u.initial,e[mX.Active]=u.active,e[mX.Abort]=u.abort,e[mX.Succeed]=u.succeed,e[mX.Closed]=u.closed,e}),[]),d=NP(DD(n),2),p=d[0],f=d[1];W.useEffect((function(){return s.subscribe((function(e){return f(e)}))}),[]);var h=W.useMemo((function(){return c[p.current]}),[p.current]);return W.createElement(Jz,kP({className:kF(a,h),onAnimationEnd:function(e){r&&r(p.current,e)},onAnimationStart:function(e){o&&o(p.current,e)}},l),i)};LP()((function(e,t){var n=t.size;return{root:{display:"inline-flex",alignItems:"stretch",justifyContent:"stretch",height:n,width:n},container:{position:"relative",height:n,width:n,flex:1},icon:{position:"absolute",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",top:0,left:0,right:0,bottom:0,zIndex:1},spinner:{position:"absolute",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:0}}})),LP()({root:{display:"inline-flex",alignItems:"center",justifyContent:"center","& > *":{pointerEvents:"none"}},disabled:{opacity:.5},active:{cursor:"pointer"}}),LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},container:{position:"static",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",backgroundColor:e.palette.background.paper,padding:20,borderRadius:5},title:{display:"flex",justifyContent:"stretch",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},stretch:{flex:1},content:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch",maxWidth:"100%",overflow:"hidden","& > * > * > * > .MuiPaper-root":{background:"transparent",boxShadow:"none",border:"0",borderRadius:"0","& > * > *":{background:"transparent"}}},submit:{paddingTop:15},disabled:{opacity:.5,pointerEvents:"none"}}})),LP()({root:{width:"100%",height:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *:nth-of-type(1)":{flex:1}}});var bX=NP(CD(),2);bX[0],bX[1];var yX=NP(CD(),2),xX=yX[0],wX=yX[1],kX=function(e){var t=e.children,n=e.delay,r=void 0===n?5e3:n,o=NP(W.useState([]),2),a=o[0],i=o[1],s=W.useCallback((function(){return a.length?a[0]:null}),[a]),l=W.useCallback((function(){var e=a.length;e>0&&i(a.slice(1,e))}),[a]),u=s();return W.createElement(W.Fragment,null,!!u&&W.createElement(A_,{open:!0,key:u.key,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:r,onClose:l,message:u.message}),W.createElement(xX,{payload:function(e){return i((function(t){return TP(TP([],NP(t),!1),[{key:QD(),message:e}],!1)}))}},t))};LP()((function(e){return{root:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1),transition:"opacity 500ms"},hidden:{opacity:0},visible:{opacity:1}}})),LP()({root:{position:"relative",width:"100%"},inner:{position:"absolute",top:0,left:0}});var SX,CX,EX=LP()({root:{display:"flex",overflow:"hidden"}}),IX=function(e){var t=e.className,n=e.onLoadStart,r=e.onLoadEnd,o=e.handler,a=e.fallback,i=e.throwError,s=e.size,l=e.sx,u=e.variant,c=e.value,d=SP(e,["className","onLoadStart","onLoadEnd","handler","fallback","throwError","size","sx","variant","value"]),p=EX().classes;return W.useEffect((function(){o&&CP(void 0,void 0,void 0,(function(){var e,t;return EP(this,(function(s){switch(s.label){case 0:e=!0,s.label=1;case 1:return s.trys.push([1,3,4,5]),n&&n(),[4,o()];case 2:return s.sent(),[3,5];case 3:if(t=s.sent(),e=!1,i)throw t;return a&&a(t),[3,5];case 4:return r&&r(e),[7];case 5:return[2]}}))}))}),[]),W.createElement(Ii,kP({className:kF(t,p.root),sx:kP({alignItems:"center",justifyContent:"center"},l)},d),W.createElement(Dx,{variant:u,value:c,size:s}))};IX.createLoader=function(e){return function(){return W.createElement(IX,{size:e})}},LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},container:{position:"static",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",backgroundColor:e.palette.background.paper,padding:20,borderRadius:5},title:{display:"flex",justifyContent:"stretch",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},content:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch",maxWidth:"100%",overflowX:"hidden",overflowY:"auto","& > *":{flex:1}},submit:{paddingTop:15},disabled:{opacity:.5,pointerEvents:"none"},stretch:{flex:1}}})),function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n._data=t,n.next=function(t){return CP(n,void 0,void 0,(function(){return EP(this,(function(n){switch(n.label){case 0:return this._data=t,[4,e.prototype.next.call(this,t)];case 1:return n.sent(),[2]}}))}))},n.toObserver=function(){var e,t=new sD((function(){return e()}));return t[aD]((function(){n._data&&t.emit(n._data)})),e=n.subscribe(t.emit),t},n}wP(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0})}(uD),LP()({hidden:{display:"none"}}),LP()((function(e){return{root:{position:"relative",overflow:"hidden",width:"100%",minHeight:225,border:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),borderRadius:"4px"},container:{position:"absolute",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch","&:hover":{background:So(e.palette.background.paper,.2)}},content:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:15,padding:e.spacing(1),color:e.palette.action.active},dragZone:{position:"absolute",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:2},hidden:{display:"none"},icon:{fontSize:48},dragActive:{background:So(e.palette.background.paper,.2)},disabled:{pointerEvents:"none",opacity:.5}}})),LP()((function(e){return{root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",overflow:"hidden"},container:{flex:1},dropModal:{position:"absolute",background:So(e.palette.background.default,.5),top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:15,padding:e.spacing(1),color:e.palette.action.active},icon:{fontSize:48}}})),IX.createLoader(24),LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},container:{position:"static",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5},content:{flex:1,overflowY:"auto",paddingTop:e.spacing(1)},title:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"}}})),LP()({root:{position:"relative",overflow:"hidden"},container:{position:"absolute",top:0,left:0,minHeight:"100%",minWidth:"100%","& > *:nth-of-type(1)":{transformOrigin:"top left"}},stretch:{display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *:nth-of-type(1)":{flex:1}},center:{display:"flex",alignItems:"center",justifyContent:"center"}}),LP()((function(){return{root:{pointerEvents:"none"},none:{display:"none"},visible:{animation:"".concat(Sn(SX||(SX=_P(["\n            0% {\n                opacity: 0;\n            }\n            100% {\n                opacity: 1;\n            }\n        "],["\n            0% {\n                opacity: 0;\n            }\n            100% {\n                opacity: 1;\n            }\n        "])))," 500ms ease-in-out"),opacity:1},hidden:{animation:"".concat(Sn(CX||(CX=_P(["\n            0% {\n                opacity: 1;\n            }\n            100% {\n                opacity: 0;\n            }\n        "],["\n            0% {\n                opacity: 1;\n            }\n            100% {\n                opacity: 0;\n            }\n        "])))," 500ms ease-in-out"),opacity:0}}})),LP()({root:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch"},container:{flex:1},bottomFade:{position:"absolute",pointerEvents:"none",height:75,bottom:0,right:0,left:0},rightFade:{position:"absolute",pointerEvents:"none",width:75,bottom:0,right:0,top:0}}),LP()({root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",height:"100%",width:"100%"},container:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flex:1},content:{position:"relative",overflow:"auto !important",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},flex:1}});var NX=48;LP()((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"},container:{position:"relative",overflow:"hidden",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",width:"100%",flex:1},header:{position:"absolute",top:0,left:0,marginLeft:0,height:"".concat(NX,"px"),width:"100%"},headerBg:{background:"dark"===e.palette.mode?Co(e.palette.background.paper,.06):So("#000",.05)},loader:{position:"absolute",top:44,height:"".concat(4,"px"),zIndex:2,left:0,width:"100%"},content:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch",overflowX:"hidden","& > *:nth-of-type(1)":{flex:1}},contentScroll:{overflowY:"auto"},adjust:{minHeight:NX,maxHeight:NX},tabsRoot:{minHeight:NX,height:NX,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:NX,height:NX},tabSelected:{},indicator:{height:"4px",background:"".concat(e.palette.primary.main," !important")}}})),LP()({root:{width:"100%"}}),FP.Text,FP.Time,FP.Date,FP.Items,FP.Combo,FP.Checkbox,FP.Choose,FP.Complete,FP.Radio,FP.YesNo,FP.Switch,FP.Component,FP.Tree,FP.Phony,LP()((function(e){return{root:{position:"relative",overflow:"hidden",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",width:"100%",minHeight:365},header:{position:"absolute",overflowX:"auto",top:0,left:0,height:"".concat(65,"px"),background:"dark"===e.palette.mode?Co(e.palette.background.paper,.06):So("#000",.05),padding:"0px !important",width:"100%"},firstStep:{paddingLeft:e.spacing(3)},lastStep:{paddingRight:e.spacing(3)},loader:{position:"absolute",top:61,height:"4px",zIndex:2,left:0,width:"100%"},content:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch",overflowX:"hidden","& > *:nth-of-type(1)":{flex:1}},contentScroll:{overflowY:"auto"},adjust:{minHeight:65,maxHeight:65}}})),LP()((function(e){return{root:{display:"flex",justifyContent:"stretch",alignItems:"center",flexDirection:"row",padding:e.spacing(1),gap:e.spacing(1)},stretch:{flex:1}}}));var TX,RX,_X=LP()({root:{display:"flex",height:"100%",width:"100%",justifyContent:"stretch",alignItems:"stretch",flexDirection:"column"},container:{flex:1}});W.forwardRef((function(e,t){var n=e.className,r=e.Navigation,o=e.children,a=SP(e,["className","Navigation","children"]),i=_X().classes;return W.createElement(Ii,kP({ref:t,className:kF(n,i.root)},a),W.createElement("div",{className:i.container},o),r)})),LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},container:{position:"static",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",backgroundColor:e.palette.background.paper,padding:20,borderRadius:5},title:{display:"flex",justifyContent:"stretch",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},content:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch",maxWidth:"100%",overflow:"hidden","& > *":{flex:1}},inner:{minHeight:"100% !important",maxHeight:"100% !important",border:"unset !important"},submit:{paddingTop:15},disabled:{opacity:.5,pointerEvents:"none"},stretch:{flex:1}}})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=null,t}wP(t,e),t.prototype.componentWillUnmount=function(){this.element&&document.body.removeChild(this.element),this.element=null},t.prototype.render=function(){return this.element||(this.element=document.createElement("div"),document.body.appendChild(this.element)),vy.createPortal(this.props.children,this.element)}}(W.Component),W.createContext(null),LP()((function(e){return{label:{display:"flex",cursor:"pointer",color:e.palette.primary.main},stretch:{flex:1}}})),LP()((function(e,t){var n=t.background,r=void 0===n?e.palette.background.default:n;return{key:{borderRadius:"4px","&:hover":{background:So(e.palette.getContrastText(r),.02)}},keyBlack:{background:So(e.palette.getContrastText(r),.05)},keyWhite:{backgroundColor:r}}})),LP()((function(e,t){var n=t.background,r=void 0===n?e.palette.background.default:n;return{group:{borderRadius:"4px"},groupKey:{textDecoration:"underline",height:"100%"},groupBlack:{background:So(e.palette.getContrastText(r),.05)},groupWrite:{backgroundColor:r}}})),LP()({root:{position:"relative",maxWidth:"100%"},beforeSearch:{width:"calc(100% - 10px)",margin:"5px",marginBottom:"0px",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},afterSearch:{width:"calc(100% - 10px)",margin:"5px",marginTop:"0px",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}}}),LP()((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:e.palette.background.default,height:"100%",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:15,padding:15},container:{minWidth:375,maxWidth:375,padding:15},reveal:{width:"unset !important"}}})),W.createElement(W.Fragment,null,"It looks like this app finished with uncaught exception",W.createElement("br",null),"Please reload this page and try again"),LP()((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:e.palette.background.default,height:"100%",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:15,padding:15},container:{minWidth:375,maxWidth:375,padding:15},reveal:{width:"unset !important"},beforeSubmit:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1},marginBottom:"-10px"},afterSubmit:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1},marginTop:"-10px"}}})),FP.Text,FP.Text;var $X=W.createContext(null),MX=W.createContext(null),OX=W.createContext(null),AX=W.createContext(null);LP()({root:{display:"flex",alignItems:"center",justifyContent:"stretch",maxWidth:"100%",overflowY:"auto",gap:15},operations:{flex:1},disabled:{pointerEvents:"none",opacity:.5}});var LX=LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",minHeight:225},container:{flex:1,position:"relative",overflow:"hidden",display:"flex",alignItems:"stretch",justifyContent:"stretch",paddingTop:5,paddingBottom:5,marginBottom:5,paddingLeft:15,paddingRight:15},header:{position:"absolute",top:0,left:0,right:0,height:45,width:"100%",background:Co(e.palette.background.paper,.06),display:"flex",alignItems:"center",justifyContent:"stretch"},content:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch"},inner:{display:"grid",gridRowGap:"10px",gridColumnGap:"10px",paddingTop:45,paddingBottom:15},innerPhone:{gridTemplateColumns:"1fr"},innerTablet:{gridTemplateColumns:"1fr 1fr"},innerDesktop:{gridTemplateColumns:"1fr 1fr 1fr"},media:{width:"100%"},mediaPhone:{gridColumnStart:1,gridColumnEnd:2},mediaTablet:{gridColumnStart:1,gridColumnEnd:3},mediaDesktop:{gridColumnStart:1,gridColumnEnd:4},textWrap:{whiteSpace:"break-spaces",overflowWrap:"break-word",textOverflow:"ellipsis",fontWeight:"bold"},titleLabel:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"calc(100% - 80px)"},opacity:{opacity:.6},stretch:{flex:1}}}));W.forwardRef((function(e,t){var n,r,o=e.item,a=e.className,i=e.style,s=e.sx,l=SP(e,["item","className","style","sx"]),u=LX().classes,c=W.useContext($X),d=c.state,p=c.action,f=W.useContext(OX),h=W.useContext(MX),m=h.cardActions,g=h.pickFields,v=h.fallback,b=h.onLoadStart,y=h.onLoadEnd,x=h.formatMedia,w=void 0===x?function(){}:x,k=h.formatKey,S=void 0===k?function(e){return t=String(e),n=NP(t.split("_")),r=n[0],o=n.slice(1),TP(["".concat(r.charAt(0).toUpperCase()).concat(r.slice(1))],NP(o),!1).join(" ");var t,n,r,o}:k,C=h.formatValue,E=void 0===C?function(e,t){return null==(n=t)||void 0===n||""===n||"null"===n?"":"boolean"==typeof n?String(n):n.toString().startsWith("http")?W.createElement("a",{href:n.toString(),target:"_blank",rel:"noreferrer",style:{wordBreak:"break-all"}},n):W.isValidElement(n)?n:WP(n)?W.createElement("pre",null,JSON.stringify(n,null,2)):n;var n}:C,I=h.formatCardLabel,N=void 0===I?function(e){var t=e.id;return"Id: ".concat(t)}:I,T=h.onCardClick,R=void 0===T?function(){}:T,_=h.onAction,$=void 0===_?function(){}:_,M=h.throwError,O=void 0!==M&&M,A=YB(),L=A.isPhone,P=A.isTablet,D=A.isDesktop,F=W.useContext(AX).toggleSelection,z=W.useMemo((function(){var e=Object.entries(o);return g&&e.filter((function(e){var t=NP(e,1)[0];return g.includes(t)})),e}),[g]),B=W.useMemo((function(){return w(o)}),[o]),j=W.useCallback((function(){d.menuOpened||R(o)}),[d,o,R]);return W.createElement(Ii,kP({ref:t,className:kF(a,u.root),style:i,sx:s},l),W.createElement(uk,{className:kF(u.container)},W.createElement(Ii,{className:u.header},W.createElement(fI,{onClick:function(){return F(o.id)},checked:d.selectedIds.has(o.id)}),W.createElement(Kx,{className:u.titleLabel,variant:"body1"},N(o)),W.createElement("div",{className:u.stretch}),!!(null==m?void 0:m.length)&&W.createElement(bB,{transparent:!0,options:m.map((function(e){var t=e.isDisabled,n=void 0===t?function(){return!1}:t,r=e.isVisible,a=void 0===r?function(){return!0}:r,i=SP(e,["isDisabled","isVisible"]);return kP(kP({},i),{isVisible:function(){return a(o,f)},isDisabled:function(){return n(o,f)}})})),onToggle:p.setMenuOpened,onAction:function(e){return $(e,o)},fallback:v,payload:o,onLoadStart:b,onLoadEnd:y,throwError:O,sx:{color:"inherit"},deps:[f]})),W.createElement(Ii,{className:u.content,onClick:j},W.createElement(Ii,{className:kF(u.inner,(n={},n[u.innerPhone]=L,n[u.innerTablet]=P,n[u.innerDesktop]=D,n))},!!B&&W.createElement(Ii,{className:kF(u.media,(r={},r[u.mediaPhone]=L,r[u.mediaTablet]=P,r[u.mediaDesktop]=D,r))},B),z.map((function(e,t){var n=NP(e,2),r=n[0],o=n[1];return W.createElement(Y_,{className:u.textWrap,key:"".concat(r,"-").concat(t)},W.createElement(Kx,{className:u.opacity,variant:"caption"},S(r)),W.createElement(Kx,{variant:"body1"},E(r,o)))}))))))})),LP()({root:{display:"flex",alignItems:"center",gap:10,minHeight:35,maxHeight:35}}),LP()({root:{position:"relative",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",width:"100%"},container:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",gap:5},content:{flex:1},placeholder:{display:"flex",justifyContent:"center"}});var PX,DX,FX,zX=(TX=NP(CD(),2))[0],BX=TX[1],jX=IX.createLoader(12),WX=LP()((function(e){return{header:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)},row:{display:"flex",alignItems:"center",justifyContent:"space-between"},chip:{maxWidth:150}}})),VX=function(e){var t=e.id,n=e.payload,r=e.column,o=e.columns,a=e.data,i=e.disabled,s=e.reloadSubject,l=e.withGoBack,u=e.withHeaderTooltip,c=e.label,d=void 0===c?r:c,p=e.onChangeColumn,f=e.onCardLabelClick,h=e.fallback,m=e.onLoadEnd,g=e.onLoadStart,v=e.throwError,b=WX().classes,y=BX(),x=JD(),w=x.reloadTrigger,k=x.doReload,S=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,y(t,(function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return"function"!=typeof d?[3,2]:[4,d(t,a,n)];case 1:return[2,e.sent()];case 2:return[2,d]}}))}))}))];case 1:return[2,e.sent()]}}))}))}),{onLoadStart:g,onLoadEnd:m,fallback:h,throwError:v,deps:[a,r,w]}),1),C=S[0];W.useEffect((function(){return s.subscribe(k)}),[]);var E=NP(W.useState(null),2),I=E[0],N=E[1],T=NP(W.useState(null),2),R=T[0],_=T[1],$=W.useMemo((function(){var e=o.findIndex((function(e){return e.column===r}));return o.filter((function(t,n){return n<e})).reverse()}),[r]),M=W.useMemo((function(){var e=o.findIndex((function(e){return e.column===r}));return o.filter((function(t,n){return n>e}))}),[r]),O=W.useCallback((function(){return null===C?W.createElement(jX,null):u?W.createElement(H_,{title:C},W.createElement(uC,{className:b.chip,color:"primary",onClick:f?function(){return f(t,a,n)}:void 0,label:C})):W.createElement(uC,{className:b.chip,color:"primary",onClick:f?function(){return f(t,a,n)}:void 0,label:C})}),[C]);return W.createElement(Ii,{className:b.header},W.createElement(Ii,{className:b.row},W.createElement(qS,{onClick:function(e){var t=e.currentTarget;N(t),_(null)},disabled:!l||!$.length||i,size:"small"},W.createElement(sA,null)),W.createElement(Yk,{anchorEl:I,open:!!I,onClose:function(){return N(null)}},$.map((function(e,r){return W.createElement(Yw,{key:"".concat(e,"-").concat(r),onClick:function(){p(t,e.column,a,n),N(null)}},e.label||e.column)}))),O(),W.createElement(qS,{onClick:function(e){var t=e.currentTarget;N(null),_(t)},disabled:!M.length||i,size:"small"},W.createElement(fA,null)),W.createElement(Yk,{anchorEl:R,open:!!R,onClose:function(){return _(null)}},M.map((function(e,r){return W.createElement(Yw,{key:"".concat(e,"-").concat(r),onClick:function(){p(t,e.column,a,n),_(null)}},e.label||e.column)})))))},HX=LP()((function(e){return{table:{display:"grid",gridTemplateColumns:"fit-content(130px) 1fr",maxWidth:"255px","& > *":{display:"flex",alignItems:"center",justifyContent:"stretch",whiteSpace:"nowrap",padding:5,borderBottom:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),"& > *":{flex:1},overflow:"hidden"}},row:{display:"flex",alignItems:"center",justifyContent:"space-between"},noBorder:{border:"none !important"},bold:{fontWeight:"bold !important"},link:{color:e.palette.primary.main,cursor:"pointer",textDecoration:"underline"}}})),UX=function(e){var t=e.id,n=e.data,r=e.payload,o=e.rows,a=HX().classes;return W.createElement(Ii,{className:a.table},o.map((function(e,i){var s,l,u,c,d,p=kF(((s={})[a.noBorder]=i===o.length-1,s));return W.createElement(W.Fragment,null,W.createElement(Kx,{className:p,paddingRight:"20px",variant:"body2"},e.label),(u=p,c=(l=e).value,(d=l.click)?W.createElement(Kx,{className:kF(a.link,u),onClick:function(){return d(t,n,r)}},c):W.createElement(Kx,{className:kF(a.bold,u)},c)))})))},GX=(RX=NP(CD(),2))[0],qX=RX[1],YX=LP()((function(e){return{container:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",flex:1},content:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden",paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),maxWidth:255,flex:1}}})),KX=function(e){var t=e.id,n=e.column,r=e.label,o=e.columns,a=e.reloadSubject,i=e.rows,s=e.withGoBack,l=e.withHeaderTooltip,u=e.data,c=e.fallback,d=e.onLoadEnd,p=e.onLoadStart,f=e.throwError,h=e.disabled,m=e.onChangeColumn,g=e.onCardLabelClick,v=e.payload,b=e.AfterCardContent,y=YX().classes,x=JD(),w=x.reloadTrigger,k=x.doReload,S=qX(),C=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,S(t,u,i)];case 1:return[2,e.sent()]}}))}))}),{onLoadStart:p,onLoadEnd:d,fallback:c,throwError:f,deps:[u,n,w]}),1),E=C[0];return W.useEffect((function(){return a.subscribe(k)}),[]),W.createElement(uk,{className:y.container},W.createElement(Ii,{className:y.content},E?W.createElement(W.Fragment,null,W.createElement(VX,{reloadSubject:a,withGoBack:s,withHeaderTooltip:l,id:t,column:n,data:u,columns:o,disabled:h,onChangeColumn:m,onCardLabelClick:g,onLoadStart:p,onLoadEnd:d,fallback:c,throwError:f,payload:v,label:r}),W.createElement(UX,{id:t,payload:v,rows:E,data:u}),b&&W.createElement(b,{id:t,data:u,payload:v})):W.createElement(IX,{sx:{flex:1},size:48})))},XX=LP()({root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},stretch:{flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},adjust:{maxHeight:10,minHeight:10}}),QX=W.forwardRef((function(e,t){var n=e.className,r=e.style,o=e.disabled,a=e.id,i=e.onDrag,s=SP(e,["className","style","disabled","id","onDrag"]),l=XX().classes;return W.createElement(Ii,{className:kF(l.root,n),style:r,ref:t},W.createElement("div",{className:l.stretch,"data-cardid":a,onDrag:function(){o||i(a)},draggable:o?"false":"true"},W.createElement(KX,kP({id:a,disabled:o},s))),W.createElement("div",{className:l.adjust}))})),ZX=Symbol("never"),JX=function(e,t){var n=void 0===t?{}:t,r=n.key,o=void 0===r?function(){return ZX}:r,a=n.timeout,i=void 0===a?250:a,s=Pz(o,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return{value:e.apply(void 0,TP([],NP(t),!1)),ttl:Date.now()}})),l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Date.now(),r=s.apply(void 0,TP([],NP(e),!1)),a=r.value;if(n-r.ttl>i){var u=o(e);return s.clear(u),l.apply(void 0,TP([],NP(e),!1))}return a};return l.clear=function(e){s.clear(e)},l.gc=function(){var e,t,n=s[Lz]();try{for(var r=IP(n.entries()),o=r.next();!o.done;o=r.next()){var a=NP(o.value,2),l=a[0],u=a[1];Date.now()-u.current.ttl>i&&s.clear(l)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},l.add=function(e,t){return s.add(e,{value:t,ttl:Date.now()})},l.remove=s.remove,l},eQ=LP()((function(e){var t;return{root:(t={display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",minHeight:"100%",width:"100%"},t["& .".concat(bG)]={"& > div > div":{marginBottom:e.spacing(2)}},t),container:{position:"relative",flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flex:1,display:"flex"},group:{position:"relative",overflow:"hidden",display:"flex",alignItems:"stretch",justifyContent:"stretch",maxWidth:"276px",minWidth:"276px",marginRight:10,borderRadius:"6px"},groupWrapper:{flex:1,padding:10,marginTop:45},groupHeader:{position:"absolute",paddingLeft:12,top:0,left:0,height:"45px",width:"100%",background:e.palette.background.paper,display:"flex",alignItems:"center",justifyContent:"stretch",gap:8},activeGroup:{background:"".concat(e.palette.primary.main," !important")},list:{flex:1,minWidth:"256px",height:"100%"},disabled:{pointerEvents:"none",cursor:"not-allowed"},divider:{padding:"2.5px",marginRight:"15px",marginLeft:"5px",background:e.palette.action.hover}}})),tQ=function(e,t){var n,r=e.reloadSubject,o=e.withUpdateOrder,a=e.columns,i=e.className,s=e.payload,l=void 0===s?{}:s,u=e.disabled,c=void 0!==u&&u,d=e.items,p=e.style,f=e.sx,h=e.deps,m=void 0===h?[]:h,g=e.withGoBack,v=void 0!==g&&g,b=e.withHeaderTooltip,y=void 0!==b&&b,x=e.filterFn,w=void 0===x?function(){return!0}:x,k=e.cardLabel,S=void 0===k?function(e){return e}:k,C=e.bufferSize,E=void 0===C?15:C,I=e.minRowHeight,N=void 0===I?125:I,T=e.rowTtl,R=void 0===T?500:T,_=e.AfterCardContent,$=e.AfterColumnTitle,M=e.BeforeColumnTitle,O=e.onDataRequest,A=e.onChangeColumn,L=e.onCardLabelClick,P=e.onLoadStart,D=e.onLoadEnd,F=e.fallback,z=e.throwError,B=BD(r),j=mz(),V=j.elementRef,H=j.size,U=NP(W.useState(null),2),G=U[0],q=U[1],Y=W.useRef(null),K=eQ().classes,X=qa(),Q=zD(l),Z=zD(a),J=W.useMemo((function(){return Z.filter((function(e){return!e.divider}))}),[Z]),ee=W.useMemo((function(){return JX((function(e,t,n){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(r){switch(r.label){case 0:return[4,Promise.all(n.map((function(n){return CP(void 0,void 0,void 0,(function(){var r,o,a,i,s=n.value,l=n.visible,u=SP(n,["value","visible"]);return EP(this,(function(n){switch(n.label){case 0:return"function"!=typeof l?[3,2]:[4,l(e,t,Q)];case 1:return o=n.sent(),[3,3];case 2:o=void 0===l||!!l,n.label=3;case 3:return(r=o)?"function"!=typeof s?[3,5]:[4,s(e,t,Q)]:[3,7];case 4:return i=n.sent(),[3,6];case 5:i=s,n.label=6;case 6:return a=i,[3,8];case 7:a=void 0,n.label=8;case 8:return[2,kP({visible:r,value:a},u)]}}))}))})))];case 1:return[2,r.sent().filter((function(e){return e.visible}))]}}))}))}),{key:function(e){return NP(e,1)[0]},timeout:R})}),[]),te=W.useMemo((function(){return JX((function(e,t){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,t()];case 1:return[2,e.sent()]}}))}))}),{key:function(e){return NP(e,1)[0]},timeout:R})}),[]);W.useEffect((function(){O&&O(!0)}),[]),W.useEffect((function(){return gD.fromEvent("visibilitychange").connect((function(){"visible"===document.visibilityState&&O&&O(!1)}))}),[]),W.useEffect((function(){return gD.fromInterval(45e3).connect((function(){ee.gc(),te.gc()}))}),[]),W.useEffect((function(){return B.subscribe((function(){ee.clear(),te.clear()}))}),[]);var ne=W.useMemo((function(){var e,t,n=new Map,r=d.filter(w);o&&r.sort((function(e,t){var n=e.updatedAt,r=void 0===n?hj():n,o=t.updatedAt,a=void 0===o?hj():o;return oA(r).isBefore(a)?1:-1}));var a=function(e){var t=r.filter((function(t){return t.column===e}));n.set(e,t)};try{for(var i=IP(J),s=i.next();!s.done;s=i.next())a(s.value.column)}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n}),TP([d],NP(m),!1));W.useEffect((function(){ee.clear(),te.clear()}),TP([ne],NP(m),!1));var re=W.useMemo((function(){return J.map((function(e){return e.column}))}),[]),oe=W.useMemo((function(){return"dark"===X.palette.mode?Co(X.palette.background.paper,.06):So("#000",.1)}),[]);return W.createElement(GX,{payload:ee},W.createElement(zX,{payload:te},W.createElement(Ii,{ref:t,className:kF(K.root,i,(n={},n[K.disabled]=c,n)),style:p,sx:f},W.createElement(Ii,{ref:V,className:K.container},W.createElement(xG,{withScrollbar:!0,hideOverflowY:!0,className:K.content},Z.map((function(e,t){var n,r,o=e.divider,a=SP(e,["divider"]);if(o)return W.createElement(Ii,{key:"divider-".concat(t),className:kF("react-declarative__kanbanDivider",K.divider),sx:{height:H.height}});var i=a,s=i.column,l=i.rows,u=i.label,p=i.color,f=void 0===p?oe:p,h=ne.get(s)||[];return W.createElement(Ii,{key:"".concat(s,"-").concat(t),onDrop:function(){var e=d.find((function(e){return e.id===Y.current}));if(e){var t=re.indexOf(e.column),n=re.indexOf(s),r=!0;if(r=(r=r&&!v)&&t>n)return;if(t===n)return;q(null),te.clear(Y.current),ee.clear(Y.current),A&&A(Y.current,s,e.data,Q),Y.current=null}},onDragEnd:function(){q(null)},onDragOver:function(e){q(s),e.preventDefault()},className:K.group},W.createElement(Ii,{className:K.groupHeader},W.createElement(Ii,{className:kF((n={},n[K.activeGroup]=G===s,n)),sx:{borderRadius:"50%",height:"12px",width:"12px",background:f}}),M&&W.createElement(M,{column:s,payload:Q}),W.createElement(Kx,{variant:"h6",fontWeight:"bold",sx:{opacity:.6,fontSize:"16px",flex:1}},u||String(s)),$&&W.createElement($,{column:s,payload:Q})),W.createElement(Ii,{className:kF(K.groupWrapper,(r={},r[K.activeGroup]=G===s,r)),sx:{background:f}},W.createElement(fz,{bufferSize:E,className:K.list,minRowHeight:N},h.map((function(e){return W.createElement(QX,kP({reloadSubject:B,withGoBack:v,withHeaderTooltip:y,payload:Q,key:e.id,onChangeColumn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];te.clear(e),ee.clear(e),A&&A.apply(void 0,TP([e],NP(t),!1))},onDrag:function(){Y.current=e.id},disabled:c,columns:J,rows:l,label:e.label||S,AfterCardContent:_,onCardLabelClick:L,onLoadStart:P,onLoadEnd:D,fallback:F,throwError:z},e))})))))})))))))};tQ.enableScrollOnDrag=function(e,t){var n=void 0===t?{}:t,r=n.threshold,o=void 0===r?200:r,a=n.speed,i=void 0===a?15:a;return function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.querySelector(".".concat(bG));if(!n)return console.warn("KanbanViewInternal enableScrollOnDrag ref is undefined"),function(){};var r=!1,a=0,s=gD.create((function(e){return document.addEventListener("dragover",e),function(){return document.removeEventListener("dragover",e)}})),l=gD.create((function(e){var t=function(t){return void 0===t&&(t=!0),function(){return e(t)}},n=t(!1),r=t(!0);return document.body.addEventListener("dragstart",r),document.body.addEventListener("dragend",n),function(){document.body.removeEventListener("dragend",n),document.body.removeEventListener("dragstart",r)}})),u=gD.create((function(e){var t=null,s=function(){if(r){var t=n.getBoundingClientRect(),s=t.left,l=t.right;a<s+o?e(Math.max(n.scrollLeft-i,0)):a>l-o&&e(n.scrollLeft+i)}},u=l.connect((function(e){t&&clearInterval(t),e&&(t=setInterval(s,10))}));return YP((function(){return t&&clearInterval(t)}),u)})),c=s.connect((function(e){a=e.clientX})),d=l.connect((function(e){r=e})),p=gD.create((function(e){return document.addEventListener("touchstart",e,{passive:!0}),function(){return document.removeEventListener("touchstart",e)}})),f=u.connect((function(e){n.scrollLeft=e})),h=YP(c,d,f),m=p.connect(h);return YP(h,m)}},W.forwardRef(tQ).enableScrollOnDrag=tQ.enableScrollOnDrag,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doSubscribe=function(){t._disconnectListener&&t._disconnectListener(),t._disconnectListener=t.props.reloadTrigger.subscribe((function(){t.forceUpdate()}))},t.componentDidMount=function(){t.doSubscribe()},t.componentDidUpdate=function(){t.doSubscribe()},t.componentWillUnmount=function(){t._disconnectListener&&t._disconnectListener()},t.render=function(){return W.createElement(W.Fragment,null,t.props.children)},t}wP(t,e)}(W.Component),function(e){e.Boolean="boolean-feature",e.Number="number-feature"}(PX||(PX={})),(DX=NP(sj(),2))[0],DX[1],(FX=NP(CD(),2))[0],FX[1],LP()((function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},stretch:{flex:1},disabled:{pointerEvents:"none",opacity:.5},monthLabel:{textAlign:"center"},noBorder:{border:"0"},arrows:{padding:"5px",color:e.palette.text.secondary},header:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5px"},content:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"15px",button:{color:e.palette.text.primary}}}})),LP()((function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},stretch:{flex:1},yearLabel:{textAlign:"center"},noBorder:{border:"0"},arrows:{padding:"5px",border:"0",color:e.palette.text.disabled},header:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5px"},content:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"15px",button:{color:e.palette.text.primary}}}})),LP()((function(e){return{switchHeader:{display:"flex",justifyContent:"space-between",overflowY:"auto",alignItems:"center",margin:"5px 0 10px"},daysHeader:{display:"flex",justifyContent:"stretch",alignItems:"stretch",height:"35px"},monthName:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"14px",button:{padding:"5px",color:e.palette.text.primary}},dayLabel:{flex:1,textAlign:"center",opacity:.5},dayLabelStart:{textAlign:"center"},dayLabelEnd:{textAlign:"center"},noBorder:{border:"0"}}})),LP()((function(e){return{buttonAccient:{background:e.palette.action.hover},button:{minWidth:"unset !important",height:"100%",width:"100%","&:hover":{background:So(e.palette.getContrastText(e.palette.background.paper),.018)}},stretch:{flex:1}}})),LP()((function(e){return{container:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},calendar:{flex:1,display:"grid",overflow:"hidden",background:e.palette.background.paper,gridTemplateColumns:"repeat(7, 2fr)",gridRowGap:"2px"},inactiveDay:{opacity:.5,pointerEvents:"none"},day:{"& button":{border:"0",color:e.palette.text.primary,height:"100%"}},cell:{display:"flex",alignItems:"center",justifyContent:"center","&:nth-of-type(7n)":{justifyContent:'"flex-end"'},"&:nth-of-type(7n + 1)":{justifyContent:'"flex-start"'},margin:e.spacing(.5),border:"1px solid ".concat(e.palette.action.active)}}})),hj(),LP()((function(e){return{container:{width:"100%",minHeight:"100%",padding:e.spacing(1)}}})),LP()((function(e){return{root:{position:"relative",overflow:"hidden",background:"light"===e.palette.mode?e.palette.background.paper:Co(e.palette.background.paper,.06)},container:{position:"absolute",top:0,left:0,minHeight:"100%",minWidth:"100%"},frame:{background:"none transparent",border:"0px solid transparent"},fabFullscreen:{position:"absolute",transition:"opacity 150ms",opacity:0,bottom:10,right:10,zIndex:2},fabFullscreenToggle:{opacity:1},fabDelete:{position:"absolute",transition:"opacity 150ms",opacity:0,bottom:10,zIndex:2},fabDeleteToggle:{opacity:1},fabMenu:{position:"absolute",transition:"opacity 150ms",opacity:0,top:10,right:10,height:48,width:48,zIndex:2},fabMenuToggle:{opacity:1}}})),LP()((function(e){return{root:{position:"relative",overflow:"hidden",background:"light"===e.palette.mode?e.palette.background.paper:Co(e.palette.background.paper,.06)},container:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{objectFit:"contain",margin:"6px",flex:1},fabFullscreen:{position:"absolute",transition:"opacity 150ms",opacity:0,bottom:10,right:10,zIndex:2},fabFullscreenToggle:{opacity:1},fabDelete:{position:"absolute",transition:"opacity 150ms",opacity:0,bottom:10,zIndex:2},fabDeleteToggle:{opacity:1},fabMenu:{position:"absolute",transition:"opacity 150ms",opacity:0,top:10,right:10,height:48,width:48,zIndex:2},fabMenuToggle:{opacity:1}}})),LP()((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",height:"100%",width:"100%",overflow:"hidden",background:e.palette.background.paper},label:{display:"flex",minHeight:"35px",justifyContent:"stretch",alignItems:"center",paddingLeft:"6px",gap:e.spacing(1),background:So("#000",.1)},labelTitle:{opacity:.5},container:{position:"relative",flex:1},content:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},stretch:{flex:1}}})),LP()({tile:{height:"100%"}}),LP()((function(e){return{root:{height:"100%",width:"100%",p:1,bgcolor:e.palette.background.default,display:"flex",flexDirection:"column","& > *":{maxWidth:"100%"},"& > * + *":{mt:1}}}}));const nQ="react-declarative__roiControlRect",rQ=new class{log(...e){}};let oQ=e=>e(),aQ=(e,t)=>rQ.log({id:e,ref:t}),iQ=(e,t,...n)=>rQ.log({id:e,type:t,args:n}),sQ=(e,t)=>rQ.log({id:e,img:t}),lQ=!1;const uQ=new class{_wrappers=new Map;applyTouchWrapper(e,t=!1){const n=n=>{const{touches:r}=n;t||(n.preventDefault(),n.stopPropagation()),e(r[0])};return this._wrappers.set(e,n),n}disposeTouchWrapper(e){const t=this._wrappers.get(e);return this._wrappers.delete(e),t}},cQ=(e,t,n)=>{if(!lQ)if("mousemove"===t){const t=uQ.applyTouchWrapper(n,!0);e.addEventListener("mousemove",n),e.addEventListener("touchmove",t)}else if("mousedown"===t){const t=uQ.applyTouchWrapper(n);e.addEventListener("mousedown",n),e.addEventListener("touchstart",t)}else if("mouseup"===t){const t=uQ.applyTouchWrapper(n,!0);e.addEventListener("mouseup",n),e.addEventListener("touchend",t)}else{if("wheel"!==t)throw new Error(`area-selector on unknown event: ${t}`);e.addEventListener("wheel",n)}},dQ=(e,t,n)=>{if(!lQ)if("mousemove"===t){const t=uQ.disposeTouchWrapper(n);e.removeEventListener("mousemove",n),e.removeEventListener("touchmove",t)}else if("mousedown"===t){const t=uQ.disposeTouchWrapper(n);e.removeEventListener("mousedown",n),e.removeEventListener("touchstart",t)}else if("mouseup"===t){const t=uQ.disposeTouchWrapper(n);e.removeEventListener("mouseup",n),e.removeEventListener("touchend",t)}else{if("wheel"!==t)throw new Error(`area-selector un unknown event: ${t}`);e.removeEventListener("wheel",n)}};function pQ([e,t,n,r],[o,a,i,s],l){return l?[o-(r-s)/2,a-(n-i)/2,n,r]:[e,t,n,r]}const fQ={roi:(e=e=>e(),t=(e,t,...n)=>rQ.log({id:e,type:t,args:n}),n="unset",r=10,o=10,a=10,i=10,s="blue",l="rgba(0, 0, 0, 0.5)")=>{const{min:u,max:c,round:d}=Math;let p=1,f=1;const h=(e=d(r/f),s=d(o/p),l=d(a/p),u=d(i/f))=>t(n,"roi-area-changed",e,s,l,u),[m,g,v,b,y,x,w]=((e=r,t=o,n=a,u=i)=>{const c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.right="0px",c.style.bottom="0px",c.style.zIndex="100",c.style.display="flex",c.style.alignItems="stretch",c.style.justifyContent="stretch";const d=(e,t=!1)=>{c.style.borderTop=`${e}px solid ${l}`,r=e,t||h()},p=(e,t=!1)=>{c.style.borderLeft=`${e}px solid ${l}`,o=e,t||h()},f=(e,t=!1)=>{c.style.borderRight=`${e}px solid ${l}`,a=e,t||h()},m=(e,t=!1)=>{c.style.borderBottom=`${e}px solid ${l}`,i=e,t||h()};[[d,e],[p,t],[f,n],[m,u]].forEach((([e,t])=>e(t,!0)));const g=document.createElement("div");return g.style.flexGrow="1",g.style.position="relative",g.style.border=`1px solid ${s}`,c.appendChild(g),[c,g,(e=>{const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.right="0px",t.style.bottom="0px",t.style.display="flex",t.style.alignItems="stretch",t.style.justifyContent="stretch";const n=document.createElement("div");return n.style.flexGrow="1",n.style.position="relative",n.style.overflow="hidden",t.appendChild(n),e.appendChild(t),n})(g),d,p,f,m]})(),[k,S,C,E]=[[!0,!0,y,b],[!0,!1,x,b],[!1,!0,y,w],[!1,!1,x,w]].map((t=>((t=!0,n=!0,l=e=>rQ.log(e),d=e=>rQ.log(e))=>{const p=document.createElement("div");p.classList.add(nQ),p.style.top=t?"-4px":null,p.style.left=n?"-4px":null,p.style.right=n?null:"-4px",p.style.bottom=t?null:"-4px",p.style.background=s,p.style.position="absolute",p.style.height="8px",p.style.width="8px";let[f,h]=[null,null];const g=({pageX:e,pageY:s})=>{if(lQ)return;const{scrollX:p,scrollY:g}=window;e-=p,s-=g;const{top:v,left:b,right:y,bottom:x,height:w,width:k}=m.getBoundingClientRect();f=c(n?u(e-b,k-a):u(-1*(e-y),k-o),0),h=c(t?u(s-v,w-i):u(-1*(s-x),w-r),0),l(f),d(h)};return e((()=>cQ(p,"mousedown",(()=>(e((()=>cQ(window,"mousemove",g))),e((()=>cQ(window,"mouseup",(()=>e((()=>dQ(window,"mousemove",g))))))),!1))))),p})(...t)));return[k,S,C,E].forEach((e=>g.appendChild(e))),[m,([e,t,n])=>{const{naturalWidth:s,naturalHeight:l}=e,{width:u,height:c}=e.getBoundingClientRect(),[d,m,g,v]=[r/f,o/p,a/p,i/f];p=u/s,f=c/l,o=m*p,a=g*p,i=v*f,b(r=d*f,!0),y(o,!0),x(a,!0),w(i,!0),h()},v]},rect:(e=e=>e(),t=(e,t,...n)=>rQ.log({id:e,type:t,args:n}),n="unset",r="unset-zone",o=10,a=10,i=125,s=125,l=0,u="",c="cyan",d="",p="rgba(0, 0, 0, 0.5)")=>{const{max:f,round:h}=Math,m=document.createElement("div");m.style.transform=`rotate(${l}deg)`,m.classList.add("react-declarative__roiAreaRect"),m.dataset.data_area_id=n;let g=1,v=1;lQ&&(m.addEventListener("click",(e=>{t(n,"rect-area-click",r,e)})),m.addEventListener("mouseover",(e=>{e.stopPropagation(),t(n,"rect-area-hover",r,e)}))),m.style.position="absolute",m.style.display="flex",m.style.alignItems="stretch",m.style.justifyContent="stretch",m.style.zIndex="99",u&&(m.style.backgroundRepeat="no-repeat",m.style.backgroundPosition="center",m.style.backgroundSize="contain",m.style.backgroundImage=`url('${u}')`),m.style.backgroundColor=p,m.style.border=`1px solid ${c}`;const b=document.createElement("div");b.style.position="relative",b.style.flexGrow="1",d&&b.appendChild((e=>{const t=document.createElement("label");return t.classList.add("react-declarative__roiAreaLabel"),t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.userSelect="none",t.style.pointerEvents="none",t.innerText=e,t})(d));const y=(e=o,u=a,c=s,d=i,p=l)=>{m.style.transform=`rotate(${l||0}deg)`,m.style.top=`${e}px`,m.style.left=`${u}px`,m.style.width=`${c}px`,m.style.height=`${d}px`,((e=h(o/v),u=h(a/g),c=h(s/g),d=h(i/v),p=l)=>{t(n,"rect-area-changed",r,e,u,d,c,p)})()};let x=!1;[[!0,!0],[!0,!1],[!1,!0],[!1,!1]].map((t=>((t=!0,n=!0)=>{const r=document.createElement("div");r.classList.add(nQ),r.style.top=t?"-4px":null,r.style.left=n?"-4px":null,r.style.right=n?null:"-4px",r.style.bottom=t?null:"-4px",r.style.background=c,r.style.position="absolute",r.style.height="8px",r.style.width="8px";let[u,d]=[null,null],[p,h]=[null,null];const g=({pageX:e,pageY:r})=>{if(lQ)return;const{scrollX:c,scrollY:g}=window;e-=c,r-=g;const[v,b]=(e=>{const t=e.getBoundingClientRect(),{scrollX:n,scrollY:r}=window;return[t.left+t.width/2+n,t.top+t.height/2+r]})(m);[e,r]=function(e,t,n,r,o){const a=o*Math.PI/180,i=e-n,s=t-r;return[i*Math.cos(a)-s*Math.sin(a)+n,i*Math.sin(a)+s*Math.cos(a)+r]}(e,r,v,b,-l);let x=null,w=null;{const{top:t,left:n,height:i,width:s}=m.parentElement.getBoundingClientRect();x=i,w=s,[u,d]=[f(e-n,0),f(r-t,0)],[p,h]=[a-u,o-d]}let[k,S,C,E]=[null,null,null,null];t&&n?[k,S,C,E]=pQ([d,u,s+p,i+h],[o,a,s,i],l):t&&!n?[k,S,C,E]=pQ([d,a,u-a,i+h],[o,a,s,i],l):!t&&n?[k,S,C,E]=pQ([o,u,s+p,d-o],[o,a,s,i],l):t||n||([k,S,C,E]=pQ([o,a,u-a,d-o],[o,a,s,i],l)),k+E>x||S+C>w||(o=E<0?o:k,a=C<0?a:S,s=C<0?s:C,i=E<0?i:E,y())};return e((()=>cQ(r,"mousedown",(()=>(x=!0,e((()=>cQ(window,"mousemove",g))),e((()=>cQ(window,"mouseup",(()=>{e((()=>dQ(window,"mousemove",g))),x=!1})))),!1))))),r})(...t))).forEach((e=>b.appendChild(e)));let[w,k]=[null,null];const S=({pageX:e,pageY:t})=>{if(lQ)return;const{scrollX:n,scrollY:r}=window;e-=n,t-=r;{const{top:n,left:r}=m.parentElement.getBoundingClientRect();[w,k]=[f(e-r,0),f(t-n,0)]}const[l,u]=[f(k-i/2,0),f(w-s/2,0)],{height:c,width:d}=m.parentElement.getBoundingClientRect();x||(o=l+i>c?o:l,a=u+s>d?a:u,y())};return e((()=>cQ(m,"mousedown",(()=>(e((()=>cQ(window,"mousemove",S))),e((()=>cQ(window,"mouseup",(()=>e((()=>dQ(window,"mousemove",S))))))),!1))))),e((()=>cQ(m,"wheel",(e=>{lQ||(e.preventDefault(),e.stopPropagation(),l+=Math.sign(e.deltaY)+360,l%=360,y())})))),m.appendChild(b),[m,([e,t,n])=>{const{naturalWidth:r,naturalHeight:l}=e,{width:u,height:c}=e.getBoundingClientRect(),[d,p,f,h]=[s/g,i/v,o/v,a/g];g=u/r,v=c/l,i=p*v,s=d*g,o=f*v,a=h*g,y()}]}},hQ=([e,t,n])=>{const r=n.getBoundingClientRect().height,o=e.getBoundingClientRect().height,a=(r-o)/2;t.style.height=`${o}px`,t.style.top=`${a}px`,e.style.top=`${a}px`};function mQ(e=hQ){const t=Reflect.construct(HTMLElement,[],mQ),n=new class{composes=[e];cleanup=()=>this.composes=[e];addHandler=e=>this.composes.push(e);exec=([e,t,n])=>this.composes.reduce(((e,t)=>([n,r,o])=>{e([n,r,o]),t([n,r,o])}))([e,t,n])};let r="",o="100%",a="100%",i="unset";i=t.hasAttribute("id")?t.getAttribute("id"):i,o=t.hasAttribute("height")?t.getAttribute("height"):o,a=t.hasAttribute("width")?t.getAttribute("width"):a,r=t.hasAttribute("imageSrc")?t.getAttribute("imageSrc"):r;const s=document.createElement("div");s.style.position="relative",s.style.height=o,s.style.width=a;const l=document.createElement("img");l.onload=()=>{n.exec([l,u,s])},l.style.touchAction="none",l.style.pointerEvents="none",l.style.position="absolute",l.crossOrigin="anonymous",l.style.width="100%",l.style.zIndex="97",l.src=r;const u=document.createElement("div");u.style.position="relative",u.style.width="100%",u.style.zIndex="98",u.style.left="0px";const c=(()=>{let e=!1;return()=>{e||(lQ&&u.addEventListener("mouseover",(e=>{e.stopPropagation(),iQ(i,"root-area-hover","",e)})),e=!0)}})();n.addHandler(c);const d=new ResizeObserver((()=>n.exec([l,u,s])));oQ((()=>d.observe(s))),oQ((()=>d.observe(l))),t.appendChild(s),s.appendChild(u),s.appendChild(l);const p=()=>{!document.body.contains(s)&&l.parentElement&&(d.unobserve(s),d.unobserve(l),l.src="#",l.parentElement.removeChild(l),rQ.log("dispose"))},f=async e=>{u.style.visibility="hidden",(e=>{for(;;){const t=e.lastChild;if(!t)break;e.removeChild(t)}})(u),n.cleanup();for(const[t,...r]of e.sort((([e])=>"roi"===e?-1:1))){const e=fQ[t];let[o,a]=[null,null];if(!e)throw new Error("area-selector control not found "+t);[o,a]=e(oQ,iQ,i,...r),n.addHandler(a),u.appendChild(o)}await((e,t=oQ)=>new Promise((n=>{const r=t((()=>setInterval((()=>{(()=>{const{naturalWidth:t,naturalHeight:n}=e,{width:r,height:o}=e.getBoundingClientRect();return n&&t&&o&&r})()&&(clearInterval(r),n())}),50)))})))(l),n.addHandler((([e])=>sQ(i,e))),n.addHandler(p),n.exec([l,u,s]),u.style.visibility="visible"};return oQ((()=>setTimeout((()=>aQ(i,(({setControls:e=e=>rQ.log({types:e}),obj:t={controls:[]}})=>new Proxy(Object.assign({},t),((e,t=null)=>({set:(n,r,o)=>((t||new Set(Object.keys(e))).has(r)?(n[r]=o,e[r](o)):n[r]=o,!0)}))({controls:e},new Set(Object.keys(t)))))({setControls:f})))))),t}"HTMLElement"in globalThis&&(mQ.prototype=Object.create(HTMLElement.prototype),customElements.define("react-declarative-area-selector",mQ));var gQ,vQ,bQ=LP()({parent:{position:"relative"}}),yQ=function(e){var t=e.src,n=void 0===t?"image.png":t,r=e.id,o=void 0===r?"unset":r,a=e.cords,i=void 0===a?[]:a,s=e.readonly,l=e.naturalHeight,u=e.naturalWidth,c=e.onChange,d=e.onClick,p=e.onHover,f=bQ().classes,h=W.useRef(null),m=W.useRef(!0),g=function(e){var t=HD(e);return W.useMemo((function(){return new function(){var e=this;this._cords=t.current.map((function(e){return kP({},e)})),this.commitChange=function(t){var n=e._cords.find((function(e){var n=e.id;return t.id===n}));n&&Object.assign(n,t)},this.getValue=function(){return function(e,t){if(e.length!==t.length)return!1;var n,r,o=TP([],NP(e),!1),a=TP([],NP(t),!1),i=function(e){return"".concat(e.type,"-").concat(e.id)};o.sort((function(e,t){return i(e).localeCompare(i(t))})),a.sort((function(e,t){return i(e).localeCompare(i(t))}));for(var s=0;s<o.length;s++)if(n=o[s],r=a[s],n.type!==r.type||n.id!==r.id||n.top!==r.top||n.left!==r.left||n.width!==r.width||n.height!==r.height||(n.angle||0)!==(r.angle||0))return!1;return!0}(e._cords,t.current)?e._cords:e._cords=t.current.map((function(e){return kP({},e)}))}}}),[])}(i),v=g.getValue();return W.useLayoutEffect((function(){h.current.innerHTML='\n      <react-declarative-area-selector\n        imageSrc="'.concat(n,'"\n        id="').concat(o,'">\n      </react-declarative-area-selector>\n    ');return function({areaRef:e=aQ,areaEvent:t=iQ,runRef:n=oQ,resizeCallback:r=sQ,readonlyFlag:o=lQ}){aQ=e,iQ=t,sQ=r,oQ=n,lQ=o}({areaRef:function(e,t){e===o&&(t.controls=function(e,t,n){return void 0===t&&(t=100),void 0===n&&(n=100),e.map((function(e){var r=e.id,o=e.type,a=e.height,i=e.width,s=e.top,l=e.left,u=e.color,c=e.label,d=e.angle;return"rect"===o?((e="rect-unset-id",t=10,n=10,r=125,o=125,a=0,i="cyan",s="",l="",u="rgba(0, 0, 0, 0.5)")=>["rect",e,t,n,r,o,a,l,i,s,u])(r,s,l,a,i,d,u,c):"roi"===o?((e=10,t=10,n=10,r=10,o="blue",a="rgba(0, 0, 0, 0.5)")=>["roi",e,t,n,r,o,a])(s,l,n-l-i,t-s-a,u):console.error("lowLevelCords invalid cord type",o)}))}(v,l,u))},areaEvent:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===o)switch(t){case"rect-area-changed":!function(e){var t=NP(e,6),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],s=t[5];if(m.current){var l={type:"rect",id:n,top:r,left:o,height:a,width:i,angle:s};g.commitChange(l),c(l)}}(n);break;case"roi-area-changed":!function(e){var t=NP(e,4),n=t[0],r=t[1],o=t[2],a=t[3];if(m.current){var i={type:"roi",id:"roi",top:n,left:r,height:l-n-a,width:u-r-o,angle:0};g.commitChange(i),c(i)}}(n);break;case"rect-area-click":case"square-area-click":!function(e){var t=NP(e,2),n=t[0],r=t[1];d&&d(r,n)}(n);break;case"rect-area-hover":case"square-area-hover":case"root-area-hover":!function(e){var t=NP(e,2),n=t[0],r=t[1];p&&p(r,n)}(n);break;default:throw new Error("Selector unknown event type")}},readonlyFlag:s}),m.current=!0,function(){m.current=!1}}),[n,o,v]),W.createElement("div",{className:f.parent,ref:h},W.createElement("img",{src:n}))},xQ=function(e){var t=e.src,n=void 0===t?"image.png":t,r=e.readonly,o=e.cords,a=void 0===o?[]:o,i=e.naturalHeight,s=void 0===i?100:i,l=e.naturalWidth,u=void 0===l?100:l,c=e.onChange,d=void 0===c?function(e){return console.log({cords:e})}:c,p=e.onClick,f=e.onHover,h=HD(a),m=JD(),g=m.reloadTrigger,v=m.doReload;KD(v,[r]);var b=W.useMemo((function(){return tD((function(e){d(h.current.map((function(t){return t.id===e.id?kP(kP({},e),{color:t.color,label:t.label}):t})))}),100)}),[]);return W.createElement(yQ,{key:g,cords:a,readonly:r,src:n,id:n,naturalHeight:s,naturalWidth:u,onChange:function(e){var t,n,r,o,a;n=(t=e).top,r=t.left,o=t.height,a=t.width,isNaN(n)||isNaN(r)||isNaN(o)||isNaN(a)?v():b(e)},onClick:p,onHover:f})},wQ=function(e){return new Promise((function(t,n){var r=document.createElement("img");r.crossOrigin="anonymous",r.onload=function(){var e=r.naturalHeight,n=r.naturalWidth;t({naturalHeight:e,naturalWidth:n})},r.onerror=function(){n()},r.src=e}))},kQ=LP()({readonly:(gQ={},gQ["& .".concat(nQ)]={display:"none;"},gQ),root:{display:"flex","& > *":{width:"100%"},"& .react-declarative__roiAreaRect":{color:"white"}}});W.forwardRef((function(e,t){var n,r=e.withNaturalSize,o=void 0!==r&&r,a=e.imageSize,i=e.className,s=e.src,l=e.cords,u=e.readonly,c=void 0!==u&&u,d=e.onLoadStart,p=e.onLoadEnd,f=e.sx,h=e.onChange,m=void 0===h?function(){}:h,g=e.onClick,v=void 0===g?function(){}:g,b=e.onHover,y=void 0===b?function(){}:b,x=SP(e,["withNaturalSize","imageSize","className","src","cords","readonly","onLoadStart","onLoadEnd","sx","onChange","onClick","onHover"]),w=kQ().classes,k=rF(m),S=rF(v),C=rF(y),E=NP(mW((function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return a?[2,a]:[4,wQ(s)];case 1:return[2,e.sent()]}}))}))}),{onLoadStart:d,onLoadEnd:p}),2),I=E[0],N=E[1].error,T=W.useMemo((function(){var e=new Set;return l.filter((function(t){return!e.has(t.id)&&e.add(t.id)}))}),[l]);return W.createElement(Jz,kP({ref:t,className:kF(i,w.root,(n={},n[w.readonly]=c,n)),sx:kP(kP({},o&&{height:a?a.naturalHeight:null==I?void 0:I.naturalHeight,width:a?a.naturalWidth:null==I?void 0:I.naturalWidth}),f)},x),I?W.createElement(xQ,{cords:T,naturalHeight:I.naturalHeight,naturalWidth:I.naturalWidth,onChange:k,onClick:S,onHover:C,readonly:c,src:s}):N?W.createElement(Kx,null,"Error aquired while fetching image"):W.createElement(Kx,null,"Loading..."))}));var SQ=function(e){return void 0===e&&(e=1e3),{transformBox:"fill-box",transformOrigin:"center",animation:"".concat(Sn(vQ||(vQ=_P(["\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  "],["\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  "])))," ").concat(e,"ms infinite linear")}};LP()({root:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:315,minWidth:315},spin1:SQ(1e3),spin2:SQ(1500),spin3:SQ(2500),spin4:SQ(2e3)});var CQ=null,EQ=new uD,IQ=function(e){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),"copyToClipboard"in navigator?[4,window.navigator.copyToClipboard(e)]:[3,2];case 1:return t.sent(),[2];case 2:return[4,navigator.clipboard.writeText(e)];case 3:return t.sent(),[3,5];case 4:return t.sent(),function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n)}catch(r){console.error("Fallback: Oops, unable to copy",r)}document.body.removeChild(t)}(e),[3,5];case 5:return[2]}}))}))},NQ=function(e){return CP(void 0,void 0,void 0,(function(){var t,n;return EP(this,(function(r){switch(r.label){case 0:return[4,EQ.next(e)];case 1:r.sent(),t=!0,r.label=2;case 2:return r.trys.push([2,7,8,9]),CQ?[4,CQ(e)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,IQ(e)];case 5:r.sent(),r.label=6;case 6:return[3,9];case 7:return n=r.sent(),console.error(n),t=!1,[3,9];case 8:return[2,t];case 9:return[2]}}))}))};NQ.override=function(e){CQ=e},NQ.listen=function(e){return EQ.subscribe(e)},LP()((function(e){return{root:{display:"flex",alignItems:"center",gap:e.spacing(1)},content:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},icon:{marginRight:e.spacing(2),overflow:"hidden"},stretch:{flex:1}}})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentDidMount=function(){var e;t.unsubscribe=null===(e=t.props.target)||void 0===e?void 0:e.subscribe((function(){t.forceUpdate()}))},t.componentWillUnmount=function(){t.unsubscribe&&t.unsubscribe()},t.render=function(){return W.createElement(W.Fragment,null,t.props.children)},t}wP(t,e)}(W.Component),LP()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center"},container:{display:"flex",alignItems:"center",justifyContent:"center",gap:e.spacing(1)}}}));var TQ,RQ,_Q=!1,$Q=25,MQ=null,OQ=LP()((function(e){var t;return{adjust:(t={},t[e.breakpoints.down("md")]={paddingBottom:$Q},t),adjustForce:{paddingBottom:$Q}}})),AQ=function(){var e,t=OQ().classes;return V.createElement("div",{className:kF((e={},e[t.adjust]=!_Q,e[t.adjustForce]=_Q,e))},MQ&&W.createElement(MQ))};AQ.setAdjustForce=function(e){_Q=e},AQ.setAdjustHeight=function(e){$Q=e},AQ.setAdjustFiller=function(e){MQ=e},LP()((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",overflow:"hidden",background:e.palette.background.paper},label:{minHeight:"35px",width:"100%",display:"flex",alignItems:"center",background:"light"===e.palette.mode?So("#000",.05):e.palette.background.paper,"& > *":{paddingLeft:"6px",opacity:.5}},container:{position:"relative",background:"light"===e.palette.mode?e.palette.background.paper:So("#000",.05),flex:1},content:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},passthrough:{display:"block",width:"100%"}}})),LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch"},sideMenu:{flex:1,maxWidth:256,overflowY:"auto",borderRight:"1px solid ".concat(e.palette.divider)},listItem:{"&:not(:last-of-type)":{borderBottom:"1px solid ".concat(e.palette.divider)}},content:{position:"relative",flex:1,overflowY:"auto",padding:e.spacing(1)}}})),LP()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},header:{background:"light"===e.palette.mode?So("#000",.05):e.palette.background.paper},content:{position:"relative",flex:1,overflowY:"auto",padding:e.spacing(1)},tabsRoot:{marginLeft:"0 !important",minHeight:48,height:48},tabRoot:{minHeight:48,height:48}}})),function(e){e.Paper="paper",e.Outline="outline",e.Card="card",e.Tabs="tabs"}(TQ||(TQ={})),LP()((function(e,t,n){var r,o,a=t.headerAdjust;return{root:{display:"grid"},desktop:(r={gridTemplateColumns:"256px 1fr"},r["& .".concat(n.sideMenu)]={paddingRight:e.spacing(2),paddingBottom:e.spacing(2)},r),mobile:(o={gridTemplateColumns:"1fr"},o["& .".concat(n.sideMenu)]={paddingBottom:e.spacing(1)},o),outline:{border:"1px solid ".concat(So(e.palette.getContrastText(e.palette.background.default),.23)),borderRadius:"4px"},sideMenu:{overflowY:"auto",maxHeight:"80vh",overflowX:"hidden",width:"100%","& > * > *":{width:"100%"}},content:{position:"relative",overflowY:"auto",overflowX:"hidden"},listItem:{"&:not(:last-of-type)":{borderBottom:"1px solid ".concat(e.palette.divider)}},fixedPos:{position:"fixed",top:a,width:240}}})),LP()((function(e,t){var n=t.headerAdjust,r=t.width;return{root:{position:"relative",width:"100%"},header:{height:64,background:e.palette.background.default,display:"flex",alignItems:"center",zIndex:9,width:r},headerAbsolute:{position:"absolute",top:0,left:0},headerFixed:{position:"fixed",top:n},headerNone:{visibility:"hidden",pointerEvents:"none"},adjust:{paddingBottom:64},paper:{width:r,display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},tabsRoot:{minHeight:54,height:54,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:54,height:54},disabledTab:{opacity:.5,cursor:"not-allowed"},indicator:{height:4,background:e.palette.primary.main}}})),IX.createLoader(48),LP()({root:{width:"100%",minHeight:225,display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}}});var LQ=function(){function e(e){void 0===e&&(e="root");var t=this;this._name=e,this.UML_STEP="\t",this.nodeMap=new Map,this.nodes=[],this.entries=[],this.provide=0,this.canceled=!1,this.createNode=function(e){return t.nodeMap.has(e)?t.nodeMap.get(e):t.nodeMap.set(e,{key:e,nodes:[]}).get(e)},this.beginProvide=function(e){t.canceled||(t.entries.unshift(t.createNode(e)),t.provide+=1)},this.endProvide=function(e){t.canceled||(t.entries.shift(),t.provide-=1)},this.beginInject=function(e,n){if(!t.canceled){n&&console.log("resolutionManager beginInject key=".concat(String(e)," root=").concat(t.isRootNodeState," pending=").concat(t.isPendingProvideState));var r=NP(t.entries,1)[0],o=t.createNode(e);t.isRootNodeState&&t.nodes.push(o),t.isPendingProvideState&&r.nodes.push(o)}},this.endInject=function(e,n){t.canceled||n&&console.log("resolutionManager endInject key=".concat(String(e)," root=").concat(t.isRootNodeState," pending=").concat(t.isPendingProvideState))},this.toYamlUML=function(e){if(void 0===e&&(e=3),console.log("ResolutionManager building UML for ".concat(t._name)),t.canceled)return console.log("ResolutionManager collecting UML canceled due to async resolve found"),"";var n=[],r=function(o,a){var i,s;void 0===a&&(a=0);try{for(var l=IP(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.key,p=c.nodes,f=TP([],NP(new Array(a)),!1).fill(t.UML_STEP).join("");p.length&&a<e?(n.push("".concat(f).concat(String(d),":")),r(p,a+1)):n.push("".concat(f).concat(String(d),': ""'))}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}};return r(t.nodes),TP(TP(["@startyaml"],NP(n),!1),["@endyaml"],!1).join("\n")},this.cancelResolution=function(){t.canceled=!0,t.provide=0,t.nodeMap.clear(),t.nodes=[],t.entries=[]}}return Object.defineProperty(e.prototype,"isRootNodeState",{get:function(){return 0===this.provide},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPendingProvideState",{get:function(){var e=NP(this.entries,1)[0];return!(void 0===e||!e)},enumerable:!1,configurable:!0}),e}(),PQ=function(e){void 0===e&&(e="root");var t,n,r=this;this._name=e,this.InstanceRef=(t=this._name,(n=function e(t,n){var r=this;this.queueFactory=ZP((function(e){return CP(r,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return[2,t.sent()]}}))}))})),e._waitPool.push(n),e._keys.push(t),this.queueFactory(n).then((function(e){e!==XP&&Object.setPrototypeOf(r,e)}))})._waitPool=[],n._keys=[],n.waitForProvide=function(e){return CP(void 0,void 0,void 0,(function(){return EP(n,(function(r){switch(r.label){case 0:return[4,Promise.all(this._waitPool.map((function(r,o){return r.then((function(){e&&console.info("react-declarative serviceManager ".concat(t," waitForProvide done for ").concat(String(n._keys[o])))})),r.catch((function(r){throw e&&console.info("react-declarative serviceManager ".concat(t," waitForProvide error for ").concat(String(n._keys[o]))),r})),r})))];case 1:return r.sent(),[2]}}))}))},n),this._creators=new Map,this._instances=new Map,this._resolutionOrder=[],this._reverseCounter=0,this.resolutionManager=new LQ(this._name),this._checkCircularDependency=function(e){var t=r._resolutionOrder.lastIndexOf(e);if(-1!==t){var n=r._resolutionOrder.length,o=r._resolutionOrder.slice(Math.max(t-1,0),n);throw o.push(o[0]),console.warn('react-declarative serviceManager "'.concat(r._name,'" circular dependency'),o.map((function(e){return e.toString()})).join("->")),new Error("Circular Dependency detected")}r._resolutionOrder.push(e)},this._updateResolutionOrder=function(e){if(0===r._reverseCounter){var t=r._resolutionOrder.slice(0,e),n=r._resolutionOrder.slice(e).reverse();r._resolutionOrder=TP(TP([],NP(t),!1),NP(n),!1)}},this.registerInstance=function(e,t){r._instances.has(e)||r._instances.set(e,t)},this.registerCreator=function(e,t){r._creators.has(e)||r._creators.set(e,(function(){r.resolutionManager.beginProvide(e);var n=t();return n instanceof Promise&&r.resolutionManager.cancelResolution(),r.resolutionManager.endProvide(e),n}))},this.inject=function(e,t){if(void 0===t&&(t=!0),r._instances.has(e)){r.resolutionManager.beginInject(e,t);var n=r._instances.get(e);return r.resolutionManager.endInject(e,t),n}if(r._creators.has(e)){r._checkCircularDependency(e);var o=Math.max(r._resolutionOrder.length-1,0);r._reverseCounter++,r.resolutionManager.beginInject(e,t);var a=r._creators.get(e)();return r.resolutionManager.endInject(e,t),n=a instanceof Promise?new r.InstanceRef(e,a):a,r._reverseCounter--,r._updateResolutionOrder(o),r._instances.set(e,n),n}return t&&console.error("react-declarative serviceManager ".concat(r._name," unknown service"),e),null},this.waitForProvide=pF((function(e){return void 0===e&&(e=!1),CP(r,void 0,void 0,(function(){return EP(this,(function(t){switch(t.label){case 0:return[4,this.InstanceRef.waitForProvide(e)];case 1:return t.sent(),[2]}}))}))})),this.prefetch=pF((function(e){return void 0===e&&(e=!0),CP(r,void 0,void 0,(function(){var t,n,r,o,a,i,s,l,u,c,d,p,f,h;return EP(this,(function(m){switch(m.label){case 0:this.unload.clear(),m.label=1;case 1:m.trys.push([1,19,,20]),t=new Set(this._resolutionOrder),m.label=2;case 2:m.trys.push([2,8,9,10]),n=IP(this._resolutionOrder),r=n.next(),m.label=3;case 3:return r.done?[3,7]:(s=r.value,e&&console.info("react-declarative serviceManager ".concat(this._name," prefetch ").concat(String(s))),(l=this._instances.get(s)).prefetch?[4,l.prefetch()]:[3,5]);case 4:m.sent(),m.label=5;case 5:m.label=6;case 6:return r=n.next(),[3,3];case 7:return[3,10];case 8:return o=m.sent(),d={error:o},[3,10];case 9:try{r&&!r.done&&(p=n.return)&&p.call(n)}finally{if(d)throw d.error}return[7];case 10:m.trys.push([10,16,17,18]),a=IP(this._instances.keys()),i=a.next(),m.label=11;case 11:return i.done?[3,15]:(s=i.value,t.has(s)?[3,14]:(e&&console.info("react-declarative serviceManager ".concat(this._name," prefetch ").concat(String(s))),(l=this._instances.get(s)).prefetch?[4,l.prefetch()]:[3,13]));case 12:m.sent(),m.label=13;case 13:m.label=14;case 14:return i=a.next(),[3,11];case 15:return[3,18];case 16:return u=m.sent(),f={error:u},[3,18];case 17:try{i&&!i.done&&(h=a.return)&&h.call(a)}finally{if(f)throw f.error}return[7];case 18:return[3,20];case 19:throw c=m.sent(),e&&console.error("react-declarative serviceManager ".concat(this._name," prefetch error"),c),c;case 20:return[2]}}))}))})),this.unload=pF((function(e){return void 0===e&&(e=!0),CP(r,void 0,void 0,(function(){var t,n,r,o,a,i,s,l,u,c,d,p,f,h;return EP(this,(function(m){switch(m.label){case 0:this.prefetch.clear(),m.label=1;case 1:m.trys.push([1,19,,20]),t=new Set(this._resolutionOrder),m.label=2;case 2:m.trys.push([2,8,9,10]),n=IP(this._resolutionOrder),r=n.next(),m.label=3;case 3:return r.done?[3,7]:(s=r.value,e&&console.info("react-declarative serviceManager ".concat(this._name," unload ").concat(String(s))),(l=this._instances.get(s)).unload?[4,l.unload()]:[3,5]);case 4:m.sent(),m.label=5;case 5:m.label=6;case 6:return r=n.next(),[3,3];case 7:return[3,10];case 8:return o=m.sent(),d={error:o},[3,10];case 9:try{r&&!r.done&&(p=n.return)&&p.call(n)}finally{if(d)throw d.error}return[7];case 10:m.trys.push([10,16,17,18]),a=IP(this._instances.keys()),i=a.next(),m.label=11;case 11:return i.done?[3,15]:(s=i.value,t.has(s)?[3,14]:(e&&console.info("react-declarative serviceManager ".concat(this._name," unload ").concat(String(s))),(l=this._instances.get(s)).unload?[4,l.unload()]:[3,13]));case 12:m.sent(),m.label=13;case 13:m.label=14;case 14:return i=a.next(),[3,11];case 15:return[3,18];case 16:return u=m.sent(),f={error:u},[3,18];case 17:try{i&&!i.done&&(h=a.return)&&h.call(a)}finally{if(f)throw f.error}return[7];case 18:return[3,20];case 19:throw c=m.sent(),e&&console.error("react-declarative serviceManager ".concat(this._name," unload error"),c),c;case 20:return[2]}}))}))})),this.clear=function(){r._resolutionOrder=[],r._reverseCounter=0,r._creators.clear(),r._instances.clear(),r.prefetch.clear(),r.unload.clear()},this.toUML=function(e){return void 0===e&&(e=3),r.resolutionManager.toYamlUML(e)},this.disableUML=function(){return r.resolutionManager.cancelResolution()}},DQ=new function(){var e=this;this.registerInstance=function(t,n){return e._serviceManager.registerInstance(t,n)},this.registerCreator=function(t,n){return e._serviceManager.registerCreator(t,n)},this.inject=function(t,n){return void 0===n&&(n=!0),e._serviceManager.inject(t,n)},this.waitForProvide=function(t){return void 0===t&&(t=!0),CP(e,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,this._serviceManager.waitForProvide(t)];case 1:return[2,e.sent()]}}))}))},this.prefetch=function(t){return void 0===t&&(t=!0),CP(e,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,this._serviceManager.prefetch(t)];case 1:return[2,e.sent()]}}))}))},this.unload=function(t){return void 0===t&&(t=!0),CP(e,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,this._serviceManager.unload(t)];case 1:return[2,e.sent()]}}))}))},this.clear=function(){return e._serviceManager.clear()},this.toUML=function(){return e._serviceManager.toUML()},this.disableUML=function(){return e._serviceManager.disableUML()},window.__reactDeclarative_ServiceManager||(window.__reactDeclarative_ServiceManager=new PQ("global")),this._serviceManager=window.__reactDeclarative_ServiceManager};DQ.registerCreator,DQ.waitForProvide,DQ.inject,DQ.prefetch,DQ.unload,new function(){var e=this;this._closeSubject=new uD,this.init=function(){var t=e,n=function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,TP([],NP(n),!1))||this;return o.addEventListener("close",(function(e){t._closeSubject.next(e)})),o.addEventListener("error",(function(e){t._closeSubject.next(e)})),o}return wP(n,e),n}(window.WebSocket);window.WebSocket=n},this.listenDisconnect=function(t){return e._closeSubject.subscribe(t)}};var FQ=function(e,t){var n,r;try{for(var o=IP(e),a=o.next();!a.done;a=o.next()){var i=a.value,s=i.path;if(yP(void 0===s?"/":s,[]).test(t))return i}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null},zQ=function(e,t){var n,r,o=function(e){var n={},r=[],o=yP(e,r);if(o.test(t)){var a=o.exec(t);return a&&r.forEach((function(e,t){n[e.name]=a[t+1]})),{value:n}}};try{for(var a=IP(e),i=a.next();!i.done;i=a.next()){var s=o(i.value.path);if("object"==typeof s)return s.value}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return null};!function(e){function t(t,n){var r=e.call(this)||this;return r._item=null,r._params=null,r.dispose=function(){r._unsubscribe()},r._unsubscribe=n.listen((function(e){var n=e.location;r._params=zQ(t,n.pathname),r._item=FQ(t,n.pathname),r.next()})),r._params=zQ(t,location.pathname),r._item=FQ(t,location.pathname),r}wP(t,e),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!1,configurable:!0})}(uD),function(e){function t(n){var r=e.apply(this,TP([],NP(n),!1))||this;return r.includes=function(e){return r._sourceHash.has(e)},r.filter=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=n;return new t(e.prototype.filter.apply(r,TP([],NP(a),!1)))},r.map=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=n;return new t(e.prototype.map.apply(r,TP([],NP(a),!1)))},r.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.prototype.push.apply(r,TP([],NP(t),!1));return r._sourceHash=new Set(r),o},r.pop=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.prototype.pop.apply(r,TP([],NP(t),!1));return r._sourceHash=new Set(r),o},r.unshift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.prototype.unshift.apply(r,TP([],NP(t),!1));return r._sourceHash=new Set(r),o},r.shift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.prototype.shift.apply(r,TP([],NP(t),!1));return r._sourceHash=new Set(r),o},r.splice=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.prototype.splice.apply(r,TP([],NP(t),!1));return r._sourceHash=new Set(r),o},r.slice=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return new t(e.prototype.slice.apply(r,TP([],NP(n),!1)))},r.concat=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return new t(e.prototype.concat.apply(r,TP([],NP(n),!1)))},r.toArray=function(){return new(Array.bind.apply(Array,TP([void 0],NP(r),!1)))},r._sourceHash=new Set(n),r}wP(t,e)}(Array),LP()({container:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",maxHeight:"45vh",overflowY:"auto",overflowX:"hidden"},content:{flex:1,display:"flex",flexDirection:"column",justifyContent:"stretch"},loader:{position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},beforeContent:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},afterContent:{width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}}});var BQ=Symbol("change"),jQ=Symbol("refresh"),WQ=1e3,VQ=function(e){function t(n,r,o){void 0===r&&(r=WQ),void 0===o&&(o=function(){return a._data});var a=e.call(this)||this;return a._debounce=r,a._prevData=o,a._dropChanges=new uD,a._change=function(){a.emit(BQ,a)},a.handleDropChanges=function(){a._dropChanges.next()},a.refresh=function(){return a.emit(jQ,a)},a.toObject=function(){return a.data},a._data=n instanceof t?n.data:"function"==typeof n?n():n,a.setData=a.setData.bind(a),a.handleChange=a.handleChange.bind(a),a}return wP(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return Object.freeze(this._data)},enumerable:!1,configurable:!0}),t.prototype.setData=function(e){"function"==typeof e&&(e=e(this._prevData())),this._data=kP(kP({},this._data),e),this._change()},t.prototype.handleChange=function(e){var t=this,n=tD(e,this._debounce),r=this._dropChanges.subscribe(n.clear);return this.subscribe(BQ,n),this.subscribe(jQ,e),function(){t.unsubscribe(BQ,n),t.unsubscribe(jQ,e),n.clear(),r()}},t}(qP),HQ=function(e){function t(t,n,r){void 0===n&&(n=WQ),void 0===r&&(r=function(){return o._data});var o=e.call(this,t,n,r)||this;return o.setData=function(t){"function"==typeof t&&(t=t(o._prevData())),void 0===t.id&&(t.id=QD()),e.prototype.setData.call(o,kP({},t))},o.handleChange=function(t){return e.prototype.handleChange.call(o,t)},o}return wP(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._data.id},enumerable:!1,configurable:!0}),t}(VQ),UQ=Symbol("reorder"),GQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wP(t,e),t}(Error);!function(e){function t(n,r,o){void 0===n&&(n=[]),void 0===r&&(r=WQ),void 0===o&&(o=function(){return a.items});var a=e.call(this)||this;if(a._debounce=r,a._prevData=o,a._items=new Map,a._ids=new Map,a._dropChanges=new uD,a._prevEntity=function(e){return function(){var t=a._prevData().find((function(t){return t.id===e.id}));return t?t.data:e}},a._change=function(e){a.emit(BQ,a,e)},a._refresh=function(e){a.emit(jQ,a,e)},a._reorder=function(){a.emit(UQ,a,null)},a._dispose=function(){var e,t;try{for(var n=IP(a._items.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.unsubscribe(BQ,a._change),o.unsubscribe(jQ,a._refresh)}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}a._items.clear(),a._ids.clear()},a.setData=function(e){a._dispose();for(var t=0;t!==e.length;t++){var n=e[t],r=new HQ(n,a._debounce,a._prevEntity(n));a._items.set(t,r),a._ids.set(r.id,t),r.subscribe(BQ,a._change),r.subscribe(jQ,a._refresh)}a._reorder()},a.clear=function(){a._dispose(),a._reorder()},a.map=function(e){return a.items.map(e)},a.filter=function(e){return a.items.filter(e)},a.find=function(e){return a.items.find(e)},a.some=function(e){return a.items.some(e)},a.forEach=function(e){return a.items.forEach(e)},a.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.flat(),r=a.lastIdx,o=0;o!==n.length;o++){var i=r+o,s=n[o];void 0===s.id&&(s.id=i);var l=new HQ(s,a._debounce,a._prevEntity(s));a._items.set(i,l),a._ids.set(l.id,i),l.subscribe(BQ,a._change),l.subscribe(jQ,a._refresh)}a._reorder()},a.upsert=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n.flat(),i=new Map(o.map((function(e){return[e.id,e]}))),s=new Set;try{for(var l=IP(a._items.values()),u=l.next();!u.done;u=l.next()){var c=u.value,d=i.get(c.id);d&&(c.setData(d),s.add(c.id))}}catch(p){e={error:p}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}a.push.apply(a,TP([],NP(o.filter((function(e){var t=e.id;return!s.has(t)}))),!1))},a.remove=function(e){a.removeById(e.id)},a.removeById=function(e){var t,n;try{for(var r=IP(a._items.entries()),o=r.next();!o.done;o=r.next()){var i=NP(o.value,2),s=i[0],l=i[1];if(l.id===e)return a._items.delete(s),a._ids.delete(e),l.unsubscribe(BQ,a._change),l.unsubscribe(jQ,a._refresh),void a._reorder()}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}throw new GQ("removeById unknown entity id ".concat(e))},a.removeAll=function(){var e,t;try{for(var n=IP(a._items.entries()),r=n.next();!r.done;r=n.next()){var o=NP(r.value,2),i=o[0],s=o[1];a._items.delete(i),a._ids.delete(s.id),s.unsubscribe(BQ,a._change),s.unsubscribe(jQ,a._refresh)}}catch(l){e={error:l}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}a._reorder()},a.findById=function(e){if(a._ids.has(e)){var t=a._ids.get(e);return a._items.get(t)}throw new GQ("findById unknown entity id ".concat(e))},a.handleChange=function(e){var t=tD(e,a._debounce),n=a._dropChanges.subscribe(t.clear);return a.subscribe(BQ,t),a.subscribe(jQ,e),a.subscribe(UQ,e),function(){a.unsubscribe(BQ,t),a.unsubscribe(jQ,e),a.unsubscribe(UQ,e),t.clear(),n()}},a.handleDropChanges=function(){var e,t;try{for(var n=IP(a._items.values()),r=n.next();!r.done;r=n.next())r.value.handleDropChanges()}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}a._dropChanges.next()},a.refresh=function(){return a.emit(jQ,a,null)},a.toArray=function(){return a.map((function(e){return e.toObject()}))},n instanceof t){var i=n.items;n._dispose(),n=i}else n="function"==typeof n?n().map((function(e){return new HQ(e,a._debounce,a._prevEntity(e))})):n.map((function(e){return e instanceof HQ&&(e=e.data),new HQ(e,a._debounce,a._prevEntity(e))}));return n.forEach((function(e,t){a._items.set(t,e),a._ids.set(e.id,t),e.subscribe(BQ,a._change),e.subscribe(jQ,a._refresh)})),a}wP(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return TP([],NP(this._items.entries()),!1).sort((function(e,t){var n=NP(e,1)[0],r=NP(t,1)[0];return Number(n)-Number(r)})).map((function(e){return e[1]}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastIdx",{get:function(){return Math.max.apply(Math,TP(TP([],NP(this._items.keys()),!1),[-1],!1))+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ids",{get:function(){return TP([],NP(this._ids.keys()),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._items.size},enumerable:!1,configurable:!0})}(qP),LP()({root:(RQ={display:"flex",alignItems:"stretch",justifyContent:"stretch","& .MuiPaper-root":{background:"transparent"}},RQ["& .".concat(zq)]={flex:1,height:"unset !important",width:"unset !important"},RQ["& .".concat("react-declarative__mobileListRoot")]={background:"transparent !important"},RQ)});var qQ=function(e){var t=e.onOk,n=e.title,r=e.description,o=e.open,a=void 0===o||o,i=e.large;return W.createElement(dG,{open:a,canCancel:!1,onAccept:t},W.createElement(zI,null,W.createElement(Ii,{sx:{width:i?"100vw":"unset",maxWidth:i?"100%":"unset"},mr:3},n)),W.createElement(Ii,{p:3},W.createElement(EC,{autoFocus:!0,readOnly:!0,minRows:3,maxRows:i?20:3,multiline:!0,value:r,sx:{width:"100%"}})))},YQ=function(e){var t=e.waitForChangesDelay,n=void 0===t?1e3:t,r=e.onChange,o=void 0===r?function(e){return console.log({data:e})}:r,a=e.fields,i=e.handler,s=e.payload,l=e.canCancel,u=void 0===l||l,c=e.features,d=e.large,p=e.title,f=e.isBaseline,h=e.isBaselineForRoot,m=e.readTransform,g=e.writeTransform,v=e.incomingTransform,b=e.outgoingTransform,y=e.open,x=void 0===y||y,w=NP(W.useState(null),2),k=w[0],S=w[1],C=NP(W.useState(!1),2),E=C[0],I=C[1],N=NP(W.useState(!1),2),T=N[0],R=N[1],_=HD(k),$=ZB([k],10);return W.createElement(dG,{open:x,disabled:E,canCancel:u,invalid:!k||T,onAccept:function(){return CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:I(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,CP(void 0,void 0,void 0,(function(){return EP(this,(function(e){switch(e.label){case 0:return[4,Promise.race([$(),KP(n)])];case 1:return e.sent(),[2]}}))}))];case 2:return e.sent(),o(_.current),[3,4];case 3:return I(!1),[7];case 4:return[2]}}))}))},onDismiss:function(){return o(null)}},!!p&&W.createElement(zI,null,W.createElement(Ii,{mr:3},p)),W.createElement(Ii,{sx:{width:d?"100vw":"unset",maxWidth:d?"100%":"unset"},p:3},W.createElement(rG,{change:function(e){S(e),R(!1)},invalidity:function(){return R(!0)},readTransform:m,writeTransform:g,incomingTransform:v,outgoingTransform:b,isBaseline:f,isBaselineForRoot:h,handler:i,payload:s,fields:a,features:c})))};new uD;var KQ=function(e){var t=void 0===e?{}:e,n=t.maxHeight,r=void 0===n?1e3:n,o=t.maxWidth,a=void 0===o?1e3:o;return function(e){var t=e.height,n=e.width,o=n>a?a/n:1,i=t>r?r/t:1,s=Math.min(o,i);return{width:n*s,height:t*s}}}(),XQ=function(e,t){var n=void 0===t?{}:t,r=n.maxExec,o=void 0===r?3:r,a=n.delay,i=void 0===a?10:a,s=new Set,l=[],u=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e.apply(void 0,TP([],NP(n),!1));s.add(o),o.finally((function(){s.delete(o)})),t.resolve(o)},c=nF((function(){return CP(void 0,void 0,void 0,(function(){var e,t,n;return EP(this,(function(r){switch(r.label){case 0:return l.length?s.size?[4,Promise.race(s)]:[3,2]:[3,5];case 1:r.sent(),r.label=2;case 2:return s.size>=o?[4,KP(i)]:[3,4];case 3:return r.sent(),[3,0];case 4:return e=l.pop(),t=e.args,n=e.awaiter,u.apply(void 0,TP([n],NP(t),!1)),[3,0];case 5:return[2]}}))}))})),d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return CP(void 0,void 0,void 0,(function(){var t,n,r;return EP(this,(function(a){switch(a.label){case 0:return t=NP(function(){var e=null,t=null;return[new Promise((function(n,r){var o;o=NP([n,r],2),e=o[0],t=o[1]})),{resolve:function(t){return e&&e(t)},reject:function(e){return t&&t(e)}}]}(),2),n=t[0],r=t[1],s.size<o?u.apply(void 0,TP([r],NP(e),!1)):(l.unshift({awaiter:r,args:e}),c()),[4,n];case 1:return[2,a.sent()]}}))}))};return d.clear=function(){for(;l.length;)l.pop();s.clear(),c.clear()},d},QQ=function(e){return new Promise((function(t,n){var r=new Image,o=URL.createObjectURL(e);r.src=o,r.onerror=function(){URL.revokeObjectURL(o),n(new Error("react-declarative compressImage load error"))},r.onload=function(){URL.revokeObjectURL(o);var e=KQ({height:r.naturalHeight,width:r.naturalWidth}),a=e.height,i=e.width,s=document.createElement("canvas");s.width=i,s.height=a;var l=s.getContext("2d");if(!l)throw new Error("react-declarative compressImage null canvas ctx");l.drawImage(r,0,0,i,a);try{s.toBlob((function(e){e?t(e):n(new Error("react-declarative compressImage null blob"))}),"image/jpeg",.8)}catch(u){console.error(u),n(new Error("react-declarative compressImage unknown error"))}}}))};!function(e,t){void 0===e&&(e=20971520),void 0===t&&(t=10),XQ((function(t){return CP(void 0,void 0,void 0,(function(){var n;return EP(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,5]),t.size>e?[4,QQ(t)]:[3,2];case 1:case 4:return[2,r.sent()];case 2:return[3,5];case 3:return n=r.sent(),console.error("react-declarative compressImage error",n),[4,new Promise((function(e){var t=document.createElement("canvas");t.width=10,t.height=10;var n=t.getContext("2d");return n&&(n.fillStyle="rgba(0, 0, 0, 0)",n.fillRect(0,0,10,10)),t.toBlob((function(t){e(t||new Blob([],{type:"image/png"}))}),"image/png")}))];case 5:return[2,t]}}))}))}),{maxExec:t})}(),QD();FP.Text,FP.Time,FP.Date,FP.Items,FP.Combo,FP.Checkbox,FP.Choose,FP.Complete,FP.Radio,FP.YesNo,FP.Switch,FP.Component,FP.Tree,FP.Phony,pF((function(){var e=new uD;return new MutationObserver(tD((function(){return e.next()}),1e3)).observe(document.body,{childList:!0,subtree:!0}),e}));var ZQ=Object.freeze({__proto__:null,crypt:(e,t)=>{if(!t)return"";const n=e=>e.split("").map((e=>e.charCodeAt(0)));return t.split("").map(n).map((t=>n(e).reduce(((e,t)=>e^t),t))).map((e=>("0"+Number(e).toString(16)).substr(-2))).join("")},decrypt:(e,t)=>t?t.match(/.{1,2}/g).map((e=>parseInt(e,16))).map((t=>{return(n=e,n.split("").map((e=>e.charCodeAt(0)))).reduce(((e,t)=>e^t),t);var n})).map((e=>String.fromCharCode(e))).join(""):""}),JQ=function(e,t){var n=t.sizeOriginal,r=t.onProgress;return new Promise((function(t,o){var a=new XMLHttpRequest;a.addEventListener("progress",(function(e){e.lengthComputable?r&&r(e.loaded/e.total*100):n?r&&r(Math.min(e.loaded/n*100,100)):console.log("downloadBlob file length is not computable")})),a.addEventListener("error",(function(e){o(e)})),a.addEventListener("loadend",(function(){r&&r(100),200===a.status?4!==a.readyState||t(a.response):o(new Error("downloadBlob status !== 200"))})),a.responseType="blob",a.open("GET",e,!0),a.setRequestHeader("Content-Type","application/octet-stream"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Access-Control-Allow-Origin","*"),a.send()}))};QP((function(e,t,n){return CP(void 0,void 0,void 0,(function(){var r;return EP(this,(function(o){switch(o.label){case 0:console.log("useOpenDocument downloadXHR",{url:e}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,JQ(e,{onProgress:t,sizeOriginal:n})];case 2:return[2,o.sent()];case 3:return r=o.sent(),console.log("useOpenDocument downloadXHR error",r),t&&t(0),[2,null];case 4:return[2]}}))}))})),QP((function(e,t){return CP(void 0,void 0,void 0,(function(){var n,r,o;return EP(this,(function(a){switch(a.label){case 0:console.log("useOpenDocument downloadFetch",{url:e}),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(e,{method:"GET",headers:{"Content-Type":"application/octet-stream","X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Origin":"*"},mode:"no-cors"})];case 2:if(!(n=a.sent()).ok)throw n;return[4,n.blob()];case 3:return r=a.sent(),t&&t(100),[2,r];case 4:return o=a.sent(),t&&t(0),console.log("useOpenDocument downloadFetch error",o),[2,null];case 5:return[2]}}))}))})),nL();var eZ=nX;kP({},Jq),kP({},Lj),kP({},ZQ),NQ.override((async e=>{var t;if(window.self===window.top)try{if("copyToClipboard"in navigator)return void(await navigator.copyToClipboard(e));await navigator.clipboard.writeText(e)}catch{!function(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{const e=document.execCommand("copy")?"successful":"unsuccessful";console.log(`Fallback: Copying text command was ${e}`)}catch(n){console.error("Fallback: Oops, unable to copy",n)}document.body.removeChild(t)}(e)}else null==(t=window.top)||t.postMessage({type:"copy-action",text:e},"*")}));class tZ{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class nZ{refCount(e){return rZ("refCount")}incRef(e){return rZ("incRef")}timerAvailable(){return!0}time(e){return rZ("time")}read(e){return rZ("read")}readSync(e){return rZ("readSync")}readToGPU(e,t){return rZ("readToGPU")}numDataIds(){return rZ("numDataIds")}disposeData(e,t){return rZ("disposeData")}write(e,t,n){return rZ("write")}move(e,t,n,r,o){return rZ("move")}memory(){return rZ("memory")}floatPrecision(){return rZ("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return rZ("dispose")}}function rZ(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oZ(e,t,n){return Math.max(e,Math.min(t,n))}function aZ(e){return e%2==0?e:e+1}function iZ(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function sZ(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function lZ(e,t,n=""){sZ(pZ(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function uZ(e){sZ(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function cZ(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||kZ(e)&&!n)for(let r=0;r<e.length;++r)cZ(e[r],t,n);else t.push(e);return t}function dZ(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function pZ(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function fZ(e){return e%1==0}function hZ(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function mZ(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function gZ(e,t=e=>0,n,r=setTimeout){return new Promise(((o,a)=>{let i=0;const s=()=>{if(e())return void o();i++;const l=t(i);null!=n&&i>=n?a():r(s,l)};s()}))}function vZ(e,t){let n=1,r=-1;for(let a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${a}`);r=a}else if(e[a]<0)throw Error(`Shapes can not be < 0. Found ${e[a]} at dim ${a}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const o=e.slice();return o[r]=t/n,o}function bZ(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),sZ(e.every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),sZ(e.every((e=>fZ(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function yZ(e,t){const n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||o?null:bZ(t,e).sort();let i=0;for(let s=0;s<e.length;++s){if(null!=a){if(a[i]===s&&1!==e[s])throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(null==a[i]||a[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function xZ(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function wZ(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function kZ(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function SZ(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function CZ(e){return"string"==typeof e||e instanceof String}function EZ(e){return Array.isArray(e)?EZ(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"==typeof e?"float32":CZ(e)?"string":function(e){return"boolean"==typeof e}(e)?"bool":"float32"}function IZ(e){return!!(e&&e.constructor&&e.call&&e.apply)}function NZ(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function TZ(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function RZ(e,t,n,r=!1){const o=new Array;if(1===t.length){const a=t[0]*(r?2:1);for(let t=0;t<a;t++)o[t]=n[e+t]}else{const a=t[0],i=t.slice(1),s=i.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<a;t++)o[t]=RZ(e+t*s,i,n,r)}return o}function _Z(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return RZ(0,e,t,n)}function $Z(e,t){const n=MZ(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function MZ(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function OZ(e){e.forEach((t=>{sZ(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function AZ(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function LZ(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}function PZ(e){return e&&e.then&&"function"==typeof e.then}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DZ="tfjsflags";class FZ{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=zZ,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(BZ().getBool("IS_TEST")||BZ().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];BZ().getBool("IS_TEST")||BZ().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(PZ(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(DZ in e){e[DZ].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function zZ(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function BZ(){return WZ}let jZ,WZ=null;function VZ(){if(null==jZ){let e;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof global)e=global;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}jZ=e}return jZ}function HZ(e,t){const n=function(){const e=VZ();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const UZ="Abs",GZ="Acos",qZ="Acosh",YZ="Add",KZ="AddN",XZ="All",QZ="Any",ZZ="ArgMax",JZ="ArgMin",eJ="Asin",tJ="Asinh",nJ="Atan",rJ="Atanh",oJ="Atan2",aJ="AvgPool",iJ="AvgPool3D",sJ="BatchMatMul",lJ="BatchToSpaceND",uJ="Bincount",cJ="BroadcastArgs",dJ="Cast",pJ="Ceil",fJ="ClipByValue",hJ="Complex",mJ="ComplexAbs",gJ="Concat",vJ="Conv2D",bJ="Conv2DBackpropFilter",yJ="Conv2DBackpropInput",xJ="Conv3D",wJ="Conv3DBackpropInputV2",kJ="Cos",SJ="Cosh",CJ="Cumprod",EJ="Cumsum",IJ="CropAndResize",NJ="DenseBincount",TJ="DepthToSpace",RJ="DepthwiseConv2dNative",_J="DepthwiseConv2dNativeBackpropFilter",$J="DepthwiseConv2dNativeBackpropInput",MJ="Diag",OJ="Dilation2D",AJ="RealDiv",LJ="Einsum",PJ="Elu",DJ="Equal",FJ="Exp",zJ="ExpandDims",BJ="Expm1",jJ="Fill",WJ="FlipLeftRight",VJ="Floor",HJ="FloorDiv",UJ="FusedBatchNorm",GJ="GatherV2",qJ="GatherNd",YJ="Greater",KJ="GreaterEqual",XJ="Identity",QJ="IFFT",ZJ="Imag",JJ="IsFinite",e0="IsInf",t0="IsNan",n0="LeakyRelu",r0="Less",o0="LessEqual",a0="LinSpace",i0="Log",s0="Log1p",l0="LogicalAnd",u0="LogicalNot",c0="LogicalOr",d0="Max",p0="Maximum",f0="MaxPool",h0="MaxPool3D",m0="MaxPoolWithArgmax",g0="Mean",v0="Min",b0="Minimum",y0="MirrorPad",x0="Multinomial",w0="Multiply",k0="Neg",S0="NotEqual",C0="NonMaxSuppressionV3",E0="NonMaxSuppressionV4",I0="NonMaxSuppressionV5",N0="OnesLike",T0="OneHot",R0="Pack",_0="PadV2",$0="Pow",M0="Prelu",O0="Prod",A0="RaggedGather",L0="RaggedTensorToTensor",P0="Range",D0="Real",F0="Reciprocal",z0="Relu",B0="Reshape",j0="ResizeNearestNeighbor",W0="ResizeBilinear",V0="Relu6",H0="Reverse",U0="Round",G0="Rsqrt",q0="ScatterNd",Y0="SearchSorted",K0="Select",X0="Selu",Q0="Slice",Z0="Sin",J0="Sinh",e1="Sign",t1="Sigmoid",n1="Softplus",r1="Sqrt",o1="Sum",a1="SpaceToBatchND",i1="SplitV",s1="Softmax",l1="SparseFillEmptyRows",u1="SparseReshape",c1="SparseSegmentMean",d1="SparseSegmentSum",p1="SparseToDense",f1="SquaredDifference",h1="Square",m1="StridedSlice",g1="StringNGrams",v1="StringSplit",b1="StringToHashBucketFast",y1="Sub",x1="Tan",w1="Tanh",k1="Tile",S1="TopK",C1="Transform",E1="Transpose",I1="Unique",N1="Unpack",T1="UnsortedSegmentSum",R1="ZerosLike",_1="Step",$1="RotateWithOffset",M1="_FusedMatMul",O1="FusedConv2D",A1="FusedDepthwiseConv2D";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function L1(...e){BZ().getBool("IS_TEST")||BZ().getBool("PROD")||console.warn(...e)}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const P1=HZ("kernelRegistry",(()=>new Map)),D1=HZ("gradRegistry",(()=>new Map));function F1(e,t){const n=W1(e,t);return P1.get(n)}function z1(e){return D1.get(e)}function B1(e){const t=P1.entries(),n=[];for(;;){const{done:r,value:o}=t.next();if(r)break;const[a,i]=o,[s]=a.split("_");s===e&&n.push(i)}return n}function j1(e){const{kernelName:t,backendName:n}=e,r=W1(t,n);P1.has(r)&&L1(`The kernel '${t}' for backend '${n}' is already registered`),P1.set(r,e)}function W1(e,t){return`${t}_${e}`}var V1=U1,H1=null;try{H1=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(kxe){}function U1(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function G1(e){return!0===(e&&e.__isLong__)}U1.prototype.__isLong__,Object.defineProperty(U1.prototype,"__isLong__",{value:!0}),U1.isLong=G1;var q1={},Y1={};function K1(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=Y1[e])?r:(n=Q1(e,(0|e)<0?-1:0,!0),o&&(Y1[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=q1[e])?r:(n=Q1(e,e<0?-1:0,!1),o&&(q1[e]=n),n)}function X1(e,t){if(isNaN(e))return t?i2:a2;if(t){if(e<0)return i2;if(e>=n2)return d2}else{if(e<=-r2)return p2;if(e+1>=r2)return c2}return e<0?X1(-e,t).neg():Q1(e%t2|0,e/t2|0,t)}function Q1(e,t,n){return new U1(e,t,n)}U1.fromInt=K1,U1.fromNumber=X1,U1.fromBits=Q1;var Z1=Math.pow;function J1(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return a2;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return J1(e.substring(1),t,n).neg();for(var o=X1(Z1(n,8)),a=a2,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),l=parseInt(e.substring(i,i+s),n);if(s<8){var u=X1(Z1(n,s));a=a.mul(u).add(X1(l))}else a=(a=a.mul(o)).add(X1(l))}return a.unsigned=t,a}function e2(e,t){return"number"==typeof e?X1(e,t):"string"==typeof e?J1(e,t):Q1(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}U1.fromString=J1,U1.fromValue=e2;var t2=4294967296,n2=t2*t2,r2=n2/2,o2=K1(1<<24),a2=K1(0);U1.ZERO=a2;var i2=K1(0,!0);U1.UZERO=i2;var s2=K1(1);U1.ONE=s2;var l2=K1(1,!0);U1.UONE=l2;var u2=K1(-1);U1.NEG_ONE=u2;var c2=Q1(-1,2147483647,!1);U1.MAX_VALUE=c2;var d2=Q1(-1,-1,!0);U1.MAX_UNSIGNED_VALUE=d2;var p2=Q1(0,-2147483648,!1);U1.MIN_VALUE=p2;var f2=U1.prototype;f2.toInt=function(){return this.unsigned?this.low>>>0:this.low},f2.toNumber=function(){return this.unsigned?(this.high>>>0)*t2+(this.low>>>0):this.high*t2+(this.low>>>0)},f2.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(p2)){var t=X1(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=X1(Z1(e,6),this.unsigned),a=this,i="";;){var s=a.div(o),l=(a.sub(s.mul(o)).toInt()>>>0).toString(e);if((a=s).isZero())return l+i;for(;l.length<6;)l="0"+l;i=""+l+i}},f2.getHighBits=function(){return this.high},f2.getHighBitsUnsigned=function(){return this.high>>>0},f2.getLowBits=function(){return this.low},f2.getLowBitsUnsigned=function(){return this.low>>>0},f2.getNumBitsAbs=function(){if(this.isNegative())return this.eq(p2)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},f2.isZero=function(){return 0===this.high&&0===this.low},f2.eqz=f2.isZero,f2.isNegative=function(){return!this.unsigned&&this.high<0},f2.isPositive=function(){return this.unsigned||this.high>=0},f2.isOdd=function(){return!(1&~this.low)},f2.isEven=function(){return!(1&this.low)},f2.equals=function(e){return G1(e)||(e=e2(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},f2.eq=f2.equals,f2.notEquals=function(e){return!this.eq(e)},f2.neq=f2.notEquals,f2.ne=f2.notEquals,f2.lessThan=function(e){return this.comp(e)<0},f2.lt=f2.lessThan,f2.lessThanOrEqual=function(e){return this.comp(e)<=0},f2.lte=f2.lessThanOrEqual,f2.le=f2.lessThanOrEqual,f2.greaterThan=function(e){return this.comp(e)>0},f2.gt=f2.greaterThan,f2.greaterThanOrEqual=function(e){return this.comp(e)>=0},f2.gte=f2.greaterThanOrEqual,f2.ge=f2.greaterThanOrEqual,f2.compare=function(e){if(G1(e)||(e=e2(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},f2.comp=f2.compare,f2.negate=function(){return!this.unsigned&&this.eq(p2)?p2:this.not().add(s2)},f2.neg=f2.negate,f2.add=function(e){G1(e)||(e=e2(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,i=65535&e.high,s=e.low>>>16,l=0,u=0,c=0,d=0;return c+=(d+=o+(65535&e.low))>>>16,u+=(c+=r+s)>>>16,l+=(u+=n+i)>>>16,l+=t+a,Q1((c&=65535)<<16|(d&=65535),(l&=65535)<<16|(u&=65535),this.unsigned)},f2.subtract=function(e){return G1(e)||(e=e2(e)),this.add(e.neg())},f2.sub=f2.subtract,f2.multiply=function(e){if(this.isZero())return a2;if(G1(e)||(e=e2(e)),H1)return Q1(H1.mul(this.low,this.high,e.low,e.high),H1.get_high(),this.unsigned);if(e.isZero())return a2;if(this.eq(p2))return e.isOdd()?p2:a2;if(e.eq(p2))return this.isOdd()?p2:a2;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(o2)&&e.lt(o2))return X1(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,i=65535&e.high,s=e.low>>>16,l=65535&e.low,u=0,c=0,d=0,p=0;return d+=(p+=o*l)>>>16,c+=(d+=r*l)>>>16,d&=65535,c+=(d+=o*s)>>>16,u+=(c+=n*l)>>>16,c&=65535,u+=(c+=r*s)>>>16,c&=65535,u+=(c+=o*i)>>>16,u+=t*l+n*s+r*i+o*a,Q1((d&=65535)<<16|(p&=65535),(u&=65535)<<16|(c&=65535),this.unsigned)},f2.mul=f2.multiply,f2.divide=function(e){if(G1(e)||(e=e2(e)),e.isZero())throw Error("division by zero");var t,n,r;if(H1)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Q1((this.unsigned?H1.div_u:H1.div_s)(this.low,this.high,e.low,e.high),H1.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?i2:a2;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return i2;if(e.gt(this.shru(1)))return l2;r=i2}else{if(this.eq(p2))return e.eq(s2)||e.eq(u2)?p2:e.eq(p2)?s2:(t=this.shr(1).div(e).shl(1)).eq(a2)?e.isNegative()?s2:u2:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(p2))return this.unsigned?i2:a2;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=a2}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:Z1(2,o-48),i=X1(t),s=i.mul(e);s.isNegative()||s.gt(n);)s=(i=X1(t-=a,this.unsigned)).mul(e);i.isZero()&&(i=s2),r=r.add(i),n=n.sub(s)}return r},f2.div=f2.divide,f2.modulo=function(e){return G1(e)||(e=e2(e)),H1?Q1((this.unsigned?H1.rem_u:H1.rem_s)(this.low,this.high,e.low,e.high),H1.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},f2.mod=f2.modulo,f2.rem=f2.modulo,f2.not=function(){return Q1(~this.low,~this.high,this.unsigned)},f2.and=function(e){return G1(e)||(e=e2(e)),Q1(this.low&e.low,this.high&e.high,this.unsigned)},f2.or=function(e){return G1(e)||(e=e2(e)),Q1(this.low|e.low,this.high|e.high,this.unsigned)},f2.xor=function(e){return G1(e)||(e=e2(e)),Q1(this.low^e.low,this.high^e.high,this.unsigned)},f2.shiftLeft=function(e){return G1(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Q1(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Q1(0,this.low<<e-32,this.unsigned)},f2.shl=f2.shiftLeft,f2.shiftRight=function(e){return G1(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Q1(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Q1(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},f2.shr=f2.shiftRight,f2.shiftRightUnsigned=function(e){if(G1(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?Q1(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Q1(32===e?t:t>>>e-32,0,this.unsigned)},f2.shru=f2.shiftRightUnsigned,f2.shr_u=f2.shiftRightUnsigned,f2.toSigned=function(){return this.unsigned?Q1(this.low,this.high,!1):this},f2.toUnsigned=function(){return this.unsigned?this:Q1(this.low,this.high,!0)},f2.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},f2.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},f2.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},U1.fromBytes=function(e,t,n){return n?U1.fromBytesLE(e,t):U1.fromBytesBE(e,t)},U1.fromBytesLE=function(e,t){return new U1(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},U1.fromBytesBE=function(e,t){return new U1(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};const h2=n(V1),m2=h2||e({__proto__:null,default:h2},[V1]);function g2(e){return m2.fromString(e,!0,16)}const v2=g2("c3a5c85c97cb3127"),b2=g2("b492b66fbe98f273"),y2=g2("9ae16a3b2f90404f");function x2(e){return e.xor(e.shru(47))}function w2(e,t,n){const r=e.slice(t,t+n);return m2.fromBytes(Array.from(r),!0,!0)}function k2(e,t){return w2(e,t,8)}function S2(e,t){return w2(e,t,4)}function C2(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function E2(e,t,n=g2("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let o=t.xor(r).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function I2(e,t,n,r){return function(e,t,n,r,o,a){o=o.add(e),a=C2(a.add(o).add(r),21);const i=o;return o=(o=o.add(t)).add(n),a=a.add(C2(o,44)),[o.add(r),a.add(i)]}(k2(e,t),k2(e,t+8),k2(e,t+16),k2(e,t+24),n,r)}function N2(e,t=e.length){const n=m2.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=y2.add(2*t),r=k2(e,0).add(y2),o=k2(e,t-8);return E2(C2(o,37).mul(n).add(r),C2(r,25).add(o).mul(n),n)}if(t>=4){const n=y2.add(2*t);return E2(S2(e,0).shl(3).add(t),S2(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return x2(y2.mul(n).xor(v2.mul(r))).mul(y2)}return y2}(e,t):function(e,t=e.length){const n=y2.add(2*t),r=k2(e,0).mul(b2),o=k2(e,8),a=k2(e,t-8).mul(n),i=k2(e,t-16).mul(y2);return E2(C2(r.add(o),43).add(C2(a,30)).add(i),r.add(C2(o.add(y2),18)).add(a),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=y2.add(2*t),r=k2(e,0).mul(y2),o=k2(e,8),a=k2(e,t-8).mul(n),i=k2(e,t-16).mul(y2),s=C2(r.add(o),43).add(C2(a,30)).add(i),l=E2(s,r.add(C2(o.add(y2),18)).add(a),n),u=k2(e,16).mul(n),c=k2(e,24),d=s.add(k2(e,t-32)).mul(n),p=l.add(k2(e,t-24)).mul(n);return E2(C2(u.add(c),43).add(C2(d,30)).add(p),u.add(C2(c.add(r),18)).add(d),n)}(e,t);let r=n,o=n.mul(b2).add(113),a=x2(o.mul(y2).add(113)).mul(y2),i=[m2.UZERO,m2.UZERO],s=[m2.UZERO,m2.UZERO];r=r.mul(y2).add(k2(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=C2(r.add(o).add(i[0]).add(k2(e,l+8)),37).mul(b2),o=C2(o.add(i[1]).add(k2(e,l+48)),42).mul(b2),r=r.xor(s[1]),o=o.add(i[0]).add(k2(e,l+40)),a=C2(a.add(s[0]),33).mul(b2),i=I2(e,l,i[1].mul(b2),r.add(s[0])),s=I2(e,l+32,a.add(s[1]),o.add(k2(e,l+16))),[a,r]=[r,a],l+=64}while(l!==u);const d=b2.add(a.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),i[0]=i[0].add(s[0]),s[0]=s[0].add(i[0]),r=C2(r.add(o).add(i[0]).add(k2(e,l+8)),37).mul(d),o=C2(o.add(i[1]).add(k2(e,l+48)),42).mul(d),r=r.xor(s[1].mul(9)),o=o.add(i[0].mul(9).add(k2(e,l+40))),a=C2(a.add(s[0]),33).mul(d),i=I2(e,l,i[1].mul(d),r.add(s[0])),s=I2(e,l+32,a.add(s[1]),o.add(k2(e,l+16))),[a,r]=[r,a],E2(E2(i[0],s[0],d).add(x2(o).mul(v2)).add(a),E2(i[1],s[1],d).add(r),d)}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T2(e,t){return"string"===t?M2(e):R2([e],t)}function R2(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=cZ(e)),BZ().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function _2(){return BZ().platform.now()}function $2(e,t){return BZ().platform.fetch(e,t)}function M2(e,t="utf-8"){return t=t||"utf-8",BZ().platform.encode(e,t)}function O2(e,t="utf-8"){return t=t||"utf-8",BZ().platform.decode(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class A2{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new P2)}profileKernel(e,t,n){let r;const o=()=>{r=n()};let a;const i=_2();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();for(const e of r)e.dataSync();a=Promise.resolve({kernelMs:_2()-i})}if(BZ().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let s=0;s<r.length;s++){const t=r[s];t.data().then((n=>{L2(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:o,extraInfo:a}=e;n.forEach((e=>{Promise.all([e.data(),r,a]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],o,n[2])}))}))}}function L2(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class P2{logKernelProfile(e,t,n,r,o,a){const i="number"==typeof r?mZ(`${r}ms`,9):r.error,s=mZ(e,25),l=t.rank,u=t.size,c=mZ(t.shape.toString(),14);let d="";for(const p in o){const e=o[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+=`${p}: ${r}D ${r>0?n:""} `}}console.log(`%c${s}\t%c${i}\t%c${l}D ${c}\t%c${u}\t%c${d}\t%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2(e,t,n,r){const o=TZ(t),a=function(e,t,n,r){const o=dZ(t),a=r[r.length-1],i=new Array(a).fill(0),s=t.length,l="complex64"===n?j2(e):e;if(s>1)for(let u=0;u<o/a;u++){const e=u*a;for(let t=0;t<a;t++)i[t]=Math.max(i[t],F2(l[e+t],0,n).length)}return i}(e,t,n,o),i=t.length,s=B2(e,t,n,o,a),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map((e=>"    "+e)).join("\n")),l.join("\n")}function F2(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:CZ(e)?`'${e}'`:"bool"===n?z2(e):parseFloat(e.toFixed(7)).toString(),mZ(r,t)}function z2(e){return 0===e?"false":"true"}function B2(e,t,n,r,o,a=!0){const i="complex64"===n?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===n){return[F2(j2(e)[0],0,n)]}return"bool"===n?[z2(e[0])]:[e[0].toString()]}if(1===l){if(s>20){const t=3*i;let r=Array.from(e.slice(0,t)),a=Array.from(e.slice((s-3)*i,s*i));return"complex64"===n&&(r=j2(r),a=j2(a)),["["+r.map(((e,t)=>F2(e,o[t],n))).join(", ")+", ..., "+a.map(((e,t)=>F2(e,o[s-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?j2(e):Array.from(e)).map(((e,t)=>F2(e,o[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*i,p=[];if(s>20){for(let t=0;t<3;t++){const r=t*d,a=r+d;p.push(...B2(e.slice(r,a),u,n,c,o,!1))}p.push("...");for(let t=s-3;t<s;t++){const r=t*d,a=r+d;p.push(...B2(e.slice(r,a),u,n,c,o,t===s-1))}}else for(let m=0;m<s;m++){const t=m*d,r=t+d;p.push(...B2(e.slice(t,r),u,n,c,o,m===s-1))}const f=2===l?",":"";p[0]="["+p[0]+f;for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+f;let h=",\n";for(let m=2;m<l;m++)h+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(a?"":h),p}function j2(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class W2{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=dZ(e),null!=n){const e=n.length;sZ(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||wZ(t,this.size),this.strides=TZ(e)}set(e,...t){0===t.length&&(t=[0]),sZ(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const r of e){if(r<0||r>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return V2().makeTensor(this.values,this.shape,this.dtype)}}let V2=null,H2=null;class U2{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=dZ(e),this.strides=TZ(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return H2.buffer(this.shape,this.dtype,e)}bufferSync(){return H2.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return _Z(this.shape,e,"complex64"===this.dtype)}arraySync(){return _Z(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=V2().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>O2(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),V2().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=V2().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>O2(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await V2().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(V2().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return H2.print(this,e)}clone(){return this.throwIfDisposed(),H2.clone(this)}toString(e=!1){return D2(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),H2.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),V2().makeVariable(this,e,t,n)}}Object.defineProperty(U2,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),HZ("Tensor",(()=>U2));class G2 extends U2{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!pZ(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);V2().disposeTensor(this),this.dataId=e.dataId,V2().incRef(this,null)}dispose(){V2().disposeVariable(this),this.isDisposedInternal=!0}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var q2,Y2,K2,X2,Q2,Z2,J2,e3,t3,n3;Object.defineProperty(G2,Symbol.hasInstance,{value:e=>e instanceof U2&&null!=e.assign&&e.assign instanceof Function}),(Y2=q2||(q2={})).R0="R0",Y2.R1="R1",Y2.R2="R2",Y2.R3="R3",Y2.R4="R4",Y2.R5="R5",Y2.R6="R6",(X2=K2||(K2={})).float32="float32",X2.int32="int32",X2.bool="int32",X2.complex64="complex64",(Z2=Q2||(Q2={})).float32="float32",Z2.int32="int32",Z2.bool="bool",Z2.complex64="complex64",(e3=J2||(J2={})).float32="float32",e3.int32="float32",e3.bool="float32",e3.complex64="complex64",(n3=t3||(t3={})).float32="complex64",n3.int32="complex64",n3.bool="complex64",n3.complex64="complex64";const r3={float32:J2,int32:K2,bool:Q2,complex64:t3};function o3(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return r3[e][t]}function a3(e){return o3(e,"int32")}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i3(e,t){if(e.dtype===t.dtype)return[e,t];const n=o3(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s3(e){const t=[];return l3(e,t,new Set),t}function l3(e,t,n){if(null==e)return;if(e instanceof U2)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!=typeof r)return;var r;
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o=e;for(const a in o){const e=o[a];n.has(e)||(n.add(e),l3(e,t,n))}}function u3(e){return null!=e.kernelName}class c3{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class d3{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new c3}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void(await this.setBackend(n))}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(L1(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new A2(this.backendInstance),!0}setupRegisteredKernels(){B1(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){B1(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof nZ||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,L1(`Initialization of backend ${e} failed`),L1(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return L1(`Initialization of backend ${e} failed`),L1(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:o}=this.initializeBackend(n);if(o||r)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,o,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return d3.nextTensorId++}nextVariableId(){return d3.nextVariableId++}clone(e){const t=f3.runKernel(XJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return f3.runKernel(dJ,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=F1(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let o=0;n.forEach((e=>{o+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-o-a;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),o=this.state.numBytes,a=this.state.numTensors;let i,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=u3(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(u3(e)){const{kernelName:t,inputs:o,attrs:a}=e;null==this.backendName&&this.backend;const l=F1(t,this.backendName);sZ(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),i=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:o,attrs:a,backend:this.backend});const i=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,i);const u=i.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,o,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,o=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};i=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,o)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=u3(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,(()=>i())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=i()})),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=z1(e);if(null!=r){const e=r.inputsToSave||[],o=r.outputsToSave||[];let a;r.saveAllInputs?(sZ(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const i=n.filter(((e,t)=>o[t]));return a.concat(i)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let o=e;"string"===n&&CZ(e[0])&&(o=e.map((e=>M2(e))));const a=r.write(o,t,n),i=new U2(t,n,a,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){const e=this.state.tensorInfo.get(a),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(o);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,r){const o={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:o}=e,a=new U2(r,o,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const o=new G2(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*SZ(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof G2||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*SZ(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,o,a){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=z1(e);null!=s&&(r=s.gradFunc),null!=r&&(i.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=MZ(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],o,a))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=s3(e),n=new Set(t.map((e=>e.id)));for(let o=0;o<this.state.activeScope.track.length;o++){const e=this.state.activeScope.track[o];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(sZ(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const o=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));sZ(o instanceof U2,(()=>"The result y returned by f() must be a tensor."));const a=function(e,t,n){const r={},o={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],a=n.inputs;for(const e in a){const i=a[e];let s=!1;for(let e=0;e<t.length;e++)if(r[i.id]){n.outputs.forEach((e=>r[e.id]=!0)),s=!0,o[n.id]=!0;break}if(s)break}}const a={};a[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(a[t.outputs[e].id]){for(const e in n)a[n[e].id]=!0,i[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(o[t.id]&&i[t.id]){const e={};for(const o in t.inputs){const n=t.inputs[o];r[n.id]&&(e[o]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,o);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[o.id]=null==n?function(e){const t=$Z(dZ(e),"float32");return f3.makeTensor(t,e,"float32")}(o.shape):n,function(e,t,n,r){for(let o=t.length-1;o>=0;o--){const a=t[o],i=[];if(a.outputs.forEach((t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)})),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const s=a.gradient(i);for(const t in a.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);const o=n((()=>s[t]()));if("float32"!==o.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${o.dtype}'`);const i=a.inputs[t];if(!pZ(o.shape,i.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${t}' has shape '${o.shape}', which does not match the shape of the input '${i.shape}'`);if(null==e[i.id])e[i.id]=o;else{const t=e[i.id];e[i.id]=r(t,o),t.dispose()}}}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(e,a,(e=>this.tidy(e)),h3);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:o,grads:r}}))}customGrad(e){return sZ(IZ(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;sZ(t.every((e=>e instanceof U2)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};t.forEach(((e,t)=>{r[t]=e}));return this.runKernelFunc({forwardFunc:(r,o)=>(n=e(...t,o),sZ(n.value instanceof U2,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),sZ(IZ(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const o=n.gradFunc(e,r),a=Array.isArray(o)?o:[o];sZ(a.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),sZ(a.every((e=>e instanceof U2)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return a.forEach(((e,t)=>{i[t]=()=>e})),i},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=_2(),n=await this.backend.time(e);return n.wallMs=_2()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new c3;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function p3(){const e=VZ();if(null==e._tfengine){const t=new FZ(e);e._tfengine=new d3(t)}var t;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */return t=e._tfengine.ENV,WZ=t,V2=()=>e._tfengine,e._tfengine}d3.nextTensorId=0,d3.nextVariableId=0;const f3=p3();function h3(e,t){const n={a:e,b:t};return f3.runKernel(YZ,n)}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m3(e){if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function g3(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v3=BZ();
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function b3(e,t){let n=e;if(kZ(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||kZ(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&BZ().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&y3(e,r,[]),r}function y3(e,t,n){if(n=n||[],!Array.isArray(e)&&!kZ(e))return void sZ(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));sZ(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),sZ(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let o=0;o<e.length;++o)y3(e[o],r,n.concat(o))}function x3(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function w3(e,t,n,r="numeric"){if(e instanceof U2)return x3(r,e.dtype,t,n),e;let o=EZ(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),x3(r,o,t,n),null==e||!kZ(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const a=b3(e,o);kZ(e)||Array.isArray(e)||(e=[e]);const i="string"!==o?R2(e,o):cZ(e,[],!0);return f3.makeTensor(i,a,o)}function k3(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,o)=>w3(e,`${t}[${o}]`,n,r)))}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */v3.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),v3.registerFlag("IS_BROWSER",(()=>g3())),v3.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),v3.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),v3.registerFlag("PROD",(()=>!1)),v3.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>v3.getBool("DEBUG"))),v3.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),v3.registerFlag("IS_TEST",(()=>!1)),v3.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),v3.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),v3.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1)),v3.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),v3.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const S3="__op";function C3(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=S3;const o=(...e)=>{f3.startScope(n);try{const t=r(...e);return PZ(t)&&console.error("Cannot return a Promise inside of tidy."),f3.endScope(t),t}catch(t){throw f3.endScope(null),t}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E3=C3({complex_:function(e,t){const n=w3(e,"real","complex"),r=w3(t,"imag","complex");lZ(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const o={real:n,imag:r};return f3.runKernel(hJ,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I3(e,t,n,r){if(null==r&&(r=EZ(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!kZ(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){OZ(t);const e=dZ(t),r=dZ(n);sZ(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let o=0;o<n.length;++o){const e=n[o],r=o!==n.length-1||e!==dZ(t.slice(o));sZ(n[o]===t[o]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return kZ(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?R2(e,r):cZ(e,[],!0),f3.makeTensor(e,t,r)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N3(e,t,n){return I3(e,t,b3(e,n),n)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T3={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R3(e,t){const n={};let r,o=0;for(const a of t){const t=a.name,i=a.dtype,s=a.shape,l=dZ(s);let u;if("quantization"in a){const n=a.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${a.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${a.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==i)throw new Error(`Weight ${a.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${i}.`)}const s=T3[n.dtype],c=e.slice(o,o+l*s),d="uint8"===n.dtype?new Uint8Array(c):new Uint16Array(c);if("float32"===i)if("uint8"===n.dtype||"uint16"===n.dtype){u=new Float32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===r&&(r=B3()),u=r(d)}else{if("int32"!==i)throw new Error(`Unsupported dtype in weight '${t}': ${i}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);u=new Int32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=Math.round(t*n.scale+n.min)}}o+=l*s}else if("string"===i){const t=dZ(a.shape);u=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(o,o+4))[0];o+=4;const n=new Uint8Array(e.slice(o,o+t));u.push(n),o+=t}}else{const r=T3[i],a=e.slice(o,o+l*r);if("float32"===i)u=new Float32Array(a);else if("int32"===i)u=new Int32Array(a);else if("bool"===i)u=new Uint8Array(a);else{if("complex64"!==i)throw new Error(`Unsupported dtype in weight '${t}': ${i}`);{u=new Float32Array(a);const e=new Float32Array(u.length/2),r=new Float32Array(u.length/2);for(let t=0;t<e.length;t++)e[t]=u[2*t],r[t]=u[2*t+1];const o=N3(e,s,"float32"),i=N3(r,s,"float32");n[t]=E3(o,i),o.dispose(),i.dispose()}}o+=l*r}"complex64"!==i&&(n[t]=N3(u,s,i))}return n}function _3(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let o=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}const $3="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function M3(e){return $3?Buffer.byteLength(e):new Blob([e]).size}function O3(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function A3(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function L3(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function P3(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),r}async function D3(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),P3(e,n,r)}function F3(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:M3(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:M3(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function z3(e){const t=[];for(const n of e)t.push(...n.weights);return t}function B3(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;!(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const o=new ArrayBuffer(4*r.length),a=new Uint32Array(o);for(let i=0;i<r.length;i++){const o=r[i],s=e[n[o>>10]+(1023&o)]+t[o>>10];a[i]=s}return new Float32Array(o)}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j3{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==j3.instance&&(j3.instance=new j3),j3.instance}static registerSaveRouter(e){j3.getInstance().saveRouters.push(e)}static registerLoadRouter(e){j3.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return j3.getHandlers(e,"save")}static getLoadHandlers(e,t){return j3.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?j3.getInstance().loadRouters:j3.getInstance().saveRouters).forEach((t=>{const o=t(e,n);null!==o&&r.push(o)})),r}}const W3="tensorflowjs",V3="models_store",H3="model_info_store";function U3(){if(!BZ().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function G3(e){const t=e.result;t.createObjectStore(V3,{keyPath:"modelPath"}),t.createObjectStore(H3,{keyPath:"modelPath"})}class q3{constructor(e){if(this.indexedDB=U3(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(W3,1);r.onupgradeneeded=()=>G3(r),r.onsuccess=()=>{const o=r.result;if(null==t){const t=o.transaction(V3,"readonly"),r=t.objectStore(V3).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return o.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(o.close(),n(r.error)),t.oncomplete=()=>o.close()}else{const r=F3(t),a=o.transaction(H3,"readwrite");let i=a.objectStore(H3);const s=i.put({modelPath:this.modelPath,modelArtifactsInfo:r});let l;s.onsuccess=()=>{l=o.transaction(V3,"readwrite");const s=l.objectStore(V3).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});s.onsuccess=()=>e({modelArtifactsInfo:r}),s.onerror=e=>{i=a.objectStore(H3);const t=i.delete(this.modelPath);t.onsuccess=()=>(o.close(),n(s.error)),t.onerror=e=>(o.close(),n(s.error))}},s.onerror=e=>(o.close(),n(s.error)),a.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}}},r.onerror=e=>n(r.error)}))}}q3.URL_SCHEME="indexeddb://";const Y3=e=>{return BZ().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(q3.URL_SCHEME)?(t=e.slice(q3.URL_SCHEME.length),new q3(t)):null;var t};j3.registerSaveRouter(Y3),j3.registerLoadRouter(Y3);class K3{constructor(){this.indexedDB=U3()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(W3,1);n.onupgradeneeded=()=>G3(n),n.onsuccess=()=>{const r=n.result,o=r.transaction(H3,"readonly"),a=o.objectStore(H3).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(r.close(),t(a.error)),o.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(q3.URL_SCHEME)?t.slice(q3.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(W3,1);r.onupgradeneeded=()=>G3(r),r.onsuccess=()=>{const o=r.result,a=o.transaction(H3,"readwrite"),i=a.objectStore(H3),s=i.get(e);let l;s.onsuccess=()=>{if(null==s.result)return o.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=i.delete(e),a=()=>{l=o.transaction(V3,"readwrite");const r=l.objectStore(V3).delete(e);r.onsuccess=()=>t(s.result.modelArtifactsInfo),r.onerror=e=>n(s.error)};r.onsuccess=a,r.onerror=e=>(a(),o.close(),n(s.error))}},s.onerror=e=>(o.close(),n(s.error)),a.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}},r.onerror=e=>n(r.error)}))}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X3="/",Q3="tensorflowjs_models",Z3="info",J3="model_topology",e4="weight_specs",t4="weight_data",n4="model_metadata";function r4(e){return{info:[Q3,e,Z3].join(X3),topology:[Q3,e,J3].join(X3),weightSpecs:[Q3,e,e4].join(X3),weightData:[Q3,e,t4].join(X3),modelMetadata:[Q3,e,n4].join(X3)}}function o4(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function a4(e){const t=e.split(X3);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(X3)}class i4{constructor(e){if(!BZ().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=r4(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),o=F3(e);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if($3)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:o}}catch(t){throw o4(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${o.modelTopologyBytes}, weightSpecsBytes=${o.weightSpecsBytes}, weightDataBytes=${o.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(null!=o){const e=JSON.parse(o);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(null==a)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if($3){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(a),t}}i4.URL_SCHEME="localstorage://";const s4=e=>{return BZ().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(i4.URL_SCHEME)?(t=e.slice(i4.URL_SCHEME.length),new i4(t)):null;var t};j3.registerSaveRouter(s4),j3.registerLoadRouter(s4);class l4{constructor(){sZ(BZ().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),sZ("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=Q3+X3,n=X3+Z3;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);if(o.startsWith(t)&&o.endsWith(n)){e[a4(o)]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){var t;const n=r4(e=(t=e).startsWith(i4.URL_SCHEME)?t.slice(i4.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return o4(n),r}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u4="://";class c4{constructor(){this.managers={}}static getInstance(){return null==c4.instance&&(c4.instance=new c4),c4.instance}static registerManager(e,t){sZ(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(u4)&&(e=e.slice(0,e.indexOf(u4))),sZ(e.length>0,(()=>"scheme must not be an empty string."));const n=c4.getInstance();sZ(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=c4.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(c4.getInstance().managers)}}function d4(e){if(-1===e.indexOf(u4))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${c4.getSchemes().join(",")}`);return{scheme:e.split(u4)[0],path:e.split(u4)[1]}}async function p4(e,t,n=!1){sZ(e!==t,(()=>`Old path and new path are the same: '${e}'`));const r=j3.getLoadHandlers(e);sZ(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),sZ(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`));const o=r[0],a=j3.getSaveHandlers(t);sZ(a.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),sZ(a.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`));const i=a[0],s=d4(e).scheme,l=d4(e).path,u=s===d4(e).scheme,c=await o.load();n&&u&&await c4.getManager(s).removeModel(l);const d=await i.save(c);return n&&!u&&await c4.getManager(s).removeModel(l),d.modelArtifactsInfo}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class f4{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){window&&BZ().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}}if(BZ().get("IS_BROWSER")){BZ().setPlatform("browser",new f4);try{c4.registerManager(i4.URL_SCHEME,new l4)}catch(Sxe){}try{c4.registerManager(q3.URL_SCHEME,new K3)}catch(Sxe){}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h4=()=>require("node-fetch");let m4;class g4{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=BZ().global.fetch?BZ().global.fetch(e,t):(null==m4&&(m4=h4()),m4(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function v4(e,t="float32",n){return t=t||"float32",OZ(e),new W2(e,t,n)}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */BZ().get("IS_NODE")&&!BZ().get("IS_BROWSER")&&BZ().setPlatform("node",new g4);const b4=C3({cast_:function(e,t){const n=w3(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},o={dtype:t};return f3.runKernel(dJ,r,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y4=C3({clone_:function(e){const t={x:w3(e,"x","clone","string_or_numeric")};return f3.runKernel(XJ,t)}});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x4(e,t=!1){console.log(e.toString(t))}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */p3();H2={buffer:v4,cast:b4,clone:y4,print:x4};function w4(e){return new Promise((e=>setTimeout(e))).then(e)}class k4{constructor(e){if(!BZ().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(k4.URL_SCHEME)&&(e=e.slice(k4.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=L3(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=r,await w4((()=>o.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await w4((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:F3(e)}}}}k4.URL_SCHEME="downloads://";class S4{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),o=r.modelTopology;if(null==o)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:o});const a=D3(r,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const a of e)t.push(...a.weights),n.push(...a.paths);const r=this.checkManifestAndWeightFiles(e),o=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(o).then((e=>[t,O3(e)]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const o=new FileReader;o.onload=e=>{const t=e.target.result;n(t)},o.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>A3(e.name))),r={};for(const o of e)o.paths.forEach((e=>{const o=A3(e);if(-1!==t.indexOf(o))throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(t.push(o),-1===n.indexOf(o))throw new Error(`Weight file with basename '${o}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(o)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function C4(e,t,n,r){var o,a,i;sZ(null!=(o=e)&&Array.isArray(o)&&o.length>0,(()=>"promises must be a none empty array")),i=r=null==r?1:r,sZ((a=n=null==n?0:n)>=0&&a<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${a}`)),sZ(i>=0&&i<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${i}`)),sZ(i>=a,(()=>`startFraction must be no more than endFraction, but got startFraction ${a} and endFraction ${i}`));let s=0;return Promise.all(e.map((o=>(o.then((o=>{const a=n+ ++s/e.length*(r-n);return t(a),o})),o))))}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function E4(e,t){null==t&&(t={});const n=null==t.fetchFunc?BZ().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),o=(null==t.onProgress?await Promise.all(r):await C4(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(o):await C4(o,t.onProgress,.5,1)}function I4(e){return async(t,n="",r)=>{const o=t.map((()=>!1)),a={},i=null!=r?r.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=T3[l]*dZ(e.shape),c=()=>{o[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),i[n]=!0)})):c(),s.push(e.name),n+=u}))})),!i.every((e=>e))){const e=r.filter(((e,t)=>!i[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}const l=o.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length;let r=0;for(let t=0;t<n;t++)r+=c[p+t].byteLength;const o=new ArrayBuffer(r),i=new Uint8Array(o);let s=0;for(let t=0;t<n;t++){const e=new Uint8Array(c[p+t]);i.set(e,s),s+=e.byteLength}a[e].forEach((e=>{const t=R3(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),p+=n})),d}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */j3.registerSaveRouter((e=>BZ().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(k4.URL_SCHEME)?function(e="model"){return new k4(e)}(e.slice(k4.URL_SCHEME.length)):null));class N4{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(sZ("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=BZ().platform.fetch,sZ(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&sZ(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=L3(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:F3(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(kxe){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return D3(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),o=n>t?e.substring(n):"";return[r+"/",o]}(t),o=this.weightPathPrefix||n,a=z3(e),i=[],s=[];for(const l of e)for(const e of l.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):i.push(o+e+r);this.weightUrlConverter&&i.push(...await Promise.all(s));return[a,O3(await E4(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function T4(e){return null!=e.match(N4.URL_SCHEME_REGEX)}N4.URL_SCHEME_REGEX=/^https?:\/\//;const R4=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>T4(e))):T4(e),n)return _4(e,t)}return null};function _4(e,t){return new N4(e,t)}j3.registerSaveRouter(R4),j3.registerLoadRouter(R4);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class $4{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class M4{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class O4{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function A4(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new $4(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $4({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $4({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const L4=Object.freeze(Object.defineProperty({__proto__:null,browserFiles:function(e){return new S4(e)},browserHTTPRequest:function(e,t){return _4(e,t)},concatenateArrayBuffers:O3,copyModel:async function(e,t){return p4(e,t,!1)},decodeWeights:R3,encodeWeights:async function(e,t){const n=[],r=[],o=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<o.length;++a){const i=o[a],s=Array.isArray(e)?e[a].tensor:e[i];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${i}': ${s.dtype}`);const l={name:i,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let o=0;for(let a=0;a<t.length;a++){const e=t[a],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,o),o+=4,r.set(e,o),o+=e.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:_3(await Promise.all(r)),specs:n}},fromMemory:function(e,t,n,r){return new O4(A4(...arguments))},fromMemorySync:A4,getLoadHandlers:(e,t)=>j3.getLoadHandlers(e,t)
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,getModelArtifactsForJSON:D3,getModelArtifactsForJSONSync:P3,getModelArtifactsInfoForJSON:F3,getSaveHandlers:e=>j3.getSaveHandlers(e),getWeightSpecs:z3,http:_4,isHTTPScheme:T4,listModels:async function(){const e=c4.getSchemes(),t={};for(const n of e){const e=await c4.getManager(n).listModels();for(const r in e){t[n+u4+r]=e[r]}}return t},loadWeights:async function(e,t="",n,r){return I4((e=>E4(e,{requestInit:r})))(e,t,n)},moveModel:async function(e,t){return p4(e,t,!0)},registerLoadRouter:e=>j3.registerLoadRouter(e),registerSaveRouter:e=>j3.registerSaveRouter(e),removeModel:async function(e){const t=d4(e);return c4.getManager(t.scheme).removeModel(t.path)},weightsLoaderFactory:I4,withSaveHandler:function(e){return new M4(e)},withSaveHandlerSync:function(e){return new M4(e)}},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P4=C3({matMul_:function(e,t,n=!1,r=!1){let o=w3(e,"a","matMul"),a=w3(t,"b","matMul");[o,a]=i3(o,a);const i={a:o,b:a},s={transposeA:n,transposeB:r};return f3.runKernel(sJ,i,s)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D4=C3({oneHot_:function(e,t,n=1,r=0,o="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:w3(e,"indices","oneHot","int32")},i={dtype:o,depth:t,onValue:n,offValue:r};return f3.runKernel(T0,a,i)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F4(){return f3}function z4(e,t){return f3.tidy(e,t)}function B4(e){return f3.keep(e)}function j4(){return f3.ready()}function W4(e,t,n=1){return f3.registerBackend(e,t,n)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V4=C3({imag_:function(e){const t={input:w3(e,"input","imag")};return f3.runKernel(ZJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H4=C3({neg_:function(e){const t={x:w3(e,"x","neg")};return f3.runKernel(k0,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U4=C3({real_:function(e){const t={input:w3(e,"input","real")};return f3.runKernel(D0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G4=C3({transpose_:function(e,t,n){const r=w3(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),sZ(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{sZ(e>=0&&e<r.rank,(()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`))})),r.rank<=1)return r.clone();const o={x:r},a={perm:t};return"complex64"===r.dtype?z4((()=>{let e=U4(r),t=V4(r);return e=f3.runKernel(E1,{x:e},a),t=f3.runKernel(E1,{x:t},a),n&&(t=H4(t)),E3(e,t)})):f3.runKernel(E1,o,a)}});
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q4(e,t){const n=e.length,r=[];for(let o=0;o<n;o++){const a=n-1-o,i=e[a]||1;(t[t.length-1-o]||1)>1&&1===i&&r.unshift(a)}return r}function Y4(e,t){const n=[];for(let r=0;r<t.length;r++){const o=e[e.length-r-1],a=t.length-r-1,i=t[a];(null==o||1===o&&i>1)&&n.unshift(a)}return n}function K4(e,t){const n=[],r=Math.max(e.length,t.length);for(let o=0;o<r;o++){let r=e[e.length-o-1];null==r&&(r=1);let a=t[t.length-o-1];if(null==a&&(a=1),1===r)n.unshift(a);else if(1===a)n.unshift(r);else{if(r!==a){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(r)}}return n}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===dZ(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const o=t.shape,a=o[o.length-1];let i=1;for(let d=0;d<o.length-1;++d)i*=o[d];const s=e.shape,l=o.slice();l.pop();let u=1;for(let d=a;d<n;++d)u*=s[d],l.push(s[d]);const c=[...TZ(e.shape).map((e=>e/u)),1].slice(0,a);return[l,i,u,c]}function Q4(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${o}.`;if(n.rank<o)throw new Error(a+` update.rank < ${o}. `);if(e.length<r+(n.rank-o))throw new Error(a+` Output shape length < ${r+(n.rank-o)}`);if(n.rank!==o+e.length-r)throw new Error(a+" update.rank != "+(o+e.length-r));for(let i=0;i<o;++i)if(n.shape[i]!==t.shape[i])throw new Error(a+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${t.shape[i]}).`);for(let i=0;i<n.rank-o;++i)if(n.shape[i+o]!==e[i+r])throw new Error(a+` updates.shape[${i+o}] (${n.shape[i+o]}) != shape[${i+o}] (${e[i+o]})`)}function Z4(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}Q4(n,t,e)}function J4(e,t,n){const r=t.shape.length,o=r>1?t.shape[r-1]:1,a=n.length;let i=1;for(let l=o;l<a;++l)i*=n[l];const s=o<1?1:o;return{sliceRank:o,numUpdates:dZ(t.shape)/s,sliceSize:i,strides:[...TZ(n.slice(0,o)),1],outputSize:dZ(n)}}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e5(e,t,n){const r=e.shape.length;sZ(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),sZ(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let o=0;o<r;++o)sZ(t[o]+n[o]<=e.shape[o],(()=>`Error in slice${r}D: begin[${o}] + size[${o}] (${t[o]+n[o]}) would overflow input.shape[${o}] (${e.shape[o]})`))}function t5(e,t,n){const r=[];for(let o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function n5(e,t,n,r){const o=[...e];for(let a=o.length;a<r.length;a++)o.push(1);for(let a=0;a<n;a++)0===a?o[t]=1:(o.splice(t,0,1),o.pop());return o}function r5(e,t,n){return n<=e?n:n-(t-1)}function o5(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function a5(e,t,n,r,o){const a=[...o],i=o5(n,t);for(let s=0;s<a.length;s++)if(i.indexOf(s)>-1)a[s]=0;else{const o=r5(t,n,s);let i=r[o];e&1<<o&&(i=0),a[s]=i}return a}function i5(e,t,n,r,o){const a=[...o],i=o5(n,t);for(let s=0;s<a.length;s++)if(i.indexOf(s)>-1)a[s]=Number.MAX_SAFE_INTEGER;else{const o=r5(t,n,s);let i=r[o];e&1<<o&&(i=Number.MAX_SAFE_INTEGER),a[s]=i}for(let s=0;s<a.length;s++){const e=o[s];a[s]<0&&(a[s]+=e),a[s]=oZ(0,a[s],o[s])}return a}function s5(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function l5(e,t,n,r,o,a){let i=t[o];const s=n[o]||1;(e&1<<o||a&1<<o||null==i)&&(i=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[o];return i<0&&(i+=l),i=oZ(0,i,l-1),i}function u5(e,t,n,r,o,a){let i=t[o];const s=n[o]||1;(e&1<<o||a&1<<o||null==i)&&(i=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[o];return i<0&&(i+=l),i=s>0?oZ(0,i,l):oZ(-1,i,l-1),i}function c5(e,t,n){let r=n.length;for(let o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(let o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function d5(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function p5(e,t,n){let r;const o=e.shape.length;let a;return r="number"==typeof t?[t,...new Array(o-1).fill(0)]:t.length<o?t.concat(new Array(o-t.length).fill(0)):t.slice(),r.forEach((e=>{sZ(-1!==e,(()=>"slice() does not support negative begin indexing."))})),a=null==n?new Array(o).fill(-1):"number"==typeof n?[n,...new Array(o-1).fill(-1)]:n.length<o?n.concat(new Array(o-n.length).fill(-1)):n,a=a.map(((t,n)=>t>=0?t:(sZ(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,a]}function f5(e,t,n,r,o,a,i,s,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=i&&i&i-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:o,endMask:a,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};for(let y=0;y<d.dims;y++)c&&1<<y&s&&d.numAddAxisAfterEllipsis++,1<<y&i&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const o=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<o;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let f=!0,h=!0,m=!0;const g=[],v=[];for(let y=0;y<e.length;++y){if(0===p.strides[y])throw Error(`strides[${y}] must be non-zero`);const t=!!(p.shrinkAxisMask&1<<y),n=e[y];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<y,p.endMask&1<<y],o=[p.strides[y]>0?0:-1,p.strides[y]>0?n:n-1];if(t&&p.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[y];const a=!!(p.beginMask&1<<y&&p.endMask&1<<y);if(p.beginValid&&p.endValid){if(t){const e=p.begin[y]<0?n+p.begin[y]:p.begin[y];if(p.begin[y]=e,p.end[y]=p.begin[y]+1,e<0||e>=n)throw Error(`slice index ${p.begin[y]} of dimension ${y} out of bounds.`)}else p.begin[y]=h5(p.begin[y],0,p.strides[y],n,r,o),p.end[y]=h5(p.end[y],1,p.strides[y],n,r,o);const e=1===p.strides[y]&&0===p.begin[y]&&p.end[y]===n;f=f&&e,h=h&&(0===y&&1===p.strides[y]||e)}else f=f&&1===p.strides[y]&&a,h=h&&(0===y&&1===p.strides[y]||a);let i,s=!1;if(p.beginValid&&p.endValid?(i=p.end[y]-p.begin[y],s=!0):t?(i=1,s=!0):a&&n>=0&&(i=p.strides[y]<0?-n:n,s=!0),s){let e;e=0===i||i<0!=p.strides[y]<0?0:Math.trunc(i/p.strides[y])+(i%p.strides[y]!=0?1:0),g.push(e)}else g.push(-1)}for(let y=0;y<p.finalShapeGatherIndices.length;++y){const e=p.finalShapeGatherIndices[y];e>=0?v.push(g[e]):-2===e&&v.push(1)}const b=v.filter(((e,t)=>-2!==p.finalShapeGatherIndices[t]));return{finalShapeSparse:b,finalShape:v,isIdentity:f,sliceDim0:h,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function h5(e,t,n,r,o,a){if(o[t])return n>0?a[t]:a[t+1&1];{const t=e<0?r+e:e;return t<a[0]?a[0]:t>a[1]?a[1]:t}}const m5=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:e5,computeFlatOffset:d5,computeOutShape:t5,getNormalizedAxes:function(e,t,n,r,o,a,i,s,l){const u=e.length;let c=new Array(u),d=new Array(u),p=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=a5(i,l,u,r,e),d=i5(s,l,u,o,e),p=n5(a,l,u,e)}else for(let f=0;f<u;f++)c[f]=l5(i,r,a,e,f,l),d[f]=u5(s,o,a,e,f,l),p[f]=s5(a,f,l);return{begin:c,end:d,strides:p}},isSliceContinous:c5,maskToAxes:function(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t},parseSliceParams:p5,sliceInfo:f5,startForAxis:l5,startIndicesWithElidedDims:a5,stopForAxis:u5,stopIndicesWithElidedDims:i5,stridesForAxis:s5,stridesWithElidedDims:n5},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g5=C3({add_:function(e,t){let n=w3(e,"a","add"),r=w3(t,"b","add");[n,r]=i3(n,r);const o={a:n,b:r};return f3.runKernel(YZ,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v5=C3({floorDiv_:function(e,t){let n=w3(e,"a","floorDiv"),r=w3(t,"b","floorDiv");[n,r]=i3(n,r);const o={a:n,b:r};return f3.runKernel(HJ,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b5=C3({div_:function(e,t){let n=w3(e,"a","div"),r=w3(t,"b","div");if([n,r]=i3(n,r),"int32"===n.dtype&&"int32"===r.dtype)return v5(n,r);const o={a:n,b:r};return f3.runKernel(AJ,o,{})}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y5=C3({mul_:function(e,t){let n=w3(e,"a","mul"),r=w3(t,"b","mul");[n,r]=i3(n,r);const o={a:n,b:r};return f3.runKernel(w0,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x5=C3({abs_:function(e){const t=w3(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return f3.runKernel(mJ,e)}{const e={x:t};return f3.runKernel(UZ,e)}}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w5=C3({acos_:function(e){const t={x:w3(e,"x","acos")};return f3.runKernel(GZ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k5=C3({acosh_:function(e){const t={x:w3(e,"x","acosh")};return f3.runKernel(qZ,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S5=C3({addN_:function(e){sZ(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),sZ(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>w3(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!pZ(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return f3.runKernel(KZ,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C5=C3({all_:function(e,t=null,n=!1){const r={x:w3(e,"x","all","bool")},o={axis:t,keepDims:n};return f3.runKernel(XZ,r,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E5=C3({any_:function(e,t=null,n=!1){const r={x:w3(e,"x","any","bool")},o={axis:t,keepDims:n};return f3.runKernel(QZ,r,o)}});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I5=C3({argMax_:function(e,t=0){const n={x:w3(e,"x","argMax")},r={axis:t};return f3.runKernel(ZZ,n,r)}});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N5=C3({argMin_:function(e,t=0){const n={x:w3(e,"x","argMin")},r={axis:t};return f3.runKernel(JZ,n,r)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T5=C3({asin_:function(e){const t={x:w3(e,"x","asin")};return f3.runKernel(eJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R5=C3({asinh_:function(e){const t={x:w3(e,"x","asinh")};return f3.runKernel(tJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _5=C3({atan_:function(e){const t={x:w3(e,"x","atan")};return f3.runKernel(nJ,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $5=C3({atan2_:function(e,t){let n=w3(e,"a","atan2"),r=w3(t,"b","atan2");[n,r]=i3(n,r);const o={a:n,b:r};return f3.runKernel(oJ,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M5=C3({atanh_:function(e){const t={x:w3(e,"x","atanh")};return f3.runKernel(rJ,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O5(e,t,n,r,o="NHWC",a){return P5(e,[...t,e[3]],n,a,r,null,null,U5(o))}function A5(e,t,n,r,o,a,i="channelsLast"){const[s,l]=z5(t);let u;if("channelsLast"===i)u=[s,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);u=[s,l,e[1],e[1]]}return P5(e,u,n,r,o,a,!1,i)}function L5(e,t,n,r,o,a,i="NDHWC"){const[s,l,u]=B5(t);let c,d;if("NDHWC"===i)d="channelsLast",c=[s,l,u,e[4],e[4]];else{if("NCDHW"!==i)throw new Error(`Unknown dataFormat ${i}`);d="channelsFirst",c=[s,l,u,e[1],e[1]]}return D5(e,c,n,r,o,!1,d,a)}function P5(e,t,n,r,o,a,i=!1,s="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,d]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,d,u,c]=e}const[p,f,,h]=t,[m,g]=z5(n),[v,b]=z5(r),y=j5(p,v),x=j5(f,b),{padInfo:w,outHeight:k,outWidth:S}=function(e,t,n,r,o,a,i,s,l){let u,c,d;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,r,o){null==r&&(r=F5(e,t,n));const a=e[0],i=e[1],s=W5((a-t+2*r)/n+1,o),l=W5((i-t+2*r)/n+1,o);return[s,l]}([t,n],a,r,e,s);c=o[0],d=o[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/o);const e=Math.max(0,(c-1)*r+a-t),s=Math.max(0,(d-1)*o+i-n),l=Math.floor(e/2),p=e-l,f=Math.floor(s/2);u={top:l,bottom:p,left:f,right:s-f,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-a+1)/r),d=Math.ceil((n-i+1)/o);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const p="channelsLast"===l?e[1][0]:e[2][0],f="channelsLast"===l?e[1][1]:e[2][1],h="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:f,left:h,right:m,type:0===p&&0===f&&0===h&&0===m?"VALID":"EXPLICIT"},c=W5((t-a+p+f)/r+1,s),d=W5((n-i+h+m)/o+1,s)}}return{padInfo:u,outHeight:c,outWidth:d}}(o,u,c,m,g,y,x,a,s),C=i?h*d:h;let E;return"channelsFirst"===s?E=[l,C,k,S]:"channelsLast"===s&&(E=[l,k,S,C]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:d,outHeight:k,outWidth:S,outChannels:C,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:f,effectiveFilterHeight:y,effectiveFilterWidth:x,dilationHeight:v,dilationWidth:b,inShape:e,outShape:E,filterShape:t}}function D5(e,t,n,r,o,a=!1,i="channelsLast",s){let[l,u,c,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,d,p]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,p,u,c,d]=e}const[f,h,m,,g]=t,[v,b,y]=B5(n),[x,w,k]=B5(r),S=j5(f,x),C=j5(h,w),E=j5(m,k),{padInfo:I,outDepth:N,outHeight:T,outWidth:R}=function(e,t,n,r,o,a,i,s,l,u,c){let d,p,f,h;if("number"==typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,o,a){null==o&&(o=F5(e,t,r));const i=e[0],s=e[1],l=e[2],u=W5((i-t+2*o)/r+1,a),c=W5((s-t+2*o)/r+1,a),d=W5((l-t+2*o)/r+1,a);return[u,c,d,n]}([t,n,r,1],s,1,o,e,c);p=a[0],f=a[1],h=a[2]}else if("same"===e){p=Math.ceil(t/o),f=Math.ceil(n/a),h=Math.ceil(r/i);const e=(p-1)*o+s-t,c=(f-1)*a+l-n,m=(h-1)*i+u-r,g=Math.floor(e/2),v=e-g,b=Math.floor(c/2),y=c-b,x=Math.floor(m/2);d={top:b,bottom:y,left:x,right:m-x,front:g,back:v,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/o),f=Math.ceil((n-l+1)/a),h=Math.ceil((r-u+1)/i)}return{padInfo:d,outDepth:p,outHeight:f,outWidth:h}}(o,u,c,d,v,b,y,S,C,E,s),_=a?g*p:g;let $;return"channelsFirst"===i?$=[l,_,N,T,R]:"channelsLast"===i&&($=[l,N,T,R,_]),{batchSize:l,dataFormat:i,inDepth:u,inHeight:c,inWidth:d,inChannels:p,outDepth:N,outHeight:T,outWidth:R,outChannels:_,padInfo:I,strideDepth:v,strideHeight:b,strideWidth:y,filterDepth:f,filterHeight:h,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:C,effectiveFilterWidth:E,dilationDepth:x,dilationHeight:w,dilationWidth:k,inShape:e,outShape:$,filterShape:t}}function F5(e,t,n,r=1){const o=j5(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function z5(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function B5(e){return"number"==typeof e?[e,e,e]:e}function j5(e,t){return t<=1?e:e+(e-1)*(t-1)}function W5(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function V5(e){const[t,n,r]=z5(e);return 1===t&&1===n&&1===r}function H5(e,t){return V5(e)||V5(t)}function U5(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function G5(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)sZ(fZ(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{sZ(fZ(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q5=C3({reshape_:function(e,t){const n={x:w3(e,"x","reshape","string_or_numeric")},r={shape:t};return f3.runKernel(B0,n,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y5=C3({avgPool_:function(e,t,n,r,o){const a=w3(e,"x","avgPool","float32");sZ(H5(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let i=a,s=!1;3===a.rank&&(s=!0,i=q5(a,[1,a.shape[0],a.shape[1],a.shape[2]])),sZ(4===i.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`)),G5("avgPool",r,o);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o};let c=f3.runKernel(aJ,l,u);return c=b4(c,a.dtype),s?q5(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K5=C3({avgPool3d_:function(e,t,n,r,o,a="NDHWC"){const i=w3(e,"x","avgPool3d","float32");let s=i,l=!1;4===i.rank&&(l=!0,s=q5(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),sZ(5===s.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`)),sZ("NDHWC"===a,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),G5("avgPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:a};let d=f3.runKernel(iJ,u,c);return d=b4(d,s.dtype),l?q5(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X5=C3({concat_:function(e,t=0){sZ(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=k3(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return y4(n[0]);const r=n,o={axis:t};return f3.runKernel(gJ,r,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q5=C3({sigmoid_:function(e){const t={x:w3(e,"x","sigmoid","float32")};return f3.runKernel(t1,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z5=C3({slice_:function(e,t,n){const r=w3(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const o={x:r},a={begin:t,size:n};return f3.runKernel(Q0,o,a)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J5=C3({tanh_:function(e){const t={x:w3(e,"x","tanh","float32")};return f3.runKernel(w1,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e6=C3({basicLSTMCell_:function(e,t,n,r,o,a){const i=w3(e,"forgetBias","basicLSTMCell"),s=w3(t,"lstmKernel","basicLSTMCell"),l=w3(n,"lstmBias","basicLSTMCell"),u=w3(r,"data","basicLSTMCell"),c=w3(o,"c","basicLSTMCell"),d=w3(a,"h","basicLSTMCell"),p=X5([u,d],1),f=P4(p,s),h=g5(f,l),m=h.shape[0],g=h.shape[1]/4,v=[m,g],b=Z5(h,[0,0],v),y=Z5(h,[0,g],v),x=Z5(h,[0,2*g],v),w=Z5(h,[0,3*g],v),k=g5(y5(Q5(b),J5(y)),y5(c,Q5(g5(i,x))));return[k,y5(J5(k),Q5(w))]}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t6=C3({batchToSpaceND_:function(e,t,n){const r=w3(e,"x","batchToSpaceND"),o=t.reduce(((e,t)=>e*t));sZ(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),sZ(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),sZ(r.shape[0]%o==0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${o}`));const a={x:r},i={blockShape:t,crops:n};return f3.runKernel(lJ,a,i)}});const n6=C3({batchNorm_:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r,o,a){null==a&&(a=.001);const i=w3(e,"x","batchNorm"),s=w3(t,"mean","batchNorm"),l=w3(n,"variance","batchNorm");let u,c;null!=o&&(u=w3(o,"scale","batchNorm")),null!=r&&(c=w3(r,"offset","batchNorm")),sZ(s.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),sZ(null==c||s.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),sZ(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d={x:function(e){let t;return t=0===e.rank||1===e.rank?q5(e,[1,1,1,e.size]):2===e.rank?q5(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?q5(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),scale:u,offset:c,mean:s,variance:l},p={varianceEpsilon:a},f=f3.runKernel(UJ,d,p);return q5(f,i.shape)}});const r6=C3({batchNorm2d_:function(e,t,n,r,o,a){const i=w3(e,"x","batchNorm"),s=w3(t,"mean","batchNorm"),l=w3(n,"variance","batchNorm");let u,c;return null!=o&&(u=w3(o,"scale","batchNorm")),null!=r&&(c=w3(r,"offset","batchNorm")),sZ(2===i.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`)),sZ(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),sZ(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&sZ(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&sZ(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),n6(i,s,l,c,u,a)}});const o6=C3({batchNorm3d_:function(e,t,n,r,o,a){const i=w3(e,"x","batchNorm"),s=w3(t,"mean","batchNorm"),l=w3(n,"variance","batchNorm");let u,c;return null!=o&&(u=w3(o,"scale","batchNorm")),null!=r&&(c=w3(r,"offset","batchNorm")),sZ(3===i.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`)),sZ(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),sZ(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&sZ(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&sZ(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),n6(i,s,l,c,u,a)}});const a6=C3({batchNorm4d_:function(e,t,n,r,o,a){const i=w3(e,"x","batchNorm"),s=w3(t,"mean","batchNorm"),l=w3(n,"variance","batchNorm");let u,c;return null!=o&&(u=w3(o,"scale","batchNorm")),null!=r&&(c=w3(r,"offset","batchNorm")),sZ(4===i.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`)),sZ(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),sZ(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&sZ(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&sZ(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),n6(i,s,l,c,u,a)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i6=C3({bincount_:function(e,t,n){const r=w3(e,"x","bincount"),o=w3(t,"weights","bincount");sZ("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),sZ(n>=0,(()=>`size must be non-negative, but got ${n}.`)),sZ(o.size===r.size||0===o.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${o.shape}.`));const a={x:r,weights:o},i={size:n};return f3.runKernel(uJ,a,i)}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s6=C3({broadcastArgs_:function(e,t){const n=w3(e,"s0","broadcastArgs","int32"),r=w3(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const o={s0:n,s1:r};return f3.runKernel(cJ,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l6=C3({broadcastTo_:function(e,t){let n=w3(e,"broadcastTo","x");const r=n.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=q5(n,e)}const o=n.shape,a=Array.from(t);for(let u=t.length-1;u>=0;u--)if(o[u]===t[u])a[u]=1;else if(1!==n.shape[u])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);const i=a.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0));if(0===i.length)return y4(n);const s={x:n},l={reps:a};return f3.runKernel(k1,s,l)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u6=C3({ceil_:function(e){const t={x:w3(e,"x","ceil","float32")};return f3.runKernel(pJ,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c6(e,t,n){const r={shape:e,value:t,dtype:n};return f3.runKernel(jJ,{},r)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d6=C3({clipByValue_:function(e,t,n){const r=w3(e,"x","clipByValue");if(sZ(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return c6(r.shape,t,r.dtype);const o={x:r},a={clipValueMin:t,clipValueMax:n};return f3.runKernel(fJ,o,a)}});const p6=C3({concat1d_:function(e){return X5(e,0)}});const f6=C3({concat2d_:function(e,t){return X5(e,t)}});const h6=C3({concat3d_:function(e,t){return X5(e,t)}});const m6=C3({concat4d_:function(e,t){return X5(e,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g6=C3({conv2d_:function(e,t,n,r,o="NHWC",a=[1,1],i){const s=w3(e,"x","conv2d","float32"),l=w3(t,"filter","conv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=q5(s,[1,s.shape[0],s.shape[1],s.shape[2]])),sZ(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),sZ(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),G5("conv2d",r,i);const d="NHWC"===o?u.shape[3]:u.shape[1];sZ(d===l.shape[2],(()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`)),sZ(H5(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`));const p={x:u,filter:l},f={strides:n,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i},h=f3.runKernel(vJ,p,f);return c?q5(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const v6=C3({conv1d_:function(e,t,n,r,o="NWC",a=1,i){const s=w3(e,"x","conv1d"),l=w3(t,"filter","conv1d");let u=s,c=!1;2===s.rank&&(c=!0,u=q5(s,[1,s.shape[0],s.shape[1]])),sZ(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),sZ(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),G5("conv1d",r,i),sZ(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),sZ(H5(n,a),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`)),sZ("NWC"===o,(()=>`Error in conv1d: got dataFormat of ${o} but only NWC is currently supported.`));const d=q5(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=q5(u,[u.shape[0],1,u.shape[1],u.shape[2]]),f=g6(p,d,[1,n],r,"NHWC",[1,a],i);return q5(f,c?[f.shape[2],f.shape[3]]:[f.shape[0],f.shape[2],f.shape[3]])}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b6=C3({conv2DBackpropInput_:function(e,t,n,r,o,a="NHWC",i){sZ(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,l=t,u=!1;3===t.rank&&(u=!0,l=q5(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),sZ(4===s.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`)),sZ(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),sZ(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===a?s[3]:s[1],d="NHWC"===a?l.shape[3]:l.shape[1];sZ(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),sZ(d===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`)),G5("conv2dDerInput",o,i);const p={dy:l,filter:n},f={strides:r,pad:o,dataFormat:a,dimRoundingMode:i,inputShape:s},h=f3.runKernel(yJ,p,f);return u?q5(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const y6=C3({conv2dTranspose_:function(e,t,n,r,o,a){const i=w3(e,"x","conv2dTranspose"),s=w3(t,"filter","conv2dTranspose");return b6(n,i,s,r,o,"NHWC",a)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x6=C3({conv3d_:function(e,t,n,r,o="NDHWC",a=[1,1,1]){const i=w3(e,"x","conv3d"),s=w3(t,"filter","conv3d");let l=i,u=!1;4===i.rank&&(u=!0,l=q5(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),sZ(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),sZ(5===s.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`)),sZ(l.shape[4]===s.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`)),sZ(H5(n,a),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),sZ("NDHWC"===o,(()=>`Error in conv3d: got dataFormat of ${o} but only NDHWC is currently supported.`));const c={x:l,filter:s},d={strides:n,pad:r,dataFormat:o,dilations:a},p=f3.runKernel(xJ,c,d);return u?q5(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w6=C3({conv3DBackpropInput_:function(e,t,n,r,o){sZ(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let a=e,i=t,s=!1;4===t.rank&&(s=!0,i=q5(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);const l=a[4],u=i.shape[4];sZ(5===a.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`)),sZ(5===i.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`)),sZ(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),sZ(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),sZ(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:i,filter:n},d={pad:o,strides:r,inputShape:a},p=f3.runKernel(wJ,c,d);return s?q5(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const k6=C3({conv3dTranspose_:function(e,t,n,r,o){const a=w3(e,"x","conv3dTranspose"),i=w3(t,"filter","conv3dTranspose");return w6(n,a,i,r,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S6=C3({cos_:function(e){const t={x:w3(e,"x","cos","float32")};return f3.runKernel(kJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C6=C3({cosh_:function(e){const t={x:w3(e,"x","cosh","float32")};return f3.runKernel(SJ,t)}});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E6=C3({cumprod_:function(e,t=0,n=!1,r=!1){const o={x:w3(e,"x","cumprod")},a={axis:t,exclusive:n,reverse:r};return f3.runKernel(CJ,o,a)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I6=C3({cumsum_:function(e,t=0,n=!1,r=!1){const o={x:w3(e,"x","cumsum")},a={axis:t,exclusive:n,reverse:r};return f3.runKernel(EJ,o,a)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N6=C3({denseBincount_:function(e,t,n,r=!1){const o=w3(e,"x","denseBincount"),a=w3(t,"weights","denseBincount");sZ("int32"===o.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${o.dtype}`)),sZ(o.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${o.rank}.`)),sZ(n>=0,(()=>`size must be non-negative, but got ${n}.`)),sZ(a.size===o.size||0===a.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${o.shape}, weights shape: ${a.shape}.`));const i={x:o,weights:a},s={size:n,binaryOutput:r};return f3.runKernel(NJ,i,s)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T6=C3({depthToSpace_:function(e,t,n="NHWC"){const r=w3(e,"x","depthToSpace","float32"),o="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];sZ(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),sZ(o*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${o} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),sZ(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),sZ(i%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`));const s={x:r},l={blockSize:t,dataFormat:n};return f3.runKernel(TJ,s,l)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R6=C3({depthwiseConv2d_:function(e,t,n,r,o="NHWC",a=[1,1],i){const s=w3(e,"x","depthwiseConv2d","float32"),l=w3(t,"filter","depthwiseConv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=q5(s,[1,s.shape[0],s.shape[1],s.shape[2]])),sZ(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),sZ(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const d="NHWC"===o?u.shape[3]:u.shape[1];sZ(d===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`)),G5("depthwiseConv2d",r,i);const p={x:u,filter:l},f={strides:n,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i},h=f3.runKernel(RJ,p,f);return c?q5(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _6=C3({diag_:function(e){const t={x:w3(e,"x","diag")};return f3.runKernel(MJ,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $6=C3({dilation2d_:function(e,t,n,r,o=[1,1],a="NHWC"){const i=w3(e,"x","dilation2d"),s=w3(t,"filter","dilation2d");sZ(3===i.rank||4===i.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`)),sZ(3===s.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`)),sZ("NHWC"===a,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`));let l=i,u=!1;3===i.rank&&(l=q5(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0);const c={x:l,filter:s},d={strides:n,pad:r,dilations:o},p=f3.runKernel(OJ,c,d);return u?q5(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M6=C3({equal_:function(e,t){let n=w3(e,"a","equal","string_or_numeric"),r=w3(t,"b","equal","string_or_numeric");[n,r]=i3(n,r),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(DJ,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O6=C3({where_:function(e,t,n){const r=w3(t,"a","where"),o=w3(n,"b","where"),a=w3(e,"condition","where","bool"),i=K4(K4(a.shape,r.shape),o.shape),s={condition:l6(a,i),t:l6(r,i),e:l6(o,i)};return f3.runKernel(K0,s)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A6=C3({zerosLike_:function(e){const t={x:w3(e,"x","zerosLike")};return f3.runKernel(R1,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L6=C3({divNoNan_:function(e,t){let n=w3(e,"a","div"),r=w3(t,"b","div");[n,r]=i3(n,r);const o=b5(n,r),a=A6(o),i=M6(r,a);return O6(i,a,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P6=C3({dot_:function(e,t){const n=w3(e,"t1","dot"),r=w3(t,"t2","dot");sZ(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const o=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(sZ(o===a,(()=>`Error in dot: inner dimensions of inputs must match, but got ${o} and ${a}.`)),1===n.rank&&1===r.rank){const e=q5(n,[1,-1]),t=q5(r,[-1,1]),o=P4(e,t);return q5(o,[])}if(1===n.rank&&2===r.rank){const e=q5(n,[1,-1]),t=q5(r,[r.shape[0],r.shape[1]]),o=P4(e,t);return q5(o,[o.size])}if(2===n.rank&&1===r.rank){const e=q5(r,[-1,1]),t=P4(n,e);return q5(t,[t.size])}{const e=q5(r,[r.shape[0],r.shape[1]]);return P4(n,e)}}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D6=C3({einsum_:function(e,...t){const n=t.map(((e,t)=>w3(e,`tensors${t}`,"einsum"))),r={equation:e};return f3.runKernel(LJ,n,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F6=C3({elu_:function(e){const t={x:w3(e,"x","elu","float32")};return f3.runKernel(PJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z6=C3({erf_:function(e){let t=w3(e,"x","erf");sZ("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=b4(t,"float32"));const n={x:t};return f3.runKernel("Erf",n)}});
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B6(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function j6(e,t,n){const r=e.length+t.length,o=[];let a=0,i=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[a++]):o.push(t[i++]);return o}function W6(e,t){const n=[],r=e.length;for(let o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((t=>e[t]))]}function V6(e,t){return j6(e,t.map((e=>1)),t)}function H6(e,t,n){sZ(B6(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function U6(e,t){if(B6(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function G6(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function q6(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y6=C3({max_:function(e,t=null,n=!1){const r={x:w3(e,"x","max")},o={reductionIndices:t,keepDims:n};return f3.runKernel(d0,r,o)}});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K6=C3({min_:function(e,t=null,n=!1){const r={x:w3(e,"x","min")},o={axis:t,keepDims:n};return f3.runKernel(v0,r,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X6=C3({pow_:function(e,t){let n=w3(e,"base","pow"),r=w3(t,"exp","pow");[n,r]=i3(n,r);const o={a:n,b:r};return f3.runKernel($0,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q6(e,t){if((kZ(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&kZ(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return I3(e,[],[],t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z6=C3({sqrt_:function(e){const t={x:w3(e,"x","sqrt","float32")};return f3.runKernel(r1,t)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J6=C3({square_:function(e){const t=w3(e,"x","square");return f3.runKernel("Square",{x:t},{})}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e8=C3({sum_:function(e,t=null,n=!1){let r=w3(e,"x","sum");"bool"===r.dtype&&(r=b4(r,"int32"));const o={x:r},a={axis:t,keepDims:n};return f3.runKernel(o1,o,a)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t8(e,t,n=null){if(0===e.rank)return x5(e);if(1!==e.rank&&null===n)return t8(q5(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return e8(x5(e),n);if(t===1/0)return Y6(x5(e),n);if(t===-1/0)return K6(x5(e),n);if("euclidean"===t||2===t)return Z6(e8(X6(x5(e),Q6(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Y6(e8(x5(e),n[0]),n[1]-1);if(t===1/0)return Y6(e8(x5(e),n[1]),n[0]);if(t===-1/0)return K6(e8(x5(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Z6(e8(J6(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const n8=C3({norm_:function(e,t="euclidean",n=null,r=!1){const o=t8(e=w3(e,"x","norm"),t,n);let a=o.shape;if(r){const t=bZ(n,e.shape);a=V6(o.shape,t)}return q5(o,a)}});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r8=C3({euclideanNorm_:function(e,t=null,n=!1){return n8(e,"euclidean",t,n)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o8=C3({exp_:function(e){const t={x:w3(e,"x","exp")};return f3.runKernel(FJ,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a8=C3({expandDims_:function(e,t=0){const n=w3(e,"x","expandDims","string_or_numeric");sZ(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},o={dim:t};return f3.runKernel(zJ,r,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i8=C3({expm1_:function(e){const t={x:w3(e,"x","expm1")};return f3.runKernel(BJ,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s8=C3({tile_:function(e,t){const n=w3(e,"x","tile","string_or_numeric");sZ(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},o={reps:t};return f3.runKernel(k1,r,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l8=C3({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const o=v4([e,t],r),a=e<=t?e:t;for(let s=0;s<a;++s)o.set(1,s,s);const i=q5(o.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return s8(a8(i,0),[n[0],1,1]);if(2===n.length)return s8(a8(a8(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return s8(a8(a8(a8(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u8=C3({floor_:function(e){const t={x:w3(e,"x","floor","float32")};return f3.runKernel(VJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c8=C3({gather_:function(e,t,n=0,r=0){const o={x:w3(e,"x","gather"),indices:w3(t,"indices","gather","int32")},a={axis:n,batchDims:r};return f3.runKernel(GJ,o,a)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d8=C3({greater_:function(e,t){let n=w3(e,"a","greater","string_or_numeric"),r=w3(t,"b","greater","string_or_numeric");[n,r]=i3(n,r),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(YJ,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p8=C3({greaterEqual_:function(e,t){let n=w3(e,"a","greaterEqual","string_or_numeric"),r=w3(t,"b","greaterEqual","string_or_numeric");[n,r]=i3(n,r),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(KJ,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f8=C3({isFinite_:function(e){const t={x:w3(e,"x","isFinite")};return f3.runKernel(JJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h8=C3({isInf_:function(e){const t={x:w3(e,"x","isInf")};return f3.runKernel(e0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m8=C3({isNaN_:function(e){const t={x:w3(e,"x","isNaN")};return f3.runKernel(t0,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g8=C3({leakyRelu_:function(e,t=.2){const n={x:w3(e,"x","leakyRelu")},r={alpha:t};return f3.runKernel(n0,n,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v8=C3({less_:function(e,t){let n=w3(e,"a","less","string_or_numeric"),r=w3(t,"b","less","string_or_numeric");[n,r]=i3(n,r),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(r0,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b8=C3({lessEqual_:function(e,t){let n=w3(e,"a","lessEqual","string_or_numeric"),r=w3(t,"b","lessEqual","string_or_numeric");[n,r]=i3(n,r),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(o0,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y8=C3({localResponseNormalization_:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t=5,n=1,r=1,o=.5){const a=w3(e,"x","localResponseNormalization");sZ(4===a.rank||3===a.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`)),sZ(fZ(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let i=a,s=!1;3===a.rank&&(s=!0,i=q5(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:o},c=f3.runKernel("LRN",l,u);return s?q5(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x8=C3({log_:function(e){const t={x:w3(e,"x","log","float32")};return f3.runKernel(i0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w8=C3({log1p_:function(e){const t={x:w3(e,"x","log1p")};return f3.runKernel(s0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k8(e){return f3.customGrad(e)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S8=C3({softplus_:function(e){const t={x:w3(e,"x","softplus")};return f3.runKernel(n1,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C8=C3({logSigmoid_:function(e){const t=w3(e,"x","logSigmoid");return k8((e=>({value:H4(S8(H4(e))),gradFunc:t=>y5(t,Q5(H4(e)))})))(t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E8=C3({sub_:function(e,t){let n=w3(e,"a","sub"),r=w3(t,"b","sub");[n,r]=i3(n,r);const o={a:n,b:r};return f3.runKernel(y1,o)}});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I8=C3({logSoftmax_:function(e,t=-1){const n=w3(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return k8(((e,n)=>{const r=Y6(e,t,!0),o=E8(e,r),a=E8(b4(o,"float32"),x8(e8(o8(o),t,!0)));n([a]);return{value:a,gradFunc:(e,n)=>{const[r]=n,o=o8(r);return E8(e,y5(e8(e,t,!0),o))}}}))(n)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N8=C3({logSumExp_:function(e,t=null,n=!1){const r=w3(e,"x","logSumExp"),o=bZ(t,r.shape),a=Y6(r,o,!0),i=E8(r,a),s=o8(i),l=e8(s,o),u=x8(l),c=g5(q5(a,u.shape),u);if(n){const e=V6(c.shape,o);return q5(c,e)}return c}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T8=C3({logicalAnd_:function(e,t){const n=w3(e,"a","logicalAnd","bool"),r=w3(t,"b","logicalAnd","bool");K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(l0,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R8=C3({logicalNot_:function(e){const t={x:w3(e,"x","logicalNot","bool")};return f3.runKernel(u0,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _8=C3({logicalOr_:function(e,t){const n=w3(e,"a","logicalOr","bool"),r=w3(t,"b","logicalOr","bool");K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(c0,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $8=C3({logicalXor_:function(e,t){const n=w3(e,"a","logicalXor","bool"),r=w3(t,"b","logicalXor","bool");return K4(n.shape,r.shape),T8(_8(e,t),R8(T8(e,t)))}}),M8=2147483648;
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O8=C3({searchSorted_:function(e,t,n="left"){const r=w3(e,"sortedSequence","searchSorted"),o=w3(t,"values","searchSorted"),a=r.shape[r.shape.length-1],i=o.shape[o.shape.length-1],s=q5(r,[-1,a]),l=q5(o,[-1,i]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(dZ(l.shape)>=M8)throw new Error("values tensor size must less than 2147483648");if(s.shape[1]>=M8)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${s.shape[1]}`);const u={sortedSequence:s,values:l},c={side:n};return f3.runKernel(Y0,u,c)}});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A8=C3({maxPool_:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r,o){const a=w3(e,"x","maxPool");let i=a,s=!1;3===a.rank&&(s=!0,i=q5(a,[1,a.shape[0],a.shape[1],a.shape[2]])),sZ(4===i.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`)),sZ(H5(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),G5("maxPool",r,o);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o},c=f3.runKernel(f0,l,u);return s?q5(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L8=C3({maxPool3d_:function(e,t=[1,1,1],n,r,o,a="NDHWC"){const i=w3(e,"x","maxPool3d");let s=i,l=!1;4===i.rank&&(l=!0,s=q5(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),sZ(5===s.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`)),sZ("NDHWC"===a,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),G5("maxPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:a},d=f3.runKernel(h0,u,c);return l?q5(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P8=C3({maxPoolWithArgmax_:function(e,t,n,r,o=!1){const a={x:w3(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:r,includeBatchInIndex:o},s=f3.runKernel(m0,a,i);return{result:s[0],indexes:s[1]}}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D8=C3({maximum_:function(e,t){let n=w3(e,"a","maximum"),r=w3(t,"b","maximum");[n,r]=i3(n,r),"bool"===n.dtype&&(n=b4(n,"int32"),r=b4(r,"int32")),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(p0,o)}});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F8=C3({mean_:function(e,t=null,n=!1){const r={x:w3(e,"x","mean")},o={axis:t,keepDims:n};return f3.runKernel(g0,r,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z8(e,t="float32"){if("complex64"===t){const t=z8(e,"float32"),n=z8(e,"float32");return E3(t,n)}const n=MZ(dZ(e),t);return f3.makeTensor(n,e,t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B8(e,t="float32"){if("complex64"===t){const t=B8(e,"float32"),n=z8(e,"float32");return E3(t,n)}const n=$Z(dZ(e),t);return f3.makeTensor(n,e,t)}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j8=C3({minimum_:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t){let n=w3(e,"a","minimum"),r=w3(t,"b","minimum");[n,r]=i3(n,r),"bool"===n.dtype&&(n=b4(n,"int32"),r=b4(r,"int32")),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(b0,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W8=C3({mirrorPad_:function(e,t,n){sZ("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=w3(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");sZ(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const o="reflect"===n?1:0;for(let s=0;s<r.rank;s++)sZ(2===t[s].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),sZ(t[s][0]>=0&&t[s][0]<=r.shape[s]-o&&t[s][1]>=0&&t[s][1]<=r.shape[s]-o,(()=>`Padding in dimension ${s} cannot be greater than or equal to ${r.shape[s]-o} or less than 0 for input of shape ${r.shape}`));const a={paddings:t,mode:n},i={x:r};return f3.runKernel(y0,i,a)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V8=C3({mod_:function(e,t){let n=w3(e,"a","mod"),r=w3(t,"b","mod");[n,r]=i3(n,r);const o={a:n,b:r};return f3.runKernel("Mod",o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H8=C3({moments_:function(e,t=null,n=!1){const r=bZ(t,(e=w3(e,"x","moments")).shape),o=F8(e,r,n);let a=o.shape;n||(a=V6(o.shape,r));const i=J6(E8(b4(e,"float32"),q5(o,a)));return{mean:o,variance:F8(i,r,n)}}});const U8=C3({multiRNNCell_:function(e,t,n,r){const o=w3(t,"data","multiRNNCell"),a=k3(n,"c","multiRNNCell"),i=k3(r,"h","multiRNNCell");let s=o;const l=[];for(let d=0;d<e.length;d++){const t=e[d](s,a[d],i[d]);l.push(t[0]),l.push(t[1]),s=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G8=C3({multinomial_:function(e,t,n,r=!1){const o=w3(e,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const s={logits:1===i?q5(o,[1,-1]):o},l={numSamples:t,seed:n,normalized:r},u=f3.runKernel(x0,s,l);return 1===i?q5(u,[u.size]):u}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q8=C3({notEqual_:function(e,t){let n=w3(e,"a","notEqual","string_or_numeric"),r=w3(t,"b","notEqual","string_or_numeric");[n,r]=i3(n,r),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(S0,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y8=C3({onesLike_:function(e){const t={x:w3(e,"x","onesLike")};return f3.runKernel(N0,t)}});const K8=C3({outerProduct_:function(e,t){const n=w3(e,"v1","outerProduct"),r=w3(t,"v2","outerProduct");sZ(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const o=q5(n,[-1,1]),a=q5(r,[1,-1]);return P4(o,a)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X8=C3({pad_:function(e,t,n=0){const r=w3(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:t,constantValue:n},a={x:r};return f3.runKernel(_0,a,o)}});const Q8=C3({pad1d_:function(e,t,n=0){return sZ(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),X8(e,[t],n)}});const Z8=C3({pad2d_:function(e,t,n=0){return sZ(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),X8(e,t,n)}});const J8=C3({pad3d_:function(e,t,n=0){return sZ(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),X8(e,t,n)}});const e9=C3({pad4d_:function(e,t,n=0){return sZ(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),X8(e,t,n)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t9=C3({spaceToBatchND_:function(e,t,n){const r=w3(e,"x","spaceToBatchND");sZ(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),sZ(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),sZ(r.shape.reduce(((e,r,o)=>o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const o={x:r},a={blockShape:t,paddings:n};return f3.runKernel(a1,o,a)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n9=C3({pool_:function(e,t,n,r,o,a,i){null==o&&(o=[1,1]),null==a&&(a=1),0===r&&(r="valid");const s=w3(e,"x","maxPool");let l=s,u=!1;3===s.rank&&(u=!0,l=q5(s,[1,s.shape[0],s.shape[1],s.shape[2]])),sZ(H5(a,o),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${o}'`));const c=A5(l.shape,t,a,o,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),o=r.map((e=>Math.floor(e/2))),a=r.map(((e,t)=>e-o[t]));return r.map(((e,t)=>[o[t],a[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const f=1===d[0]&&1===d[1],[h,m]=function(e,t,n){const r=n.map((e=>e[0])),o=n.map((e=>e[1])),a=e.concat(r,o),i=t.map(((e,t)=>(e-a[t]%e)%e)),s=o.map(((e,t)=>e+i[t])),l=t.map(((e,t)=>[r[t],s[t]])),u=t.map(((e,t)=>[0,i[t]]));return[l,u]}([c.inHeight,c.inWidth],d,p),g=f?r:"valid",v=f?l:t9(l,d,h),b=("avg"===n?()=>Y5(v,t,a,g,i):()=>A8(v,t,a,g,i))(),y=f?b:t6(b,d,m);return u?q5(y,[y.shape[1],y.shape[2],y.shape[3]]):y}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r9=C3({prelu_:function(e,t){const n={x:w3(e,"x","prelu"),alpha:w3(t,"alpha","prelu")};return f3.runKernel(M0,n)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o9=C3({prod_:function(e,t=null,n=!1){let r=w3(e,"x","prod");"bool"===r.dtype&&(r=b4(r,"int32"));const o={x:r},a={axis:t,keepDims:n};return f3.runKernel(O0,o,a)}});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a9=C3({raggedGather_:function(e,t,n,r){const o=e.map(((e,t)=>w3(e,`tensors${t}`,"raggedGather","int32"))),a={paramsNestedSplits:o,paramsDenseValues:w3(t,"paramsDenseValues","raggedGather"),indices:w3(n,"indices","raggedGather","int32")},i={outputRaggedRank:r},s=f3.runKernel(A0,a,i);return{outputNestedSplits:s.slice(0,s.length-1),outputDenseValues:s[s.length-1]}}});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i9=C3({raggedTensorToTensor_:function(e,t,n,r,o){const a=w3(e,"shape","raggedTensorToTensor","int32"),i=w3(t,"values","raggedTensorToTensor"),s=w3(n,"defaultValue","raggedTensorToTensor",i.dtype),l=r.map(((e,t)=>w3(e,`tensors${t}`,"raggedTensorToTensor","int32"))),u={shape:a,values:i,defaultValue:s,rowPartitionTensors:l},c={rowPartitionTypes:o};return f3.runKernel(L0,u,c)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s9=C3({rand_:function(e,t,n){const r=dZ(e);let o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);o=new Uint8Array(r)}for(let a=0;a<r;a++)o[a]=t();return f3.makeTensor(o,e,n)}});var l9={exports:{}};!function(e,t){function n(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var o=new n(e),a=t&&t.state,i=o.next;return i.int32=function(){return 4294967296*o.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.alea=o}(0,l9);var u9=l9.exports,c9={exports:{}};!function(e,t){function n(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xor128=o}(0,c9);var d9=c9.exports,p9={exports:{}};!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xorwow=o}(0,p9);var f9=p9.exports,h9={exports:{}};!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&(a.x&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xorshift7=o}(0,h9);var m9=h9.exports,g9={exports:{}};!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,a=t.i;return t.w=r=r+1640531527|0,n=o[a+34&127],e=o[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,o,a,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,o=0==(n=s[127&a]^=r+i)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,a=512;a>0;--a)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=i,e.X=s,e.i=o}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&(a.X&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xor4096=o}(0,g9);var v9=g9.exports,b9={exports:{}};!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.tychei=o}(0,b9);var y9=b9.exports,x9={exports:{}};const w9=r(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(e){!function(t,n,r){var o,a=256,i="random",s=r.pow(a,6),l=r.pow(2,52),u=2*l,c=255;function d(e,c,d){var v=[],b=m(h((c=1==c?{entropy:!0}:c||{}).entropy?[e,g(n)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(a):(e=new Uint8Array(a),(t.crypto||t.msCrypto).getRandomValues(e)),g(e)}catch(kxe){var r=t.navigator,i=r&&r.plugins;return[+new Date,t,i,t.screen,g(n)]}}():e,3),v),y=new p(v),x=function(){for(var e=y.g(6),t=s,n=0;e<l;)e=(e+n)*a,t*=a,n=y.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return x.int32=function(){return 0|y.g(4)},x.quick=function(){return y.g(4)/4294967296},x.double=x,m(g(y.S),n),(c.pass||d||function(e,t,n,o){return o&&(o.S&&f(o,y),e.state=function(){return f(y,{})}),n?(r[i]=e,t):e})(x,b,"global"in c?c.global:this==r,c.state)}function p(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=c&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=c&o+1],n=n*a+s[c&(s[o]=s[i=c&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(h(e[n],t-1))}catch(kxe){}return r.length?r:"string"==o?e:e+"\0"}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[c&o]=c&(n^=19*t[c&o])+r.charCodeAt(o++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(m(r.random(),n),e.exports){e.exports=d;try{o=w9}catch(v){}}else r["seed"+i]=d}("undefined"!=typeof self?self:t,[],Math)}(x9);var k9=u9,S9=d9,C9=f9,E9=m9,I9=v9,N9=y9,T9=x9.exports;T9.alea=k9,T9.xor128=S9,T9.xorwow=C9,T9.xorshift7=E9,T9.xor4096=I9,T9.tychei=N9;var R9=T9;
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _9{constructor(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const a=o||Math.random();this.random=R9.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,o,a;do{r=2*this.random()-1,o=2*this.random()-1,a=r*r+o*o}while(a>=1||0===a);const i=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*r*i,t=this.mean+this.stdDev*o*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class $9{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const o=r||Math.random();this.randu=R9.alea(o.toString()),this.randn=new _9(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,o,a;for(;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-a+Math.log(a)),o=this.randu(),o<t||Math.log(o)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class M9{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=R9.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O9=C3({randomGamma_:function(e,t,n=1,r="float32",o){if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const a=new $9(t,n,r,o),i=v4(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A9=C3({randomNormal_:function(e,t=0,n=1,r,o){if(null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const a=new _9(t,n,r,!1,o),i=v4(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L9=C3({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return A9(e,0,1,t,n)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P9=C3({randomUniform_:function(e,t=0,n=1,r="float32",o){const a=v4(e,r),i=new M9(t,n,null,o);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D9(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const o={start:e,stop:t,step:n,dtype:r};return f3.runKernel(P0,{},o)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F9=C3({reciprocal_:function(e){const t={x:w3(e,"x","reciprocal")};return f3.runKernel(F0,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z9=C3({relu_:function(e){const t={x:w3(e,"x","relu")};return f3.runKernel(z0,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B9=C3({relu6_:function(e){const t={x:w3(e,"x","relu6")};return f3.runKernel(V0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j9=C3({reverse_:function(e,t){const n={x:w3(e,"x","reverse")},r={dims:t};return f3.runKernel(H0,n,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W9=C3({reverse1d_:function(e){const t=w3(e,"x","reverse");return sZ(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),j9(t,0)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V9=C3({reverse2d_:function(e,t){const n=w3(e,"x","reverse");return sZ(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),j9(n,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H9=C3({reverse3d_:function(e,t){const n=w3(e,"x","reverse");return sZ(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),j9(n,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U9=C3({reverse4d_:function(e,t){const n=w3(e,"x","reverse");return sZ(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),j9(n,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G9=C3({round_:function(e){const t={x:w3(e,"x","round")};return f3.runKernel(U0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q9=C3({rsqrt_:function(e){const t={x:w3(e,"x","rsqrt","float32")};return f3.runKernel(G0,t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y9=C3({selu_:function(e){const t={x:w3(e,"x","selu")};return f3.runKernel(X0,t)}});const K9=C3({separableConv2d_:function(e,t,n,r,o,a=[1,1],i="NHWC"){const s=w3(e,"x","separableConv2d"),l=w3(t,"depthwiseFilter","separableConv2d"),u=w3(n,"pointwiseFilter","separableConv2d");let c=s,d=!1;if(3===s.rank&&(d=!0,c=q5(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");sZ(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),sZ(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),sZ(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),sZ(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),sZ(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const p=l.shape[2],f=l.shape[3];sZ(u.shape[2]===p*f,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*f}, but got ${u.shape[2]}.`));const h=R6(c,l,r,o,i,a),m=g6(h,u,1,"valid",i);return d?q5(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X9=async function(e,t){const n=w3(e,"x","setdiff1d"),r=w3(t,"y","setdiff1d");sZ(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),sZ(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),sZ(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const o=await n.data(),a=await r.data(),i=new Set(a);let s=0;for(let c=0;c<o.length;c++)i.has(o[c])||s++;const l=new W2([s],n.dtype),u=new W2([s],"int32");for(let c=0,d=0;c<o.length;c++)i.has(o[c])||(l.values[d]=o[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q9=C3({sign_:function(e){const t={x:w3(e,"x","sign")};return f3.runKernel(e1,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z9=C3({sin_:function(e){const t={x:w3(e,"x","sin","float32")};return f3.runKernel(Z0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J9=C3({sinh_:function(e){const t={x:w3(e,"x","sinh")};return f3.runKernel(J0,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e7=C3({slice1d_:function(e,t,n){const r=w3(e,"x","slice1d");return sZ(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),Z5(r,[t],[n])}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t7=C3({slice2d_:function(e,t,n){const r=w3(e,"x","slice2d");return sZ(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),Z5(r,t,n)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n7=C3({slice3d_:function(e,t,n){const r=w3(e,"x","slice3d");return sZ(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),Z5(r,t,n)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r7=C3({slice4d_:function(e,t,n){const r=w3(e,"x","slice4d");return sZ(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),Z5(r,t,n)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o7=C3({softmax_:function(e,t=-1){const n=w3(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},o={dim:t};return f3.runKernel(s1,r,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a7=C3({fft_:function(e){sZ("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return f3.runKernel("FFT",t)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i7=C3({ifft_:function(e){sZ("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return f3.runKernel(QJ,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s7=C3({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const o=q5(e,[n,t]);r=i7(o)}else{const o=[n,2*(t-1)],a=q5(U4(e),[n,t]),i=q5(V4(e),[n,t]),s=j9(Z5(a,[0,1],[n,t-2]),1),l=y5(j9(Z5(i,[0,1],[n,t-2]),1),Q6(-1)),u=X5([a,s],1),c=X5([i,l],1),d=q5(E3(u,c),[o[0],o[1]]);r=i7(d)}if(r=U4(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=q5(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l7=C3({split_:function(e,t,n=0){const r={x:w3(e,"x","split")},o={numOrSizeSplits:t,axis:n};return f3.runKernel(i1,r,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u7=C3({rfft_:function(e,t){sZ("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let o;if(null!=t&&t<n){const r=e.shape.map((e=>0)),a=e.shape.map((e=>e));a[e.shape.length-1]=t,o=Z5(e,r,a),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,o=X5([e,z8(r)],e.shape.length-1),n=t}else o=e;const a=A6(o),i=q5(E3(o,a),[r,n]),s=a7(i),l=Math.floor(n/2)+1,u=U4(s),c=V4(s),d=l7(u,[l,n-l],u.shape.length-1),p=l7(c,[l,n-l],c.shape.length-1),f=o.shape.slice();return f[o.shape.length-1]=l,q5(E3(d[0],p[0]),f)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c7=C3({squaredDifference_:function(e,t){let n=w3(e,"a","squaredDifference"),r=w3(t,"b","squaredDifference");[n,r]=i3(n,r),K4(n.shape,r.shape);const o={a:n,b:r};return f3.runKernel(f1,o,{})}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d7=C3({squeeze_:function(e,t){const n=w3(e,"x","squeeze","string_or_numeric");return q5(n,yZ(n.shape,t).newShape)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p7=C3({stack_:function(e,t=0){const n=k3(e,"tensors","stack","string_or_numeric");sZ(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&sZ(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,o={axis:t};return f3.runKernel(R0,r,o)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f7=C3({step_:function(e,t=0){const n={x:w3(e,"x","step")},r={alpha:t};return f3.runKernel(_1,n,r)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h7=C3({stridedSlice_:function(e,t,n,r,o=0,a=0,i=0,s=0,l=0){const u={x:w3(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:o,endMask:a,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};return f3.runKernel(m1,u,c)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m7=C3({tan_:function(e){const t={x:w3(e,"x","tan","float32")};return f3.runKernel(x1,t)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g7(e,t){uZ(e);const n=b3(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return I3(e,null,n,t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v7(e,t,n){if(uZ(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=b3(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return I3(e,t,r,n)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b7=C3({topk_:
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t=1,n=!0){const r=w3(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const o=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got ${t}`);const a={x:r},i={k:t,sorted:n},[s,l]=f3.runKernel(S1,a,i);return{values:s,indices:l}}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y7=C3({truncatedNormal_:function(e,t=0,n=1,r,o){if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const a=new _9(t,n,r,!0,o),i=v4(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x7=C3({unique_:function(e,t=0){const n=w3(e,"x","unique","string_or_numeric");sZ(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},o={axis:t},[a,i]=f3.runKernel(I1,r,o);return{values:a,indices:i}}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w7=C3({unsortedSegmentSum_:function(e,t,n){const r=w3(e,"x","unsortedSegmentSum"),o=w3(t,"segmentIds","unsortedSegmentSum","int32");sZ(fZ(n),(()=>"numSegments must be of dtype int"));const a={x:r,segmentIds:o},i={numSegments:n};return f3.runKernel(T1,a,i)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k7=C3({unstack_:function(e,t=0){const n=w3(e,"x","unstack","string_or_numeric");sZ(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},o={axis:t};return f3.runKernel(N1,r,o)}});
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function S7(e,t){const n=[];for(let a=0;a<t.length;a++)t[a]&&n.push(a);const r=v4(e,"int32"),o=v4([n.length,e.length],"int32");for(let a=0;a<n.length;a++){const t=r.indexToLoc(n[a]),i=a*e.length;o.values.set(t,i)}return o.toTensor()}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C7=async function(e){const t=w3(e,"condition","whereAsync","bool"),n=await t.data(),r=S7(t.shape,n);return e!==t&&t.dispose(),r};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E7=async function(e,t,n){const r=w3(e,"tensor","boolMask"),o=w3(t,"mask","boolMask","bool"),a=null==n?0:n,i=o.rank,s=r.shape;sZ(i>0,(()=>"mask cannot be scalar")),lZ(s.slice(a,a+i),o.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=a;m<a+i;m++)l*=s[m];const u=s.slice(0,a).concat([l],s.slice(a+i)),c=q5(r,u),d=q5(o,[-1]),p=await C7(d),f=d7(p,[1]),h=c8(c,f,a);return e!==r&&r.dispose(),t!==o&&o.dispose(),f.dispose(),c.dispose(),d.dispose(),p.dispose(),h};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I7=C3({movingAverage_:function(e,t,n,r,o=!0){const a=w3(e,"v","movingAverage"),i=w3(t,"x","movingAverage"),s=w3(n,"decay","movingAverage");!function(e,t){sZ(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}(a,i),sZ(pZ(a.shape,i.shape),(()=>"Shape mismatch in v and x"));const l=Q6(1),u=E8(l,s);let c=y5(E8(i,a),u);if(o){sZ(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=w3(r,"step","movingAverage");c=b5(c,E8(l,X6(s,e)))}return g5(a,c)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N7=C3({scatterND_:function(e,t,n){const r=w3(e,"indices","scatterND","int32"),o=w3(t,"updates","scatterND");Z4(o,r,n);const a={indices:r,updates:o},i={shape:n};return f3.runKernel(q0,a,i)}});const T7=C3({sparseToDense_:
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r=0){const o=w3(e,"sparseIndices","sparseToDense","int32"),a=w3(t,"sparseValues","sparseToDense","string_or_numeric"),i=w3(r,"defaultValue","sparseToDense",a.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const o=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const i=t.size;if(0!==t.rank&&(1!==t.rank||i!==o))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${o}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,a,n,i);const s={sparseIndices:o,sparseValues:a,defaultValue:i},l={outputShape:n};return f3.runKernel(p1,s,l)}});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R7=C3({gatherND_:function(e,t){const n=w3(t,"indices","gatherND","int32"),r={params:w3(e,"x","gatherND","string_or_numeric"),indices:n};return f3.runKernel(qJ,r)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _7=C3({dropout_:
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r){const o=w3(e,"x","dropout");if(sZ("float32"===o.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${o.dtype} tensor instead.`)),sZ(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof U2?o.clone():o;const a=function(e,t){if(null==t)return e.shape.slice();if(pZ(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),i=1-t,s=b5(u8(g5(P9(a,0,1,"float32",r),i)),i);return y5(o,s)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $7(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function M7(e,t,n){const r=1-e%2,o=new Float32Array(e);for(let a=0;a<e;++a){const i=2*Math.PI*a/(e+r-1);o[a]=t-n*Math.cos(i)}return g7(o,"float32")}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O7=async function(e,t,n=1){const r=w3(e,"predictions","inTopK"),o=w3(t,"targets","inTopK");sZ(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),sZ(r.rank-1===o.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${o.rank}`)),lZ(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=r.shape[r.shape.length-1];sZ(n>0&&n<=a,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`));const i=await r.data(),s=await o.data(),[l,u]=[i.length/a,a],c=xZ("bool",l);for(let d=0;d<l;d++){const e=d*u,t=i.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[d]=0;for(let o=0;o<n;o++)if(r[o].index===s[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),N3(c,o.shape,"bool")};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A7=C3({conv2DBackpropFilter_:function(e,t,n,r,o,a="NHWC",i){let s=e;3===e.rank&&(s=q5(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=q5(t,[1,t.shape[0],t.shape[1],t.shape[2]])),sZ(4===s.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`)),sZ(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),sZ(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===a?s.shape[3]:s.shape[1],c="NHWC"===a?l.shape[3]:l.shape[1];sZ(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),sZ(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),G5("conv2dDerFilter",o,i);const d={x:s,dy:l},p={strides:r,pad:o,dataFormat:a,dimRoundingMode:i,filterShape:n};return f3.runKernel(bJ,d,p)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L7(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return y5(e,f7(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function P7(e,t){let n=t;const r=Y4(e.shape,t.shape);return r.length>0&&(n=e8(n,r)),q5(n,e.shape)}function D7(e,t,n,r){if("linear"===t)return e;if("relu"===t)return z9(e);if("elu"===t)return F6(e);if("relu6"===t)return B9(e);if("prelu"===t)return r9(e,n);if("leakyrelu"===t)return g8(e,r);if("sigmoid"===t)return Q5(e);throw new Error(`Unknown fused activation ${t}.`)}const F7=(e,t)=>!(e>0)||"linear"===t;
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z7=C3({fusedConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:o="NHWC",dilations:a=[1,1],dimRoundingMode:i,bias:s,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",!1===F7(f3.state.gradientDepth,l)){sZ("NHWC"===o,(()=>`Error in fused conv2d: got dataFormat of ${o} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let d=g6(e,t,n,r,o,a,i);return null!=s&&(d=g5(d,s)),D7(d,l,u,c)}const d=w3(e,"x","conv2d","float32"),p=w3(t,"filter","conv2d","float32");let f=d,h=!1;3===d.rank&&(h=!0,f=q5(d,[1,d.shape[0],d.shape[1],d.shape[2]])),sZ(4===f.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`)),sZ(4===p.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${p.rank}.`)),G5("fused conv2d",r,i);const m="NHWC"===o?f.shape[3]:f.shape[1];sZ(p.shape[2]===m,(()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${p.shape[2]}.`)),sZ(H5(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`));const g=P5(f.shape,p.shape,n,a,r,i);let v,b;if(null!=s&&(v=w3(s,"bias","fused conv2d"),[v]=i3(v,d),"NHWC"===o?K4(g.outShape,v.shape):(sZ(v.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`)),sZ(0===v.shape.length||v.shape[0]===g.outChannels||1===v.shape[0],(()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${g.outChannels})`)))),null!=u){const e=u.shape;if(sZ(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)sZ(1===e[0]||e[0]===g.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${g.outChannels}).`));else if(3===e.length)try{K4(e,g.outShape)}catch(kxe){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(n)}b=w3(u,"prelu weights","fused conv2d")}const y=(e,t)=>{sZ("NHWC"===o,(()=>`Error in gradient of fused conv2D: got dataFormat of ${o} but only NHWC is currently supported.`));const[i,s,u,c]=t,d=L7(e,u,l);sZ(V5(a),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const p=[b6(s.shape,d,i,n,r),A7(s,d,i.shape,n,r)];if(null!=c){const e=P7(c,d);p.push(e)}return p},x={x:f,filter:p,bias:v,preluActivationWeights:b},w={strides:n,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==s){return k8(((e,t,n)=>{let r=f3.runKernel(O1,x,w);return n([t,e,r]),h&&(r=q5(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:y}}))(f,p)}return k8(((e,t,n,r)=>{let o=f3.runKernel(O1,x,w);return r([t,e,o,n]),h&&(o=q5(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:y}}))(f,p,v)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B7=C3({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,o,a=[1,1],i){let s=e;3===e.rank&&(s=q5(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=q5(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:o,dimRoundingMode:i,dilations:a,filterShape:n};return f3.runKernel(_J,u,c)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j7=C3({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,o,a=[1,1],i){let s=t,l=!1;3===t.rank&&(l=!0,s=q5(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:s,filter:n},c={strides:r,pad:o,dimRoundingMode:i,dilations:a,inputShape:e},d=f3.runKernel($J,u,c);return l?q5(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W7=C3({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:o="NHWC",dilations:a=[1,1],dimRoundingMode:i,bias:s,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(!1===F7(f3.state.gradientDepth,l)){let d=R6(e,t,n,r,o,a,i);return null!=s&&(d=g5(d,s)),D7(d,l,u,c)}const d=w3(e,"x","depthwiseConv2d","float32"),p=w3(t,"filter","depthwiseConv2d","float32");let f=d,h=!1;3===d.rank&&(h=!0,f=q5(d,[1,d.shape[0],d.shape[1],d.shape[2]])),sZ(4===f.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`)),sZ(4===p.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${p.rank}.`)),sZ(f.shape[3]===p.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`)),null==a&&(a=[1,1]),sZ(H5(n,a),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),G5("fused depthwiseConv2d",r,i);const m=P5(f.shape,p.shape,n,a,r,i,!0);let g,v;null!=s&&(g=w3(s,"bias","fused conv2d"),[g]=i3(g,d),K4(m.outShape,g.shape)),null!=u&&(v=w3(u,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{sZ(V5(a),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`));const[o,s,u,c]=t,d=L7(e,u,l),p=j7(s.shape,d,o,n,r,a,i),f=B7(s,d,o.shape,n,r,a,i);if(null!=c){return[p,f,P7(g,d)]}return[p,f]},y={x:f,filter:p,bias:g,preluActivationWeights:v},x={strides:n,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i,activation:l,leakyreluAlpha:c};if(null==s){return k8(((e,t,n)=>{let r=f3.runKernel(A1,y,x);return n([t,e,r]),h&&(r=q5(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}))(f,p)}return k8(((e,t,n,r)=>{let o=f3.runKernel(A1,y,x);return r([t,e,o,n]),h&&(o=q5(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:b}}))(f,p,g)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V7=C3({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:o,activation:a="linear",preluActivationWeights:i,leakyreluAlpha:s=.2}){if(!1===F7(f3.state.gradientDepth,a)){let l=P4(e,t,n,r);return null!=o&&(l=g5(l,o)),D7(l,a,i,s)}let l=w3(e,"a","fused matMul"),u=w3(t,"b","fused matMul");[l,u]=i3(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=r?u.shape[u.rank-1]:u.shape[u.rank-2],p=n?l.shape[l.rank-1]:l.shape[l.rank-2],f=r?u.shape[u.rank-2]:u.shape[u.rank-1],h=l.shape.slice(0,-2),m=u.shape.slice(0,-2),g=dZ(h),v=dZ(m);sZ(c===d,(()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`));const b=K4(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([p,f]),y=q5(l,n?[g,c,p]:[g,p,c]),x=q5(u,r?[v,f,d]:[v,d,f]);let w,k;null!=o&&(w=w3(o,"bias","fused matMul"),[w]=i3(w,l),K4(b,w.shape)),null!=i&&(k=w3(i,"prelu weights","fused matMul"));const S=(e,t)=>{const[i,s,l,u]=t,c=L7(q5(e,l.shape),l,a);let d,p;if(n||r?!n&&r?(d=P4(c,s,!1,!1),p=P4(c,i,!0,!1)):n&&!r?(d=P4(s,c,!1,!0),p=P4(i,c,!1,!1)):(d=P4(s,c,!0,!0),p=P4(c,i,!0,!0)):(d=P4(c,s,!1,!0),p=P4(i,c,!0,!1)),null!=o){return[d,p,P7(u,c)]}return[d,p]},C={a:y,b:x,bias:w,preluActivationWeights:k},E={transposeA:n,transposeB:r,activation:a,leakyreluAlpha:s};if(null==o){return k8(((e,t,n)=>{const r=f3.runKernel(M1,C,E);return n([e,t,r]),{value:q5(r,b),gradFunc:S}}))(y,x)}return k8(((e,t,n,r)=>{const o=f3.runKernel(M1,C,E);return r([e,t,o,n]),{value:q5(o,b),gradFunc:S}}))(y,x,w)}}),H7=Object.freeze(Object.defineProperty({__proto__:null,conv2d:z7,depthwiseConv2d:W7,matMul:V7},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U7=C3({hammingWindow_:
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){return M7(e,.54,.46)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G7=C3({hannWindow_:function(e){return M7(e,.5,.5)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q7=C3({frame_:function(e,t,n,r=!1,o=0){let a=0;const i=[];for(;a+t<=e.size;)i.push(Z5(e,a,t)),a+=n;if(r)for(;a<e.size;){const r=a+t-e.size,s=X5([Z5(e,a,t-r),c6([r],o)]);i.push(s),a+=n}return 0===i.length?v7([],[0,t]):q5(X5(i),[i.length,t])}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y7=C3({stft_:function(e,t,n,r,o=G7){null==r&&(r=$7(t));const a=q7(e,t,n),i=y5(a,o(t));return u7(i,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K7=C3({cropAndResize_:function(e,t,n,r,o="bilinear",a=0){const i=w3(e,"image","cropAndResize"),s=w3(t,"boxes","cropAndResize","float32"),l=w3(n,"boxInd","cropAndResize","int32"),u=s.shape[0];sZ(4===i.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`)),sZ(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`)),sZ(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`)),sZ(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),sZ(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),sZ("bilinear"===o||"nearest"===o,(()=>`method must be bilinear or nearest, but was ${o}`));const c={image:i,boxes:s,boxInd:l},d={method:o,extrapolationValue:a,cropSize:r};return f3.runKernel(IJ,c,d)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X7=C3({flipLeftRight_:function(e){const t=w3(e,"image","flipLeftRight","float32");sZ(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return f3.runKernel(WJ,n,{})}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q7=C3({grayscaleToRGB_:function(e){const t=w3(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];sZ(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),sZ(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const o=new Array(t.rank);return o.fill(1,0,n),o[n]=3,s8(t,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z7=C3({rotateWithOffset_:function(e,t,n=0,r=.5){const o=w3(e,"image","rotateWithOffset","float32");sZ(4===o.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${o.rank}.`));const a={image:o},i={radians:t,fillValue:n,center:r};return f3.runKernel($1,a,i)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J7(e,t,n,r,o,a){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==a&&(a=0);const i=e.shape[0];return n=Math.min(n,i),sZ(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),sZ(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),sZ(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),sZ(1===t.rank,(()=>"scores must be a 1D tensor")),sZ(t.shape[0]===i,(()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`)),sZ(0<=a&&a<=1,(()=>`softNmsSigma must be in [0, 1], but was '${a}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eee=C3({nonMaxSuppression_:function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY){const a=w3(e,"boxes","nonMaxSuppression","float32"),i=w3(t,"scores","nonMaxSuppression","float32"),s=J7(a,i,n,r,o),l={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:o=s.scoreThreshold};return f3.runKernel(C0,{boxes:a,scores:i},l)}});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tee(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,o=e.length,a=0,i=!1;for(;r<o;){a=r+(o-r>>>1);const s=n(t,e[a]);s>0?r=a+1:(o=a,i=!s)}return i?r:-r-1}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(e,t,n||nee)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function nee(e,t){return e>t?1:e<t?-1:0}function ree(e,t,n,r,o){return iee(e,t,n,r,o,0)}function oee(e,t,n,r,o,a){return iee(e,t,n,r,o,0,!1,a,!0)}function aee(e,t,n,r,o,a){return iee(e,t,n,r,o,a,!0)}function iee(e,t,n,r,o,a,i=!1,s=!1,l=!1){const u=[];for(let g=0;g<t.length;g++)t[g]>o&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(uee);const c=a>0?-.5/a:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:a,suppressBeginIndex:i}=t;if(n<o)break;let s=!1;for(let l=d.length-1;l>=i;--l){const n=see(e,a,d[l]);if(n>=r){s=!0;break}if(t.score=t.score*lee(r,c,n),t.score<=o)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(a),p.push(t.score)):t.score>o&&tee(u,t,uee))}const f=d.length,h=n-f;s&&h>0&&(d.push(...new Array(h).fill(0)),p.push(...new Array(h).fill(0)));const m={selectedIndices:d};return i&&(m.selectedScores=p),l&&(m.validOutputs=f),m}function see(e,t,n){const r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),f=(s-a)*(l-i),h=(d-u)*(p-c);if(f<=0||h<=0)return 0;const m=Math.max(a,u),g=Math.max(i,c),v=Math.min(s,d),b=Math.min(l,p),y=Math.max(v-m,0)*Math.max(b-g,0);return y/(f+h-y)}function lee(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function uee(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cee=async function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY){const a=w3(e,"boxes","nonMaxSuppressionAsync"),i=w3(t,"scores","nonMaxSuppressionAsync"),s=J7(a,i,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l=await Promise.all([a.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:d}=ree(u,c,n,r,o);return a!==e&&a.dispose(),i!==t&&i.dispose(),g7(d,"int32")};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dee=C3({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,a=0){const i=w3(e,"boxes","nonMaxSuppression"),s=w3(t,"scores","nonMaxSuppression"),l=J7(i,s,n,r,o,a),u={boxes:i,scores:s},c={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:o=l.scoreThreshold,softNmsSigma:a=l.softNmsSigma},d=f3.runKernel(I0,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pee=async function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,a=0){const i=w3(e,"boxes","nonMaxSuppressionAsync"),s=w3(t,"scores","nonMaxSuppressionAsync"),l=J7(i,s,n,r,o,a);n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,a=l.softNmsSigma;const u=await Promise.all([i.data(),s.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:f}=aee(c,d,n,r,o,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:g7(p,"int32"),selectedScores:g7(f)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fee=C3({nonMaxSuppressionPadded_:function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,a=!1){const i=w3(e,"boxes","nonMaxSuppression"),s=w3(t,"scores","nonMaxSuppression"),l=J7(i,s,n,r,o,null),u={boxes:i,scores:s},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:a},d=f3.runKernel(E0,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hee=async function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,a=!1){const i=w3(e,"boxes","nonMaxSuppressionAsync"),s=w3(t,"scores","nonMaxSuppressionAsync"),l=J7(i,s,n,r,o,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,f]=await Promise.all([i.data(),s.data()]),{selectedIndices:h,validOutputs:m}=oee(p,f,u,c,d,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:g7(h,"int32"),validOutputs:Q6(m,"int32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mee=C3({resizeBilinear_:function(e,t,n=!1,r=!1){const o=w3(e,"images","resizeBilinear");sZ(3===o.rank||4===o.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${o.rank}.`)),sZ(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),sZ(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let a=o,i=!1;3===o.rank&&(i=!0,a=q5(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=f3.runKernel(W0,s,l);return i?q5(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gee=C3({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const o=w3(e,"images","resizeNearestNeighbor");sZ(3===o.rank||4===o.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${o.rank}.`)),sZ(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),sZ("float32"===o.dtype||"int32"===o.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),sZ(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let a=o,i=!1;3===o.rank&&(i=!0,a=q5(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=f3.runKernel(j0,s,l);return i?q5(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vee=C3({threshold_:function(e,t="binary",n=!1,r=.5){const o=w3(e,"image","threshold"),a=o.shape[0]*o.shape[1];let i,s,l,u,c=y5(g7([r]),255);if(sZ(3===o.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${o.rank}.`)),sZ(3===o.shape[2]||1===o.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${o.shape[2]}.`)),sZ("int32"===o.dtype||"float32"===o.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${o.dtype}.`)),sZ("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===o.shape[2]){[i,s,l]=l7(o,[1,1,1],-1);const e=y5(i,.2989),t=y5(s,.587),n=y5(l,.114);u=g5(g5(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,o,a,i,s,l=g7([-1]),u=g7([0]),c=g7([0]);for(let d=0;d<e.size-1;d++){n=Z5(e,0,d+1),r=Z5(e,d+1),i=b5(e8(n),t),s=b5(e8(r),t);const p=e8(y5(n,D9(0,n.size)));o=b5(p,e8(n));const f=c6(r.shape,n.size),h=g5(D9(0,r.size),f),m=y5(r,h);a=b5(e8(m),e8(r));const g=E8(o,a),v=E8(o,a),b=y5(i,s);c=y5(y5(b,g),v);const y=d8(c,u);u=O6(y,c,u),l=O6(y,g7([d]),l)}return l}(i6(b4(G9(u),"int32"),N3([]),256),a)}const d=n?b8(u,c):d8(u,c);return b4(y5(d,255),"int32")}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bee=C3({transform_:function(e,t,n="nearest",r="constant",o=0,a){const i=w3(e,"image","transform","float32"),s=w3(t,"transforms","transform","float32");sZ(4===i.rank,(()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`)),sZ(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),sZ(null==a||2===a.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`));const l={image:i,transforms:s},u={interpolation:n,fillMode:r,fillValue:o,outputShape:a};return f3.runKernel(C1,l,u)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yee=C3({bandPart_:function(e,t,n){sZ(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),sZ(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const r=w3(e,"a","bandPart");sZ(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const o=r.shape,[a,i]=r.shape.slice(-2);if(!(t<=a))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`);if(!(n<=i))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`);t<0&&(t=a),n<0&&(n=i);const s=q5(D9(0,a,1,"int32"),[-1,1]),l=D9(0,i,1,"int32"),u=E8(s,l),c=T8(b8(u,Q6(+t,"int32")),p8(u,Q6(-n,"int32"))),d=z8([a,i],r.dtype);return q5(p7(k7(q5(r,[-1,a,i])).map((e=>O6(c,e,d)))),o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xee=C3({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,sZ(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)sZ(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=l7(e,e.shape[0],0).map((e=>d7(e,[0])));sZ(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let o=0;o<e.length;++o)n.push(f3.tidy((()=>{let e=r[o];if(o>0)for(let t=0;t<o;++t){const r=y5(e8(y5(n[t],e)),n[t]);e=E8(e,r)}return b5(e,n8(e,"euclidean"))})));return t?p7(n,0):n}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wee(e,t=!1){return f3.tidy((()=>{sZ(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let o=l8(n),a=y4(e);const i=v7([[1]],[1,1]);let s=y4(i);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=a,l=s,u=o;[s,a,o]=f3.tidy((()=>{const t=Z5(a,[e,e],[n-e,1]),l=n8(t),u=Z5(a,[e,e],[1,1]),c=O6(d8(u,0),v7([[-1]]),v7([[1]])),d=E8(u,y5(c,l)),p=b5(t,d);s=1===p.shape[0]?y4(i):X5([i,Z5(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const f=H4(b5(P4(c,d),l)),h=Z5(a,[e,0],[n-e,r]),m=y5(f,s),g=G4(s);if(0===e)a=E8(h,P4(m,P4(g,h)));else{const t=E8(h,P4(m,P4(g,h)));a=X5([Z5(a,[0,0],[e,r]),t],0)}const v=G4(m),b=Z5(o,[0,e],[n,o.shape[1]-e]);if(0===e)o=E8(b,P4(P4(b,s),v));else{const t=E8(b,P4(P4(b,s),v));o=X5([Z5(o,[0,0],[n,e]),t],1)}return[s,a,o]})),s3([t,l,u]).forEach((e=>e.dispose()))}return!t&&n>r&&(o=Z5(o,[0,0],[n,r]),a=Z5(a,[0,0],[r,r])),[o,a]}))}const kee=C3({qr_:function(e,t=!1){if(sZ(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return wee(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=k7(q5(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],a=[];r.forEach((e=>{const[n,r]=wee(e,t);o.push(n),a.push(r)}));return[q5(p7(o,0),e.shape),q5(p7(a,0),e.shape)]}}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var See,Cee;(Cee=See||(See={}))[Cee.NONE=0]="NONE",Cee[Cee.MEAN=1]="MEAN",Cee[Cee.SUM=2]="SUM",Cee[Cee.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS";const Eee=C3({computeWeightedLoss_:function(e,t,n=See.SUM_BY_NONZERO_WEIGHTS){const r=w3(e,"losses","computeWeightedLoss");let o=null;null!=t&&(o=w3(t,"weights","computeWeightedLoss"));const a=null==o?r:y5(r,o);if(n===See.NONE)return a;if(n===See.SUM)return e8(a);if(n===See.MEAN){if(null==o)return F8(a);{const e=r.size/o.size,t=b5(e8(a),e8(o));return e>1?b5(t,Q6(e)):t}}if(n===See.SUM_BY_NONZERO_WEIGHTS){if(null==o)return b5(e8(a),Q6(r.size));{const e=y5(o,B8(r.shape)),t=b4(e8(q8(e,Q6(0))),"float32");return b5(e8(a),t)}}throw Error(`Unknown reduction: ${n}`)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iee=C3({absoluteDifference_:function(e,t,n,r=See.SUM_BY_NONZERO_WEIGHTS){const o=w3(e,"labels","absoluteDifference"),a=w3(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=w3(n,"weights","absoluteDifference")),lZ(o.shape,a.shape,"Error in absoluteDifference: ");const s=x5(E8(o,a));return Eee(s,i,r)}});const Nee=C3({cosineDistance_:function(e,t,n,r,o=See.SUM_BY_NONZERO_WEIGHTS){const a=w3(e,"labels","cosineDistance"),i=w3(t,"predictions","cosineDistance");let s=null;null!=r&&(s=w3(r,"weights","cosineDistance")),lZ(a.shape,i.shape,"Error in cosineDistance: ");const l=Q6(1),u=E8(l,e8(y5(a,i),n,!0));return Eee(u,s,o)}});const Tee=C3({hingeLoss_:function(e,t,n,r=See.SUM_BY_NONZERO_WEIGHTS){let o=w3(e,"labels","hingeLoss");const a=w3(t,"predictions","hingeLoss");let i=null;null!=n&&(i=w3(n,"weights","hingeLoss")),lZ(o.shape,a.shape,"Error in hingeLoss: ");const s=Q6(1);o=E8(y5(Q6(2),o),s);const l=z9(E8(s,y5(o,a)));return Eee(l,i,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ree=C3({huberLoss_:function(e,t,n,r=1,o=See.SUM_BY_NONZERO_WEIGHTS){const a=w3(e,"labels","huberLoss"),i=w3(t,"predictions","huberLoss");let s=null;null!=n&&(s=w3(n,"weights","huberLoss")),lZ(a.shape,i.shape,"Error in huberLoss: ");const l=Q6(r),u=x5(E8(i,a)),c=j8(u,l),d=E8(u,c),p=g5(y5(Q6(.5),J6(c)),y5(l,d));return Eee(p,s,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ee=C3({logLoss_:function(e,t,n,r=1e-7,o=See.SUM_BY_NONZERO_WEIGHTS){const a=w3(e,"labels","logLoss"),i=w3(t,"predictions","logLoss");let s=null;null!=n&&(s=w3(n,"weights","logLoss")),lZ(a.shape,i.shape,"Error in logLoss: ");const l=Q6(1),u=Q6(r),c=H4(y5(a,x8(g5(i,u)))),d=y5(E8(l,a),x8(g5(E8(l,i),u))),p=E8(c,d);return Eee(p,s,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ee=C3({meanSquaredError_:function(e,t,n,r=See.SUM_BY_NONZERO_WEIGHTS){const o=w3(e,"labels","meanSquaredError"),a=w3(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=w3(n,"weights","meanSquaredError")),lZ(o.shape,a.shape,"Error in meanSquaredError: ");const s=c7(o,a);return Eee(s,i,r)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mee=C3({sigmoidCrossEntropy_:function(e,t,n,r=0,o=See.SUM_BY_NONZERO_WEIGHTS){let a=w3(e,"multiClassLabels","sigmoidCrossEntropy");const i=w3(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=w3(n,"weights","sigmoidCrossEntropy")),lZ(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Q6(r),t=Q6(1),n=Q6(.5);a=g5(y5(a,E8(t,e)),y5(n,e))}const l=function(e,t){const n=w3(e,"labels","sigmoidCrossEntropyWithLogits"),r=w3(t,"logits","sigmoidCrossEntropyWithLogits");lZ(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const o=z9(r),a=y5(r,n),i=w8(o8(H4(x5(r))));return g5(E8(o,a),i)}(a,i);return Eee(l,s,o)}});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oee=C3({softmaxCrossEntropy_:function(e,t,n,r=0,o=See.SUM_BY_NONZERO_WEIGHTS){let a=w3(e,"onehotLabels","softmaxCrossEntropy");const i=w3(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=w3(n,"weights","softmaxCrossEntropy")),lZ(a.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Q6(r),t=Q6(1),n=Q6(a.shape[1]);a=g5(y5(a,E8(t,e)),b5(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return k8(((e,t,r)=>{const o=N8(t,[n],!0),a=E8(b4(t,"float32"),o);r([e,a]);const i=H4(y5(a,e));return{value:e8(i,[n]),gradFunc:(e,t)=>{const[r,o]=t,a=V6(e.shape,[n]);return[y5(q5(e,a),E8(b4(r,"float32"),o8(o))),y5(q5(e,a),E8(o8(o),b4(r,"float32")))]}}}))(e,t)}(a,i);return Eee(l,s,o)}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aee=C3({sparseFillEmptyRows_:function(e,t,n,r){const o=w3(e,"indices","sparseFillEmptyRows","int32"),a=w3(t,"values","sparseFillEmptyRows"),i=w3(n,"denseShape","sparseFillEmptyRows","int32"),s=w3(r,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==o.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${o.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==i.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);const l={indices:o,values:a,denseShape:i,defaultValue:s},u=f3.runKernel(l1,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lee=C3({sparseReshape_:function(e,t,n){const r=w3(e,"inputIndices","sparseReshape","int32"),o=w3(t,"inputShape","sparseReshape","int32"),a=w3(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==o.rank)throw new Error(`Input shape should be Tensor1D but received shape ${o.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const i={inputIndices:r,inputShape:o,newShape:a},s=f3.runKernel(u1,i);return{outputIndices:s[0],outputShape:s[1]}}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pee=C3({sparseSegmentMean_:function(e,t,n){const r=w3(e,"data","sparseSegmentMean"),o=w3(t,"indices","sparseSegmentMean","int32"),a=w3(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${o.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);const i={data:r,indices:o,segmentIds:a};return f3.runKernel(c1,i)}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dee=C3({sparseSegmentSum_:function(e,t,n){const r=w3(e,"data","sparseSegmentSum"),o=w3(t,"indices","sparseSegmentSum","int32"),a=w3(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${o.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);const i={data:r,indices:o,segmentIds:a};return f3.runKernel(d1,i)}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fee=C3({stringNGrams_:function(e,t,n,r,o,a,i,s){const l=w3(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=w3(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:o,rightPad:a,padWidth:i,preserveShortSequences:s},d={data:l,dataSplits:u},p=f3.runKernel(g1,d,c);return{nGrams:p[0],nGramsSplits:p[1]}}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zee=C3({stringSplit_:function(e,t,n=!0){const r=w3(e,"input","stringSplit","string"),o=w3(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==o.rank)throw new Error(`Delimiter should be a scalar but received shape ${o.shape}`);const a={skipEmpty:n},i={input:r,delimiter:o},s=f3.runKernel(v1,i,a);return{indices:s[0],values:s[1],shape:s[2]}}});
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bee=C3({stringToHashBucketFast_:function(e,t){const n=w3(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const o={input:n};return f3.runKernel(b1,o,r)}}),jee={fft:a7,ifft:i7,rfft:u7,irfft:s7},Wee={hammingWindow:U7,hannWindow:G7,frame:q7,stft:Y7},Vee={flipLeftRight:X7,grayscaleToRGB:Q7,resizeNearestNeighbor:gee,resizeBilinear:mee,rotateWithOffset:Z7,cropAndResize:K7,nonMaxSuppression:eee,nonMaxSuppressionAsync:cee,nonMaxSuppressionWithScore:dee,nonMaxSuppressionWithScoreAsync:pee,nonMaxSuppressionPadded:fee,nonMaxSuppressionPaddedAsync:hee,threshold:vee,transform:bee},Hee={bandPart:yee,gramSchmidt:xee,qr:kee},Uee={absoluteDifference:Iee,computeWeightedLoss:Eee,cosineDistance:Nee,hingeLoss:Tee,huberLoss:Ree,logLoss:_ee,meanSquaredError:$ee,sigmoidCrossEntropy:Mee,softmaxCrossEntropy:Oee},Gee={sparseFillEmptyRows:Aee,sparseReshape:Lee,sparseSegmentMean:Pee,sparseSegmentSum:Dee},qee={stringNGrams:Fee,stringSplit:zee,stringToHashBucketFast:Bee},Yee="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Kee(e,t){const n=e[0].length;e.forEach(((e,t)=>{sZ(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),sZ(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,o)=>{for(let a=0;a<n;a++)sZ(a===t||e[a]===r[a],(()=>`Error in concat${n}D: Shape of tensors[${o}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`))}))}function Xee(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Qee,Zee;function Jee(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let o=1;o<n.length;++o){const a=n[o],i=r[r.length-n.length+o],s=r[i];if(a>=0)if(s>=0){if(s!==a)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${o+e}] = ${a} but shape[${o+e}] = ${s}`)}else r[i]=a}return r}function ete(e){const t={FIRST_DIM_SIZE:Qee.FIRST_DIM_SIZE,VALUE_ROWIDS:Qee.VALUE_ROWIDS,ROW_LENGTHS:Qee.ROW_LENGTHS,ROW_SPLITS:Qee.ROW_SPLITS,ROW_LIMITS:Qee.ROW_LIMITS,ROW_STARTS:Qee.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function tte(e){return 0===e.length?0:e[0]===Qee.FIRST_DIM_SIZE?e.length-1:e.length}function nte(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let o=0;o<Math.min(n,r-1);++o){const n=e[o],r=t[o+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${o-e.length}] = ${n} but ragged tensor input.flatValues.shape[${o-e.length}] = ${r}`)}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(Zee=Qee||(Qee={}))[Zee.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",Zee[Zee.VALUE_ROWIDS=1]="VALUE_ROWIDS",Zee[Zee.ROW_LENGTHS=2]="ROW_LENGTHS",Zee[Zee.ROW_SPLITS=3]="ROW_SPLITS",Zee[Zee.ROW_LIMITS=4]="ROW_LIMITS",Zee[Zee.ROW_STARTS=5]="ROW_STARTS";function rte(e){return e<=30?e:NZ(e,Math.floor(Math.sqrt(e)))}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ote(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ate(e,t,n,r=!0){let o=[];if(r)o=o.concat(t.slice(0)),o.push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)o=o.concat([e[r+1]/t[r],t[r]]);o=o.concat(e.slice(n+1))}return o}function ite(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],o=[];for(let r=1;r<e;++r)r>=2*t+1||r%2==1?o.push(r):n.push(r);r.push(...n),r.push(0),r.push(...o)}return r}function ste(e,t,n,r=!0){const o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(let a=1;a<e.length;++a)a<=t.length?r?o.push(t[a-1]*e[a]):o.push(e[a]/t[a-1]):o.push(e[a]);return o}function lte(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function ute(e,t,n){const r=e.slice(0,1);for(let o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cte=1.7580993408473768,dte=1.0507009873554805,pte=.3275911,fte=.254829592,hte=-.284496736,mte=1.421413741,gte=-1.453152027,vte=1.061405429;
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function bte(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const yte="->",xte=/->/g;function wte(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(xte,"").length)/2;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${yte}").`);const[r,o]=e.split(yte);sZ(-1===r.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const a=r.split(","),i=a.length;if(t!==i)throw new Error(`Expected ${i} input tensors, received ${t}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<o.length;++d){const e=o[d];if(!a.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&","!==e&&s.push(e)}const l=new Array(a.length);for(let d=0;d<i;++d){if(new Set(a[d].split("")).size!==a[d].length)throw new Error(`Found duplicate axes in input component ${a[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let e=0;e<a[d].length;++e)l[d].push(s.indexOf(a[d][e]))}const u=s.length,c=[];for(let d=o.length;d<u;++d)c.push(d);return{allDims:s,summedDims:c,idDims:l}}function kte(e,t){let n=new Array(e);n.fill(-1);for(let o=0;o<t.length;++o)n[t[o]]=o;const r=[];for(let o=0;o<e;++o)-1===n[o]&&r.push(o);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Ste(e,t,n){const r=new Array(e);for(let o=0;o<n.length;++o){const e=n[o].shape;for(let n=0;n<t[o].length;++n)void 0===r[t[o][n]]?r[t[o][n]]=e[n]:sZ(r[t[o][n]]===e[n],(()=>`Expected dimension ${r[t[o][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function Cte(e,t){const n=e,r=[];let o=0;0===e.length&&n.push(-1),o=e.length+1;for(let i=0;i<o;++i)r.push([]);const a=[];for(let i=0;i<n.length;++i){const e=Ite(t,n[i]);for(const t of e)-1===a.indexOf(t)&&(r[i].push(t),a.push(t))}return{path:n,steps:r}}function Ete(e){return e.every(((e,t)=>e===t))}function Ite(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Nte(e,t,n=0){let r=[];if("number"==typeof t)sZ(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{sZ(t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0)<=1,(()=>"There should be only one negative value in split array."));const o=t.indexOf(-1);if(-1!==o){const r=t.reduce(((e,t)=>t>0?e+t:e));t[o]=e.shape[n]-r}sZ(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tte(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function Rte(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function _te(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $te(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Mte(e,t){return`size ${e} must be non-negative, not ${t}`}function Ote(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Ate(e,t){return`Input to reshape is a SparseTensor with ${dZ(e)}\n  dense values, but the requested shape requires a multiple of ${dZ(t)}. inputShape=${e} outputShape= ${t}`}function Lte(e,t){return`Input to reshape is a tensor with ${dZ(e)} dense values, but the requested shape has ${dZ(t)}. inputShape=${e} outputShape=${t}`}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pte(){return"segment ids must be >= 0"}function Dte(){return"segment ids are not increasing"}function Fte(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function zte(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bte(e,t){let n,r=!1;for(e<=30?(n=e,r=!0):n=NZ(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=NZ(e,n+1);return n}function jte(e,t,n){const r=[],o=e.length;for(let a=0;a<o;a++)a!==t?r.push(e[a]):r.push(n);return r}function Wte(e,t,n,r){const o=t.shape.length,a=e.shape.length;if(0!==r&&(r<-o||r>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${r}`);if(r<0&&(r+=o),r>a)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${a}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error(`x.shape[${d}]: ${e.shape[d]} should be equal to indices.shape[${d}]: ${t.shape[d]}.`);const i=e.shape[n],s=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),u*=e.shape[d];for(let d=r;d<o;d++)s.push(t.shape[d]);for(let d=n+1;d<a;d++)s.push(e.shape[d]),c*=e.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:i,outputShape:s}}const Vte=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:Wte,computeOutShape:jte,segOpComputeOptimalWindowSize:Bte},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hte(e){try{return e.map((e=>O2(e)))}catch(Sxe){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${Sxe}`)}}function Ute(e){return e.map((e=>M2(e)))}const Gte=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:fte,ERF_A2:hte,ERF_A3:mte,ERF_A4:gte,ERF_A5:vte,ERF_P:pte,PARALLELIZE_THRESHOLD:30,get RowPartitionType(){return Qee},SELU_SCALE:dte,SELU_SCALEALPHA:cte,applyActivation:D7,assertAndGetBroadcastShape:K4,assertAxesAreInnerMostDims:H6,assertParamsConsistent:Kee,assignToTypedArray:function(e,t,n,r){e[2*r]=t,e[2*r+1]=n},axesAreInnerMostDims:B6,calculateShapes:J4,checkEinsumDimSizes:Ste,checkPadOnDimRoundingMode:G5,combineLocations:j6,combineRaggedTensorToTensorShapes:Jee,complexWithEvenIndex:function(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}},complexWithOddIndex:function(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}},computeConv2DInfo:P5,computeConv3DInfo:D5,computeDefaultPad:F5,computeDilation2DInfo:O5,computeOptimalWindowSize:rte,computeOutAndReduceShapes:W6,computeOutShape:Xee,computePool2DInfo:A5,computePool3DInfo:L5,convertConv2DDataFormat:U5,decodeEinsumEquation:wte,eitherStridesOrDilationsAreOne:H5,expandShapeToKeepDim:V6,exponent:function(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}},exponents:function(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let o=0;o<Math.ceil(e/2);o++){const a=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(a),r[o]=Math.sin(a)}return{real:n,imag:r}},fromStringArrayToUint8:Ute,fromUint8ToStringArray:Hte,getAxesPermutation:U6,getBroadcastDims:q4,getComplexWithIndex:function(e,t){return{real:e[2*t],imag:e[2*t+1]}},getEinsumComputePath:Cte,getEinsumPermutation:kte,getFusedBiasGradient:P7,getFusedDyActivation:L7,getImageCenter:ote,getInnerMostAxes:q6,getPermuted:ite,getRaggedRank:tte,getReductionAxes:Y4,getReshaped:ate,getReshapedPermuted:ste,getRowPartitionTypesHelper:ete,getSliceBeginCoords:lte,getSliceSize:ute,getSparseFillEmptyRowsIndicesDenseShapeMismatch:Tte,getSparseFillEmptyRowsNegativeIndexErrorMessage:Rte,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:_te,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:Ote,getSparseReshapeInputOutputMismatchErrorMessage:Lte,getSparseReshapeInputOutputMultipleErrorMessage:Ate,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:$te,getSparseReshapeNegativeOutputDimErrorMessage:Mte,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:zte,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:Pte,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:Dte,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:Fte,getUndoAxesPermutation:G6,isIdentityPermutation:Ete,log:function(...e){BZ().getBool("IS_TEST")||BZ().getBool("PROD")||console.log(...e)},mergeRealAndImagArrays:bte,prepareAndValidate:X4,prepareSplitSize:Nte,segment_util:Vte,shouldFuse:F7,slice_util:m5,splitRealAndImagArrays:function(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}},tupleValuesAreOne:V5,upcastType:o3,validateDefaultValueShape:nte,validateInput:Z4,validateUpdateShape:Q4,warn:L1},Symbol.toStringTag,{value:"Module"})),qte={},Yte={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kte(e,t){if(!(e in qte)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete qte[e]}),!1),BZ().getBool("SOFTWARE_WEBGL_ENABLED")&&(Yte.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",Yte)||n.getContext("experimental-webgl",Yte);return n.getContext("webgl2",Yte)}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;qte[e]=n}const n=qte[e];return null==n||n.isContextLost()?(delete qte[e],Kte(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),qte[e])}var Xte,Qte,Zte,Jte,ene,tne;function nne(e,t){return[t,e]}function rne(e){const t=dZ(e);return hZ(Math.ceil(t/4))}function one(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function ane(e,t){const n=e;let r,o,a,i,s,l,u,c,d,p;return 2===BZ().getNumber("WEBGL_VERSION")?(r=n.R32F,o=n.R16F,a=n.RGBA16F,i=n.RGBA32F,s=n.RED,u=4,c=1,d=n.HALF_FLOAT,p=n.FLOAT,l=n.RGBA8):(r=e.RGBA,o=e.RGBA,a=e.RGBA,i=n.RGBA,s=e.RGBA,u=4,c=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:p}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ine(e,t){const n=t();return BZ().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}(Qte=Xte||(Xte={}))[Qte.DENSE=0]="DENSE",Qte[Qte.SHARED_BATCH=1]="SHARED_BATCH",(Jte=Zte||(Zte={}))[Jte.RENDER=0]="RENDER",Jte[Jte.UPLOAD=1]="UPLOAD",Jte[Jte.PIXELS=2]="PIXELS",Jte[Jte.DOWNLOAD=3]="DOWNLOAD",(tne=ene||(ene={}))[tne.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",tne[tne.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",tne[tne.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",tne[tne.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",tne[tne.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16";function sne(e){return!!(BZ().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function lne(e,t){return vne(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const une=/ERROR: [0-9]+:([0-9]+):/g;function cne(e,t){const n=une.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],o=e.split("\n"),a=o.length.toString().length+2,i=o.map(((e,t)=>mZ((t+1).toString(),a)+e));let s=0;for(let d=0;d<i.length;d++)s=Math.max(i[d].length,s);const l=i.slice(0,r-1),u=i.slice(r-1,r),c=i.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${mZ(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}function dne(e,t){if(ine(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function pne(e,t,n,r,o,a,i){const s=e.getAttribLocation(t,n);return-1!==s&&(ine(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),ine(e,(()=>e.vertexAttribPointer(s,o,e.FLOAT,!1,a,i))),ine(e,(()=>e.enableVertexAttribArray(s))),!0)}function fne(e,t,n){!function(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}(e,n),ine(e,(()=>e.activeTexture(e.TEXTURE0+n))),ine(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}function hne(e,t,n){ine(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),ine(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function mne(e,t){ine(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),ine(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function gne(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function vne(e,t,n){const r=ine(e,(()=>t()));if(null==r)throw new Error(n);return r}function bne(e,t=2){return dZ(e.slice(0,e.length-t))}function yne(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function xne(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[bne(e),...yne(e)]),t}function wne(e){return e%2==0}function kne(e,t){if(pZ(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(wne(n)&&wne(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&wne(e[0])&&wne(t[0])}let Sne,Cne;function Ene(e,t){return null!=e.getExtension(t)}function Ine(e){try{if(null!=Kte(e))return!0}catch(kxe){return console.log("Error when getting WebGL context: ",kxe),!1}return!1}function Nne(e){if(0===e)return!1;const t=Kte(e);if(1!==e){if(Ene(t,"EXT_color_buffer_float"))return Tne(t);const e="EXT_color_buffer_half_float";if(Ene(t,e)){const n=t.getExtension(e);return function(e,t){const n=ane(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const o=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,o,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),s}(t,n)}return!1}if(!Ene(t,"OES_texture_float"))return!1;if(!Ene(t,"WEBGL_color_buffer_float"))return!1;return Tne(t)}function Tne(e){const t=ane(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function Rne(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&sZ("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ne=BZ();
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $ne(){let e,t,n,r,o,a,i,s,l,u;return 2===BZ().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",a="outputColor",i="out vec4 outputColor;",s=BZ().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",a="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mne(e,t,n="index"){const r=TZ(t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / ${t}`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${t}`:`index -= ${e[o]} * ${t}`};`)).join("")}function One(e,t,n="index"){const r=TZ(t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / outShapeStrides[${o}]`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * outShapeStrides[${o}]`:`index -= ${e[o]} * outShapeStrides[${o}]`};`)).join("")}function Ane(e,t,n="index"){const r=e.map(((e,t)=>t)),o=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),o=new Array(n-1);o[n-2]=r[n-1];for(let a=n-3;a>=0;--a)o[a]=`(${o[a+1]} * ${r[a+1]})`;return o}(r,t);return o.map(((t,r)=>`${`int ${e[r]} = ${n} / ${o[r]}`}; ${r===o.length-1?`int ${e[r+1]} = ${n} - ${e[r]} * ${o[r]}`:`index -= ${e[r]} * ${o[r]}`};`)).join("")}function Lne(e){const t=TZ(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}_ne.registerFlag("HAS_WEBGL",(()=>_ne.getNumber("WEBGL_VERSION")>0)),_ne.registerFlag("WEBGL_VERSION",(()=>Ine(2)?2:Ine(1)?1:0)),_ne.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),_ne.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===_ne.get("WEBGL_VERSION"))),_ne.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),_ne.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),_ne.registerFlag("WEBGL_PACK",(()=>_ne.getBool("HAS_WEBGL"))),_ne.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_PACK_CLIP",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_PACK_REDUCE",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_LAZILY_UNPACK",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_CONV_IM2COL",(()=>_ne.getBool("WEBGL_PACK"))),_ne.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==Sne){const t=Kte(e);Sne=t.getParameter(t.MAX_TEXTURE_SIZE)}return Sne}(_ne.getNumber("WEBGL_VERSION")))),_ne.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==Cne){const t=Kte(e);Cne=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Cne)}(_ne.getNumber("WEBGL_VERSION")))),_ne.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=_ne.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=Kte(e);return t=Ene(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Ene(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),_ne.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>_ne.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!m3())),_ne.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=Kte(e);if(1===e){if(!Ene(t,"OES_texture_float"))return!1}else if(!Ene(t,"EXT_color_buffer_float"))return!1;return Tne(t)}(_ne.getNumber("WEBGL_VERSION")))),_ne.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!_ne.getBool("WEBGL_FORCE_F16_TEXTURES")&&_ne.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),_ne.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>Nne(_ne.getNumber("WEBGL_VERSION")))),_ne.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=_ne.getNumber("WEBGL_VERSION"))&&null!=Kte(e).fenceSync;var e})),_ne.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>_ne.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),_ne.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),_ne.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>m3()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),_ne.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),_ne.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),_ne.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),_ne.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),_ne.registerFlag("WEBGL_EXP_CONV",(()=>!1)),_ne.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>_ne.getBool("IS_TEST"))),_ne.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),_ne.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),_ne.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1));const Pne="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:Dne}=Gte;
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fne(e,t,n){const r=[];if(e.forEach((e=>{const t=dZ(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=Kne(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const o=r.join("\n"),a=e.map((e=>function(e,t,n=!1,r){let o="";o+=n?Bne(e,r):zne(e,r);const a=e.shapeInfo.logicalShape,i=t.logicalShape;a.length<=i.length&&(o+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,s=Dne(e.shapeInfo.logicalShape,t.logicalShape),l=Yne(i),u=i-a;let c;const d=["x","y","z","w","u","v"];c=0===a?"":i<2&&s.length>=1?"coords = 0;":s.map((e=>`coords.${d[e+u]} = 0;`)).join("\n");let p="";p=i<2&&a>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${d[t+u]}`)).join(", ");let f="return outputValue;";const h=1===dZ(e.shapeInfo.logicalShape),m=dZ(t.logicalShape),g=1===m;if(1!==a||h||g){if(h&&!g)f=1===i?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=a-2,t=a-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?f="return vec4(outputValue.x);":s.indexOf(e)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${o}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${r}(${p});\n      ${f}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&pZ(i,a))return`\n      float ${o}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=Yne(l),c=Dne(e.shapeInfo.logicalShape,t.logicalShape),d=l-s;let p;const f=["x","y","z","w","u","v"];p=0===s?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${f[e+d]} = 0;`)).join("\n");let h="";h=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${f[t+d]}`)).join(", ");return`\n    float ${o}() {\n      ${u} coords = getOutputCoords();\n      ${p}\n      return get${r}(${h});\n    }\n  `}(e,t));return o}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),i=t.texShape,s=$ne(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(s);let u,c,d=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${jne}\n    ${Wne}\n    ${Vne}\n  `;return t}(s);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return Une();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(pZ(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const o=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[2]/2),a=o*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[e.length-1]/2),a=o*Math.ceil(e[e.length-2]/2);let i=a,s="",l="b, r, c";for(let u=2;u<e.length-1;u++)i*=e[e.length-u-1],s=`\n      int b${u} = index / ${i};\n      index -= b${u} * ${i};\n    `+s,l=`b${u}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(s)):(u=function(e,t,n){switch(e.length){case 0:return Une();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(pZ(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${One(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=Mne(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${One(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=Mne(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=Mne(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=Mne(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(s)),n.packedInputs&&(d+=Hne);return[d,l,c,o,u,a,n.userCode].join("\n")}function zne(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[o,a]=e.shapeInfo.texShape;if(1===o&&1===a)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const i=Gne(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[s,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${s}, ${l}, ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${qne(e)}\n      }\n    `;const o=e.shapeInfo.texShape,a=o[0],i=o[1];if(1===i&&1===a)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=Gne(n);if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${a}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===a)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${i}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${a}, ${i}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&pZ(n,a)){if(t)return`\n      float ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=a[0];return`\n    float ${o}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${a[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:i,keptDims:s}=yZ(n),l=i;if(l.length<n.length){const n=["row","col"];return`\n      ${zne(Xne(e,l),t)}\n      float ${o}(int row, int col) {\n        return ${o}(${Qne(n,s)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${qne(e)}\n      }\n    `;const u=a[0],c=a[1],d=Gne(r);if(1===c)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${o}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${d};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${o}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${d};\n    vec2 uv = uvFromFlat(${u}, ${c}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],i=n[2],{newShape:s,keptDims:l}=yZ(n),u=s;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${zne(Xne(e,u),t)}\n        float ${o}(int row, int col, int depth) {\n          return ${o}(${Qne(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${a}, ${i}, 1)));\n        ${qne(e)}\n      }\n    `;const c=e.shapeInfo.texShape,d=c[0],p=c[1],f=e.shapeInfo.flatOffset;if(p===a&&null==f)return t?`\n      float ${o}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${o}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${i}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${p}.0, ${d}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(p===i&&null==f)return t?`\n      float ${o}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${p}.0, ${d}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const h=Gne(r);if(t)return`\n    float ${o}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${h};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${o}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a} + col * ${i} + depth + ${h};\n        vec2 uv = uvFromFlat(${d}, ${p}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],i=n[2]*a,s=n[1]*i,{newShape:l,keptDims:u}=yZ(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${zne(Xne(e,l),t)}\n      float ${o}(int row, int col, int depth, int depth2) {\n        return ${o}(${Qne(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${s}, ${i}, ${a}, 1)));\n        ${qne(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1],h=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(f===s&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        ${h}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${i}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(f===a&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const v=Gne(r);if(t)return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${h}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${v});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${i} +\n          depth * ${a} + depth2;\n      vec2 uv = uvFromFlat(${p}, ${f}, index + ${v});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],a=t[3]*o,i=t[2]*a,s=t[1]*i,{newShape:l,keptDims:u}=yZ(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${zne(Xne(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${Qne(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${s}, ${i}, ${a}, ${o})) +\n          depth3;\n        ${qne(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1];if(f===s&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${i}, ${a}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===o&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const h=Gne(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${i} + depth * ${a} +\n          depth2 * ${o} + depth3 + ${h};\n      vec2 uv = uvFromFlat(${p}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:a}=yZ(t);if(o.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${zne(Xne(e,o))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${Qne(t,a)});\n      }\n    `}const i=t[5],s=t[4]*i,l=t[3]*s,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${s})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${i}, 1)));\n        ${qne(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],h=p[1];if(h===c&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${s}, ${i})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===i&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=Gne(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${s} + depth3 * ${i} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${f}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Bne(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=$ne();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,a=$ne();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `;const i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${i[0]}, ${i[1]}, index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,i=a[0],s=a[1],l=$ne();if(null!=a&&pZ(n,a))return t?`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${i}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${o}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=Math.ceil(n[1]/2);return`\n    vec4 ${o}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){const r=[1,2],a=["b","row","col"];return`\n        ${Bne(Xne(e,n.slice(1)),t)}\n        vec4 ${o}(int b, int row, int col) {\n          return ${o}(${Qne(a,r)});\n        }\n      `}const s=$ne();if(t)return`\n    vec4 ${o}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `;const l=i[0],u=i[1],c=Math.ceil(n[2]/2),d=c*Math.ceil(n[1]/2);return`\n    vec4 ${o}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${d}, ${c}, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=$ne();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${o.texture2D}(${n}, uv);\n    }\n  `;const a=e.shapeInfo.logicalShape,i=a.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],d=Math.ceil(a[i-1]/2);let p=d*Math.ceil(a[i-2]/2),f="int b, int row, int col",h=`b * ${p} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<i-1;m++)f=`int b${m}, `+f,p*=a[i-m-1],h=`b${m} * ${p} + `+h;return`\n    vec4 ${r}(${f}) {\n      int index = ${h};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${o.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const jne="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Wne="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Vne="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Hne="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Une(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function Gne(e){return`offset${e}`}function qne(e){const t=e.name,n=dZ(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function Yne(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function Kne(e,t,n){const{newShape:r,keptDims:o}=yZ(t),a=t.length,i=e&&3===a&&1===t[0],s=i?t.slice(1):r,l=!e&&a>1&&!pZ(t,n)&&r.length<a||i;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:o}}function Xne(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Qne(e,t){return t.map((t=>e[t])).join(", ")}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zne(e,t,n,r){const o=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=o.map((e=>e.shapeInfo)),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Fne(o,i,t),l=function(e,t){const n=vne(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(ine(e,(()=>e.shaderSource(n,t))),ine(e,(()=>e.compileShader(n))),BZ().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw cne(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,s),u=e.createProgram(l);return BZ().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:a,outShapeInfo:i,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:a,outShapeInfo:i},Jne(e,t,u))}function Jne(e,t,n){const r={},o={},a={},i=[];let s,l,u,c=null,d=null;d=e.getUniformLocation(n,"NAN",!1),1===BZ().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(n,"INFINITY",!1));const p=!1;for(let f=0;f<t.variableNames.length;f++){const i=t.variableNames[f];r[i]=e.getUniformLocation(n,i,p),r[`offset${i}`]=e.getUniformLocation(n,`offset${i}`,p),t.enableShapeUniforms&&(o[`${i}Shape`]=e.getUniformLocation(n,`${i}Shape`,p),a[`${i}TexShape`]=e.getUniformLocation(n,`${i}TexShape`,p))}return t.enableShapeUniforms&&(s=e.getUniformLocation(n,"outShape",p),u=e.getUniformLocation(n,"outShapeStrides",p),l=e.getUniformLocation(n,"outTexShape",p)),t.customUniforms&&t.customUniforms.forEach(((t,r)=>{i[r]=e.getUniformLocation(n,t.name,p)})),{uniformLocations:r,customUniformLocations:i,infLoc:c,nanLoc:d,inShapesLocations:o,inTexShapesLocations:a,outShapeLocation:s,outShapeStridesLocation:u,outTexShapeLocation:l}}function ere(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,o=t[n],a=o.shape;if(!pZ(r,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${a} must match`);if(e.isUniform&&o.isUniform)return;const i=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!pZ(i,s))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${i} and ${s} must match`)}))}function tre(e){return BZ().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nre{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Xte.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=$ne();this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?One(["r","c","d"],e):Mne(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rre{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Xte.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=$ne();this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?One(["r","c","d"],e):Mne(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ore{constructor(e){this.variableNames=["A"],this.outTexUsage=Zte.DOWNLOAD;const t=$ne();this.outputShape=e,this.userCode=`\n      ${Pne}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class are{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Zte.DOWNLOAD;const t=$ne();this.outputShape=e,this.userCode=`\n      ${Pne}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ire{constructor(e,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=$ne();this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length);let r="result";t&&(r="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Lne(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${n.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${n.output} = vec4(${r}, 0., 0., 0.);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sre{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=$ne();this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length);let r="",o="result";t&&(o="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let t=0;t<=1;t++){const o=2*a+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${a};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${o}] = values[0];\n            } else if (offset == 1) {\n              result[${o}] = values[1];\n            } else if (offset == 2) {\n              result[${o}] = values[2];\n            } else {\n              result[${o}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Lne(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${o};\n        }\n    `}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lre(e){const t=$ne();return function(e,t){const n=vne(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(ine(e,(()=>e.shaderSource(n,t))),ine(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function ure(e){return function(e,t){const n=vne(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return ine(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),ine(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function cre(e){return function(e,t){const n=vne(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return ine(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),ine(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function dre(e,t,n,r,o,a){!function(e,t){const n=BZ().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const i=function(e){return vne(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return ine(e,(()=>e.bindTexture(s,i))),ine(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),ine(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),ine(e,(()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST))),ine(e,(()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===BZ().getNumber("WEBGL_VERSION")?ine(e,(()=>e.texImage2D(s,0,r,t,n,0,o,a,null))):ine(e,(()=>e.texStorage2D(s,1,r,t,n))),ine(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:i,texShape:[n,t]}}function pre(e){return e.internalFormatFloat}function fre(e){return e.internalFormatHalfFloat}function hre(e){return e.downloadTextureFormat}function mre(e){return e.internalFormatPackedFloat}function gre(e){return e.internalFormatPackedHalfFloat}function vre(e,t,n,r,o,a,i,s){const l=e,u=new Float32Array(function(e,t){const[n,r]=one(e,t);return n*r*4}(a,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class bre{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=BZ().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(e,t){qte[e]=t}(t,e)):this.gl=Kte(t);let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===BZ().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=lne(this.gl,e),Ene(this.gl,t))this.textureHalfFloatExtension=lne(this.gl,t);else if(BZ().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Ene(this.gl,r))this.colorBufferHalfFloatExtension=lne(this.gl,r);else if(BZ().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Ene(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Ene(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=ure(this.gl),this.indexBuffer=cre(this.gl),this.framebuffer=function(e){return vne(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=ane(this.gl,this.textureHalfFloatExtension)}get debug(){return BZ().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;ine(e,(()=>e.finish())),ine(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),ine(e,(()=>e.deleteFramebuffer(this.framebuffer))),ine(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),ine(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),ine(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=nne(t,n);return dre(e,o,a,pre(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=nne(t,n);return dre(e,o,a,fre(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=nne(t,n);return dre(e,o,a,hre(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){ine(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===BZ().getNumber("WEBGL_VERSION")?ine(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):ine(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===BZ().getNumber("WEBGL_VERSION")?ine(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):ine(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),ine(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,o,a){let i,s,l;ine(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),o instanceof Uint8Array?(i=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(n*r*4),s=e.FLOAT,l=a.internalFormatPackedFloat),i.set(o),2===BZ().getNumber("WEBGL_VERSION")?ine(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,i))):ine(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,i))),ine(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=one(t,n);return dre(e,o,a,gre(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=one(t,n);return dre(e,o,a,mre(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(mne(this.gl,this.framebuffer),this.outputTexture=null),ine(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[o,a]=nne(t,n),i=new Uint8Array(t*n*4);return ine(e,(()=>e.readPixels(0,0,o,a,r.downloadTextureFormat,e.UNSIGNED_BYTE,i))),new Float32Array(i.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,o,a){return vre(this.gl,e,0,0,0,o,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n){const r=e.createBuffer();ine(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const o=16*t*n;return ine(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),ine(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),ine(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(BZ().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(o,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=o}else BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return ine(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=lre(t));const n=function(e){return vne(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);return ine(t,(()=>t.attachShader(n,this.vertexShader))),ine(t,(()=>t.attachShader(n,e))),function(e,t){if(ine(e,(()=>e.linkProgram(t))),!BZ().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n),this.debug&&dne(t,n),this.vertexAttrsAreBound||(this.setProgram(n),this.vertexAttrsAreBound=function(e,t,n){return ine(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),pne(e,t,"clipSpacePos",n,3,20,0)&&pne(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),n}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&ine(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&dne(this.gl,this.program),ine(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return vne(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),ine(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),function(e,t,n,r){ine(e,(()=>fne(e,t,r))),ine(e,(()=>e.uniform1i(n,r)))}(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,o]=one(t,n);this.setOutputMatrixTextureDriver(e,r,o)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&dne(this.gl,this.program),gne(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),ine(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ine(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=lne(this.gl,2===BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await gZ((()=>this.disposed||this.isQueryAvailable(e,BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in BZ().platform&&(n=BZ().platform.setTimeoutCustom.bind(BZ().platform)),gZ((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),hne(this.gl,e,this.framebuffer),this.debug&&gne(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(hne(this.gl,this.outputTexture,this.framebuffer),this.debug&&gne(this.gl)):mne(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;hne(r,e,this.framebuffer),this.debug&&gne(r),this.outputTexture=e,ine(r,(()=>r.viewport(0,0,t,n))),ine(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),ine(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function yre(e){return(t,n,r,o,a)=>{const i=K4(t,n),s=i.length,l=TZ(i),u=xZ(a,dZ(i)),c=t.length,d=n.length,p=TZ(t),f=TZ(n),h=q4(t,i),m=q4(n,i);if(h.length+m.length===0)for(let g=0;g<u.length;++g)u[g]=e(r[g%r.length],o[g%o.length]);else for(let g=0;g<u.length;++g){const t=LZ(g,s,l),n=t.slice(-c);h.forEach((e=>n[e]=0));const a=AZ(n,c,p),i=t.slice(-d);m.forEach((e=>i[e]=0));const v=AZ(i,d,f);u[g]=e(r[a],o[v])}return[u,i]}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const xre=yre(((e,t)=>e+t));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function wre(e){return(t,n,r)=>{const o=xZ(n,t.length);for(let a=0;a<t.length;++a)o[a]=e(t[a],r);return o}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kre=wre((e=>Math.ceil(e)));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sre(e,t,n,r){const o=wZ(n,dZ(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=dZ(e.shape);o.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const a="string"===n?Hte(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)o[s+t]=a[i++]}r+=e.shape[1]}))}return o}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cre=yre(((e,t)=>e===t?1:0)),Ere=wre((e=>Math.exp(e))),Ire=wre((e=>Math.expm1(e))),Nre=wre((e=>Math.floor(e)));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Tre=yre(((e,t)=>e>t?1:0)),Rre=yre(((e,t)=>e>=t?1:0)),_re=yre(((e,t)=>e<t?1:0)),$re=yre(((e,t)=>e<=t?1:0));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Mre=wre((e=>Math.log(e)));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Ore=yre(((e,t)=>Math.max(e,t))),Are=yre(((e,t)=>Math.min(e,t))),Lre=yre(((e,t)=>e*t));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Pre=yre(((e,t)=>e!==t?1:0));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dre(e,t,n,r){const o=[];let a=0;const i=t.length-1+n.length,s=new Array(i).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],o=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>o)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const e=t[u+1];for(let t=1;t<l+1;++t)s[u].push(t*e)}for(let u=0;u<e.length;++u){let r=e[u],i=e[u]+1;for(let e=0;e<n.length;++e){const o=n[e],a=e+t.length-1;if(a>=0){const e=s[a],t=e[e.length-1]-o[r];for(let n=r;n<i;++n)s[a].push(o[n+1]+t)}r=o[r],i=o[i]}i!==r&&(o.push([r,i]),a+=i-r)}return{outSplits:s,valueSlices:o,numValues:a}}function Fre(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function zre(e,t,n,r,o){const a=t.slice();a[0]=o;const i=wZ(n,dZ(a)),s=e.length;return function(e,t,n,r,o,a){const i=Fre(t,2)[1],s=Fre(a,2)[1];let l=0;for(const u of n)for(let t=u[0];t<u[1];++t){for(let n=0;n<r;++n)o[l*s+n]=e[t*i+n];++l}}(e,t,r,0===s?0:s/t[0],i,a),[i,a]}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var Bre=Qee;class jre{constructor(e,t,n,r,o,a,i,s,l,u){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=o,this.defaultValue=a,this.defaultValueShape=i,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=ete(u),this.raggedRank=tte(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Bre.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Bre.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Bre.VALUE_ROWIDS:return jre.getMaxWidthValueRowID(t);case Bre.ROW_SPLITS:return jre.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${Bre[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],o=0;for(let a=1;a<t;++a){const t=e[a];t!==r&&(r=t,o=Math.max(a-n,o),n=a)}return Math.max(t-n,o)}tensorShapeFromTensor(e,t,n=!0){if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Vre(e,n)}calculateOutputSize(e){const t=this.valuesShape;nte(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=Jee(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let o=1;o<=this.raggedRank;++o)r[o]<0&&(r[o]=this.getMaxWidth(o));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),o=[];let a=0;for(let i=0;i<r;++i,a+=t)o.push(a);for(let i=r;i<e;++i)o.push(-1);return sZ(o.length===e,(()=>"Final length of result must be equal to firstDimension.")),o}calculateOutputIndexRowSplit(e,t,n,r){const o=e.length,a=[];for(let i=0;i<o-1;++i){const o=e[i+1]-e[i];let s=Math.min(r,o),l=t[i];-1===l&&(s=0);for(let e=0;e<s;++e)a.push(l),l+=n;for(let e=0;e<o-s;++e)a.push(-1)}if(o>0&&a.length!==e[o-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,t,n,r){const o=e.length,a=[];if(0===o)return[];let i=0,s=e[0];if(s>=t.length)throw new Error(`Got currentValueRowId=${s}, which is not less than ${t.length}`);let l=t[s];a.push(l);for(let u=1;u<o;++u){const o=e[u];if(o===s)l>=0&&(++i,i<r?l+=n:l=-1);else{if(i=0,s=o,o>=t.length)throw new Error(`Got nextValueRowId=${o} which is not less than ${t.length}`);l=t[o]}a.push(l)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,t,n,r){const o=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case Bre.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,t,n,r);case Bre.ROW_SPLITS:if(o.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(o,t,n,r);default:throw new Error(`Unsupported partition type: ${Bre[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case Bre.FIRST_DIM_SIZE:return e[0];case Bre.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Bre.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Bre[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let a=n.length-2;a>=0;--a)n[a]=n[a+1]*t[a+1];const r=Vre(t,!1),o=wZ(this.valuesDType,dZ(r));if(n[0]*t[0]>0){let a=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){a=this.calculateOutputIndex(e-1,a,n[e],t[e])}this.setOutput(this.raggedRank,a,o,r)}return[r,o]}setOutput(e,t,n,r){if(0===n.length)return;const o=this.values,a=n;let i=r.slice();i=i.slice(e+1);const s=dZ(i),l=t.length;let u=this.defaultValue;if(u.length!==s&&1!==u.length){const e=this.defaultValueShape;z4((()=>{const t=q5(u,e),n=l6(t,i);u=n.dataSync()}))}let c=0,d=0,p=0;for(let f=0;f<=l;++f){let e=f<l?t[f]:-1;if(e!==p){if(d<p){const e=o.subarray(c*s);Wre(a.subarray(d*s),e,(p-d)*s)}if(f>=l){const t=n.length;e=Math.floor(t/s)}if(e>p)if(1===this.defaultValue.length)a.subarray(p*s,e*s).fill(this.defaultValue[0]),p=e;else for(;e>p;){Wre(a.slice(p*s),u,s),++p}e<0?(c=f+1,d=p):(c=f,d=p,p=d+1)}else++p}}}function Wre(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function Vre(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Hre(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return MZ(0,r);const o=MZ(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(let a=1;a<o.length;a++)o[a]=o[a-1]+n;return o}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ure=wre((e=>1/Math.sqrt(e)));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Gre=wre((e=>1/(1+Math.exp(-e))));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qre(e,t,n,r,o){const a=c5(r,t,n),i=dZ(n),s=TZ(r);if(a){const n=d5(t,s);return"string"===o?e.slice(n,n+i):e.subarray(n,n+i)}const l=v4(r,o,"string"===o?Hte(e):e),u=v4(n,o);for(let c=0;c<u.size;++c){const e=u.indexToLoc(c),n=e.map(((e,n)=>e+t[n]));u.set(l.get(...n),...e)}return"string"===o?Ute(u.values):u.values}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Yre=wre((e=>Math.sqrt(e))),Kre=yre(((e,t)=>{const n=e-t;return n*n}));
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Xre{constructor(e,t,n,r,o,a){this.separator=M2(e),this.nGramWidths=t,this.leftPad=M2(n),this.rightPad=M2(r),this.padWidth=o,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,o,a){for(let i=0;i<o;++i){const s=this.getPadWidth(a),l=Math.max(0,s-i),u=Math.max(0,s-(o-(i+1))),c=a-(l+u),d=t+(l>0?0:i-s);let p=0;p+=l*this.leftPad.length;for(let t=0;t<c;++t)p+=e[d+t].length;p+=u*this.rightPad.length;p+=(l+u+c-1)*this.separator.length,n[r+i]=new Uint8Array(p);const f=n[r+i];let h=0;const m=e=>e.forEach((e=>f[h++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let o=1;o<r;++o){let r=t[o]>=e;if(r=r&&t[o]<=n,!r)throw new Error(`Invalid split value ${t[o]}, must be in [${e}, ${n}]`);e=t[o]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const o=r-1,a=wZ("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=o;++t)a[t]=0;return[e,a]}a[0]=0;for(let s=1;s<=o;++s){const e=t[s]-t[s-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),a[s]=a[s-1]+n}const i=new Array(a[o]);for(let s=0;s<o;++s){const n=t[s];let r=a[s];if(this.nGramWidths.forEach((o=>{const a=t[s+1]-t[s],l=this.getNumNGrams(a,o);this.createNGrams(e,n,i,r,l,o),r+=l})),this.preserveShort&&r===a[s]){const o=t[s+1]-t[s];if(0===o)continue;const a=o+2*this.padWidth,l=1;this.createNGrams(e,n,i,r,l,a)}}return[i,a]}}function Qre(e,t,n,r,o,a,i,s){return new Xre(n,r,o,a,i,s).compute(e,t)}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zre(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const o=t[0];let a=e.indexOf(o);for(;-1!==a;){const t=e.subarray(0,a);n&&0===t.length||r.push(t),a=(e=e.subarray(a+1)).indexOf(o)}return void(n&&0===e.length||r.push(e))}let o=0;for(let a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){const t=e.subarray(o,a);n&&0===t.length||r.push(t),o=a+1}}function Jre(e,t,n){const r=e.length,o=[];let a=0,i=0;const s=new Array(r);for(let p=0;p<r;++p){const r=o.length;Zre(e[p],t,n,o);const l=o.length-r;s[p]=l,a+=l,i=Math.max(i,l)}const l=wZ("int32",2*a),u=new Array(a),c=[r,i];let d=0;for(let p=0;p<r;++p)for(let e=0;e<s[p];++e)l[2*d]=p,l[2*d+1]=e,u[d]=o[d],++d;return[l,u,c]}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eoe(e,t){const n=wZ("int32",e.length);for(let r=0;r<e.length;++r)n[r]=N2(e[r]).modulo(t).getLowBitsUnsigned();return n}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const toe=yre(((e,t)=>e-t));
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const noe=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function roe(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,i=Math.log(o),s=.5*Math.exp(2*i/3),l=.5*Math.sqrt(i*s*(o-s)/o)*Math.sign(a-o/2);roe(e,t,Math.max(n,Math.floor(t-a*s/o+l)),Math.min(r,Math.floor(t+(o-a)*s/o+l)))}const o=e[t];let a=n,i=r;for(iZ(e,n,t),noe(e[r],o)>0&&iZ(e,n,r);a<i;){for(iZ(e,a,i),a++,i--;noe(e[a],o)<0;)a+=1;for(;noe(e[i],o)>0;)i-=1}0===noe(e[n],o)?iZ(e,n,i):(i+=1,iZ(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const ooe=Object.freeze(Object.defineProperty({__proto__:null,addImpl:xre,bincountImpl:function(e,t,n,r,o){const a=dZ(r),i=MZ(o,n);for(let s=0;s<e.length;s++){const n=e[s];if(n<0)throw new Error("Input x must be non-negative!");n>=o||(i[n]+=a>0?t[s]:1)}return i},bincountReduceImpl:function(e,t,n,r=!1){const o=e.shape[0],a=e.shape[1],i=v4([o,n],t.dtype);for(let s=0;s<o;s++)for(let o=0;o<a;o++){const a=e.get(s,o);if(a<0)throw new Error("Input x must be non-negative!");a>=n||(r?i.set(1,s,a):t.size>0?i.set(i.get(s,a)+t.get(s,o),s,a):i.set(i.get(s,a)+1,s,a))}return i},castImpl:function(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=R2([0],n),[o,a]=yre(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[a,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)},ceilImpl:kre,concatImpl:Sre,equalImpl:Cre,expImpl:Ere,expm1Impl:Ire,floorImpl:Nre,gatherNdImpl:
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r,o,a,i,s,l){const u=v4([r,a],n);for(let c=0;c<r;c++){const n=[];let r=0;for(let t=0;t<o;t++){const a=e[c*o+t];r+=a*i[t],n.push(a)}if(r<0||r>=l/a)throw new Error(`Invalid indices: ${n} does not index into ${s}`);for(let e=0;e<a;e++)u.values[c*a+e]=t.get(...t.indexToLoc(r*a+e))}return u}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,gatherV2Impl:function(e,t,n){const r=v4(n,e.dtype);for(let o=0;o<r.size;++o){const n=r.indexToLoc(o).slice(),a=n[0],i=n[2],s=t.locToIndex([a,i]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[o]=e.values[l])}return r},greaterEqualImpl:Rre,greaterImpl:Tre,lessEqualImpl:$re,lessImpl:_re,linSpaceImpl:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n){const r=(t-e)/(n-1),o=MZ(n,"float32");o[0]=e;for(let a=1;a<o.length;a++)o[a]=o[a-1]+r;return o},logImpl:Mre,maxImpl:function(e,t,n,r){const o=xZ(r,dZ(n));for(let a=0;a<o.length;++a){const n=a*t;let r=e[n];for(let o=0;o<t;++o){const t=e[n+o];(Number.isNaN(t)||t>r)&&(r=t)}o[a]=r}return o},maximumImpl:Ore,minimumImpl:Are,multiplyImpl:Lre,negImpl:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n){const r=T2(-1,n);return Lre([],t,r,e,n)},notEqualImpl:Pre,prodImpl:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r){const[o,a]=W6(e,r),i=o3(t,"int32"),s=MZ(dZ(o),i),l=dZ(a);for(let u=0;u<s.length;++u){const e=u*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];s[u]=t}return{outVals:s,outShape:o,outDtype:i}}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,raggedGatherImpl:function(e,t,n,r,o,a,i,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const o=LZ(r,t.length,TZ(t)).join(",");throw new Error(`indices[${o}] = ${e} is not in [0, ${n})`)}}))}(a,i,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:d}=Dre(a,i,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=wZ("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(u),f=zre(n,r,o,c,d);return[p,f[0],f[1]]},raggedTensorToTensorImpl:function(e,t,n,r,o,a,i,s,l,u){return new jre(e,t,n,r,o,a,i,s,l,u).compute()},rangeImpl:Hre,rsqrtImpl:Ure,scatterImpl:function(e,t,n,r,o,a,i,s,l,u){const c=[r/o,o],d=e.values,p=t.values;if(0===r)return v4(n,t.dtype);const f=v4(c,t.dtype);"string"==typeof l||"number"==typeof l?f.values.fill(l):"boolean"==typeof l&&f.values.fill(+l);for(let h=0;h<a;h++){const e=[];let a=0;for(let t=0;t<i;t++){const n=d[h*i+t];e.push(n),a+=n*s[t]}if(a<0||a>=r/o)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<o;n++)u?f.values[a*o+n]+=p[h*o+n]:f.values[a*o+n]=0===t.rank?p[0]:p[h*o+n]}return f},sigmoidImpl:Gre,simpleAbsImpl:function(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t},sliceImpl:qre,sparseFillEmptyRowsImpl:function(e,t,n,r,o,a,i){const s=t[0],l=a[0],u=new Array(l),c=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error(Tte(s));return[wZ(n,0),[0,d],wZ(o,0),u,c]}let p=!0,f=0;const h=new Array(l).fill(0);for(let g=0;g<s;++g){const t=e[g*d];if(t<0)throw new Error(Rte(g,t));if(t>=l)throw new Error(_te(g,t,l));++h[t],p=p&&t>=f,f=t}let m=!0;for(let g=0;g<l;++g){const e=0===h[g];u[g]=e,m=m&&!e,h[g]=Math.max(h[g],1),g>0&&(h[g]+=h[g-1])}if(m&&p){const t=e,n=r;for(let e=0;e<s;++e)c[e]=e;return[t,[s,d],n,u,c]}{const t=h[l-1],a=wZ(n,t*d),p=wZ(o,t),f=new Array(l).fill(0);for(let n=0;n<s;++n){const t=e[n*d],o=f[t],i=(0===t?0:h[t-1])+o;f[t]++;for(let r=0;r<d;++r)a[i*d+r]=e[n*d+r];p[i]=r[n],c[n]=i}for(let e=0;e<l;++e){if(0===f[e]){const t=0===e?0:h[e-1];a[t*d+0]=e;for(let e=1;e<d;++e)a[t*d+e]=0;p[t]=i}}return[a,[t,d],p,u,c]}}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,sparseReshapeImpl:function(e,t,n,r,o){const a=dZ(r),i=t[0],s=o.length,l=[];let u=1,c=-1;for(let m=0;m<s;++m){const e=o[m];if(-1===e){if(-1!==c)throw new Error($te(c,m));c=m,l.push(1)}else{if(e<0)throw new Error(Mte(m,e));u*=e,l.push(e)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(a/u);if(u*e!==a)throw new Error(Ate(r,l));l[c]=e}if(dZ(l)!==a)throw new Error(Lte(r,l));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const f=[];if(s>0){f[s-1]=1;for(let e=s-2;e>=0;--e)f[e]=f[e+1]*l[e+1]}const h=wZ(n,i*s);for(let m=0;m<i;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<s;++e)h[m*s+e]=Math.trunc(t/f[e]),t%=f[e]}return[h,[i,s],l]}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,sparseSegmentReductionImpl:function(e,t,n,r,o,a=!1,i=0){const s=r.length,l=[t[0],e.length/t[0]],u=l[1],c=s>0?o[s-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=c;const p=wZ(n,d.reduce(((e,t)=>e*t),1));if(0===s)return c>0&&p.fill(i),[p,d];if(c<=0)throw new Error("segment ids must be >= 0");let f=0,h=1,m=0,g=o[f];for(;;){let t=0;if(h<s){if(t=o[h],g===t){++h;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=c)throw new Error(Fte(g,c));g>m&&p.fill(i,m*u,g*u);for(let n=f;n<h;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(zte(n,r[n],l[0]));for(let n=0;n<u;n++)p[g*u+n]+=e[t*u+n]}if(a)for(let e=0;e<u;e++)p[g*u+e]/=h-f;if(f=h,++h,m=g+1,g=t,h>s)break}return m<c&&p.fill(i,m*u,c*u),[p,d]},sqrtImpl:Yre,squaredDifferenceImpl:Kre,stridedSliceImpl:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r){const o=v4(e,t.dtype);for(let a=0;a<o.size;a++){const e=o.indexToLoc(a),i=new Array(e.length);for(let t=0;t<i.length;t++)i[t]=e[t]*n[t]+r[t];o.set(t.get(...i),...e)}return o},stringNGramsImpl:Qre,stringSplitImpl:Jre,stringToHashBucketFastImpl:eoe,subImpl:toe,tileImpl:function(e,t){const n=new Array(e.rank);for(let o=0;o<n.length;o++)n[o]=e.shape[o]*t[o];const r=v4(n,e.dtype);for(let o=0;o<r.values.length;++o){const t=r.indexToLoc(o),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const a=e.locToIndex(n);r.values[o]=e.values[a]}return r},topKImpl:function(e,t,n,r,o){const a=t[t.length-1],[i,s]=[e.length/a,a],l=xZ(n,i*r),u=xZ("int32",i*r);for(let d=0;d<i;d++){const t=d*s,n=e.subarray(t,t+s);let a=new Array(n.length);n.forEach(((e,t)=>a[t]={value:e,index:t})),r<a.length&&(roe(a,r),a=a.slice(0,r)),o&&a.sort(noe);const i=d*r,c=l.subarray(i,i+r),p=u.subarray(i,i+r);for(let e=0;e<r;e++)c[e]=a[e].value,p[e]=a[e].index}const c=t.slice();return c[c.length-1]=r,[v4(c,n,l),v4(c,"int32",u)]}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,transposeImpl:function(e,t,n,r,o){const a=t.length,i=dZ(t),s=TZ(t),l=TZ(o),u=xZ(n,dZ(o));for(let c=0;c<i;++c){const t=LZ(c,a,s),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[AZ(n,a,l)]=e[c]}return u},uniqueImpl:function(e,t,n,r){const o=bZ(t,n)[0],a=[1,n[0],1];for(let h=0;h<o;h++)a[0]*=n[h];a[1]=n[o];for(let h=o+1;h<n.length;h++)a[2]*=n[h];const i={},s=new Int32Array(n[o]),l=new W2(a,r,e),u=[],c=1===a[0]&&1===a[2];for(let h=0;h<n[o];h++){let t;if(c)t=e[h].toString();else{const e=[];for(let t=0;t<a[0];t++)for(let n=0;n<a[2];n++)e.push(l.get(t,h,n));t=e.join(",")}if(void 0!==i[t])s[h]=i[t];else{const e=Object.keys(i).length;i[t]=e,s[h]=e,u.push(h)}}const d=a.slice();d[1]=Object.keys(i).length;const p=new W2(d,r);u.forEach(((e,t)=>{for(let n=0;n<a[0];n++)for(let r=0;r<a[2];r++)p.set(l.get(n,e,r),n,t,r)}));const f=n.slice();return f[o]=d[1],{outputValues:p.values,outputShape:f,indices:s}}},Symbol.toStringTag,{value:"Module"})),{addImpl:aoe,bincountImpl:ioe,bincountReduceImpl:soe,castImpl:loe,ceilImpl:uoe,concatImpl:coe,equalImpl:doe,expImpl:poe,expm1Impl:foe,floorImpl:hoe,gatherNdImpl:moe,gatherV2Impl:goe,greaterImpl:voe,greaterEqualImpl:boe,lessImpl:yoe,lessEqualImpl:xoe,linSpaceImpl:woe,logImpl:koe,maxImpl:Soe,maximumImpl:Coe,minimumImpl:Eoe,multiplyImpl:Ioe,negImpl:Noe,notEqualImpl:Toe,prodImpl:Roe,raggedGatherImpl:_oe,raggedTensorToTensorImpl:$oe,rangeImpl:Moe,rsqrtImpl:Ooe,scatterImpl:Aoe,sigmoidImpl:Loe,simpleAbsImpl:Poe,sliceImpl:Doe,sparseFillEmptyRowsImpl:Foe,sparseReshapeImpl:zoe,sparseSegmentReductionImpl:Boe,sqrtImpl:joe,stridedSliceImpl:Woe,stringNGramsImpl:Voe,stringSplitImpl:Hoe,stringToHashBucketFastImpl:Uoe,subImpl:Goe,tileImpl:qoe,topKImpl:Yoe,transposeImpl:Koe,uniqueImpl:Xoe}=ooe;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Qoe(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function Zoe(e,t){return 1===t?[e]:Qoe(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Joe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=tre(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=Zoe("rc",this.rank),t=Yne(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),o=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${o}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let o=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)o=`${e[e.length-1-t]},`+o;t.push(o)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eae{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length);let n="";for(let a=0;a<4;a++){let e="thisRC = rc;";a%2==1&&(e+="thisRC.z += 1;"),a>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${a}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${a>0?"}":""}\n      `}var r,o;
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */this.userCode=`\n      ${r=t,o=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${o?Ane(["r","c","d"],"inputShape"):Mne(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Lne(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class tae{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const r=rae(t,n),o=oae(e,r,n);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const a=nae(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const e=this.freeTextures[o].shift();return this.usedTextures[o].push(e),e}let i;return r===ene.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===ene.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===ene.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===ene.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===ene.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(i),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),i}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const o=rae(n,r),a=oae(t,o,r);a in this.freeTextures||(this.freeTextures[a]=[]);const i=nae(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=BZ().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const l=this.usedTextures[a],u=l.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(u,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function nae(e,t,n,r,o){const a=function(e,t){switch(e){case ene.PACKED_2X2_FLOAT32:return mre(t);case ene.PACKED_2X2_FLOAT16:return gre(t);case ene.UNPACKED_FLOAT32:return pre(t);case ene.UNPACKED_FLOAT16:return fre(t);case ene.PACKED_4X1_UNSIGNED_BYTE:return hre(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let i;if(o){const[t,n]=one(e[0],e[1]);i=t*n}else{const[t,n]=nne(e[0],e[1]);i=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,a);return i*s}function rae(e,t){if(e===Zte.UPLOAD)return ene.PACKED_2X2_FLOAT32;if(e===Zte.RENDER||null==e)return function(e){return BZ().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?ene.PACKED_2X2_FLOAT32:ene.UNPACKED_FLOAT32:e?ene.PACKED_2X2_FLOAT16:ene.UNPACKED_FLOAT16}(t);if(e===Zte.DOWNLOAD||e===Zte.PIXELS)return ene.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function oae(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aae{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const iae="if (isnan(x)) return x;",sae="return abs(x);",lae=iae+"\n  return (x < 0.0) ? 0.0 : x;\n",uae=iae+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",cae="return x;";class dae{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pae{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length);const t=e.length,n=Zoe("rc",t),r=Yne(t),o=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),i=t<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${o});\n\n        setOutput(getChannel(packedInput, ${i}));\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fae=S7,hae={};const mae=BZ().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class gae extends nZ{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!BZ().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof bre)t=e;else{const n=Kte(BZ().getNumber("WEBGL_VERSION"),e);t=new bre(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=Kte(BZ().getNumber("WEBGL_VERSION"));t=new bre(e),this.binaryCache=((n=BZ().getNumber("WEBGL_VERSION"))in hae||(hae[n]={}),hae[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new tae(this.gpgpu),this.numMBBeforeWarning=null==BZ().global.screen?1024:BZ().global.screen.height*BZ().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new tZ(this,F4())}nextDataId(){return gae.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,n){if((BZ().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||BZ().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Zte.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,o){if(BZ().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Zte.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:o,slice:a,shape:i,isPacked:s}=t;if(null!=a){let t;t=s?new dae(i,cae):new aae(i,cae);const n=this.runWebGLProgram(t,[{dataId:e,shape:i,dtype:r}],r),o=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let u,c;if(l&&(u=_2()),"complex64"===r){c=bte(this.readSync(o.real.dataId),this.readSync(o.imag.dataId))}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=_2()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:o,dtype:a,complexTensorInfos:i,isPacked:s}=t;if(null!=o){let t;t=s?new dae(r,cae):new aae(r,cae);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:a}],a),o=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if(BZ().getBool("DEBUG")&&!BZ().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===BZ().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,u,c=null;if("complex64"!==a&&BZ().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture.texture,...rne(r))}if(this.pendingRead.set(e,[]),"complex64"!==a&&await this.gpgpu.createAndWaitForFence(),"complex64"===a){const e=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]);u=bte(e[0],e[1])}else if(null==c)u=this.getValuesFromTexture(e);else{const e=dZ(r);u=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=c){const e=this.gpgpu.gl;ine(e,(()=>e.deleteBuffer(c)))}const d=this.convertAndCacheOnCPU(e,u),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&F4().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e,t={}){const n=this.texData.get(e),{values:r,shape:o,slice:a,dtype:i,isPacked:s,texture:l}=n;if("complex64"===i)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){let n;n=s?new dae(o,cae):new aae(o,cae);const r=this.runWebGLProgram(n,[{dataId:e,shape:o,dtype:i}],i),a=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),a}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),c=F4().makeTensorFromTensorInfo(u),d=this.texData.get(u.dataId);return Object.assign({tensorRef:c},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>O2(e)));return v4(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return v4(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!sne(n)){if(BZ().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),o=dZ(t);if(BZ().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),a=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...rne(t)).subarray(0,o);return this.disposeIntermediateTensorInfo(n),a}const a=BZ().getBool("WEBGL_PACK")&&!0===r,i=a?xne(t):t,s=a?new are(i):new ore(i),l=this.runWebGLProgram(s,[{shape:i,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(l),c}timerAvailable(){return BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const o=cZ(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),a=cZ(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(o);i.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),i.getExtraProfileInfo=()=>e.map(((e,t)=>({name:a[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:_2(),endMs:null}}endTimer(e){return BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=_2(),e)}async getQueryTime(e){if(BZ().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:o,isPacked:a,slice:i}=this.texData.get(e),s=i&&i.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,o,a)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=mae){return BZ().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&dZ(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){L1("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return fae(e.shape,t)}packedUnaryOp(e,t,n){const r=new dae(e.shape,t),o=this.compileAndRun(r,[e],n);return F4().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=Poe(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(BZ().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,sae,e.dtype);const t=new aae(e.shape,sae),n=this.compileAndRun(t,[e]);return F4().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&CZ(n[0])){const o=n.map((e=>M2(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return F4().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new pae(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new Joe(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[bne(e.shape),...yne(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[bne(t),...yne(t)],a=new eae(o,n),i=[n],s=this.runWebGLProgram(a,[r],e.dtype,i,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:o,dtype:a}=n;if(null!=t){sZ(dZ(o)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const i=xne(o);let s;s=r?new rre(i):new nre(i);const l=[null!=t?t:rne(i)];return{dtype:a,shape:o,dataId:this.runWebGLProgram(s,[{shape:i,dtype:a,dataId:e}],a,l,!0,t).dataId}}runWebGLProgram(e,t,n,r,o=!1,a){const i=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(i.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Xte.DENSE){const t=null!=a?a:rne(e.outputShape);s.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===dZ(i.shape))return s.values=xZ(i.dtype,0),i;const l=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&dZ(t.shape)<=BZ().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!kne(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);const c={shape:i.shape,texData:s,isUniform:!1},d=function(e,t,n){let r="";t.concat(n).forEach((t=>{const o=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const a=t.texData.texShape,{useSqueezeShape:i,uniformShape:s,keptDims:l}=Kne(e.packedInputs,t.shape,a);let u="",c="",d="";if(1===s.length&&e.packedInputs){const e=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){const e=TZ(s);d=`${e[0]===a[1]}_${e[e.length-1]===a[1]}`}}else c=`${s[0]>1}_${s[1]>1}`;const p=t.shape.length,f=2===s.length&&pZ(t.shape,a),h=1===dZ(t.shape),m=q4(t.shape,n.shape),g=!e.packedInputs&&p===n.shape.length&&pZ(a,n.texData.texShape),v=e.packedInputs||s.length>2?"":`${a[0]>1}_${a[1]>1}`;r+=`${p}_${g}_${i?l:""}_${s.length}_${h}_${m}_${f}_${u}_${c}_${d}_${v}_${o}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${o}`}}));const o=e.userCode;let a=e.constructor.name;return a+="_"+r+"_"+o+`${BZ().getNumber("WEBGL_VERSION")}`,a}(e,u,c),p=this.getAndSaveBinary(d,(()=>Zne(this.gpgpu,e,u,c))),f=null!=this.activeTimers;let h;f&&(h=this.startTimer()),BZ().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,o){t.program.enableShapeUniforms||(ere(t.inShapeInfos,n),ere([t.outShapeInfo],[r]));const a=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,i[0],i[1]):e.setOutputMatrixTexture(a.texture,i[0],i[1]),e.setProgram(t.webGLProgram),1===BZ().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,r)=>{const o=t.program.variableNames[r],a=t.uniformLocations[o],i=t.uniformLocations[`offset${o}`],s=t.inShapesLocations[`${o}Shape`],l=t.inTexShapesLocations[`${o}TexShape`];if(s){const{uniformShape:r}=Kne(t.program.packedInputs,n.shape,n.texData.texShape);switch(r.length){case 1:e.gl.uniform1iv(s,new Int32Array(r));break;case 2:e.gl.uniform2iv(s,new Int32Array(r));break;case 3:e.gl.uniform3iv(s,new Int32Array(r));break;case 4:e.gl.uniform4iv(s,new Int32Array(r))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=a)if(n.isUniform)if(dZ(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(a,t)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,a,r)}));const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=TZ(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&o&&t.program.customUniforms.forEach(((n,r)=>{const a=t.customUniformLocations[r],i=o[r];if("float"===n.type)e.gl.uniform1fv(a,i);else if("vec2"===n.type)e.gl.uniform2fv(a,i);else if("vec3"===n.type)e.gl.uniform3fv(a,i);else if("vec4"===n.type)e.gl.uniform4fv(a,i);else if("int"===n.type)e.gl.uniform1iv(a,i);else if("ivec2"===n.type)e.gl.uniform2iv(a,i);else if("ivec3"===n.type)e.gl.uniform3iv(a,i);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(a,i)}})),e.executeProgram()}(this.gpgpu,p,u,c,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),f&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));const m=BZ().get("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=_2();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!BZ().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){const e=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),e}return i}compileAndRun(e,t,n,r,o=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,o)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!BZ().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=z4((()=>{if(!BZ().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=BZ().getBool("DEBUG");BZ().set("DEBUG",!1);const t=this.abs(Q6(1e-8)).dataSync()[0];if(BZ().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:o,texture:a,usage:i,isPacked:s}=t;if(null!=a)return;const l=null!=this.activeTimers;let u;l&&(u=_2());let c=t.texShape;if(null==c&&(c=function(e,t=!1){let n=BZ().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=BZ().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&BZ().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,e=e.map(((t,n)=>n>=e.length-2?aZ(e[n]):e[n])),1===e.length&&(e=[2,e[0]])),2!==e.length){const t=yZ(e);e=t.newShape}let o=dZ(e),a=null;e.length<=1&&o<=n?a=[1,o]:2===e.length&&e[0]<=n&&e[1]<=n?a=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?a=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?a=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?a=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(a=[e[0],e[1]*e[2]*e[3]]);const i=null!=a&&Math.max(...a)>r&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||i)if(t){const t=bne(e);let n=2,r=2;e.length&&([n,r]=yne(e)),o=t*(n/2)*(r/2),a=hZ(o).map((e=>2*e))}else a=hZ(o);return a}(n,s),t.texShape=c),null!=o){const e=xne(n);let a,i=c[1],d=c[0];const p=o instanceof Uint8Array||o instanceof Uint8ClampedArray;!s&&p||([i,d]=one(c[0],c[1])),a=s?new sre(e,p):new ire(e,p);const f=p?[d,i]:c,h=this.makeTensorInfo(f,r),m=this.texData.get(h.dataId);m.usage=p?Zte.PIXELS:Zte.UPLOAD,m.texShape=f,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(h.dataId),i,d,o);const g=[[d,i]],v=!0,b=this.runWebGLProgram(a,[h],r,g,v),y=this.texData.get(b.dataId);t.texShape=y.texShape,t.isPacked=y.isPacked,t.usage=y.usage,BZ().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=y.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(h),l&&(this.uploadWaitMs+=_2()-u)}else{const e=this.acquireTexture(c,i,r,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*SZ(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await new Promise((e=>Yee((()=>e())))),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw cne(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:t,customUniformLocations:n,infLoc:r,nanLoc:o,inShapesLocations:a,inTexShapesLocations:i,outShapeLocation:s,outShapeStridesLocation:l,outTexShapeLocation:u}=Jne(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=o,e.inShapesLocations=a,e.inTexShapesLocations=i,e.outShapeLocation=s,e.outShapeStridesLocation=l,e.outTexShapeLocation=u}}}gae.nextDataId=0,g3()&&W4("webgl",(()=>new gae),2)
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */;const vae="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class bae{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=K4(t,n),this.enableShapeUniforms=tre(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yae="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class xae{constructor(e,t,n,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=K4(t,n);const o=this.outputShape.length;this.enableShapeUniforms=tre(o);let a="";if(r)if(0===o||1===dZ(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(a=`\n          ${Yne(o)} coords = getOutputCoords();\n        `,1===o)this.enableShapeUniforms?a+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":a+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=Zoe("coords",o);this.enableShapeUniforms?a+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= outShape[${o} - 2];\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= outShape[${o} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:a+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= ${this.outputShape[o-2]};\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= ${this.outputShape[o-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${a}\n\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wae(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const kae={kernelName:XJ,backendName:"webgl",kernelFunc:wae};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sae(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,a=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(a.dataId),s=wae({inputs:{x:r},backend:n}),l=wae({inputs:{x:o},backend:n});return i.complexTensorInfos={real:s,imag:l},a}const Cae={kernelName:hJ,backendName:"webgl",kernelFunc:Sae},Eae="return (a < 0.) ? b * a : a;",Iae="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nae={kernelName:n0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:a}=r,i=n.makeTensorInfo([],"float32",T2(a,"float32")),s=BZ().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xae(Iae,o.shape,i.shape):new bae(Eae,o.shape,i.shape),l=n.runWebGLProgram(s,[o,i],"float32");return n.disposeIntermediateTensorInfo(i),l}},Tae="return (a < 0.) ? b * a : a;",Rae="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ae={kernelName:M0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t,a=BZ().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xae(Rae,r.shape,o.shape):new bae(Tae,r.shape,o.shape);return n.runWebGLProgram(a,[r,o],"float32")}},$ae="if (isnan(x)) return x;";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mae({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:o,backend:a})=>{const{x:i}=o,s=a,l=r||i.dtype;if(s.shouldExecuteOnCPU([i])&&null!=n){const e=s.texData.get(i.dataId),t=n(e.values,l);return s.makeTensorInfo(i.shape,l,t)}let u;return u=BZ().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new dae(i.shape,t):new aae(i.shape,e),s.runWebGLProgram(u,[i],l)}}function Oae({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:o,dtype:a}){return({inputs:i,backend:s})=>{const{a:l,b:u}=i,c=s;if(r&&"complex64"===l.dtype){const t=c.texData.get(l.dataId),n=c.texData.get(u.dataId),[r,o]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,r]=t,o={dataId:n.dataId,dtype:n.dtype,shape:l.shape},a={dataId:r.dataId,dtype:r.dtype,shape:u.shape},i=new bae(e,l.shape,u.shape);return c.runWebGLProgram(i,[o,a],o3(n.dtype,r.dtype))})),a=Sae({inputs:{real:r,imag:o},backend:c});return c.disposeIntermediateTensorInfo(r),c.disposeIntermediateTensorInfo(o),a}const d=a||o3(l.dtype,u.dtype);if(("string"===l.dtype||"string"===u.dtype||c.shouldExecuteOnCPU([l,u]))&&null!=o){const e=c.texData.get(l.dataId).values,t=c.texData.get(u.dataId).values,n="string"===l.dtype?Hte(e):e,r="string"===l.dtype?Hte(t):t,[a,i]=o(l.shape,u.shape,n,r,d),s=c.makeTensorInfo(i,d);return c.texData.get(s.dataId).values=a,s}let p;return p=BZ().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new xae(t,l.shape,u.shape,n):new bae(e,l.shape,u.shape),c.runWebGLProgram(p,[l,u],d)}}function Aae(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":lae;if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":uae;if("prelu"===e)return t?Rae:Tae;if("leakyrelu"===e)return t?Iae:Eae;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lae{constructor(e,t,n,r=!1,o=!1,a=!1,i=null,s=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=tre(this.outputShape.length);const u=r?e[1]:e[2],c=Math.ceil(u/2),d=r?"i * 2, rc.y":"rc.y, i * 2",p=o?"rc.z, i * 2":"i * 2, rc.z",f=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";i&&(m=s?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`vec4 activation(vec4 x) {\n          ${i}\n        }`,g="result = activation(result);");const v=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let b="rc.x",y="rc.x";e[0]<t[0]?b=`int(min(float(rc.x), ${e[0]-1}.))`:t[0]<e[0]&&(y=`int(min(float(rc.x), ${t[0]-1}.))`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${c}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${c}; i++) {\n          int batchA = ${b};\n          int batchB = ${y};\n          vec4 a = getMatrixA(batchA, ${d});\n          vec4 b = getMatrixB(batchB, ${p});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${f[0]} * ${h[0]});\n          result += (${f[1]} * ${h[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${v}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pae="return areal * breal - aimag * bimag;",Dae="return areal * bimag + aimag * breal;";class Fae{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=K4(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zae="return a * b;";function Bae(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,a=o3(r.dtype,o.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),a=new Fae(Pae,r.shape,o.shape),i=new Fae(Dae,r.shape,o.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:o.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:o.shape}],l=n.runWebGLProgram(a,s,"float32"),u=n.runWebGLProgram(i,s,"float32"),c=Sae({inputs:{real:l,imag:u},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),c}if(n.shouldExecuteOnCPU([r,o])){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),[i,s]=Ioe(r.shape,o.shape,e.values,t.values,a),l=n.makeTensorInfo(s,a);return n.texData.get(l.dataId).values=i,l}let i;return i=BZ().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xae(zae,r.shape,o.shape):new bae(zae,r.shape,o.shape),n.runWebGLProgram(i,[r,o],a)}const jae={kernelName:w0,backendName:"webgl",kernelFunc:Bae};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Wae(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:a}=r,i=n,s=dZ(o.shape),l=vZ(a,s),u=dZ(l);sZ(s===u,(()=>`The new shape (${l}) has ${u} elements and the old shape (${o.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`));const c=i.texData.get(o.dataId);return!c.isPacked||kne(o.shape,l)||null!==c.texture&&kne(c.shape,l)?(i.incRef(o.dataId),{dataId:o.dataId,shape:l,dtype:o.dtype}):function(e,t,n){const r=[bne(e.shape),...yne(e.shape)],o={dtype:e.dtype,shape:r,dataId:e.dataId},a=[bne(t),...yne(t)],i=new eae(a,r),s=[r],l=n.runWebGLProgram(i,[o],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(o,l,i)}const Vae={kernelName:B0,backendName:"webgl",kernelFunc:Wae};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hae{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:a}=e;this.outputShape=[r,a];const i=4*Math.floor(n/4),s=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${fZ(e)?e.toPrecision(2):e}, ones);`}let u="";o%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${i}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${i};\n        if (${1===s}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Uae{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:a}=e;this.outputShape=[r,a];let i="0.0",s="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",s="min"):"max"===t&&(i="-1.0 / 1e-20",s="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let d=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${s}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${s}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,p="vec4";"all"===t?(i="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(i="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let f="";o%n>0&&(f=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${i};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${f}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${i});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${d}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${2===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${3===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${d}\n        }\n        setOutput(${l});\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gae(e,t,n,r){const o=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=rte(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let a=e;for(let i=0;i<o.length;i++){const{inSize:s,windowSize:l,outSize:u}=o[i];let c,d;c="mean"===n?0===i?new Hae({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},s):new Hae({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u}):new Uae({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},n),d=a,a=r.runWebGLProgram(c,[a],t),d.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(d)}return a}
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qae{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;const r=Yne(this.rank),o=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${o}));\n    }\n    `}}class Yae{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let u=0;u<n.length;u++)n[u]=e[t[u]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=Yne(this.rank),o=Qoe("rc",this.rank),a=new Array(this.rank);for(let u=0;u<t.length;u++)a[t[u]]=o[u];const i=`vec2(${a.slice(-2).join()})`,s=`++${o[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${a.join()}), ${i})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${s}) {\n        result[1] = ${l};\n      }\n      --${o[this.rank-1]};\n      if(++${o[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${s}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kae(e,t,n){const r=BZ().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Yae(e.shape,t):new qae(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Xae(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r;return function(e,t,n,r){const o=t,a=e.shape.length,i=bZ(o,e.shape);let s=i;const l=U6(s,a),u=null!=l;let c=e;u&&(c=Kae(e,l,r),s=q6(s.length,a)),H6("sum",s,a);const[d,p]=W6(c.shape,s);let f=d;n&&(f=V6(d,i));const h=dZ(p),m=Wae({inputs:{x:c},attrs:{shape:[dZ(e.shape)/h,h]},backend:r}),g=Gae(m,a3(e.dtype),"sum",r),v=Wae({inputs:{x:g},attrs:{shape:f},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),u&&r.disposeIntermediateTensorInfo(c),v}(o,a,i,n)}const Qae={kernelName:o1,backendName:"webgl",kernelFunc:Xae};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zae(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{perm:a}=r,i=n,s=o.shape.length,l=new Array(s);for(let c=0;c<l.length;c++)l[c]=o.shape[a[c]];let u;if(i.shouldExecuteOnCPU([o])){const e=i.texData.get(o.dataId).values,t=Koe(e,o.shape,o.dtype,a,l);u=i.makeTensorInfo(l,o.dtype);i.texData.get(u.dataId).values=t}else u=Kae(o,a,i);return u}const Jae={kernelName:E1,backendName:"webgl",kernelFunc:Zae};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eie({a:e,b:t,transposeA:n,transposeB:r,backend:o,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,d=n?e.shape[u-2]:e.shape[u-1],p=r?t.shape[c-1]:t.shape[c-2],f=n?e.shape[u-1]:e.shape[u-2],h=r?t.shape[c-2]:t.shape[c-1],m=e.shape.slice(0,-2),g=t.shape.slice(0,-2),v=dZ(m),b=dZ(g),y=K4(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([f,h]);sZ(d===p,(()=>`Error in matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`));const x=n?[v,d,f]:[v,f,d],w=r?[b,h,p]:[b,p,h],k=Wae({inputs:{x:e},backend:o,attrs:{shape:x}}),S=Wae({inputs:{x:t},backend:o,attrs:{shape:w}}),C=[k,S],E=Math.max(v,b),I=n?k.shape[1]:k.shape[2],N=null!=a,T=null!=i,R="leakyrelu"===l,_=null!=l?Aae(l,!0):null;let $;if((1===f||1===h)&&I>1e3&&!1===(N||T||R||null!=_)){let e=k,t=S;n&&(e=Zae({inputs:{x:k},backend:o,attrs:{perm:[0,2,1]}}),C.push(e)),r&&(t=Zae({inputs:{x:S},backend:o,attrs:{perm:[0,2,1]}}),C.push(t));const a=1===h;let i=e;1!==h&&(i=Wae({inputs:{x:e},backend:o,attrs:{shape:[E,I,1]}}),C.push(i));const s=1===h?2:1;let l=t;a&&(l=Wae({inputs:{x:t},backend:o,attrs:{shape:[E,1,I]}}),C.push(l));const u=Bae({inputs:{a:i,b:l},backend:o});$=Xae({inputs:{x:u},backend:o,attrs:{axis:s,keepDims:!0}}),C.push(u)}else{const l=o3(e.dtype,t.dtype),u=new Lae(x,w,[E,f,h],n,r,N,_,T,R),c=[k,S];if(null!=a&&c.push(a),T&&c.push(i),R){const e=o.makeTensorInfo([],"float32",T2(s,"float32"));c.push(e),C.push(e)}$=o.runWebGLProgram(u,c,l)}const M=Wae({inputs:{x:$},backend:o,attrs:{shape:y}});C.push($);for(const O of C)o.disposeIntermediateTensorInfo(O);return M}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tie={kernelName:M1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a,bias:i,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;return eie({a:o,b:a,transposeA:l,transposeB:u,backend:n,bias:i,preluActivationWeights:s,leakyreluAlpha:d,activation:c})}},nie="return abs(x);";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rie={kernelName:UZ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=Poe(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let o;return o=BZ().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new dae(r.shape,nie):new aae(r.shape,nie),n.runWebGLProgram(o,[r],r.dtype)}},oie=Mae({opSnippet:iae+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),aie={kernelName:GZ,backendName:"webgl",kernelFunc:oie},iie=Mae({opSnippet:iae+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),sie={kernelName:qZ,backendName:"webgl",kernelFunc:iie},lie="return a + b;",uie=Oae({opSnippet:lie,packedOpSnippet:lie,supportsComplex:!0,cpuKernelImpl:aoe}),cie={kernelName:YZ,backendName:"webgl",kernelFunc:uie};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class die{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pie{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fie={kernelName:KZ,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,o=n;if(1===o.length)return wae({inputs:{x:o[0]},backend:r});if(o.length>BZ().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(o.length/2),n=e({inputs:o.slice(0,t),backend:r}),a=e({inputs:o.slice(t),backend:r});return e({inputs:[n,a],backend:r})}const a=o.map((e=>e.dtype)).reduce(((e,t)=>o3(e,t))),i=o.map((e=>e.shape)),s=BZ().getBool("WEBGL_PACK")?new pie(o[0].shape,i):new die(o[0].shape,i);return r.runWebGLProgram(s,o,a)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hie={kernelName:XZ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=bZ(a,o.shape);let u=l;const c=U6(u,s);let d=o;null!=c&&(d=Zae({inputs:{x:o},backend:n,attrs:{perm:c}}),u=q6(u.length,s)),H6("all",u,s);const[p,f]=W6(d.shape,u),h=Wae({inputs:{x:d},backend:n,attrs:{shape:[-1,dZ(f)]}}),m=Gae(h,h.dtype,"all",n);let g;if(i){g=Wae({inputs:{x:m},backend:n,attrs:{shape:V6(p,l)}})}else g=Wae({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mie={kernelName:QZ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=bZ(a,o.shape);let u=l;const c=U6(u,s);let d=o;null!=c&&(d=Zae({inputs:{x:o},backend:n,attrs:{perm:c}}),u=q6(u.length,s)),H6("any",u,s);const[p,f]=W6(d.shape,u),h=Wae({inputs:{x:d},backend:n,attrs:{shape:[-1,dZ(f)]}}),m=Gae(h,h.dtype,"any",n);let g;if(i){g=Wae({inputs:{x:m},backend:n,attrs:{shape:V6(p,l)}})}else g=Wae({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gie{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:o,outSize:a}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];const i="max"===t?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${s};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${i} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vie{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,sZ(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const o=e[e.length-1],a=Math.ceil(o/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");const i=this.outputShape,s=i.length,l=Yne(s),u=Zoe("coords",s);let c,d;if(1===a){d=s+1;const e=Yne(d);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[s-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[s-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[s-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[s-2]};`}else d=s,c=`\n        ${l} sourceLocR = coords;\n        ++${u[s-1]};\n        ${l} sourceLocG = coords;\n        ++${u[s-2]};\n        ${l} sourceLocA = coords;\n        --${u[s-1]};\n        ${l} sourceLocB = coords;\n        --${u[s-2]};`;const p=["x","y","z","w","u","v"].slice(0,d),f="."+p[d-1],h=p.map((e=>"int "+e)),m=Zoe("sourceLocR",d-1).concat("inIdx.r"),g=Zoe("sourceLocG",d-1).concat("inIdx.g"),v=Zoe("sourceLocB",d-1).concat("inIdx.b"),b=Zoe("sourceLocA",d-1).concat("inIdx.a"),y="max"===n?"greaterThan":"lessThan",x=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${v.join()}),\n                             getBestIndicesAChannel(${b.join()})));`,w=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${v.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,k=r?"":`\n      float getBestIndicesAChannel(${h.join()}) {\n        return getChannel(getBestIndicesA(${p.join()}),\n                                          vec2(${p.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${h.join()}) {\n        return getChannel(getA(${p.join()}),\n                               vec2(${p.slice(-2).join()}));\n      }\n      ${k}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[s-1]} < ${i[s-1]-1};\n        bool hasNextRow = ${u[s-2]} < ${i[s-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${f}, sourceLocG${f},\n          sourceLocB${f}, sourceLocA${f}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${w};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${w};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${y}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bie(e,t,n,r=null){let o=t.shape[0],a=t.shape[1];null!=r&&(o=r.shape[0],a=r.shape[1]);const i=rte(a),s={windowSize:i,inSize:a,batchSize:o,outSize:Math.ceil(a/i)},l=new gie(s,n,null==r),u=[t];null!=r&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;const d=bie(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}function yie(e,t,n,r=null){const o=null!=r?r.shape:t.shape,a=rte(o[o.length-1]),i=new vie(o,a,n,null==r),s=null==r?[t]:[t,r],l=e.runWebGLProgram(i,s,"int32");if(l.shape.length===t.shape.length){const r=yie(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function xie(e,t,n,r){const o=[n];if(H6("arg"+r.charAt(0).toUpperCase()+r.slice(1),o,t.shape.length),!BZ().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],a=e.texData.get(t.dataId);let i=t;null!==a&&a.isPacked&&(i=e.unpackTensor(t),n.push(i));const[s,l]=W6(i.shape,o),u=dZ(l),c=Wae({inputs:{x:i},backend:e,attrs:{shape:[-1,u]}});n.push(c);const d=bie(e,c,r);n.push(d);const p=Wae({inputs:{x:d},backend:e,attrs:{shape:s}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),p}return yie(e,t,r)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wie={kernelName:ZZ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a}=r;let i=bZ(a,o.shape);const s=U6(i,o.shape.length);let l=o;const u=[];null!=s&&(l=Zae({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),i=q6(i.length,l.shape.length)),H6("argMax",[i[0]],l.shape.length);const c=xie(n,l,i[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kie={kernelName:JZ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a}=r;let i=bZ(a,o.shape);const s=U6(i,o.shape.length);let l=o;const u=[];null!=s&&(l=Zae({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),i=q6(i.length,l.shape.length)),H6("argMin",[i[0]],l.shape.length);const c=xie(n,l,i[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},Sie=Mae({opSnippet:iae+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Cie={kernelName:eJ,backendName:"webgl",kernelFunc:Sie},Eie=Mae({opSnippet:iae+"return log(x + sqrt(x * x + 1.0));"}),Iie={kernelName:tJ,backendName:"webgl",kernelFunc:Eie},Nie=Mae({opSnippet:iae+"\n  return atan(x);\n"}),Tie={kernelName:nJ,backendName:"webgl",kernelFunc:Nie},Rie=Oae({opSnippet:vae+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+yae+"\n  return result;\n"}),_ie={kernelName:oJ,backendName:"webgl",kernelFunc:Rie},$ie=Mae({opSnippet:iae+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),Mie={kernelName:rJ,backendName:"webgl",kernelFunc:$ie};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Oie{constructor(e,t,n,r=!1,o=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;const h="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let v="0.0";if(h||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${i}, ${s});\n        const ivec2 pads = ivec2(${p}, ${f});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?o?m:g:`wR * ${d} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / count");const y=4*Math.floor(a/4),x=a%4,w=`\n      if (${h}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${i}, ${s});\n      const ivec2 pads = ivec2(${p}, ${f});\n      const float initializationValue = ${v};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${v});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${y}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${w}\n          }\n\n          int xC = xCCorner + ${y};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${w}\n          }\n        }\n        setOutput(${b});\n      }\n    `}}class Aie{constructor(e,t,n,r=!1,o=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideDepth,s=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let y="0.0";if(b||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${i}, ${s}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${v});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${p};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${f};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${h};\n                  wC += ${d}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?o?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${f} * ${h} +\n                      wR * ${h} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(x="avgValue / count");const w=4*Math.floor(a/4),k=a%4,S=`\n      if (${b}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${i}, ${s}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${v});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${p};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${f};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${w}; wC += 4) {\n              int xC = xCCorner + wC * ${d};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${d}, ch)\n              );\n\n              ${S}\n            }\n\n            int xC = xCCorner + ${w};\n            if (${1===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${2===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${3===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                initializationValue\n              );\n\n              ${S}\n            }\n          }\n          setOutput(${x});\n        }\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lie={kernelName:aJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Rne(o,"avgPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=r;sZ(H5(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=A5(o.shape,a,i,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&pZ(u.inShape,u.outShape))return wae({inputs:{x:o},backend:n});const c=new Oie(u,"avg",!1);return n.runWebGLProgram(c,[o],"float32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pie={kernelName:iJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=L5(o.shape,a,i,[1,1,1],s,l,u),d=new Aie(c,"avg",!1);return n.runWebGLProgram(d,[o],"float32")}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Die{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,d=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${d});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${s};\n            wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${i}) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Fie{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=c-1-e.padInfo.front,h=d-1-e.padInfo.top,m=p-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${f}, ${h}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${s}) {\n          float dyD = float(dyDCorner + wD) / ${o}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${d};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${a}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${p};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zie={kernelName:"AvgPool3DGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,i=a,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=L5(i.shape,s,l,[1,1,1],u,c),p=new Fie(d);return n.runWebGLProgram(p,[o],i.dtype)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bie={kernelName:"AvgPoolGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,i=a;Rne([o,a],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=A5(i.shape,s,l,1,u),d=new Die(c);return n.runWebGLProgram(d,[o],i.dtype)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jie={kernelName:sJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a}=t,{transposeA:i,transposeB:s}=r;return eie({a:o,b:a,transposeA:i,transposeB:s,backend:n})}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wie{constructor(e,t,n,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],K4(e,t),K4(e,n);let i="0.0";null!=r&&(K4(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let s="1.0";null!=o&&(K4(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${i};\n        float scale = ${s};\n        float inv = scale * inversesqrt(variance + float(${a}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vie{constructor(e,t,n,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],K4(e,t),K4(e,n);let i="vec4(0.0)";null!=r&&(K4(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=o&&(K4(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${i};\n        vec4 scale = ${s};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${a}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hie={kernelName:UJ,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:o,variance:a,offset:i,scale:s}=e;sZ(o.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),sZ(null==i||o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),sZ(null==s||o.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=n;null==l&&(l=.001);const u=[r,o,a];let c=null;null!=i&&(c=i.shape,u.push(i));let d=null;null!=s&&(d=s.shape,u.push(s));const p=BZ().getBool("WEBGL_PACK_NORMALIZATION")?new Vie(r.shape,o.shape,a.shape,c,d,l):new Wie(r.shape,o.shape,a.shape,c,d,l);return t.runWebGLProgram(p,u,u[0].dtype)}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Uie{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=Yne(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return Gie.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(this.rank);let r;const o=e.map(((e,t)=>`sourceLoc.${Gie[t]} = start[${t}] + coords.${Gie[t]};`));r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${o.join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const Gie=["x","y","z","w","u","v"];class qie{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=Yne(this.rank),n=Zoe("coords",this.rank),r=Zoe("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,a=`getChannel(getSource(${r.join()}), ${o})`,i=`\n      result.x = ${a};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${a};\n        --${r[this.rank-1]};\n      }\n    `,s=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${a};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${a};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${i}\n        ${s}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yie(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:a,size:i}=r,[s,l]=p5(o,a,i);if(e5(o,s,l),0===dZ(l))return n.makeTensorInfo(l,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||"string"===o.dtype){const e=n.texData.get(o.dataId),t=Doe(e.values,s,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,t)}const{isPacked:u}=n.texData.get(o.dataId),c=c5(o.shape,s,l);if(u||!c){const e=BZ().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new qie(l):new Uie(l),t=[s];return n.runWebGLProgram(e,[o],o.dtype,t)}return n.uploadToGPU(o.dataId),function(e,t,n,r){const o=r.texData.get(e.dataId),a=r.makeTensorInfo(n,e.dtype),i=r.texData.get(a.dataId);Object.assign(i,o),i.refCount=1,i.shape=n,i.dtype=e.dtype;let s=d5(t,TZ(e.shape));o.slice&&(s+=o.slice.flatOffset),i.slice={flatOffset:s,origDataId:o.slice&&o.slice.origDataId||e.dataId};const l=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,l+1),a}(o,s,l,n)}const Kie={kernelName:Q0,backendName:"webgl",kernelFunc:Yie},Xie={kernelName:lJ,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,crops:i}=r;sZ(o.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const s=a.reduce(((e,t)=>e*t)),l=ate(o.shape,a,s),u=ite(l.length,a.length),c=ste(o.shape,a,s),d=lte(i,a.length),p=ute(c,i,a.length),f=[],h=Wae({inputs:{x:o},backend:n,attrs:{shape:l}}),m=Zae({inputs:{x:h},backend:n,attrs:{perm:u}}),g=Wae({inputs:{x:m},backend:n,attrs:{shape:c}}),v=Yie({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return f.push(h),f.push(m),f.push(g),f.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qie={kernelName:uJ,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:a}=t,{size:i}=r,s=n.readSync(o.dataId),l=n.readSync(a.dataId),u=ioe(s,l,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,u)}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zie={kernelName:cJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,a=n.readSync(r.dataId),i=n.readSync(o.dataId),s=K4(Array.from(a),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},Jie=Oae({opSnippet:"return float(a != b);",cpuKernelImpl:Toe,dtype:"bool"}),ese={kernelName:S0,backendName:"webgl",kernelFunc:Jie};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function tse(e){const{inputs:t,backend:n}=e,{input:r}=t;return wae({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const nse={kernelName:D0,backendName:"webgl",kernelFunc:tse};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rse={kernelName:dJ,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function e(t){const{inputs:n,backend:r,attrs:o}=t,{x:a}=n,{dtype:i}=o;if("complex64"===i){if("complex64"===a.dtype)return wae({inputs:{x:a},backend:r});const t=z8(a.shape),n=e({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),o=Sae({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),o}if("complex64"===a.dtype){const t=tse({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(t),n}if(s=a.dtype,"complex64"===(l=i)||"float32"===l&&"complex64"!==s||"int32"===l&&"float32"!==s&&"complex64"!==s||"bool"===l&&"bool"===s){const e=wae({inputs:{x:a},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:i}}var s,l;if(r.shouldExecuteOnCPU([a])){const e=r.texData.get(a.dataId).values,[t,n,o]=loe(e,a.shape,a.dtype,i);return r.makeTensorInfo(t,n,o)}if("int32"===i)return function(e,t){const n=new aae(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(a,r);if("bool"===i){const e=r.makeTensorInfo([],"bool",xZ("bool",1)),t=Jie({inputs:{a:a,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${i}`)}},ose="return ceil(x);",ase=Mae({opSnippet:ose,packedOpSnippet:ose,cpuKernelImpl:uoe}),ise={kernelName:pJ,backendName:"webgl",kernelFunc:ase};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class sse{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lse{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const use={kernelName:fJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:a,clipValueMax:i}=r;let s;s=BZ().getBool("WEBGL_PACK_CLIP")?new lse(o.shape):new sse(o.shape);const l=[[a],[i]];return n.runWebGLProgram(s,[o],o.dtype,l)}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cse{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dse(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const pse={kernelName:mJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=n.texData.get(r.dataId),a=new cse(r.shape),i=[dse(r,o.complexTensorInfos.real),dse(r,o.complexTensorInfos.imag)];return n.runWebGLProgram(a,i,i[0].dtype)}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fse{constructor(e){this.outputShape=[],this.outputShape=Xee(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let a=1;a<t.length;a++)t[a]=t[a-1]+e[a][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<t.length;a++){const e=t[a-1];n.push(`else if (yC < ${t[a]}) setOutput(getT${a}(yR, yC-${e}));`)}const r=t.length,o=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${o}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hse{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Xee(e,t);const n=this.outputShape,r=n.length,o=Yne(r),a=Zoe("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>`T${t}`));const s=new Array(e.length-1);s[0]=e[0][t];for(let h=1;h<s.length;h++)s[h]=s[h-1]+e[h][t];const l=i[t],u=i.slice(-2),c=i.join();let d=`if (${l} < ${s[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let h=1;h<s.length;h++){const e=s[h-1];d+=`\n        if (${l} < ${s[h]}  && ${l} >= ${s[h-1]}) {\n          return getChannel(\n            getT${h}(${mse(i,l,e)}),\n            vec2(${mse(u,l,e)}));\n        }`}const p=s.length,f=s[s.length-1];d+=`\n        return getChannel(\n          getT${p}(${mse(i,l,f)}),\n          vec2(${mse(u,l,f)}));`,this.userCode=`\n      float getValue(${i.map((e=>"int "+e))}) {\n        ${d}\n      }\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${a}), 0., 0., 0.);\n\n        ${a[r-1]} = ${a[r-1]} + 1;\n        if (${a[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${a});\n        }\n\n        ${a[r-2]} = ${a[r-2]} + 1;\n        if (${a[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${a});\n        }\n\n        ${a[r-1]} = ${a[r-1]} - 1;\n        if (${a[r-2]} < ${n[r-2]} &&\n            ${a[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${a});\n        }\n        setOutput(result);\n      }\n    `}}function mse(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?`${e} - ${n}`:e)).join()}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gse(e){const{inputs:t,backend:n}=e,{input:r}=t;return wae({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const vse={kernelName:ZJ,backendName:"webgl",kernelFunc:gse};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bse(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>tse({inputs:{input:e},backend:n}))),o=e.map((e=>gse({inputs:{input:e},backend:n}))),a=bse(r,t,n),i=bse(o,t,n),s=Sae({inputs:{real:a,imag:i},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),o.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),s}let o=n.shouldExecuteOnCPU(e);if("string"===r&&(o=!0),o){const o=e.map((e=>{const r=dZ(e.shape.slice(t));return Wae({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),a=o.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),i=Xee(o.map((e=>e.shape)),1),s=1===o[0].shape[0],l=coe(a,i,r,s),u=Xee(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,r,l);return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const a=BZ().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(e.length>a){const r=[];for(let i=0;i<e.length;i+=a){const o=e.slice(i,i+a);r.push(bse(o,t,n))}const o=bse(r,t,n);for(const e of r)n.disposeIntermediateTensorInfo(e);return o}if(BZ().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const o=new hse(e.map((e=>e.shape)),t);return n.runWebGLProgram(o,e,r)}const{tensors2D:i,outShape:s}=function(e,t,n){const r=Xee(e.map((e=>e.shape)),t),o=e.map((e=>Wae({inputs:{x:e},attrs:{shape:[-1,dZ(e.shape.slice(t))]},backend:n})));return{tensors2D:o,outShape:r}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(e,t,n),l=new fse(i.map((e=>e.shape))),u=n.runWebGLProgram(l,i,r);i.forEach((e=>n.disposeIntermediateTensorInfo(e)));const c=Wae({inputs:{x:u},attrs:{shape:s},backend:n});return n.disposeIntermediateTensorInfo(u),c}function yse(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,a=bZ(o,t[0].shape)[0],i=t.map((e=>e.shape));Kee(i,a);const s=Xee(t.map((e=>e.shape)),a);if(0===dZ(s))return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter((e=>dZ(e.shape)>0));return 1===l.length?wae({inputs:{x:l[0]},backend:n}):bse(l,a,n)}const xse={kernelName:gJ,backendName:"webgl",kernelFunc:yse};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wse{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,i=e.padInfo.left,s=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,v=m?2:3,b=m?3:1;let y="",x="";n&&(y=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${y}\n\n      const ivec2 strides = ivec2(${s}, ${l});\n      const ivec2 pads = ivec2(${a}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${b}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${v}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${d}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${p}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${f}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===h}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${f}) *\n                    getW(wR, wC, ${f}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${f}, xR, xC) *\n                    getW(wR, wC, ${f}, d2);\n              }\n\n            } else if (${2===h}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${f}, d2),\n                getW(wR, wC, ${f} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${f}),\n                  getX(batch, xR, xC, ${f} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${f}, xR, xC),\n                  getX(batch, ${f} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===h}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${f}, d2),\n                getW(wR, wC, ${f} + 1, d2),\n                getW(wR, wC, ${f} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${f}),\n                  getX(batch, xR, xC, ${f} + 1),\n                  getX(batch, xR, xC, ${f} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${f}, xR, xC),\n                  getX(batch, ${f} + 1, xR, xC),\n                  getX(batch, ${f} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${w}\n        ${x}\n        setOutput(result);\n      }\n    `}}class kse{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,p=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${o}, ${a}, ${i});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${s};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${d}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${f}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===h}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${f}) *\n                  getW(wF, wR, wC, ${f}, d2);\n              } else if (${2===h}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${f}),\n                  getX(batch, xF, xR, xC, ${f} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${f}, d2),\n                  getW(wF, wR, wC, ${f} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===h}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${f}),\n                  getX(batch, xF, xR, xC, ${f} + 1),\n                  getX(batch, xF, xR, xC, ${f} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${f}, d2),\n                  getW(wF, wR, wC, ${f} + 1, d2),\n                  getW(wF, wR, wC, ${f} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sse{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=tre(this.outputShape.length);const a=e.padInfo.left,i=e.strideWidth,s=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,c=u;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<u;m++)d+=`\n           vec4 xTexelC${2*m};\n           int xTexelC${2*m}Ready;\n           vec4 xTexelC${2*m+1};\n           int xTexelC${2*m+1}Ready;\n           vec4 xC${m};`;d+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let m=0;m<u;m++)d+=`\n           xTexelC${2*m} = vec4(0.0);\n           xTexelC${2*m}Ready = 0;\n           xTexelC${2*m+1} = vec4(0.0);\n           xTexelC${2*m+1}Ready = 0;\n           xC${m} = vec4(0.0);`;d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(c+1)/2;m++){const t=2*m;if(d+=`\n           xC = xCCorner + ${t*s};\n           `,1===i){if(t<u&&(a%2==1?(d+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n               `,d+=1===s&&t>0?`\n                 xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                   } else {\n                     xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                   }\n                   `):d+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xC${t} = xTexelC${t};\n                 `,t+1<u)){const e=a%2==0?aZ(s):s;s%2==0&&a%2==1||s%2!=0&&a%2!=1?(d+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                     xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${t+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${t+1}Ready = 1;\n                   }\n                   `,d+=s>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                     } else {\n                      xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                     }\n                     `:`\n                     xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                     `):d+=1===e?`\n                     xC${t+1} = xTexelC${t};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                       xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${t+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${t+1}Ready = 1;\n                     }\n\n                     xC${t+1} = xTexelC${t+1};\n                     `}}else t<u&&(a%2==1?(d+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n               `,t+1<u&&(d+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                 `)):(d+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(\n                   xTexelC${t}.xy, xTexelC${t+1}.xy);\n               `,t+1<u&&(d+=`\n                   xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                 `)));t<u&&(d+=`\n             wTexel = getW(r, ${t}, d1, d2);\n             dotProd += xC${t}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${t}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,t+1<u&&(d+=`\n               wTexel = getW(r, ${t+1}, d1, d2);\n               dotProd += xC${t+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${t+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let p="",f="";n&&(p=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:o?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,f="result = activation(result);");const h=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${p}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${d}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${h}\n         ${f}\n         setOutput(result);\n       }\n     `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cse{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=tre(this.outputShape.length);const{dataFormat:n}=t,r=$ne(),o="channelsLast"===n,a=o?1:2,i=o?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let u=0;u<=1;u++)for(let e=0;e<=1;e++)l+=`\n          blockIndex = rc.z + ${e};\n          pos = rc.y + ${u};\n\n          ${s}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${a}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${i}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${o}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ese(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function Ise({x:e,filter:t,convInfo:n,backend:r,bias:o=null,preluActivationWeights:a=null,leakyreluAlpha:i=0,activation:s=null}){const l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,d=l[0]*l[1]*l[2],p=n.outChannels,f="channelsLast"===n.dataFormat,h=!1;let m;const g=[];if(null!=a){const e=Ese(a.shape,f);null!=e&&(a=Wae({inputs:{x:a},backend:r,attrs:{shape:e}}),g.push(a))}if(null!=o){const e=Ese(o.shape,f);null!=e&&(o=Wae({inputs:{x:o},backend:r,attrs:{shape:e}}),g.push(o))}if(!((1===d||1===p)&&c>1e3)&&u.isPacked&&f&&null!=u.texture&&l[2]%2!=0&&pZ(u.shape.slice(-3),l.slice(-3))){const c=l[0]*l[1]*(l[2]+1),d={dataId:e.dataId,shape:[1,c,n.inChannels],dtype:e.dtype},p=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,sZ(kne(u.shape,d.shape),(()=>`packed reshape ${u.shape} to ${d.shape} isn't free`));const f=Wae({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(f);const v=eie({a:d,b:f,backend:r,transposeA:false,transposeB:h,bias:o,activation:s,preluActivationWeights:a,leakyreluAlpha:i}),b=r.texData.get(v.dataId);sZ(b.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=p,b.shape=n.outShape,m=wae({inputs:{x:v},backend:r}),m.shape=n.outShape,g.push(v)}else{const l=n.outHeight*n.outWidth,u=Wae({inputs:{x:e},backend:r,attrs:{shape:f?[n.batchSize,l,n.inChannels]:[n.batchSize,n.inChannels,l]}}),c=Wae({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),d=eie({a:f?u:c,b:f?c:u,transposeA:!f,transposeB:h,backend:r,bias:o,activation:s,preluActivationWeights:a,leakyreluAlpha:i});m=Wae({inputs:{x:d},backend:r,attrs:{shape:n.outShape}}),g.push(u),g.push(c),g.push(d)}for(const v of g)r.disposeIntermediateTensorInfo(v);return m}function Nse({x:e,filter:t,convInfo:n,backend:r,bias:o=null,preluActivationWeights:a=null,leakyreluAlpha:i=0,activation:s=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:d,outHeight:p,dataFormat:f}=n,h="channelsLast"===f,m=l*u*c,g=p*d,v=[n.batchSize,m,g],b=[];if(null!=a){const e=Ese(a.shape,h);null!=e&&(a=Wae({inputs:{x:a},backend:r,attrs:{shape:e}}),b.push(a))}if(null!=o){const e=Ese(o.shape,h);null!=e&&(o=Wae({inputs:{x:o},backend:r,attrs:{shape:e}}),b.push(o))}const y=Wae({inputs:{x:t},backend:r,attrs:{shape:[1,m,dZ(t.shape)/m]}});b.push(y);const x=new Cse(v,n),w=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(x,[e],"float32",w),S=Wae({inputs:{x:k},backend:r,attrs:{shape:v}});b.push(k),b.push(S);const C=null!=o,E=null!=a,I="leakyrelu"===s,N=s?Aae(s,!0):null,T=new Lae(h?S.shape:y.shape,h?y.shape:S.shape,h?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],!0,!1,C,N,E,I),R=h?[S,y]:[y,S];if(o&&R.push(o),E&&R.push(a),I){const e=r.makeTensorInfo([],"float32",T2(i,"float32"));R.push(e),b.push(e)}const _=r.runWebGLProgram(T,R,"float32"),$=Wae({inputs:{x:_},backend:r,attrs:{shape:n.outShape}});b.push(_);for(const M of b)r.disposeIntermediateTensorInfo(M);return $}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tse={kernelName:vJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,d=U5(l),p=P5(o.shape,a.shape,i,u,s,c,!1,d);let f;if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(p.strideWidth<=2&&"channelsLast"===d&&BZ().getBool("WEBGL_EXP_CONV")){const e=new Sse(p),t=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];f=n.runWebGLProgram(e,[o,a],"float32",t)}else if(BZ().getBool("WEBGL_CONV_IM2COL"))f=Nse({x:o,filter:a,convInfo:p,backend:n});else{const e=new wse(p);f=n.runWebGLProgram(e,[o,a],"float32")}else f=Ise({x:o,filter:a,convInfo:p,backend:n});const h=Wae({inputs:{x:f},backend:n,attrs:{shape:p.outShape}});return n.disposeIntermediateTensorInfo(f),h}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rse{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${a}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class _se{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=a?1:2,u=a?2:3,c=a?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${a}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $se{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,a=e.padInfo.top,i=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${o};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${a};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${i};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Mse{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${s}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${o}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${a}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ose={kernelName:bJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,d=U5(l),p=P5(o.shape,c,i,1,s,u,!1,d),f=new Rse(p);return n.runWebGLProgram(f,[o,a],"float32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ase={kernelName:yJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{inputShape:i,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,d=U5(u),p=P5(i,a.shape,s,1,l,c,!1,d),f=new _se(p);return n.runWebGLProgram(f,[o,a],"float32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lse={kernelName:xJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l}=r,u=D5(o.shape,a.shape,i,l,s),c=new kse(u);return n.runWebGLProgram(c,[o,a],"float32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pse={kernelName:"Conv3DBackpropFilterV2",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,pad:s,filterShape:l}=r,u=D5(o.shape,l,i,1,s),c=new $se(u);return n.runWebGLProgram(c,[o,a],"float32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dse={kernelName:wJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{pad:i,strides:s,inputShape:l}=r,u=D5(l,a.shape,s,1,i),c=new Mse(u);return n.runWebGLProgram(c,[o,a],"float32")}},Fse=Mae({opSnippet:$ae+"\n  return cos(x);\n"}),zse={kernelName:kJ,backendName:"webgl",kernelFunc:Fse},Bse=Mae({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),jse={kernelName:SJ,backendName:"webgl",kernelFunc:Bse};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Wse{constructor(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,i,s,l]=e,[u]=t,[c,d]=n;this.outputShape=[u,c,d,l];const p="bilinear"===r?1:0,[f,h]=[i-1+".0",s-1+".0"],[m,g,v]=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio",`y1*${f} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${f}`],[b,y,x]=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio",`x1*${h} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${h}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${b});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${a}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${y};\n\n        float in_y = ${v};\n        if( in_y < 0.0 || in_y > ${f} ) {\n          setOutput(float(${o}));\n          return;\n        }\n        float in_x = ${x};\n        if( in_x < 0.0 || in_x > ${h} ) {\n          setOutput(float(${o}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${p} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vse={kernelName:IJ,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:a,boxInd:i}=t,{cropSize:s,method:l,extrapolationValue:u}=r,c=new Wse(o.shape,a.shape,s,l,u);return n.runWebGLProgram(c,[o,a,i],"float32")}};var Hse,Use;(Use=Hse||(Hse={})).Prod="*",Use.Sum="+";class Gse{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,a=this.op===Hse.Prod?"1.0":"0.0",i=n?a:`getX(${qse(o,"coords",this.op)})`,s=this.outputShape[this.outputShape.length-1];let l="",u="";n?(l=r?"end != "+(s-1):"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${s}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${Yne(o)} coords = getOutputCoords();\n        int end = ${Yse(o,"coords",this.op)};\n        float val = ${i};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${u};\n          ${Yse(o,"coords",this.op)} = idx;\n          val ${this.op}= getX(${qse(o,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function qse(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function Yse(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kse(e,t,n,r,o,a){const i=t.shape.length,s=U6([r],i);let l=t;null!=s&&(l=Zae({inputs:{x:t},backend:n,attrs:{perm:s}}));const u=q6(1,i)[0];if(u!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let d=wae({inputs:{x:l},backend:n});for(let p=0;p<=Math.ceil(Math.log2(c))-1;p++){const t=new Gse(e,l.shape,!1,a),r=[[p]],o=d;d=n.runWebGLProgram(t,[d],d.dtype,r),n.disposeIntermediateTensorInfo(o)}if(o){const t=new Gse(e,l.shape,o,a),r=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=s){const e=Zae({inputs:{x:d},backend:n,attrs:{perm:G6(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),e}return d}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xse={kernelName:CJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r;return Kse(Hse.Prod,o,n,a,i,s)}};
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qse={kernelName:EJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r;return Kse(Hse.Sum,o,n,a,i,s)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zse={kernelName:NJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:a}=t,{size:i,binaryOutput:s}=r;if(1===o.shape.length){const e=n.readSync(o.dataId),t=n.readSync(a.dataId),r=ioe(e,t,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,r)}if(2===o.shape.length){const e=n.bufferSync(o),t=n.bufferSync(a),r=soe(e,t,i,s);return n.makeTensorInfo(r.shape,a.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jse{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ele={kernelName:TJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:a,dataFormat:i}=r,s=o.shape[0],l=("NHWC"===i?o.shape[1]:o.shape[2])*a,u=("NHWC"===i?o.shape[2]:o.shape[3])*a,c=("NHWC"===i?o.shape[3]:o.shape[1])/(a*a),d=new Jse("NHWC"===i?[s,l,u,c]:[s,c,l,u],a,i);return n.runWebGLProgram(d,[o],o.dtype)}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tle{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=tre(this.outputShape.length);const a=e.filterHeight,i=e.filterWidth,s=e.outChannels/e.inChannels;let l="",u="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,u="result = activation(result);");const c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${s};\n        int q = d2 - d1 * ${s};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${a}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${c}\n        ${u}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nle{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=tre(this.outputShape.length);const a=e.outChannels/e.inChannels,i=e.padInfo.left,s=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<c;g++)p+=`\n          vec4 xTexelC${2*g};\n          int xTexelC${2*g}Ready;\n          vec4 xTexelC${2*g+1};\n          int xTexelC${2*g+1}Ready;\n          vec4 xC${g};`;p+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let g=0;g<c;g++)p+=`\n          xTexelC${2*g} = vec4(0.0);\n          xTexelC${2*g}Ready = 0;\n          xTexelC${2*g+1} = vec4(0.0);\n          xTexelC${2*g+1}Ready = 0;\n          xC${g} = vec4(0.0);`;p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(p+=`\n          xC = xCCorner + ${e*l};\n          `,1===s){if(e<c&&(i%2==1?(p+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n              `,p+=1===l&&e>0?`\n                xC${e} = vec4(xTexelC${e-2}.zw, xTexelC${e}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${e} = vec4(previous.zw, xTexelC${e}.xy);\n                  } else {\n                    xC${e} = vec4(0.0, 0.0, xTexelC${e}.xy);\n                  }\n                  `):p+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xC${e} = xTexelC${e};\n                `,e+1<c)){const t=i%2==0?aZ(l):l;l%2==0&&i%2==1||l%2!=0&&i%2!=1?(p+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${t};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                    xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${e+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${e+1}Ready = 1;\n                  }\n                  `,p+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${e+1} = vec4(previous.zw, xTexelC${e+1}.xy);\n                    } else {\n                     xC${e+1} = vec4(0.0, 0.0, xTexelC${e+1}.xy);\n                    }\n                    `:`\n                    xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.xy);\n                    `):p+=1===t?`\n                    xC${e+1} = xTexelC${e};\n                    `:`\n                    xCOffset = xC + ${t};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                      xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${e+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${e+1}Ready = 1;\n                    }\n\n                    xC${e+1} = xTexelC${e+1};\n                    `}}else e<c&&(i%2==1?(p+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n              `,e+1<c&&(p+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${e+1} = vec4(xTexelC${e+1}.xy, final.xy);\n                `)):(p+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(\n                  xTexelC${e}.xy, xTexelC${e+1}.xy);\n              `,e+1<c&&(p+=`\n                  xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n                `)));e<c&&(p+=`\n            wTexel = getW(r, ${e}, d1, q);\n            dotProd += xC${e} * vec4(wTexel.xz, wTexel.xz);\n          `,e+1<c&&(p+=`\n              wTexel = getW(r, ${e+1}, d1, q);\n              dotProd += xC${e+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}p+="\n    }\n  ",p+="\n      }\n    ";let f="",h="";n&&(f=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,h="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${f}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${a};\n        int q = d2 - d1 * ${a};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${p}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${h}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rle={kernelName:RJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l,dimRoundingMode:u}=r;let c=l;null==c&&(c=[1,1]),sZ(H5(i,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`));const d=P5(o.shape,a.shape,i,c,s,u,!0);let p;p=BZ().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels==1?new nle(d):new tle(d);const f=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(p,[o,a],"float32",f)}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ole{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${a} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class ale{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${s}; dm++) {\n              int d2 = d1 * ${s} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ile={kernelName:_J,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,d=P5(o.shape,c,i,s,l,u,!0),p=new ole(d);return n.runWebGLProgram(p,[o,a],"float32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sle={kernelName:$J,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,d=P5(c,a.shape,i,s,l,u,!0),p=new ale(d);return n.runWebGLProgram(p,[o,a],"float32")}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lle{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ule={kernelName:MJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=[...r.shape,...r.shape],a=dZ(r.shape),i=Wae({inputs:{x:r},backend:n,attrs:{shape:[a]}}),s=new lle(a),l=n.runWebGLProgram(s,[i],i.dtype),u=Wae({inputs:{x:l},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cle{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:o,strideWidth:a,filterHeight:i,filterWidth:s,dilationHeight:l,dilationWidth:u}=e,{top:c,left:d}=r;this.userCode=`\n      const ivec2 strides = ivec2(${o}, ${a});\n      const ivec2 pads = ivec2(${c}, ${d});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${i}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${s}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dle={kernelName:OJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l}=r,u=O5(o.shape,a.shape,i,s,"NHWC",l);let c;const d=new cle(u);c=n.runWebGLProgram(d,[o,a],"float32");const p=Wae({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),p}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ple={kernelName:LJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,a=t,{allDims:i,summedDims:s,idDims:l}=wte(o,a.length);Ste(i.length,l,a);const{path:u,steps:c}=Cte(s,l),d=c.length;let p=null,f=i.length;const h=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=kte(f,l[e]);let o;Ete(t)?o=a[e]:(o=Zae({inputs:{x:a[e]},backend:n,attrs:{perm:t}}),h.push(o));const i=o.shape.slice();for(let e=0;e<r.length;++e)i.splice(r[e],0,1);pZ(o.shape,i)||(o=Wae({inputs:{x:o},backend:n,attrs:{shape:i}}),h.push(o)),null===p?p=o:(p=Bae({inputs:{a:o,b:p},backend:n}),h.push(p))}m<d-1&&(u[m]>=0&&(p=Xae({inputs:{x:p},backend:n,attrs:{axis:u[m]-(i.length-f),keepDims:!1}}),h.push(p)),f--)}for(const m of h)m!==p&&n.disposeIntermediateTensorInfo(m);return p}},fle=Mae({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),hle={kernelName:PJ,backendName:"webgl",kernelFunc:fle},mle={kernelName:"EluGrad",backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:o}=t,a=BZ().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new xae("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,o.shape):new bae("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,o.shape);return n.runWebGLProgram(a,[r,o],r.dtype)}},gle=Oae({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:doe}),vle={kernelName:DJ,backendName:"webgl",kernelFunc:gle},ble={kernelName:"Erf",backendName:"webgl",kernelFunc:Mae({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${pte};\n  float a1 = ${fte};\n  float a2 = ${hte};\n  float a3 = ${mte};\n  float a4 = ${gte};\n  float a5 = ${vte};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`})},yle=Mae({opSnippet:$ae+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:poe,dtype:"float32"}),xle={kernelName:FJ,backendName:"webgl",kernelFunc:yle};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function wle(e){const{inputs:t,attrs:n,backend:r}=e,{dim:o}=n,{input:a}=t,i=a.shape.length,s=a.shape.slice();let l=o;return o<0&&(sZ(-(i+1)<=o,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+o+1),s.splice(l,0,1),Wae({inputs:{x:a},backend:r,attrs:{shape:s}})}const kle={kernelName:zJ,backendName:"webgl",kernelFunc:wle},Sle="return exp(x) - 1.0;",Cle=Mae({opSnippet:Sle,packedOpSnippet:Sle,cpuKernelImpl:foe}),Ele={kernelName:BJ,backendName:"webgl",kernelFunc:Cle};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Ile{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const o=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=n?`${r}.0`:"1.0";let i;if("real"===e)i="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);i="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${o};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${i}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${a};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nle(e,t,n){const r=n.texData.get(e.dataId),o=dZ(e.shape),a=e.shape[e.shape.length-1],i=Wae({inputs:{x:e},backend:n,attrs:{shape:[o/a,a]}}),s=i.shape,l=new Ile("real",s,t),u=new Ile("imag",s,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(l,c,"float32"),p=n.runWebGLProgram(u,c,"float32"),f=Sae({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);const h=Wae({inputs:{x:f},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(f),h}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tle={kernelName:"FFT",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return Nle(r,!1,n)}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rle{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _le(e){const{backend:t,attrs:n}=e,{shape:r,value:o}=n;let{dtype:a}=n;if(a=a||EZ(o),"string"===a){const e=wZ(a,dZ(r));return e.fill(o),t.makeTensorInfo(r,a,e)}{const e=new Rle(r,o),n=[[o]];return t.runWebGLProgram(e,[],a,n)}}const $le={kernelName:jJ,backendName:"webgl",kernelFunc:_le};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mle{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ole={kernelName:WJ,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,o=new Mle(n.shape);return r.runWebGLProgram(o,[n],n.dtype)}},Ale="return floor(x);",Lle=Mae({opSnippet:Ale,packedOpSnippet:Ale,cpuKernelImpl:hoe}),Ple={kernelName:VJ,backendName:"webgl",kernelFunc:Lle},Dle=Oae({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),Fle={kernelName:HJ,backendName:"webgl",kernelFunc:Dle};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class zle{constructor(e){this.variableNames=["A"];const t=$ne(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ble{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=$ne(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jle={kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:o}=t;const{numChannels:a}=r,i="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,[l,u]=i?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=[u,l],d=[u,l,a];if(s||i){const e=BZ().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=Wle&&e===Vle||(Vle=e,Wle=document.createElement("canvas").getContext("2d",{willReadFrequently:Vle})),Wle.canvas.width=l,Wle.canvas.height=u,Wle.drawImage(o,0,0,l,u),o=Wle.canvas}const p=n.makeTensorInfo(c,"int32");n.texData.get(p.dataId).usage=Zte.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),o);const f=BZ().getBool("WEBGL_PACK")?new Ble(d):new zle(d),h=n.runWebGLProgram(f,[p],"int32");return n.disposeData(p.dataId),h}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */};let Wle,Vle=BZ().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const Hle={kernelName:O1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:f,leakyreluAlpha:h}=r,m=U5(c),g=P5(o.shape,a.shape,l,d,u,p,!1,m);let v;const b=[],y=null!=i,x=null!=s,w="leakyrelu"===f,k=()=>{const e=[o,a],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=Wae({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return b.push(t),t}return e};if(y&&e.push(t(i,c)),x&&e.push(t(s,c)),w){const t=n.makeTensorInfo([],"float32",T2(h,"float32"));e.push(t),b.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&BZ().getBool("WEBGL_EXP_CONV")){const e=f?Aae(f,!0):null,t=new Sse(g,y,e,x,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],o=k();v=n.runWebGLProgram(t,o,"float32",r)}else if(BZ().getBool("WEBGL_CONV_IM2COL"))v=Nse({x:o,filter:a,convInfo:g,backend:n,bias:i,activation:f,preluActivationWeights:s,leakyreluAlpha:h});else{const e=f?Aae(f,!1):null,t=new wse(g,y,e,x,w),r=k();v=n.runWebGLProgram(t,r,"float32")}else v=Ise({x:o,filter:a,convInfo:g,backend:n,bias:i,activation:f,preluActivationWeights:s,leakyreluAlpha:h});const S=Wae({inputs:{x:v},backend:n,attrs:{shape:g.outShape}});return b.push(v),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ule={kernelName:A1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:p,leakyreluAlpha:f}=r,h=[];let m=c;null==m&&(m=[1,1]),sZ(H5(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=P5(o.shape,a.shape,l,m,u,d,!0),v=BZ().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels==1,b=p?Aae(p,v):null,y=[o,a],x=null!=i,w=null!=s,k="leakyrelu"===p;if(x&&y.push(i),w&&y.push(s),k){const e=n.makeTensorInfo([],"float32",T2(f,"float32"));y.push(e),h.push(e)}let S;S=v?new nle(g,x,b,w,k):new tle(g,x,b,w,k);const C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=n.runWebGLProgram(S,y,"float32",C);return h.forEach((e=>n.disposeIntermediateTensorInfo(e))),E}};class Gle{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const o=Yne(n.length);let a="\n    int index;";for(let i=0;i<this.sliceDim;i++)a+=`\n          index = round(getIndices(coords[0], ${i}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[i]};\n          flattenIndex += index * ${this.strides[i]};`;this.userCode=`\n         void main() {\n          ${o} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${a}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qle={kernelName:qJ,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,a=o.shape,i=a[a.length-1],s=dZ(r.shape),[l,u,c,d]=X4(r,o),p=Wae({inputs:{x:o},backend:n,attrs:{shape:[u,i]}}),f=Wae({inputs:{x:r},backend:n,attrs:{shape:[dZ(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.readSync(o.dataId),t=n.bufferSync(r),a=moe(e,t,r.dtype,u,i,c,d,r.shape,s);return n.makeTensorInfo(l,r.dtype,a.values)}const h=new Gle(i,d,[u,c],r.shape),m=n.runWebGLProgram(h,[f,p],f.dtype),g=Wae({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yle{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=Yne(this.rank),r=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("index"):n.push(`${t[r]}`);return n.join()}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function Kle(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:a}=t,{axis:i,batchDims:s}=r,l=bZ(i,o.shape)[0];if(BZ().get("DEBUG")){const e=n.readSync(a.dataId),t=o.shape[l];for(let n=0;n<e.length;++n){const r=e[n];sZ(r<=t-1&&r>=0,(()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`))}}const u=Wte(o,a,l,s),c=dZ(a.shape),d=[],p=Wae({inputs:{x:o},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),f=Wae({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(p),d.push(f);const h=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([o,a])||"string"===o.dtype){const e=n.bufferSync(f),t=n.bufferSync(p),r=goe(t,e,h);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,r.dtype,r.values)}const m=new Yle(p.shape,h),g=n.runWebGLProgram(m,[p,f],p.dtype);d.push(g);const v=Wae({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}const Xle={kernelName:GJ,backendName:"webgl",kernelFunc:Kle},Qle=Oae({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:voe,dtype:"bool"}),Zle={kernelName:YJ,backendName:"webgl",kernelFunc:Qle},Jle=Oae({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:boe}),eue={kernelName:KJ,backendName:"webgl",kernelFunc:Jle};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tue={kernelName:QJ,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){const{inputs:t,backend:n}=e,{input:r}=t;return Nle(r,!0,n)}},nue=Mae({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),rue={kernelName:JJ,backendName:"webgl",kernelFunc:nue},oue=Mae({opSnippet:"return float(isinf(x));",dtype:"bool"}),aue={kernelName:e0,backendName:"webgl",kernelFunc:oue},iue=Mae({opSnippet:"return float(isnan(x));",dtype:"bool"}),sue={kernelName:t0,backendName:"webgl",kernelFunc:iue},lue=Oae({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:yoe,dtype:"bool"}),uue={kernelName:r0,backendName:"webgl",kernelFunc:lue},cue=Oae({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:xoe,dtype:"bool"}),due={kernelName:o0,backendName:"webgl",kernelFunc:cue};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pue={kernelName:a0,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:a}=n,i=woe(r,o,a);return t.makeTensorInfo([i.length],"float32",i)}},fue=Mae({opSnippet:$ae+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:koe}),hue={kernelName:i0,backendName:"webgl",kernelFunc:fue},mue=Mae({opSnippet:$ae+"\n  return log(1.0 + x);\n"}),gue={kernelName:s0,backendName:"webgl",kernelFunc:mue},vue=Oae({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),bue={kernelName:l0,backendName:"webgl",kernelFunc:vue},yue=Mae({opSnippet:"return float(!(x >= 1.0));"}),xue={kernelName:u0,backendName:"webgl",kernelFunc:yue},wue=Oae({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),kue={kernelName:c0,backendName:"webgl",kernelFunc:wue};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Sue{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];const a=t,i=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${a}; j <= ${a}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${i}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${s};\n        setOutput(val);\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cue{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=t,i=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${a};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${a}; j <= ${a}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${i}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${s};\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eue={kernelName:"LRN",backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:a,bias:i,alpha:s,beta:l}=r,u=BZ().getBool("WEBGL_PACK_NORMALIZATION")?new Cue(o.shape,a,i,s,l):new Sue(o.shape,a,i,s,l);return n.runWebGLProgram(u,[o],o.dtype)}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Iue{constructor(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${o})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${o});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nue={kernelName:"LRNGrad",backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o,y:a,dy:i}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r,d=new Iue(o.shape,s,l,u,c);return n.runWebGLProgram(d,[o,a,i],o.dtype)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Tue(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:a,keepDims:i}=r,s=o.shape.length,l=bZ(a,o.shape);let u=l;const c=U6(u,s),d=null!=c,p=n.shouldExecuteOnCPU([o]);let f=o;if(d){if(p){const e=n.texData.get(f.dataId).values,t=new Array(s);for(let n=0;n<t.length;n++)t[n]=o.shape[c[n]];const r=Koe(e,o.shape,o.dtype,c,t);f=n.makeTensorInfo(t,o.dtype);n.texData.get(f.dataId).values=r}else f=Kae(o,c,n);u=q6(u.length,s)}H6("max",u,s);const[h,m]=W6(f.shape,u);let g,v=h;if(i&&(v=V6(h,l)),p){const e=n.texData.get(f.dataId).values,t=Soe(e,dZ(m),v,o.dtype);g=n.makeTensorInfo(v,o.dtype);n.texData.get(g.dataId).values=t}else g=
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e,t,n,r){const o=dZ(t),a=Wae({inputs:{x:e},attrs:{shape:[dZ(e.shape)/o,o]},backend:r}),i=Gae(a,e.dtype,"max",r),s=Wae({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),s}(f,m,v,n);return d&&n.disposeIntermediateTensorInfo(f),g}const Rue={kernelName:d0,backendName:"webgl",kernelFunc:Tue},_ue=Oae({opSnippet:vae+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+yae+"\n  return result;\n",cpuKernelImpl:Coe}),$ue={kernelName:p0,backendName:"webgl",kernelFunc:_ue};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mue={kernelName:f0,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Rne(o,"maxPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=r;sZ(H5(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=A5(o.shape,a,i,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&pZ(u.inShape,u.outShape))return wae({inputs:{x:o},backend:n});const c=new Oie(u,"max",!1);return n.runWebGLProgram(c,[o],o.dtype)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oue={kernelName:h0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:a,strides:i,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=L5(o.shape,a,i,[1,1,1],s,u,l),d=new Aie(c,"max",!1);return n.runWebGLProgram(d,[o],o.dtype)}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Aue{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,a=e.effectiveFilterWidth,i=o-1-e.padInfo.top,s=a-1-e.padInfo.left,l=o*a-1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${a} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Lue{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=u-1-e.padInfo.left,f=s*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${d}, ${p});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${s};\n           wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${a}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${i}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${f} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pue={kernelName:"MaxPool3DGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,i=a,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=L5(i.shape,s,l,[1,1,1],u,c),p=new Aie(d,"max",!0),f=n.runWebGLProgram(p,[i],i.dtype),h=new Lue(d),m=n.runWebGLProgram(h,[o,f],i.dtype);return n.disposeIntermediateTensorInfo(f),m}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Due={kernelName:"MaxPoolGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a,output:i}=t,s=a;Rne([a,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=A5(s.shape,l,u,1,c,d),f=new Oie(p,"max",!0),h=n.runWebGLProgram(f,[s],s.dtype),m=new Aue(p),g=n.runWebGLProgram(m,[o,h],s.dtype);return n.disposeIntermediateTensorInfo(h),g}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Fue={kernelName:m0,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:o,strides:a,pad:i,includeBatchInIndex:s}=t,l=n;sZ(4===r.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`));const u=[1,1];sZ(H5(a,u),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`));const c=A5(r.shape,o,a,u,i),[d,p]=function(e,t,n,r){let o=new Oie(n,"max",!1);const a=r.runWebGLProgram(o,[e],"float32");return o=new Oie(n,"max",!0,!0,t),[a,r.runWebGLProgram(o,[e],"float32")]}(r,s,c,l);return[d,p]}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const zue={kernelName:g0,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:o,axis:a}=t,i=n,s=r.shape.length,l=bZ(a,r.shape);let u=l;const c=U6(u,s),d=null!=c,p=i.shouldExecuteOnCPU([r]),f=[];let h=r;if(d){if(p){const e=i.texData.get(h.dataId).values,t=new Array(s);for(let o=0;o<t.length;o++)t[o]=r.shape[c[o]];const n=Koe(e,r.shape,r.dtype,c,t);h=i.makeTensorInfo(t,r.dtype);i.texData.get(h.dataId).values=n}else h=Kae(r,c,i);f.push(h),u=q6(u.length,s)}H6("sum",u,s);const[m,g]=W6(h.shape,u);let v=m;o&&(v=V6(m,l));const b=function(e,t,n,r){const o=dZ(t),a=Wae({inputs:{x:e},attrs:{shape:[dZ(e.shape)/o,o]},backend:r}),i=Gae(a,"float32","mean",r),s=Wae({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),s}(h,g,v,i);for(const y of f)i.disposeIntermediateTensorInfo(y);return b}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bue={kernelName:v0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=bZ(a,o.shape);let u=l;const c=U6(u,s);let d=o;null!=c&&(d=Zae({inputs:{x:o},backend:n,attrs:{perm:c}}),u=q6(u.length,o.shape.length)),H6("min",u,s);const[p,f]=W6(d.shape,u),h=Wae({inputs:{x:d},backend:n,attrs:{shape:[-1,dZ(f)]}}),m=Gae(h,h.dtype,"min",n);let g;if(i){g=Wae({inputs:{x:m},backend:n,attrs:{shape:V6(p,l)}})}else g=Wae({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}},jue=Oae({opSnippet:vae+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+yae+"\n  return result;\n",cpuKernelImpl:Eoe}),Wue={kernelName:b0,backendName:"webgl",kernelFunc:jue};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Vue{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Yne(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${o} start = ${o}(${a});\n      ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${o} coords = outC - start;\n        setOutput(getX(${s}));\n      }\n    `:`\n        int start = ${a};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hue{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Yne(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=Zoe("rc",r),l=Zoe("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d="reflect"===n?0:1;let p="";if(1===r){const e=`\n        ${o} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${d};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${d};\n        }\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n      `}else{const e=`\n        ${o} source = rc;\n        ${o} lt = ${o}(lessThan(source, start));\n        ${o} gte = ${o}(greaterThanEqual(source, end));\n        ${o} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${d}) +\n                gte * ((end - 1) * 2 - source + ${d});\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n        rc = outputLoc;\n        ${s[r-2]} += 1;\n        if(${s[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${c});\n          ${s[r-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${c});\n          }\n        }\n      `}this.userCode=`\n      const ${o} start = ${o}(${a});\n      const ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uue={kernelName:y0,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:o,mode:a}=n,i=BZ().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Hue(r.shape,o,a):new Vue(r.shape,o,a);return t.runWebGLProgram(i,[r],r.dtype)}},Gue={kernelName:"Mod",backendName:"webgl",kernelFunc:Oae({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+yae+"\n  return result;\n"})};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class que{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yue=Oae({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),Kue={kernelName:AJ,backendName:"webgl",kernelFunc:Yue},Xue="return a - b;",Que=Oae({opSnippet:Xue,packedOpSnippet:Xue,supportsComplex:!0,cpuKernelImpl:Goe}),Zue={kernelName:y1,backendName:"webgl",kernelFunc:Que};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Jue(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:a}=r,i=bZ([a],o.shape),s=Tue({inputs:{x:o},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),l=V6(s.shape,i),u=Wae({inputs:{x:s},backend:n,attrs:{shape:l}}),c=Que({inputs:{a:o,b:u},backend:n}),d=yle({inputs:{x:c},backend:n}),p=Xae({inputs:{x:d},backend:n,attrs:{axis:i,keepDims:!1}}),f=Wae({inputs:{x:p},backend:n,attrs:{shape:l}}),h=Yue({inputs:{a:d,b:f},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),h}const ece={kernelName:s1,backendName:"webgl",kernelFunc:Jue};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tce={kernelName:x0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:a,seed:i,normalized:s}=r,l=s?o:Jue({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new que(u,c,a),p=[[i]],f=n.runWebGLProgram(d,[l],"int32",p);return s||n.disposeIntermediateTensorInfo(l),f}},nce=iae+"\n  return -x;\n";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rce={kernelName:k0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,o]=Noe(e.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,t)}let o;return o=BZ().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new dae(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new aae(r.shape,nce),n.runWebGLProgram(o,[r],r.dtype)}},oce=ree;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ace={kernelName:C0,backendName:"webgl",kernelFunc:function(e){L1("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=r,u=n.readSync(o.dataId),c=n.readSync(a.dataId),{selectedIndices:d}=oce(u,c,i,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},ice=oee;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sce={kernelName:E0,backendName:"webgl",kernelFunc:function(e){L1("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(o.dataId),d=n.readSync(a.dataId),{selectedIndices:p,validOutputs:f}=ice(c,d,i,s,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([f]))]}},lce=aee;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uce={kernelName:I0,backendName:"webgl",kernelFunc:function(e){L1("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(o.dataId),d=n.readSync(a.dataId),p=i,f=s,h=l,m=u,{selectedIndices:g,selectedScores:v}=lce(c,d,p,f,h,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cce{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dce={kernelName:T0,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:a,depth:i,onValue:s,offValue:l}=r,u=dZ(o.shape),c=new cce(u,i,s,l),d=Wae({inputs:{x:o},backend:n,attrs:{shape:[u]}}),p=n.runWebGLProgram(c,[d],a);n.disposeIntermediateTensorInfo(d);const f=Wae({inputs:{x:p},backend:n,attrs:{shape:[...o.shape,i]}});return n.disposeIntermediateTensorInfo(p),f}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function pce(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=tse({inputs:{input:r},backend:n}),t=pce({inputs:{x:e},backend:n}),o=gse({inputs:{input:r},backend:n}),a=pce({inputs:{x:o},backend:n}),i=Sae({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),i}return _le({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const fce={kernelName:R1,backendName:"webgl",kernelFunc:pce};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hce={kernelName:N0,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===o.dtype){const t=tse({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),a=gse({inputs:{input:o},backend:r}),i=pce({inputs:{x:a},backend:r}),s=Sae({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),s}return _le({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:r})}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mce={kernelName:R0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return wle({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{lZ(a,e.shape,"All tensors passed to stack must have matching shapes"),sZ(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=t.map((e=>{const t=wle({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),u=yse({inputs:l,backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gce{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Yne(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${o} start = ${o}(${a});\n      ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${o} coords = outC - start;\n          setOutput(getX(${s}));\n        }\n      }\n    `:`\n        int start = ${a};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vce{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=Yne(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=Zoe("rc",r),l=Zoe("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d=[`${o} rc = outputLoc;`,`${s[r-1]} += 1;\n       if(${u}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${s[r-2]} += 1;\n       if(${s[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${s[r-1]} += 1;\n         if(${u}) {`],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let f="";for(let h=0,m=1===r?2:4;h<m;h++)f+=`\n        ${d[h]}\n        if (${p}) {\n          result[${h}] = float(value);\n        } else {\n          ${o} source = rc - start;\n          result[${h}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;f+=1===r?"} ":"}}",this.userCode=`\n      const ${o} start = ${o}(${a});\n      const ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${f}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bce=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:a,constantValue:i}=r;if(0===dZ(o.shape)){const e=a.map(((e,t)=>e[0]+o.shape[t]+e[1]));return _le({backend:n,attrs:{shape:e,value:i,dtype:o.dtype}})}const s=BZ().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vce(o.shape,a,i):new gce(o.shape,a,i),l=[[i]];return n.runWebGLProgram(s,[o],o.dtype,l)},yce={kernelName:_0,backendName:"webgl",kernelFunc:bce},xce=Oae({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+yae+"\n  return result;\n"}),wce={kernelName:$0,backendName:"webgl",kernelFunc:xce};const kce={kernelName:O0,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=[],u=bZ(a,o.shape);let c=u;const d=U6(c,s);let p,f=o;if(null!=d&&(f=Zae({inputs:{x:o},backend:n,attrs:{perm:d}}),c=q6(c.length,s),l.push(f)),H6("prod",c,s),n.shouldExecuteOnCPU([f])){const e=n.texData.get(f.dataId).values,{outVals:t,outShape:r,outDtype:o}=Roe(f.shape,f.dtype,e,c);p=n.makeTensorInfo(r,o,t)}else{const[e,t]=W6(f.shape,c),r=dZ(t),a=Wae({inputs:{x:f},backend:n,attrs:{shape:[-1,r]}}),i=Gae(a,a3(o.dtype),"prod",n);p=Wae({inputs:{x:i},backend:n,attrs:{shape:e}}),l.push(a),l.push(i)}if(i){l.push(p);const e=V6(p.shape,u);p=Wae({inputs:{x:p},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sce={kernelName:A0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:a,indices:i}=t,{outputRaggedRank:s}=r,l=o.map((e=>n.readSync(e.dataId))),u=o.map((e=>e.shape)),c=n.readSync(a.dataId),d=n.readSync(i.dataId),[p,f,h]=_oe(l,u,c,a.shape,a.dtype,d,i.shape,s),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(h,a.dtype,f);return m.concat([g])}};
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cce={kernelName:L0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:a,defaultValue:i,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.readSync(o.dataId),c=n.readSync(a.dataId),d=n.readSync(i.dataId),p=s.map((e=>n.readSync(e.dataId))),f=s.map((e=>e.shape)),[h,m]=$oe(u,o.shape,c,a.shape,a.dtype,d,i.shape,p,f,l);return n.makeTensorInfo(h,a.dtype,m)}},Ece=e=>{const{backend:t,attrs:n}=e,{start:r,stop:o,step:a,dtype:i}=n,s=Moe(r,o,a,i);return t.makeTensorInfo([s.length],i,s)},Ice={kernelName:P0,backendName:"webgl",kernelFunc:Ece},Nce=Mae({opSnippet:"return 1.0 / x;"}),Tce={kernelName:F0,backendName:"webgl",kernelFunc:Nce},Rce=Mae({opSnippet:iae+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),_ce={kernelName:z0,backendName:"webgl",kernelFunc:Rce},$ce=Mae({opSnippet:iae+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Mce={kernelName:V0,backendName:"webgl",kernelFunc:$ce};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Oce{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ace{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lce={kernelName:W0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:a,halfPixelCenters:i,size:s}=r,[l,u]=s,c=BZ().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ace(o.shape,l,u,a,i):new Oce(o.shape,l,u,a,i);return n.runWebGLProgram(c,[o],"float32")}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pce{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,a,i]=e,s=[n&&a>1?r-1:r,n&&i>1?o-1:o],l=[n&&a>1?a-1:a,n&&i>1?i-1:i],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,f=2*Math.ceil(d)+2,h=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${f});\n        const int winWidth = int(${h});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${a}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dce={kernelName:"ResizeBilinearGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:a}=t,{alignCorners:i}=r,s=new Pce(a.shape,o.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fce{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zce{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bce={kernelName:j0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:a,halfPixelCenters:i,size:s}=r,[l,u]=s,c=BZ().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new zce(o.shape,l,u,a,i):new Fce(o.shape,l,u,a,i);return n.runWebGLProgram(c,[o],o.dtype)}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jce{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,a,i]=e,s=[n&&a>1?r-1:r,n&&i>1?o-1:o],l=[n&&a>1?a-1:a,n&&i>1?i-1:i],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,f=2*Math.ceil(d)+2,h=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${f});\n        const int winWidth = int(${h});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${a}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${s[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${s[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${o}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wce={kernelName:"ResizeNearestNeighborGrad",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:a}=t,{alignCorners:i}=r,s=new jce(a.shape,o.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vce{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r))).join(","),o=Yne(n);this.userCode=`\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hce{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=Zoe("rc",n),o=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,a=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,i=Yne(n);var s;function l(n){const r=e.map(((r,o)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(o,n)));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${o}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${i} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${s=r.slice(),l(s)};\n          if(${o}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",l(e)}(r.slice())};\n          }\n          if(${a}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",l(e)}(r.slice())};\n            if(${o}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",l(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uce={kernelName:H0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:a}=r,i=o.shape.length,s=bZ(a,o.shape);if(0===i)return wae({inputs:{x:o},backend:n});const l=BZ().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Hce(o.shape,s):new Vce(o.shape,s);return n.runWebGLProgram(l,[o],o.dtype)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gce{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let o="";o="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${o}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qce={kernelName:$1,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:o,fillValue:a,center:i}=t,s=n,l=new Gce(r.shape,a),[u,c]=ote(i,r.shape[1],r.shape[2]),d=[[u,c,Math.sin(o),Math.cos(o)]];return s.runWebGLProgram(l,[r],r.dtype,d)}},Yce=Mae({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),Kce={kernelName:U0,backendName:"webgl",kernelFunc:Yce},Xce=Mae({opSnippet:"return inversesqrt(x);",cpuKernelImpl:Ooe}),Qce={kernelName:G0,backendName:"webgl",kernelFunc:Xce};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Zce{constructor(e,t,n,r,o,a,i=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const s=Yne(o.length),l=Yne(a.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p=`getUpdates(${d})`,f=t>1?"strides[j]":"strides";this.userCode=`\n        ${s} strides = ${s}(${o});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${c});\n              flattenedIndex += index * ${f};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jce={kernelName:q0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:a}=t,{shape:i}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=J4(0,o,i),p=[d/u,u];if(0===d)return n.makeTensorInfo(i,o.dtype);const f=Wae({inputs:{x:o},backend:n,attrs:{shape:[l,s]}}),h=Wae({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new Zce(l,s,f.shape.length,h.shape.length,c,p),v=n.runWebGLProgram(g,[h,f,m],h.dtype),b=Wae({inputs:{x:v},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),b}};
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ede{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const o=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,a=2===BZ().getNumber("WEBGL_VERSION")?"while (left < right) {":o,i="left"===r?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${a}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${i} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tde={kernelName:Y0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:a}=t,{side:i}=r,s=new ede(o.shape[0],o.shape[1],a.shape[1],i),l=[[o.shape[1]]];return n.runWebGLProgram(s,[o,a],"int32",l)}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nde{constructor(e,t,n){let r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)o="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],i=[];for(let r=0;r<t.length;r++)i.push(`${n[r]}`),r<e&&a.push(`${n[r]}`);r=a.join(),o=i.join()}const a=Yne(n);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${o}));\n        } else {\n          setOutput(getB(${o}));\n        }\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rde={kernelName:K0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:a}=t,i=new nde(r.shape.length,o.shape,o.shape.length);return n.runWebGLProgram(i,[r,o,a],o3(o.dtype,a.dtype))}},ode=Mae({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = ${dte};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),ade={kernelName:X0,backendName:"webgl",kernelFunc:ode},ide=Mae({opSnippet:$ae+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Loe}),sde={kernelName:t1,backendName:"webgl",kernelFunc:ide},lde=Mae({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),ude={kernelName:e1,backendName:"webgl",kernelFunc:lde},cde=Mae({opSnippet:$ae+"\n  return sin(x);\n"}),dde={kernelName:Z0,backendName:"webgl",kernelFunc:cde},pde=Mae({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),fde={kernelName:J0,backendName:"webgl",kernelFunc:pde},hde=Mae({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),mde={kernelName:n1,backendName:"webgl",kernelFunc:hde},gde={kernelName:a1,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,paddings:i}=r;sZ(o.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const s=a.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...i);for(let v=1+a.length;v<o.shape.length;++v)l.push([0,0]);const u=[],c=bce({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),d=ate(c.shape,a,s,!1),p=ite(d.length,a.length,!1),f=ste(c.shape,a,s,!1),h=Wae({inputs:{x:c},backend:n,attrs:{shape:d}}),m=Zae({inputs:{x:h},backend:n,attrs:{perm:p}}),g=Wae({inputs:{x:m},backend:n,attrs:{shape:f}});return u.push(c),u.push(h),u.push(m),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vde={kernelName:l1,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:a,defaultValue:i}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${a.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n         ${o.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const s=n.readSync(r.dataId),l=n.readSync(o.dataId),u=n.readSync(a.dataId),c=n.readSync(i.dataId)[0],[d,p,f,h,m]=Foe(s,r.shape,r.dtype,l,o.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],o.dtype,f),n.makeTensorInfo([h.length],"bool",new Uint8Array(h.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bde={kernelName:u1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:a}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape ${o.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=Array.from(n.readSync(o.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(a.dataId)),[u,c,d]=zoe(s,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yde={kernelName:c1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${o.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${a.shape}`);const i=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(a.dataId),[u,c]=Boe(i,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xde={kernelName:d1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${o.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${a.shape}`);const i=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(a.dataId),[u,c]=Boe(i,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wde={kernelName:p1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:a,defaultValue:i}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=J4(0,o,s),f=!1;if("string"===a.dtype){const e=n.bufferSync(o),t=n.bufferSync(a),r=O2(n.readSync(i.dataId)[0]),h=Aoe(e,t,s,p,c,u,l,d,r,f);return n.makeTensorInfo(s,h.dtype,h.values)}const h=new Zce(u,l,o.shape.length,a.shape.length,d,[p,1],f),m=n.runWebGLProgram(h,[a,o,i],a.dtype),g=Wae({inputs:{x:m},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(m),g}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kde={kernelName:i1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:a,axis:i}=r,s=bZ(i,o.shape)[0],l=Nte(o,a,s),u=o.shape.length,c=new Array(u).fill(0),d=o.shape.slice();return l.map((e=>{const t=[...d];t[s]=e;const r=Yie({inputs:{x:o},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},Sde="return sqrt(x);",Cde=Mae({opSnippet:Sde,packedOpSnippet:Sde,cpuKernelImpl:joe}),Ede={kernelName:r1,backendName:"webgl",kernelFunc:Cde},Ide={kernelName:h1,backendName:"webgl",kernelFunc:Mae({opSnippet:"return x * x;"})},Nde="return (a - b) * (a - b);",Tde=Oae({opSnippet:Nde,packedOpSnippet:Nde}),Rde={kernelName:f1,backendName:"webgl",kernelFunc:Tde};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _de={kernelName:_1,backendName:"webgl",kernelFunc:
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function({inputs:e,attrs:t,backend:n}){const{x:r}=e,o=iae+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,a=new aae(r.shape,o);return n.runWebGLProgram(a,[r],r.dtype)}};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $de{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,o=Yne(n.length),a=Yne(n.length);let i="";if(1===r)i="coords * strides + begin";else{let e=0;i=n.map(((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`))).join(",")}this.userCode=`\n      ${o} begin = ${o}(${e});\n      ${o} strides = ${o}(${t});\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        setOutput(getX(${i}));\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mde={kernelName:m1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:a,end:i,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:f,finalShape:h,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:b,end:y,strides:x}=f5(o.shape,a,i,s,l,u,c,d,p);let w;if(m)w=Wae({inputs:{x:o},backend:n,attrs:{shape:h}});else if(g||v){sZ(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=t5(b,y,x),t=Yie({inputs:{x:o},backend:n,attrs:{begin:b,size:e}});w=Wae({inputs:{x:t},backend:n,attrs:{shape:h}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([o])){const e=n.readSync(o.dataId),t=v4(o.shape,o.dtype,e),r=Woe(f,t,x,b);w=n.makeTensorInfo(h,o.dtype,r.values)}else{const e=new $de(b,x,f);w=n.runWebGLProgram(e,[o],o.dtype)}}const k=Wae({inputs:{x:w},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(w),k}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ode={kernelName:g1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:a,leftPad:i,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.readSync(c.dataId),f=n.readSync(d.dataId),[h,m]=Voe(p,f,o,a,i,s,l,u);return[n.makeTensorInfo([h.length],"string",h),n.makeTensorInfo(d.shape,"int32",m)]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ade={kernelName:v1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:a,delimiter:i}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const s=n.readSync(a.dataId),l=n.readSync(i.dataId)[0],[u,c,d]=Hoe(s,l,o),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lde={kernelName:b1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(a.dataId),s=Uoe(i,o);return n.makeTensorInfo(a.shape,"int32",s)}},Pde=Mae({opSnippet:"return tan(x);"}),Dde={kernelName:x1,backendName:"webgl",kernelFunc:Pde},Fde=Mae({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),zde={kernelName:w1,backendName:"webgl",kernelFunc:Fde};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Bde{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;const r=Yne(this.rank),o=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let o=0;o<e.length;o++)r.push(`imod(${n[o]}, ${e[o]})`);return r.join()}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}}function jde(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:a}=r;if("string"===o.dtype||o.shape.length>5){const e=n.readSync(o.dataId),t="string"===o.dtype?e.map((e=>O2(e))):e,r=v4(o.shape,o.dtype,t),i=qoe(r,a);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const i=new Bde(o.shape,a);return n.runWebGLProgram(i,[o],o.dtype)}const Wde={kernelName:k1,backendName:"webgl",kernelFunc:jde};class Vde{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class Hde{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function Gde(e){let t=1;for(;t<e;)t*=2;return t}const qde={kernelName:S1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:a,sorted:i}=r,s=BZ().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=BZ().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=o.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([o])||c<s||a>l){const e=n.readSync(o.dataId),[t,r]=Yoe(e,u,o.dtype,a,i);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===a)return u[u.length-1]=0,[n.makeTensorInfo(u,o.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[o,_le({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const d=n.texData.get(o.dataId),p=null!==d&&d.isPacked,f=p?n.unpackTensor(o):o,h=dZ(u)/c,m=Wae({inputs:{x:f},attrs:{shape:[h,c]},backend:n});p&&Ude(n,f);const g=Gde(a),v=Gde(c);let b=null;const y=()=>null===b?[m,m]:[m,b],x=(e,t,r)=>{const o=y(),a=new Vde(r),i=[[c],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=b;b=n.runWebGLProgram(a,o,"int32",i),Ude(n,s)};for(let E=1;E<g;E*=2){const e=2*E;for(let t=E;t>=1;t/=2)x(e,t,[h,v])}for(let E=v;E>g;E/=2){const e=y(),t=new Hde([h,E/2]),r=[[c],[null===b?1:0],[g]],o=b;b=n.runWebGLProgram(t,e,"int32",r),Ude(n,o);const a=g/2,i=2*a;for(let n=a;n>=1;n/=2)x(i,n,b.shape)}let w=b;b=Yie({inputs:{x:b},backend:n,attrs:{begin:0,size:[h,a]}}),Ude(n,w);let k=Kle({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});Ude(n,m);const S=u.slice(0,-1);S.push(a),w=b,b=Wae({inputs:{x:b},attrs:{shape:S},backend:n}),Ude(n,w);const C=k;return k=Wae({inputs:{x:k},attrs:{shape:S},backend:n}),Ude(n,C),[k,b]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yde{constructor(e,t,n,r,o,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const i="nearest"===n?1:2;let s;switch(r){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${s} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${o});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${o});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${i} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kde={kernelName:C1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,transforms:a}=t,{interpolation:i,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,p,f]=o.shape,[h,m]=null!=u?u:[d,p],g=new Yde(d,p,i,s,l,[c,h,m,f]);return n.runWebGLProgram(g,[o,a],"float32")}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xde={kernelName:I1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:a}=t;Rne(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const i=r.readSync(a.dataId),{outputValues:s,outputShape:l,indices:u}=Xoe(i,o,a.shape,a.dtype);return[r.makeTensorInfo(l,a.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qde={kernelName:N1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:a}=r;a<0&&(a+=o.shape.length);const i=o,s=i.shape.length,l=o.shape[a],u=new Array(s-1);let c=0;for(let m=0;m<s;m++)m!==a&&(u[c++]=i.shape[m]);const d=[],p=new Array(s).fill(0),f=i.shape.slice();f[a]=1;const h=new Array(l);for(let m=0;m<h.length;m++){p[a]=m;const e=Yie({inputs:{x:i},backend:n,attrs:{begin:p,size:f}}),t=Wae({inputs:{x:e},backend:n,attrs:{shape:u}});h[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zde{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/n);this.outputShape=[r,i];const s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ";let c="";o%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `);let d="";o%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${d}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${a})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${a})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jde={kernelName:T1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:a}=t,{numSegments:i}=r,s=o.shape.length,l=[];let u=0;const c=U6([u],s);let d=o;null!=c&&(d=Zae({inputs:{x:o},backend:n,attrs:{perm:c}}),l.push(d),u=q6(1,s)[0]);const p=jte(d.shape,u,i),f=dZ([d.shape[u]]),h=Wae({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}});l.push(h);const m=a3(o.dtype),g=(e,t,r,o,a)=>{const i=e.shape[0],s=e.shape[1],u=Bte(s,a),c=new Zde({windowSize:u,inSize:s,batchSize:i,numSegments:a},t),d=n.compileAndRun(c,[e,r],o);if(l.push(d),d.shape[1]===a)return d;const p=Ece({backend:n,attrs:{start:0,stop:a,step:1,dtype:"float32"}}),f=jde({inputs:{x:p},backend:n,attrs:{reps:[s/u]}});l.push(p),l.push(f);return g(d,t,f,o,a)},v=Wae({inputs:{x:g(h,"unsortedSegmentSum",a,m,i)},backend:n,attrs:{shape:p}});let b=v;if(null!=c){l.push(v);const e=G6(c);b=Zae({inputs:{x:b},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},epe=[tie,rie,aie,sie,cie,fie,hie,mie,wie,kie,Cie,Iie,Tie,_ie,Mie,Lie,Pie,zie,Bie,jie,Hie,Xie,Qie,Zie,rse,ise,use,Cae,pse,xse,Tse,Ose,Ase,Lse,Pse,Dse,zse,jse,Vse,Xse,Qse,Zse,ele,rle,ile,sle,ule,dle,ple,hle,mle,vle,ble,xle,kle,Ele,Tle,$le,Ole,Ple,Fle,jle,Hle,Ule,qle,Xle,Zle,eue,kae,tue,vse,rue,aue,sue,Nae,uue,due,pue,hue,gue,bue,xue,kue,Eue,Nue,Rue,$ue,Mue,Oue,Pue,Due,Fue,zue,Bue,Wue,Uue,Gue,tce,jae,rce,ace,sce,uce,ese,dce,hce,mce,yce,wce,_ae,kce,Sce,Cce,Ice,nse,Kue,Tce,_ce,Mce,Vae,Lce,Dce,Bce,Wce,Uce,qce,Kce,Qce,Jce,tde,rde,ade,sde,ude,dde,fde,Kie,ece,mde,gde,vde,bde,yde,xde,wde,kde,Ede,Ide,Rde,_de,Mde,Ode,Ade,Lde,Zue,Qae,Dde,zde,Wde,qde,Kde,Jae,Xde,Qde,Jde,fce];
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */for(const Cxe of epe)j1(Cxe);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var tpe,npe,rpe,ope;
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let ape;(npe=tpe||(tpe={}))[npe.float32=0]="float32",npe[npe.int32=1]="int32",npe[npe.bool=2]="bool",npe[npe.string=3]="string",npe[npe.complex64=4]="complex64",(ope=rpe||(rpe={}))[ope.linear=0]="linear",ope[ope.relu=1]="relu",ope[ope.relu6=2]="relu6",ope[ope.prelu=3]="prelu",ope[ope.leakyrelu=4]="leakyrelu",ope[ope.sigmoid=5]="sigmoid",ope[ope.elu=6]="elu";const ipe={kernelName:M1,backendName:"wasm",setupFunc:function(e){ape=e.wasm.cwrap(M1,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a,bias:i,preluActivationWeights:s}=t;if("float32"!==o.dtype||"float32"!==a.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r,p=n.dataIdMap.get(o.dataId).id,f=n.dataIdMap.get(a.dataId).id;let h=0;if(null!=i){const e=n.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);h=e.id}const m=null==s?0:n.dataIdMap.get(s.dataId).id,g=rpe[c];if(null==g)throw new Error(`${c} activation not yet supported for FusedConv2D in the wasm backend.`);const v=l?o.shape[2]:o.shape[1],b=u?a.shape[1]:a.shape[2],y=K4(o.shape.slice(0,-2),a.shape.slice(0,-2)),x=n.makeOutput([...y,v,b],o.dtype),w=n.dataIdMap.get(x.dataId).id,k=new Uint8Array(new Int32Array(o.shape).buffer),S=new Uint8Array(new Int32Array(a.shape).buffer);return ape(p,k,o.shape.length,f,S,a.shape.length,l,u,g,h,m,d||0,w),x}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function spe(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:r,inputs:{x:o}}=e,a=r.dataIdMap.get(o.dataId).id,i=r.makeOutput(o.shape,t||o.dtype),s=r.dataIdMap.get(i.dataId).id;return 0===dZ(i.shape)||n(a,tpe[o.dtype],s),i}}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lpe=spe(UZ);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function upe(e,t,n){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:o}=e,{a:a,b:i}=o,s=t.dataIdMap.get(a.dataId).id,l=t.dataIdMap.get(i.dataId).id,u=null!=n?n:a.dtype,c=K4(a.shape,i.shape),d=t.makeOutput(c,u);if(0===dZ(c))return d;const p=new Uint8Array(new Int32Array(a.shape).buffer),f=new Uint8Array(new Int32Array(i.shape).buffer),h=t.dataIdMap.get(d.dataId).id;return r(s,p,a.shape.length,l,f,i.shape.length,tpe[a.dtype],h),d}}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cpe=upe(YZ);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let dpe;const ppe={kernelName:KZ,backendName:"wasm",setupFunc:function(e){dpe=e.wasm.cwrap(KZ,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===dZ(r.shape))return r;const o=t.map((e=>n.dataIdMap.get(e.dataId).id)),a=new Uint8Array(new Int32Array(o).buffer),i=n.dataIdMap.get(r.dataId).id;return dpe(a,o.length,tpe[r.dtype],i),r}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fpe(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype),o=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(o),r}const hpe={kernelName:XJ,backendName:"wasm",kernelFunc:fpe};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mpe;function gpe(e){const{inputs:t,backend:n,attrs:r}=e,[o,a]=function(e,t){const n=[],r=[];for(let o=0;o<e.length;++o)1!==e[o]&&n.push(e[o]),1!==e[t[o]]&&r.push(t[o]);for(let o=0;o<r.length;++o){let e=-1;for(let t=0;t<r.length;++t)r[t]>=o&&(-1===e||r[e]>r[t])&&(e=t);r[e]=o}return[n,r]}(t.x.shape,r.perm);let i=!0;for(let h=0;h<a.length;h++)a[h]!==h&&(i=!1);const s=function(e,t){const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];return n}(t.x.shape,r.perm),l={dataId:t.x.dataId,shape:o,dtype:t.x.dtype};if(i){const e=fpe({inputs:t,backend:n});return e.shape=s,e}const u=n.makeOutput(s,l.dtype),c=n.dataIdMap.get(l.dataId).id,d=n.dataIdMap.get(u.dataId).id,p=new Uint8Array(new Int32Array(a).buffer),f=new Uint8Array(new Int32Array(l.shape).buffer);return mpe(c,f,l.shape.length,tpe[l.dtype],d,p,a.length),u}const vpe={kernelName:E1,backendName:"wasm",kernelFunc:gpe,setupFunc:function(e){mpe=e.wasm.cwrap(E1,null,["number","array","number","number","number","array","number"])}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpe(e,t,n){const r=e.shape,o=e.shape.length,a=bZ(t,r);let i=a;const s=U6(i,o);let l=null,u=!1;if(null!=s){const t=new Array(o);for(let e=0;e<t.length;e++)t[e]=r[s[e]];i=q6(i.length,o),l=gpe({inputs:{x:e},attrs:{perm:s},backend:n});const a=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(l.dataId).id!==a&&(u=!0)}return{transposed:l,originalAxes:a,axes:i,inputWasTransposed:u}}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ype;const xpe={kernelName:XZ,backendName:"wasm",setupFunc:function(e){ype=e.wasm.cwrap(XZ,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o,keepDims:a}=r,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=bpe(i,o,t);if(p){l=u,s=t.dataIdMap.get(u.dataId).id}H6("all",c,l.shape.length);const[f,h]=W6(l.shape,c),m=dZ(h),g=t.makeOutput(f,i.dtype);if(0!==dZ(l.shape)){const e=t.dataIdMap.get(g.dataId).id;ype(s,m,e)}if(p&&t.disposeData(u.dataId),a){const e=V6(g.shape,d);g.shape=e}return g}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let wpe;const kpe={kernelName:QZ,backendName:"wasm",setupFunc:function(e){wpe=e.wasm.cwrap(QZ,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o,keepDims:a}=r,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=bpe(i,o,t);if(p){l=u,s=t.dataIdMap.get(u.dataId).id}H6("any",c,l.shape.length);const[f,h]=W6(l.shape,c),m=dZ(h),g=t.makeOutput(f,i.dtype);if(0!==dZ(l.shape)){const e=t.dataIdMap.get(g.dataId).id;wpe(s,m,e)}if(p&&t.disposeData(u.dataId),a){const e=V6(g.shape,d);g.shape=e}return g}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Spe;const Cpe={kernelName:ZZ,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o}=r,{x:a}=n,i=t.dataIdMap.get(a.dataId).id;let s=i,l=a;const{transposed:u,axes:c,inputWasTransposed:d}=bpe(a,o,t);if(d){const e=t.dataIdMap.get(u.dataId).id;e!==i&&(l=u,s=e)}const p=l.shape.slice(0,-1),f=t.makeOutput(p,"int32"),h=t.dataIdMap.get(f.dataId).id,m=dZ(f.shape),g=l.shape[c[0]];return Spe(s,tpe[l.dtype],m,g,h),d&&t.disposeData(u.dataId),f},setupFunc:function(e){Spe=e.wasm.cwrap(ZZ,null,["number","number","number","number","number"])}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Epe;const Ipe={kernelName:aJ,backendName:"wasm",setupFunc:function(e){Epe=e.wasm.cwrap(aJ,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,o=t.x,a=r.dataIdMap.get(o.dataId).id,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=n,c=A5(o.shape,i,s,1,l,u),d=c.filterHeight,p=c.filterWidth,f=c.padInfo.top,h=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.strideHeight,b=c.strideWidth,y=c.inChannels;if("channelsLast"!==c.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);if(1!==c.dilationWidth||1!==c.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${c.dilationHeight}, ${c.dilationWidth}].`);const x=r.makeOutput(c.outShape,"float32"),w=r.dataIdMap.get(x.dataId).id;return Epe(a,o.shape[0],o.shape[1],o.shape[2],d,p,f,h,m,g,v,b,y,w),x}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npe(e){const{inputs:t,attrs:n}=e,{x:r}=t,{shape:o}=n,a=dZ(r.shape),i=vZ(o,a);return sZ(a===dZ(i),(()=>`new shape: ${i}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`)),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:i,dtype:r.dtype}}const Tpe={kernelName:B0,backendName:"wasm",kernelFunc:Npe};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Rpe;const _pe={kernelName:sJ,backendName:"wasm",setupFunc:function(e){Rpe=e.wasm.cwrap(sJ,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a}=t,{transposeA:i,transposeB:s}=r;if("float32"!==o.dtype||"float32"!==a.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const l=o.shape.length,u=a.shape.length,c=i?o.shape[l-2]:o.shape[l-1],d=s?a.shape[u-1]:a.shape[u-2],p=i?o.shape[l-1]:o.shape[l-2],f=s?a.shape[u-2]:a.shape[u-1],h=o.shape.slice(0,-2),m=a.shape.slice(0,-2),g=dZ(h),v=dZ(m),b=K4(o.shape.slice(0,-2),a.shape.slice(0,-2)).concat([p,f]);sZ(c===d,(()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${o.shape} and ${a.shape} and transposeA=${i} and transposeB=${s} must match.`));const y=s?[v,f,d]:[v,d,f],x=Npe({inputs:{x:o},backend:n,attrs:{shape:i?[g,c,p]:[g,p,c]}}),w=Npe({inputs:{x:a},backend:n,attrs:{shape:y}}),k=n.dataIdMap.get(x.dataId).id,S=n.dataIdMap.get(w.dataId).id,C=i?x.shape[2]:x.shape[1],E=s?w.shape[1]:w.shape[2],I=Math.max(g,v),N=n.makeOutput([I,C,E],x.dtype),T=n.dataIdMap.get(N.dataId).id,R=new Uint8Array(new Int32Array(x.shape).buffer),_=new Uint8Array(new Int32Array(w.shape).buffer);return Rpe(k,R,x.shape.length,S,_,w.shape.length,i,s,T),n.disposeData(x.dataId),n.disposeData(w.dataId),N.shape=b,N}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(e){const{inputs:{x:t},attrs:{begin:n,size:r},backend:o}=e,[a,i]=p5(t,n,r),s=c5(t.shape,a,i),l=o.readSync(t.dataId),u=o.makeOutput(i,t.dtype),c=TZ(t.shape),d=o.dataIdMap.get(u.dataId);if(s){const e=d5(a,c);if("string"===t.dtype)d.stringBytes=l.slice(e,e+dZ(i));else{o.typedArrayFromHeap(u).set(l.subarray(e,e+dZ(i)))}return u}if("string"===t.dtype){const e=qre(l,a,i,t.shape,t.dtype);return d.stringBytes=e,u}const p=o.typedArrayFromHeap(u),f=t.shape.length;if(2===f)!function(e,t,n,r,o){let a=0;const i=r[0],s=r[1],l=i+o[0];for(let u=i;u<l;u++){const r=u*t+s;n.set(e.subarray(r,r+o[1]),a),a+=o[1]}}(l,c[0],p,a,i);else if(3===f)!function(e,t,n,r,o,a){let i=0;const s=o[0],l=o[1],u=o[2],c=s+a[0],d=l+a[1];for(let p=s;p<c;p++)for(let o=l;o<d;o++){const s=p*t+o*n+u;r.set(e.subarray(s,s+a[2]),i),i+=a[2]}}(l,c[0],c[1],p,a,i);else if(4===f)!function(e,t,n,r,o,a,i){let s=0;const l=a[0],u=a[1],c=a[2],d=l+i[0],p=u+i[1],f=c+i[2],h=a[3];for(let m=l;m<d;m++)for(let a=u;a<p;a++)for(let l=c;l<f;l++){const u=m*t+a*n+l*r+h;o.set(e.subarray(u,u+i[3]),s),s+=i[3]}}(l,c[0],c[1],c[2],p,a,i);else{const e=qre(l,a,i,t.shape,t.dtype);p.set(e)}return u}const Mpe={kernelName:Q0,backendName:"wasm",kernelFunc:$pe};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ope={kernelName:lJ,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,crops:i}=r,s=a.reduce(((e,t)=>e*t)),l=ate(o.shape,a,s),u=ite(l.length,a.length),c=ste(o.shape,a,s),d=lte(i,a.length),p=ute(c,i,a.length),f=Npe({inputs:{x:o},backend:n,attrs:{shape:l}}),h=gpe({inputs:{x:f},backend:n,attrs:{perm:u}}),m=$pe({inputs:{x:Npe({inputs:{x:h},backend:n,attrs:{shape:c}})},backend:n,attrs:{begin:d,size:p}});return n.disposeData(f.dataId),n.disposeData(h.dataId),n.disposeData(f.dataId),m}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ape(e){const{inputs:{x:t},attrs:{dtype:n},backend:r}=e,o=r.makeOutput(t.shape,n),a=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(o).set(a),o}const Lpe={kernelName:dJ,backendName:"wasm",kernelFunc:Ape},Ppe=spe(pJ);
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let Dpe;const Fpe={kernelName:fJ,backendName:"wasm",setupFunc:function(e){Dpe=e.wasm.cwrap(fJ,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:a,clipValueMax:i}=r,s=n.dataIdMap.get(o.dataId).id,l=n.makeOutput(o.shape,o.dtype),u=n.dataIdMap.get(l.dataId).id;return Dpe(s,a,i,u),l}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zpe(e){const{inputs:t,backend:n}=e,r=bZ(e.attrs.axis,t[0].shape)[0],o=t.map((e=>e.shape));Kee(o,r);let a=Xee(t.map((e=>e.shape)),r);const i=t.filter((e=>dZ(e.shape)>0));if(1===i.length)return fpe({inputs:{x:i[0]},backend:n});const s=n.makeOutput(a,t[0].dtype);if(0===dZ(a))return s;if("string"===i[0].dtype){const e=i.map((e=>{const t=dZ(e.shape.slice(r));return Npe({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),o=e.map((e=>({vals:n.readSync(e.dataId),shape:e.shape})));a=Xee(e.map((e=>e.shape)),1);const l=1===e[0].shape[0],u=Sre(o,a,t[0].dtype,l),c=Xee(i.map((e=>e.shape)),r);s.shape=c;return n.dataIdMap.get(s.dataId).stringBytes=Ute(u),e.forEach((e=>n.disposeData(e.dataId))),s}const l=dZ(i[0].shape.slice(0,r));let u=0;const c=i.map((e=>{const t=dZ(e.shape.slice(r));return u+=t,t})),d=i.map((e=>n.typedArrayFromHeap(e))),p=n.typedArrayFromHeap(s);for(let f=0;f<l;f++){let e=f*u;for(let t=0;t<d.length;t++){const n=c[t],r=f*n,o=d[t].subarray(r,r+n);p.set(o,e),e+=n}}return s}const Bpe={kernelName:gJ,backendName:"wasm",kernelFunc:zpe};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let jpe;const Wpe={kernelName:vJ,backendName:"wasm",setupFunc:function(e){jpe=e.wasm.cwrap(vJ,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o,filter:a}=t,i=r.dataIdMap.get(o.dataId).id,s=r.dataIdMap.get(a.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d,dataFormat:p}=n,f=U5(p),h=P5(o.shape,a.shape,l,u,c,d,!1,f),m=h.filterHeight,g=h.filterWidth,v=h.padInfo.top,b=h.padInfo.right,y=h.padInfo.bottom,x=h.padInfo.left,w=h.dilationHeight,k=h.dilationWidth,S=h.strideHeight,C=h.strideWidth,E=h.inChannels,I=h.outChannels,N="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${h.dataFormat}'. Please use 'channelsLast'.`);const T=r.makeOutput(h.outShape,"float32"),R=r.dataIdMap.get(T.dataId).id;return jpe(i,o.shape[0],o.shape[1],o.shape[2],s,m,g,v,b,y,x,N,w,k,S,C,E,I,R),T}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Vpe;const Hpe={kernelName:yJ,backendName:"wasm",setupFunc:function(e){Vpe=e.wasm.cwrap(yJ,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{dy:o,filter:a}=n,{strides:i,pad:s,dataFormat:l,dimRoundingMode:u,inputShape:c}=r,d=U5(l),p=P5(c,a.shape,i,1,s,u,!1,d),{batchSize:f,filterHeight:h,filterWidth:m,inChannels:g,inHeight:v,inWidth:b,outChannels:y,outHeight:x,outWidth:w,strideHeight:k,strideWidth:S}=p,C=h-1-p.padInfo.top,E=m-1-p.padInfo.left,I="channelsLast"===p.dataFormat,N=TZ(p.inShape),T=TZ(o.shape),[R,_,$]=TZ(a.shape),M=N[0],O=I?N[1]:N[2],A=I?N[2]:1,L=I?1:N[1],P=T[0],D=I?T[1]:T[2],F=I?T[2]:1,z=I?1:T[1],B=t.makeOutput(p.inShape,"float32"),j=t.dataIdMap.get(B.dataId).id,W=t.dataIdMap.get(o.dataId).id,V=t.dataIdMap.get(a.dataId).id;return Vpe(W,V,f,h,m,v,b,g,x,w,y,k,S,C,E,R,_,$,M,O,A,L,P,D,F,z,j),B}},Upe=spe(kJ),Gpe=spe(SJ);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var qpe,Ype;let Kpe;(Ype=qpe||(qpe={}))[Ype.bilinear=0]="bilinear",Ype[Ype.nearest=1]="nearest";const Xpe={kernelName:IJ,backendName:"wasm",setupFunc:function(e){Kpe=e.wasm.cwrap(IJ,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{method:o,extrapolationValue:a,cropSize:i}=r,{image:s,boxes:l,boxInd:u}=n,c=l.shape[0],[d,p]=i,f=[c,d,p,s.shape[3]];let h,m=t.dataIdMap.get(s.dataId);"float32"!==s.dtype&&(h=Ape({backend:t,inputs:{x:s},attrs:{dtype:"float32"}}),m=t.dataIdMap.get(h.dataId));const g=m.id,v=t.dataIdMap.get(l.dataId).id,b=t.dataIdMap.get(u.dataId).id,y=t.makeOutput(f,"float32"),x=t.dataIdMap.get(y.dataId).id,w=new Uint8Array(new Int32Array(s.shape).buffer);return Kpe(g,v,b,c,w,d,p,qpe[o],a,x),null!=h&&t.disposeData(h.dataId),y}};
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Qpe;const Zpe={kernelName:CJ,backendName:"wasm",setupFunc:function(e){Qpe=e.wasm.cwrap(CJ,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r,l=o.shape.length;sZ("float32"===o.dtype||"int32"===o.dtype,(()=>`cumprod does not support ${o.dtype} tensors in the WASM backend`));const u=U6([a],l);let c=o;null!==u&&(c=gpe({inputs:{x:o},attrs:{perm:u},backend:n}));const d=q6(1,l)[0];H6("cumprod",[d],l);const p=n.makeOutput(c.shape,c.dtype),f=c.shape[d],h=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;Qpe(h,i?1:0,s?1:0,f,m,tpe[o.dtype]);let g=p;if(null!==u){g=gpe({inputs:{x:p},attrs:{perm:G6(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Jpe;const efe={kernelName:EJ,backendName:"wasm",setupFunc:function(e){Jpe=e.wasm.cwrap(EJ,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r,l=o.shape.length;sZ("float32"===o.dtype||"int32"===o.dtype,(()=>`cumsum does not support ${o.dtype} tensors in the WASM backend`));const u=U6([a],l);let c=o;null!==u&&(c=gpe({inputs:{x:o},attrs:{perm:u},backend:n}));const d=q6(1,l)[0];H6("cumsum",[d],l);const p=n.makeOutput(c.shape,c.dtype),f=c.shape[d],h=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;Jpe(h,i?1:0,s?1:0,f,m,tpe[o.dtype]);let g=p;if(null!==u){g=gpe({inputs:{x:p},attrs:{perm:G6(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let tfe;const nfe={kernelName:TJ,backendName:"wasm",setupFunc:function(e){tfe=e.wasm.cwrap(TJ,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:o}=n,{blockSize:a,dataFormat:i}=r,s=o.shape[0],l=("NHWC"===i?o.shape[1]:o.shape[2])*a,u=("NHWC"===i?o.shape[2]:o.shape[3])*a,c=("NHWC"===i?o.shape[3]:o.shape[1])/(a*a),d="NHWC"===i?[s,l,u,c]:[s,c,l,u],p=t.makeOutput(d,"float32"),f=t.dataIdMap.get(o.dataId).id,h=new Uint8Array(new Int32Array(TZ(o.shape)).buffer),m=new Uint8Array(new Int32Array(d).buffer),g=new Uint8Array(new Int32Array(TZ(d)).buffer),v=t.dataIdMap.get(p.dataId).id;return tfe(f,a,"NHWC"===i?1:0,h,o.shape.length-1,m,g,d.length,v),p}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rfe;const ofe={kernelName:RJ,backendName:"wasm",setupFunc:function(e){rfe=e.wasm.cwrap(RJ,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o,filter:a}=t,i=r.dataIdMap.get(o.dataId).id,s=r.dataIdMap.get(a.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d}=n,p=null==u?[1,1]:u,f=P5(o.shape,a.shape,l,p,c,d,!0),h=f.filterHeight,m=f.filterWidth,g=f.padInfo.top,v=f.padInfo.right,b=f.padInfo.bottom,y=f.padInfo.left,x=f.dilationHeight,w=f.dilationWidth,k=f.strideHeight,S=f.strideWidth,C=f.inChannels,E=f.outChannels,I="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);const N=r.makeOutput(f.outShape,"float32"),T=r.dataIdMap.get(N.dataId).id;return rfe(i,o.shape[0],o.shape[1],o.shape[2],s,h,m,g,v,b,y,I,x,w,k,S,C,E,T),N}},afe=spe(PJ),ife=upe(DJ,0,"bool"),sfe=spe(FJ,"float32");
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function lfe(e){const{inputs:t,attrs:n,backend:r}=e,{input:o}=t,{dim:a}=n,i=o.shape.length,s=o.shape.slice();let l=a;return a<0&&(sZ(-(i+1)<=a,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+a+1),s.splice(l,0,1),Npe({inputs:{x:o},backend:r,attrs:{shape:s}})}const ufe={kernelName:zJ,backendName:"wasm",kernelFunc:lfe};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cfe(e){const{attrs:{shape:t,value:n,dtype:r},backend:o}=e,a=o.makeOutput(t,r);return o.typedArrayFromHeap(a).fill(n),a}const dfe={kernelName:jJ,backendName:"wasm",kernelFunc:cfe};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let pfe;const ffe={kernelName:WJ,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:r}=t,o=n.makeOutput(r.shape,r.dtype),a=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(o.dataId).id,[s,l,u,c]=r.shape;return pfe(a,s,l,u,c,i),o},setupFunc:function(e){pfe=e.wasm.cwrap(WJ,null,["number","number","number","number","number","number"])}},hfe=spe(VJ),mfe=upe(HJ);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let gfe;const vfe={kernelName:UJ,backendName:"wasm",setupFunc:function(e){gfe=e.wasm.cwrap(UJ,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{varianceEpsilon:o}=r,{x:a,mean:i,variance:s,offset:l,scale:u}=n,c=t.dataIdMap.get(a.dataId).id,d=t.dataIdMap.get(i.dataId).id,p=t.dataIdMap.get(s.dataId).id,f=null!=l?t.dataIdMap.get(l.dataId).id:0,h=null!=u?t.dataIdMap.get(u.dataId).id:0,m=t.makeOutput(a.shape,a.dtype);if(0===dZ(a.shape))return m;const g=t.dataIdMap.get(m.dataId).id;return gfe(c,d,p,f,h,o,g),m}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let bfe;const yfe={kernelName:O1,backendName:"wasm",setupFunc:function(e){bfe=e.wasm.cwrap(O1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:f,leakyreluAlpha:h}=n,m=P5(o.shape,a.shape,l,c,u,p),g=rpe[f];if(null==g)throw new Error(`${f} activation not yet supported for FusedConv2D in the wasm backend.`);const v=r.dataIdMap.get(o.dataId).id,b=r.dataIdMap.get(a.dataId).id,y=m.outChannels;let x=0;if(null!=i){const e=r.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==y)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${y})`);x=e.id}const w=m.filterHeight,k=m.filterWidth,S=m.padInfo.top,C=m.padInfo.right,E=m.padInfo.bottom,I=m.padInfo.left,N=m.dilationHeight,T=m.dilationWidth,R=m.strideHeight,_=m.strideWidth,$=m.inChannels,M="SAME"===m.padInfo.type?1:0,O=m.batchSize,A=m.inHeight,L=m.inWidth;if("NHWC"!==d)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${d}'. Please use 'NHWC'.`);const P=r.makeOutput(m.outShape,"float32"),D=r.dataIdMap.get(P.dataId).id,F=null==s?0:r.dataIdMap.get(s.dataId).id;return bfe(v,O,A,L,b,w,k,x,S,C,E,I,M,N,T,R,_,$,y,g,F,h||0,D),P}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let xfe;const wfe={kernelName:A1,backendName:"wasm",setupFunc:function(e){xfe=e.wasm.cwrap(A1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:f,leakyreluAlpha:h}=n,m=P5(o.shape,a.shape,l,c,u,p,!0),g=rpe[f];if(null==g)throw new Error(`${f} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const v=r.dataIdMap.get(o.dataId).id,b=r.dataIdMap.get(a.dataId).id,y=m.outChannels;let x=0;if(null!=i){const e=r.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==y)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${y})`);x=e.id}const w=m.filterHeight,k=m.filterWidth,S=m.padInfo.top,C=m.padInfo.right,E=m.padInfo.bottom,I=m.padInfo.left,N=m.dilationHeight,T=m.dilationWidth,R=m.strideHeight,_=m.strideWidth,$=m.inChannels,M="SAME"===m.padInfo.type?1:0,O=m.batchSize,A=m.inHeight,L=m.inWidth;if("NHWC"!==d)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${d}'. Please use 'NHWC'.`);const P=r.makeOutput(m.outShape,"float32"),D=r.dataIdMap.get(P.dataId).id,F=null==s?0:r.dataIdMap.get(s.dataId).id;return xfe(v,O,A,L,b,w,k,x,S,C,E,I,M,N,T,R,_,$,y,g,F,h||0,D),P}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let kfe;const Sfe={kernelName:qJ,backendName:"wasm",setupFunc:function(e){kfe=e.wasm.cwrap(qJ,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:r,indices:o}=n,[a,i,s,l]=X4(r,o),u=t.makeOutput(a,r.dtype);if(0===i)return u;const c=o.shape,d=c[c.length-1],p=t.dataIdMap.get(r.dataId).id,f=t.dataIdMap.get(o.dataId).id,h=new Uint8Array(new Int32Array(l).buffer),m=t.dataIdMap.get(u.dataId).id;return kfe(p,tpe[r.dtype],f,i,d,s,h,m),u}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Cfe;const Efe={kernelName:GJ,backendName:"wasm",setupFunc:function(e){Cfe=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:o,indices:a}=n,{axis:i,batchDims:s}=r,l=bZ(i,o.shape)[0],u=t.readSync(a.dataId),c=o.shape[l];for(let S=0;S<u.length;++S){const e=u[S];sZ(e<=c-1&&e>=0,(()=>`GatherV2: the index value ${e} is not in [0, ${c-1}]`))}const d=Wte(o,a,l,s),p=Npe({inputs:{x:o},attrs:{shape:[d.batchSize,d.outerSize,d.dimSize,d.sliceSize]},backend:t}),f=dZ(a.shape),h=Npe({inputs:{x:a},attrs:{shape:[d.batchSize,f/d.batchSize]},backend:t}),m=[d.batchSize,d.outerSize,f/d.batchSize,d.sliceSize],g=t.makeOutput(m,o.dtype);if(0===dZ(o.shape))return g;const v=p.shape.length-1,b=t.dataIdMap.get(p.dataId).id,y=t.dataIdMap.get(h.dataId).id,x=t.dataIdMap.get(g.dataId).id,w=new Uint8Array(new Int32Array(TZ(p.shape)).buffer),k=new Uint8Array(new Int32Array(TZ(m)).buffer);return Cfe(b,tpe[o.dtype],w,v,y,d.batchSize,k,x),t.disposeData(p.dataId),t.disposeData(h.dataId),g.shape=d.outputShape,g}},Ife=upe(YJ,0,"bool"),Nfe=upe(KJ,0,"bool");
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let Tfe;const Rfe={kernelName:n0,backendName:"wasm",setupFunc:function(e){Tfe=e.wasm.cwrap(n0,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:r}=e,o=r.dataIdMap.get(t.dataId).id,a=r.makeOutput(t.shape,"float32");if(0!==dZ(t.shape)){const e=r.dataIdMap.get(a.dataId).id;Tfe(o,tpe[t.dtype],n,e)}return a}},_fe=upe(r0,0,"bool"),$fe=upe(o0,0,"bool"),Mfe=spe(i0),Ofe=upe(l0,0,"bool"),Afe=spe(u0),Lfe=upe(c0,0,"bool"),Pfe=upe("LogicalXor",0,"bool");
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let Dfe;const Ffe={kernelName:d0,backendName:"wasm",setupFunc:function(e){Dfe=e.wasm.cwrap(d0,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{reductionIndices:o,keepDims:a}=r,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=bpe(i,o,t);if(p){l=u,s=t.dataIdMap.get(u.dataId).id}H6("max",c,l.shape.length);const[f,h]=W6(l.shape,c),m=dZ(h),g=t.makeOutput(f,i.dtype);if(0!==dZ(l.shape)){const e=t.dataIdMap.get(g.dataId).id;Dfe(s,tpe[i.dtype],m,e)}if(p&&t.disposeData(u.dataId),a){const e=V6(g.shape,d);g.shape=e}return g}},zfe=upe(p0);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let Bfe;const jfe={kernelName:f0,backendName:"wasm",setupFunc:function(e){Bfe=e.wasm.cwrap(f0,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,o=t.x,a=r.dataIdMap.get(o.dataId).id;sZ("float32"===o.dtype,(()=>`Error in MaxPool: only float32 input is supported. Got ${o.dtype}.`));const{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=n,c=A5(o.shape,i,s,1,l,u),d=c.filterHeight,p=c.filterWidth,f=c.padInfo.top,h=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.dilationHeight,b=c.dilationWidth,y=c.strideHeight,x=c.strideWidth,w=c.inChannels,k=c.outChannels;if("channelsLast"!==c.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);const S=r.makeOutput(c.outShape,"float32"),C=r.dataIdMap.get(S.dataId).id;return Bfe(a,o.shape[0],o.shape[1],o.shape[2],d,p,f,h,m,g,v,b,y,x,w,k,C),S}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Wfe;const Vfe={kernelName:g0,backendName:"wasm",setupFunc:function(e){Wfe=e.wasm.cwrap(g0,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o,keepDims:a}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:f}=bpe(i,o,t);let h=d;if(f){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e,h=q6(h.length,u.shape.length))}H6("mean",h,u.shape.length);const[m,g]=W6(u.shape,h),v=dZ(g);let b=u;"float32"!==u.dtype&&(b=Ape({backend:t,inputs:{x:u},attrs:{dtype:"float32"}}),l=t.dataIdMap.get(b.dataId).id);const y=t.makeOutput(m,"float32");if(0!==dZ(u.shape)){const e=t.dataIdMap.get(y.dataId).id;Wfe(l,v,e)}if(f&&t.disposeData(c.dataId),a){const e=V6(y.shape,p);y.shape=e}return"float32"!==u.dtype&&t.disposeData(b.dataId),y}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Hfe;const Ufe={kernelName:v0,backendName:"wasm",setupFunc:function(e){Hfe=e.wasm.cwrap(v0,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o,keepDims:a}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:f}=bpe(i,o,t);if(f){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e)}H6("min",d,u.shape.length);const[h,m]=W6(u.shape,d),g=dZ(m),v=t.makeOutput(h,u.dtype);if(0!==dZ(u.shape)){const e=t.dataIdMap.get(v.dataId).id;Hfe(l,tpe[i.dtype],g,e)}if(f&&t.disposeData(c.dataId),a){const e=V6(v.shape,p);v.shape=e}return v}},Gfe=upe(b0);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var qfe,Yfe;let Kfe;(Yfe=qfe||(qfe={}))[Yfe.reflect=0]="reflect",Yfe[Yfe.symmetric=1]="symmetric";const Xfe={kernelName:y0,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,mode:o}}=e,a=r.map(((e,n)=>e[0]+t.shape[n]+e[1])),i=n.dataIdMap.get(t.dataId).id,s=n.makeOutput(a,t.dtype),l=n.dataIdMap.get(s.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map((e=>e[0])),d=r.map((e=>e[1])),p=new Uint8Array(new Int32Array(c).buffer),f=new Uint8Array(new Int32Array(d).buffer);return Kfe(i,u,t.shape.length,tpe[t.dtype],p,f,qfe[o],l),s},setupFunc:function(e){Kfe=e.wasm.cwrap(y0,null,["number","array","number","number","array","array","number","number"])}},Qfe=upe(w0),Zfe=spe(k0);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Jfe(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],o=n[1],a=n[2],i=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:o,pSelectedScores:a,pValidOutputs:i}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ehe;const the={kernelName:C0,backendName:"wasm",setupFunc:function(e){ehe=e.wasm.cwrap(C0,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:o,maxOutputSize:a,scoreThreshold:i}=r,{boxes:s,scores:l}=n,u=t.dataIdMap.get(s.dataId).id,c=t.dataIdMap.get(l.dataId).id,d=ehe(u,c,a,o,i),{pSelectedIndices:p,selectedSize:f,pSelectedScores:h,pValidOutputs:m}=Jfe(t,d);return t.wasm._free(h),t.wasm._free(m),t.makeOutput([f],"int32",p)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let nhe;const rhe={kernelName:E0,backendName:"wasm",setupFunc:function(e){nhe=e.wasm.cwrap(E0,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:o,maxOutputSize:a,scoreThreshold:i,padToMaxOutputSize:s}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=nhe(c,d,a,o,i,s),{pSelectedIndices:f,selectedSize:h,pSelectedScores:m,pValidOutputs:g}=Jfe(t,p);return t.wasm._free(m),[t.makeOutput([h],"int32",f),t.makeOutput([],"int32",g)]}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ohe;const ahe={kernelName:I0,backendName:"wasm",setupFunc:function(e){ohe=e.wasm.cwrap(I0,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:o,maxOutputSize:a,scoreThreshold:i,softNmsSigma:s}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=ohe(c,d,a,o,i,s),{pSelectedIndices:f,selectedSize:h,pSelectedScores:m,pValidOutputs:g}=Jfe(t,p);return t.wasm._free(g),[t.makeOutput([h],"int32",f),t.makeOutput([h],"float32",m)]}},ihe=upe(S0,0,"bool");
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let she;const lhe={kernelName:T0,backendName:"wasm",setupFunc:function(e){she=e.wasm.cwrap(T0,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:a,depth:i,onValue:s,offValue:l}=r,u=n.makeOutput([...o.shape,i],a),c=n.dataIdMap.get(u.dataId).id,d=n.dataIdMap.get(o.dataId).id;return she(d,i,s,l,c),u}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uhe={kernelName:N0,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const che={kernelName:R0,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return lfe({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{lZ(a,e.shape,"All tensors passed to stack must have matching shapes"),sZ(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=t.map((e=>{const t=lfe({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),u=zpe({inputs:l,backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeData(e.dataId))),u}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let dhe;const phe={kernelName:_0,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:o}}=e,a=r.map(((e,n)=>e[0]+t.shape[n]+e[1]));if(0===dZ(t.shape))return cfe({backend:n,attrs:{shape:a,value:o,dtype:t.dtype}});const i=n.dataIdMap.get(t.dataId).id,s=n.makeOutput(a,t.dtype),l=n.dataIdMap.get(s.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map((e=>e[0])),d=r.map((e=>e[1])),p=new Uint8Array(new Int32Array(c).buffer),f=new Uint8Array(new Int32Array(d).buffer);return dhe(i,u,t.shape.length,tpe[t.dtype],p,f,o,l),s},setupFunc:function(e){dhe=e.wasm.cwrap(_0,null,["number","array","number","number","array","array","number","number"])}},fhe=upe($0);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let hhe;const mhe={kernelName:M0,backendName:"wasm",setupFunc:function(e){hhe=e.wasm.cwrap(M0,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t,a=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(o.dataId).id;let s=a;const l=r;let u=l;"float32"!==l.dtype&&(u=Ape({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),s=n.dataIdMap.get(u.dataId).id);const c=n.makeOutput(r.shape,"float32"),d=n.dataIdMap.get(c.dataId).id;return hhe(s,i,d),"float32"!==l.dtype&&n.disposeData(u.dataId),c}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ghe;const vhe={kernelName:O0,backendName:"wasm",setupFunc:function(e){ghe=e.wasm.cwrap(O0,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o,keepDims:a}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:f}=bpe(i,o,t);let h=d;if(f){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e,h=q6(h.length,u.shape.length))}H6("prod",h,u.shape.length);const[m,g]=W6(u.shape,h),v=dZ(g),b=t.makeOutput(m,u.dtype);if(0!==dZ(u.shape)){const e=t.dataIdMap.get(b.dataId).id;ghe(l,v,tpe[b.dtype],e)}if(f&&t.disposeData(c.dataId),a){const e=V6(b.shape,p);b.shape=e}return b}},bhe={kernelName:P0,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:r,stop:o,step:a,dtype:i}=n,s=Hre(r,o,a,i),l=t.makeOutput([s.length],i);return t.typedArrayFromHeap(l).set(s),l}},yhe=upe(AJ),xhe=spe(z0),whe=spe(V0);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let khe;const She={kernelName:W0,backendName:"wasm",setupFunc:function(e){khe=e.wasm.cwrap(W0,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:o}=n,{alignCorners:a,halfPixelCenters:i,size:s}=r,[l,u]=s,[c,d,p,f]=o.shape,h=[c,l,u,f];let m,g=t.dataIdMap.get(o.dataId);"float32"!==g.dtype&&(m=Ape({backend:t,inputs:{x:o},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(m.dataId));const v=g.id,b=t.makeOutput(h,"float32");if(0===dZ(o.shape))return b;const y=t.dataIdMap.get(b.dataId).id;return khe(v,c,d,p,f,l,u,a?1:0,i?1:0,y),null!=m&&t.disposeData(m.dataId),b}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Che;const Ehe={kernelName:j0,backendName:"wasm",setupFunc:function(e){Che=e.wasm.cwrap(j0,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:o}=n,{alignCorners:a,halfPixelCenters:i,size:s}=r,[l,u]=s,[c,d,p,f]=o.shape,h=[c,l,u,f],m=t.makeOutput(h,"float32");if(0===dZ(o.shape))return m;let g,v=t.dataIdMap.get(o.dataId);"float32"!==v.dtype&&(g=Ape({backend:t,inputs:{x:o},attrs:{dtype:"float32"}}),v=t.dataIdMap.get(g.dataId));const b=v.id,y=t.dataIdMap.get(m.dataId).id;return Che(b,c,d,p,f,l,u,a?1:0,i?1:0,y),null!=g&&t.disposeData(g.dataId),m}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Ihe;const Nhe={kernelName:H0,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:a}=r,i=bZ(a,o.shape);if(0===o.shape.length)return fpe({inputs:{x:o},backend:n});const s=n.makeOutput(o.shape,o.dtype),l=n.dataIdMap.get(o.dataId).id,u=n.dataIdMap.get(s.dataId).id,c=new Uint8Array(new Int32Array(i).buffer),d=new Uint8Array(new Int32Array(o.shape).buffer);Ihe(l,c,i.length,d,o.shape.length,u);const p=Npe({inputs:{x:s},attrs:{shape:o.shape},backend:n});return n.disposeData(s.dataId),p},setupFunc:function(e){Ihe=e.wasm.cwrap(H0,null,["number","array","number","array","number","number"])}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let The;const Rhe={kernelName:$1,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o}=t,{radians:a,fillValue:i,center:s}=r,l=n.makeOutput(o.shape,o.dtype),u=n.dataIdMap.get(o.dataId).id,c=n.dataIdMap.get(l.dataId).id,[d,p,f,h]=o.shape,[m,g]=ote(s,p,f),v="number"==typeof i?[i,i,i,0===i?0:255]:[...i,255],b=new Uint8Array(new Int32Array(v).buffer);return The(u,d,p,f,h,a,m,g,b,v.length,c),l},setupFunc:function(e){The=e.wasm.cwrap($1,null,["number","number","number","number","number","number","number","number","array","number","number"])}},_he=spe(U0),$he=spe(G0);
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let Mhe;const Ohe={kernelName:q0,backendName:"wasm",setupFunc:function(e){Mhe=e.wasm.cwrap(q0,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{indices:o,updates:a}=n,{shape:i}=r,s=t.makeOutput(i,a.dtype);if(0===dZ(i))return s;const{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=J4(0,o,i),f=t.dataIdMap.get(o.dataId).id,h=t.dataIdMap.get(a.dataId).id,m=new Uint8Array(new Int32Array(d).buffer),g=t.dataIdMap.get(s.dataId).id;return Mhe(f,h,tpe[a.dtype],l,u,c,m,p,g),s}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Ahe;const Lhe={kernelName:K0,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:a}=t,i=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(o.dataId).id,l=n.dataIdMap.get(a.dataId).id,u=n.makeOutput(o.shape,o.dtype),c=n.dataIdMap.get(u.dataId).id,d=r.shape.length,p=o.shape.length,f=0===d||d>1||1===p?1:dZ(o.shape.slice(1));return Ahe(i,s,l,f,c),u},setupFunc:function(e){Ahe=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}};
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Phe;const Dhe={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){Phe=e.wasm.cwrap(t1,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,r=t.dataIdMap.get(n.dataId).id,o=t.makeOutput(n.shape,n.dtype),a=t.dataIdMap.get(o.dataId).id;return 0===dZ(o.shape)||Phe(r,a),o}},Fhe=spe(Z0);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let zhe;const Bhe={kernelName:s1,backendName:"wasm",setupFunc:function(e){zhe=e.wasm.cwrap(s1,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:{logits:n},attrs:{dim:r}}=e,o=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(a.dataId).id,s=n.shape[r],l=dZ(n.shape)/s;return 0===dZ(a.shape)||zhe(o,i,s,l),a}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jhe={kernelName:a1,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,paddings:i}=r,s=dZ(a),l=[[0,0]];l.push(...i);for(let g=1+a.length;g<o.shape.length;++g)l.push([0,0]);const u=phe.kernelFunc({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),c=ate(u.shape,a,s,!1),d=ite(c.length,a.length,!1),p=ste(u.shape,a,s,!1),f=Npe({inputs:{x:u},backend:n,attrs:{shape:c}}),h=gpe({inputs:{x:f},backend:n,attrs:{perm:d}}),m=Npe({inputs:{x:h},backend:n,attrs:{shape:p}});return n.disposeData(u.dataId),n.disposeData(f.dataId),n.disposeData(h.dataId),m}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Whe;const Vhe={kernelName:l1,backendName:"wasm",setupFunc:function(e){Whe=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:r,values:o,denseShape:a,defaultValue:i}=n,s=r.shape[0],l=r.shape[1],u=t.readSync(a.dataId)[0],c=[s+u,l],d=t.dataIdMap.get(r.dataId).id,p=t.dataIdMap.get(o.dataId).id,f=t.dataIdMap.get(i.dataId).id,h=t.makeOutput(c,r.dtype),m=t.dataIdMap.get(h.dataId).id,g=t.makeOutput(c.slice(0,1),o.dtype),v=t.dataIdMap.get(g.dataId).id,b=t.makeOutput([u],"bool"),y=t.dataIdMap.get(b.dataId).id,x=t.makeOutput([s],r.dtype),w=t.dataIdMap.get(x.dataId).id,k=t.makeOutput([4],"int32"),S=t.dataIdMap.get(k.dataId).id,C=Whe(d,p,tpe[o.dtype],s,u,l,f,m,v,y,w,S),E=t.readSync(k.dataId);let I;switch(E[0]){case 1:I=Tte(E[1]);break;case 2:I=Rte(E[1],E[2]);break;case 3:I=_te(E[1],E[2],E[3]);break;default:I=""}if(t.disposeData(k.dataId),I)throw t.disposeData(h.dataId),t.disposeData(g.dataId),t.disposeData(b.dataId),t.disposeData(x.dataId),new Error(I);let N=h,T=g;return C!==c[0]&&(N=$pe({inputs:{x:h},attrs:{begin:0,size:[C,l]},backend:t}),T=$pe({inputs:{x:g},attrs:{begin:0,size:C},backend:t}),t.disposeData(h.dataId),t.disposeData(g.dataId)),[N,T,b,x]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Hhe;const Uhe={kernelName:u1,backendName:"wasm",setupFunc:function(e){Hhe=e.wasm.cwrap(u1,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:r,inputShape:o,newShape:a}=n;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${o.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=t.dataIdMap.get(r.dataId).id,s=t.dataIdMap.get(o.dataId).id,l=t.dataIdMap.get(a.dataId).id,u=r.shape[0],c=dZ(a.shape),d=t.makeOutput([u,c],r.dtype),p=t.dataIdMap.get(d.dataId).id,f=t.makeOutput([c],a.dtype),h=t.dataIdMap.get(f.dataId).id,m=t.makeOutput([3],"int32"),g=t.dataIdMap.get(m.dataId).id;Hhe(i,s,l,u,p,h,g);const v=t.readSync(m.dataId);let b;switch(v[0]){case 0:b=$te(v[1],v[2]);break;case 1:b=Mte(v[1],v[2]);break;case 2:b="reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero";break;case 3:b=Ate(Array.from(t.readSync(o.dataId)),Array.from(t.readSync(f.dataId)));break;case 4:b=Lte(Array.from(t.readSync(o.dataId)),Array.from(t.readSync(f.dataId)));break;default:b=""}if(t.disposeData(m.dataId),b)throw t.disposeData(d.dataId),t.disposeData(f.dataId),new Error(b);return[d,f]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Ghe;function qhe(e){Ghe=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function Yhe(e,t){const{backend:n,inputs:r}=e,{data:o,indices:a,segmentIds:i}=r,s=a.shape[0],l=n.readSync(i.dataId,s-1,s)[0],u=s>0?l+1:0;if(u<0)throw new Error("segment ids must be >= 0");const c=o.shape.slice();c[0]=u;const d=n.dataIdMap.get(o.dataId).id,p=n.dataIdMap.get(a.dataId).id,f=n.dataIdMap.get(i.dataId).id,h=n.makeOutput(c,o.dtype),m=n.dataIdMap.get(h.dataId).id,g=n.makeOutput([4],"int32"),v=n.dataIdMap.get(g.dataId).id;Ghe(d,tpe[o.dtype],o.shape[0],p,f,m,v,t,0);const b=n.readSync(g.dataId);let y;switch(b[0]){case 0:y="segment ids must be >= 0";break;case 1:y="segment ids are not increasing";break;case 2:y=Fte(b[1],b[2]);break;case 3:y=zte(b[1],b[2],b[3]);break;default:y=""}if(n.disposeData(g.dataId),y)throw n.disposeData(h.dataId),new Error(y);return h}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Khe={kernelName:c1,backendName:"wasm",setupFunc:qhe,kernelFunc:function(e){return Yhe(e,!0)}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xhe={kernelName:d1,backendName:"wasm",setupFunc:qhe,kernelFunc:function(e){return Yhe(e,!1)}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qhe={kernelName:i1,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:o}=t,{numOrSizeSplits:a,axis:i}=n,s=bZ(i,o.shape)[0],l=Nte(o,a,s),u=new Array(o.shape.length).fill(0),c=o.shape.slice();return l.map((e=>{const t=[...c];t[s]=e;const n=$pe({inputs:{x:o},attrs:{begin:u,size:t},backend:r});return u[s]+=e,n}))}},Zhe=spe(r1),Jhe=spe(h1),eme=upe(f1);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let tme;const nme={kernelName:_1,backendName:"wasm",setupFunc:function(e){tme=e.wasm.cwrap(_1,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{alpha:o}=r,{x:a}=n,i=t.dataIdMap.get(a.dataId).id,s=t.makeOutput(a.shape,a.dtype),l=t.dataIdMap.get(s.dataId).id;return tme(i,o,tpe[a.dtype],l),s}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rme;const ome={kernelName:m1,backendName:"wasm",setupFunc:function(e){rme=e.wasm.cwrap(m1,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:o}=n,{begin:a,end:i,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:f,finalShape:h,isIdentity:m,sliceDim0:g,isSimpleSlice:v,begin:b,end:y,strides:x}=f5(o.shape,a,i,s,l,u,c,d,p);let w;if(m)w=Npe({inputs:{x:o},backend:t,attrs:{shape:h}});else if(g||v){sZ(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=t5(b,y,x),n=$pe({inputs:{x:o},backend:t,attrs:{begin:b,size:e}});w=Npe({inputs:{x:n},backend:t,attrs:{shape:h}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(f,"float32"),n=t.dataIdMap.get(o.dataId).id,r=new Uint8Array(new Int32Array(TZ(o.shape)).buffer),a=new Uint8Array(new Int32Array(b).buffer),i=new Uint8Array(new Int32Array(y).buffer),s=new Uint8Array(new Int32Array(x).buffer),l=new Uint8Array(new Int32Array(f).buffer),u=new Uint8Array(new Int32Array(TZ(f)).buffer),c=t.dataIdMap.get(e.dataId).id;rme(n,r,o.shape.length,a,i,s,l,u,f.length,c),w=Npe({inputs:{x:e},backend:t,attrs:{shape:h}}),t.disposeData(e.dataId)}return w}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ame={kernelName:g1,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{data:o,dataSplits:a}=n,{separator:i,nGramWidths:s,leftPad:l,rightPad:u,padWidth:c,preserveShortSequences:d}=r,p=t.readSync(o.dataId),f=t.readSync(a.dataId),[h,m]=Qre(p,f,i,s,l,u,c,d),g=t.makeOutput([h.length],"string");t.dataIdMap.get(g.dataId).stringBytes=h;const v=t.makeOutput(a.shape,"int32");return t.typedArrayFromHeap(v).set(m),[g,v]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ime={kernelName:v1,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:o,delimiter:a}=n,{skipEmpty:i}=r,s=t.readSync(o.dataId),l=t.readSync(a.dataId),[u,c,d]=Jre(s,l[0],i),p=c.length,f=t.makeOutput([p,2],"int32");t.typedArrayFromHeap(f).set(u);const h=t.makeOutput([p],"string");t.dataIdMap.get(h.dataId).stringBytes=c;const m=t.makeOutput([2],"int32");return t.typedArrayFromHeap(m).set(d),[f,h,m]}};
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sme={kernelName:b1,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:o}=n,{numBuckets:a}=r,i=eoe(t.readSync(o.dataId),a),s=t.makeOutput(o.shape,"int32");return t.typedArrayFromHeap(s).set(i),s}},lme=upe(y1);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let ume;const cme={kernelName:o1,backendName:"wasm",setupFunc:function(e){ume=e.wasm.cwrap(o1,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:o,keepDims:a}=r,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,u=i;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:f}=bpe(i,o,t);let h=d;if(f){const e=t.dataIdMap.get(c.dataId).id;e!==s&&(u=c,l=e,h=q6(h.length,u.shape.length))}H6("sum",h,u.shape.length);const[m,g]=W6(u.shape,h),v=dZ(g),b=t.makeOutput(m,u.dtype);if(0!==dZ(u.shape)){const e=t.dataIdMap.get(b.dataId).id;ume(l,v,tpe[b.dtype],e)}if(f&&t.disposeData(c.dataId),a){const e=V6(b.shape,p);b.shape=e}return b}},dme=spe(x1),pme=spe(w1);
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let fme;const hme={kernelName:k1,backendName:"wasm",setupFunc:function(e){fme=e.wasm.cwrap(k1,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,a=n.dataIdMap.get(o.dataId).id,{reps:i}=r,s=new Array(o.shape.length);for(let p=0;p<s.length;p++)s[p]=o.shape[p]*i[p];const l=new Uint8Array(new Int32Array(o.shape).buffer),u=new Uint8Array(new Int32Array(s).buffer),c=n.makeOutput(s,o.dtype),d=n.dataIdMap.get(c.dataId).id;return fme(a,l,o.shape.length,u,s.length,tpe[c.dtype],d),c}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mme;
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let gme;const vme={kernelName:N1,backendName:"wasm",kernelFunc:
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:a}=r;a<0&&(a+=o.shape.length);const i=o.shape[a],s=o.shape.length,l=new Array(s-1);let u=0;for(let f=0;f<s;f++)f!==a&&(l[u++]=o.shape[f]);const c=new Array(i),d=new Array(s).fill(0),p=o.shape.slice();p[a]=1;for(let f=0;f<c.length;f++)d[a]=f,c[f]=$pe({inputs:{x:o},attrs:{begin:d,size:p},backend:n});return c.map((({dataId:e,dtype:t})=>({dataId:e,dtype:t,shape:l})))}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bme=[ipe,lpe,cpe,ppe,xpe,kpe,Cpe,Ipe,_pe,Ope,Lpe,Ppe,Fpe,Bpe,Wpe,Hpe,Upe,Gpe,Xpe,Zpe,efe,nfe,ofe,afe,ife,sfe,ufe,dfe,ffe,hfe,mfe,vfe,yfe,wfe,Sfe,Efe,Ife,Nfe,hpe,Rfe,_fe,$fe,Mfe,Ofe,Afe,Lfe,Pfe,Ffe,zfe,jfe,Vfe,Ufe,Gfe,Xfe,Qfe,Zfe,the,rhe,ahe,ihe,lhe,uhe,che,phe,fhe,mhe,vhe,bhe,yhe,xhe,whe,Tpe,She,Ehe,Nhe,Rhe,_he,$he,Ohe,Lhe,Dhe,Fhe,Mpe,Bhe,jhe,Vhe,Uhe,Khe,Xhe,Qhe,Zhe,Jhe,eme,nme,ome,ame,ime,sme,lme,cme,dme,pme,hme,{kernelName:S1,backendName:"wasm",setupFunc:function(e){mme=e.wasm.cwrap(S1,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{k:o,sorted:a}=n,i=t.dataIdMap.get(r.dataId).id,s=new Uint8Array(new Int32Array(r.shape).buffer),l=r.shape.slice();l[l.length-1]=o;const u=t.makeOutput(l,r.dtype),c=t.dataIdMap.get(u.dataId).id,d=t.makeOutput(l,"int32"),p=t.dataIdMap.get(d.dataId).id;return mme(i,s,r.shape.length,tpe[r.dtype],o,a,c,p),[u,d]}},{kernelName:C1,backendName:"wasm",setupFunc:function(e){gme=e.wasm.cwrap(C1,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{image:o,transforms:a}=n,{interpolation:i,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,p,f]=o.shape,[h,m]=null!=u?u:[d,p],g=[c,h,m,f],v=new Uint8Array(new Int32Array(TZ(o.shape)).buffer),b=new Uint8Array(new Int32Array(TZ(g)).buffer),y=t.makeOutput(g,o.dtype),x=t.dataIdMap.get(y.dataId).id,w=t.dataIdMap.get(o.dataId).id,k=t.dataIdMap.get(a.dataId).id,S="nearest"===i?1:2;let C;switch(s){case"constant":default:C=1;break;case"reflect":C=2;break;case"wrap":C=3;break;case"nearest":C=4}return gme(w,k,a.shape[0]>1,c,h,m,f,p,d,v,o.shape.length-1,b,g.length-1,S,C,l,x),y}},vpe,vme,{kernelName:R1,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}}];
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */for(const Cxe of bme)j1(Cxe);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yme=BZ();yme.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(kxe){return!1}})),yme.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if(yme.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(kxe){return!1}}));var xme={exports:{}};!function(e){var n,r=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(n=n||__filename),function(e){function r(){return R.buffer!=O&&W(R.buffer),L}function o(){return R.buffer!=O&&W(R.buffer),P}function a(){return R.buffer!=O&&W(R.buffer),D}function i(){return R.buffer!=O&&W(R.buffer),F}var s,l,u,c=void 0!==(e=e||{})?e:{};c.ready=new Promise((function(e,t){s=e,l=t})),"undefined"!=typeof process&&process.listeners&&(u={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var d,p,f,h=Object.assign({},c),m=(e,t)=>{throw t},g="object"==typeof window,v="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y=c.ENVIRONMENT_IS_PTHREAD||!1,x="";function w(e){return c.locateFile?c.locateFile(e,x):x+e}if(b){var k,S;let e;x=v?w9.dirname(x)+"/":__dirname+"/",k=w9,S=w9,d=(e,t)=>(e=S.normalize(e),k.readFileSync(e,t?void 0:"utf8")),f=e=>{var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),t},p=(e,t,n)=>{e=S.normalize(e),k.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof oe))throw e})),process.on("unhandledRejection",(function(e){throw e})),m=(e,t)=>{if(Y())throw process.exitCode=e,t;!function(e){e instanceof oe||T("exiting due to exception: "+e)}(t),process.exit(e)},c.inspect=function(){return"[Emscripten Module object]"};try{e=w9}catch(kxe){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),kxe}t.Worker=e.Worker}else(g||v)&&(v?x=self.location.href:"undefined"!=typeof document&&document.currentScript&&(x=document.currentScript.src),void 0!==n&&n&&(x=n),x=0!==x.indexOf("blob:")?x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):"",b||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},v&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),p=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));b&&"undefined"==typeof performance&&(t.performance=w9.performance);var C=console.log.bind(console),E=console.warn.bind(console);b&&(C=e=>k.writeSync(1,e+"\n"),E=e=>k.writeSync(2,e+"\n"));var I,N=c.print||C,T=c.printErr||E;Object.assign(c,h),h=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&(m=c.quit),c.wasmBinary&&(I=c.wasmBinary);var R,_,$=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&J("no native wasm support detected");var M,O,A,L,P,D,F,z=!1,B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function j(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&B)return B.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,o):e.subarray(t,o));for(var a="";t<o;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var u=i-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function W(e){O=e,c.HEAP8=A=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=P=new Int32Array(e),c.HEAPU8=L=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=D=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=F=new Float64Array(e)}y&&(O=c.buffer);var V,H=c.INITIAL_MEMORY||16777216;if(y)R=c.wasmMemory,O=c.buffer;else if(c.wasmMemory)R=c.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:H/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw T("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),b&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(O=R.buffer),H=O.byteLength,W(O);var U=[],G=[],q=[];function Y(){return $}function K(){y||ce(G)}var X,Q=0,Z=null;function J(e){y?postMessage({cmd:"onAbort",arg:e}):c.onAbort&&c.onAbort(e),T(e="Aborted("+e+")"),z=!0,M=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw l(t),t}function ee(e){return e.startsWith("data:application/octet-stream;base64,")}function te(e){return e.startsWith("file://")}function ne(e){try{if(e==X&&I)return new Uint8Array(I);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(t){J(t)}}ee(X="tfjs-backend-wasm-threaded-simd.wasm")||(X=w(X));var re={};function oe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ae(e){var t,n=ue.pthreads[e];n||J(t),ue.returnWorkerToPool(n)}function ie(e){var t=ue.getNewWorker();if(!t)return 6;ue.runningWorkers.push(t),ue.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{n.time=performance.now(),t.postMessage(n,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}function se(e){if(y)return ye(1,1,e);M=e,Y()||(ue.terminateAllThreads(),c.onExit&&c.onExit(e),z=!0),m(e,new oe(e))}var le=function(e,t){if(M=e,!t&&y)throw de(e),"unwind";se(e)},ue={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){y?ue.initWorker():ue.initMainThread()},initMainThread:function(){for(var e=8;e--;)ue.allocateUnusedWorker()},initWorker:function(){$=!1},setExitStatus:function(e){M=e},terminateAllThreads:function(){for(var e of Object.values(ue.pthreads))ue.returnWorkerToPool(e);for(var e of ue.unusedWorkers)e.terminate();ue.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete ue.pthreads[t],ue.unusedWorkers.push(e),ue.runningWorkers.splice(ue.runningWorkers.indexOf(e),1),e.pthread_ptr=0,De(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){ue.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:function(e,t){e.onmessage=n=>{var r,o=n.data,a=o.cmd;if(e.pthread_ptr&&(ue.currentProxiedOperationCallerThread=e.pthread_ptr),o.targetThread&&o.targetThread!=_e()){var i=ue.pthreads[o.targetThread];return i?i.postMessage(o,o.transferList):T('Internal error! Worker sent a message "'+a+'" to target pthread '+o.targetThread+", but that thread no longer exists!"),void(ue.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===a?ve(o.queue):"spawnThread"===a?ie(o):"cleanupThread"===a?ae(o.thread):"killThread"===a?function(e){var t=ue.pthreads[e];delete ue.pthreads[e],t.terminate(),De(e),ue.runningWorkers.splice(ue.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(o.thread):"cancelThread"===a?(r=o.thread,ue.pthreads[r].postMessage({cmd:"cancel"})):"loaded"===a?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===a?N("Thread "+o.threadId+": "+o.text):"printErr"===a?T("Thread "+o.threadId+": "+o.text):"alert"===a?alert("Thread "+o.threadId+": "+o.text):"setimmediate"===o.target?e.postMessage(o):"onAbort"===a?c.onAbort&&c.onAbort(o.arg):a&&T("worker sent an unknown command "+a),ue.currentProxiedOperationCallerThread=void 0},e.onerror=e=>{throw T("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},b&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:c.mainScriptUrlOrBlob||n,wasmMemory:R,wasmModule:_})},allocateUnusedWorker:function(){var e=w("tfjs-backend-wasm-threaded-simd.worker.js");ue.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==ue.unusedWorkers.length&&(ue.allocateUnusedWorker(),ue.loadWasmModuleToWorker(ue.unusedWorkers[0])),ue.unusedWorkers.pop()}};function ce(e){for(;e.length>0;)e.shift()(c)}function de(e){if(y)return ye(2,0,e);try{le(e)}catch(kxe){!function(e){if(e instanceof oe||"unwind"==e)return M;m(1,e)}(kxe)}}c.PThread=ue,c.establishStackSpace=function(){var e=_e(),t=o()[e+44>>2],n=o()[e+48>>2];ze(t,t-n),je(t)};var pe,fe=[];function he(e,t){(R.buffer!=O&&W(R.buffer),A).set(e,t)}function me(e,t,n,r){return y?ye(3,1,e,t,n,r):ge(e,t,n,r)}function ge(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return T("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o=[];if(y&&0===o.length)return me(e,t,n,r);var a={startRoutine:n,pthread_ptr:e,arg:r,transferList:o};return y?(a.cmd="spawnThread",postMessage(a,o),0):ie(a)}function ve(e){Atomics.store(o(),e>>2,1),_e()&&Pe(e),Atomics.compareExchange(o(),e>>2,1,0)}function be(e){be.shown||(be.shown={}),be.shown[e]||(be.shown[e]=1,b&&(e="warning: "+e),T(e))}function ye(e,t){var n,r,o,a=arguments.length-2,s=arguments;return n=()=>{for(var n=a,r=We(8*n),o=r>>3,l=0;l<a;l++){var u=s[2+l];i()[o+l]=u}return Me(e,n,r,t)},r=Be(),o=n(),je(r),o}c.invokeEntryPoint=function(e,t){var n,r,o=((r=fe[n=e])||(n>=fe.length&&(fe.length=n+1),fe[n]=r=V.get(n)),r)(t);Y()?ue.setExitStatus(o):Fe(o)},c.executeNotifiedProxyingQueue=ve,pe=b?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:y?()=>performance.now()-c.__performance_now_clock_drift:()=>performance.now();var xe=[];function we(e){try{return R.grow(e-O.byteLength+65535>>>16),W(R.buffer),1}catch(kxe){}}function ke(e){return y?ye(4,1,e):52}function Se(e,t,n,r,o){return y?ye(5,1,e,t,n,r,o):70}var Ce=[null,[],[]];function Ee(e,t,n,o){if(y)return ye(6,1,e,t,n,o);for(var i,s,l,u=0,c=0;c<n;c++){var d=a()[t>>2],p=a()[t+4>>2];t+=8;for(var f=0;f<p;f++)i=e,s=r()[d+f],l=void 0,l=Ce[i],0===s||10===s?((1===i?N:T)(j(l,0)),l.length=0):l.push(s);u+=p}return a()[o>>2]=u,0}function Ie(e){return c["_"+e]}function Ne(e,t,n,o,a){var i={string:e=>{var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);!function(e,t,n){!function(e,t,n,r){if(!(r>0))return 0;for(var o=n+r-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(n>=o)break;t[n++]=i}else if(i<=2047){if(n+1>=o)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=o)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=o)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}t[n]=0}(e,r(),t,n)}(e,t=We(n),n)}return t},array:e=>{var t=We(e.length);return he(e,t),t}};function s(e){return"string"===t?(n=e)?j(r(),n,o):"":"boolean"===t?Boolean(e):e;var n,o}var l=Ie(e),u=[],c=0;if(o)for(var d=0;d<o.length;d++){var p=i[n[d]];p?(0===c&&(c=Be()),u[d]=p(o[d])):u[d]=o[d]}var f,h=l.apply(null,u);return f=h,0!==c&&je(c),h=s(f)}ue.init();var Te=[null,se,de,me,ke,Se,Ee],Re={__emscripten_init_main_thread_js:function(e){$e(e,!v,1,!g),ue.threadInitTLS()},__emscripten_thread_cleanup:function(e){y?postMessage({cmd:"cleanupThread",thread:e}):ae(e)},__pthread_create_js:ge,_emscripten_default_pthread_stack_size:function(){return 2097152},_emscripten_get_now_is_monotonic:function(){return!0},_emscripten_notify_task_queue:function(e,t,n,r){if(e==t)setTimeout((()=>ve(r)));else if(y)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{var o=ue.pthreads[e];if(!o)return;o.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},_emscripten_set_offscreencanvas_size:function(e,t,n){return-1},abort:function(){J("")},emscripten_check_blocking_allowed:function(){b||v||be("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 2147483648},emscripten_get_now:pe,emscripten_memcpy_big:function(e,t,n){r().copyWithin(e,t,t+n)},emscripten_num_logical_cores:function(){return b?w9.cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){xe.length=t;for(var r=n>>3,o=0;o<t;o++)xe[o]=i()[r+o];return(e<0?re[-e-1]:Te[e]).apply(null,xe)},emscripten_resize_heap:function(e){var t=r().length;if((e>>>=0)<=t)return!1;var n,o,a=2147483648;if(e>a)return!1;for(var i=1;i<=4;i*=2){var s=t*(1+.2/i);if(s=Math.min(s,e+100663296),we(Math.min(a,(n=Math.max(e,s))+((o=65536)-n%o)%o)))return!0}return!1},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},exit:le,fd_close:ke,fd_seek:Se,fd_write:Ee,memory:R||c.wasmMemory};!function(){var e={env:Re,wasi_snapshot_preview1:Re};function t(e,t){var n,r,o=e.exports;if(c.asm=o,n=c.asm._emscripten_tls_init,ue.tlsInitFunctions.push(n),V=c.asm.__indirect_function_table,r=c.asm.__wasm_call_ctors,G.unshift(r),_=t,!y){var a=ue.unusedWorkers.length;ue.unusedWorkers.forEach((function(e){ue.loadWasmModuleToWorker(e,(function(){--a||function(){if(Q--,c.monitorRunDependencies&&c.monitorRunDependencies(Q),0==Q&&Z){var e=Z;Z=null,e()}}()}))}))}}function n(e){t(e.instance,e.module)}function r(t){return function(){if(!I&&(g||v)){if("function"==typeof fetch&&!te(X))return fetch(X,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()})).catch((function(){return ne(X)}));if(p)return new Promise((function(e,t){p(X,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ne(X)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){T("failed to asynchronously prepare wasm: "+e),J(e)}))}if(y||(Q++,c.monitorRunDependencies&&c.monitorRunDependencies(Q)),c.instantiateWasm)try{return c.instantiateWasm(e,t)}catch(kxe){T("Module.instantiateWasm callback failed with error: "+kxe),l(kxe)}(I||"function"!=typeof WebAssembly.instantiateStreaming||ee(X)||te(X)||b||"function"!=typeof fetch?r(n):fetch(X,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return T("wasm streaming compile failed: "+e),T("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(l)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)},c._init=function(){return(c._init=c.asm.init).apply(null,arguments)},c._init_with_threads_count=function(){return(c._init_with_threads_count=c.asm.init_with_threads_count).apply(null,arguments)},c._get_threads_count=function(){return(c._get_threads_count=c.asm.get_threads_count).apply(null,arguments)},c._register_tensor=function(){return(c._register_tensor=c.asm.register_tensor).apply(null,arguments)},c._dispose_data=function(){return(c._dispose_data=c.asm.dispose_data).apply(null,arguments)},c._dispose=function(){return(c._dispose=c.asm.dispose).apply(null,arguments)},c._Abs=function(){return(c._Abs=c.asm.Abs).apply(null,arguments)},c._Add=function(){return(c._Add=c.asm.Add).apply(null,arguments)},c._AddN=function(){return(c._AddN=c.asm.AddN).apply(null,arguments)},c._All=function(){return(c._All=c.asm.All).apply(null,arguments)},c._Any=function(){return(c._Any=c.asm.Any).apply(null,arguments)},c._ArgMax=function(){return(c._ArgMax=c.asm.ArgMax).apply(null,arguments)},c._AvgPool=function(){return(c._AvgPool=c.asm.AvgPool).apply(null,arguments)},c._BatchMatMul=function(){return(c._BatchMatMul=c.asm.BatchMatMul).apply(null,arguments)},c._Ceil=function(){return(c._Ceil=c.asm.Ceil).apply(null,arguments)},c._ClipByValue=function(){return(c._ClipByValue=c.asm.ClipByValue).apply(null,arguments)},c._Conv2D=function(){return(c._Conv2D=c.asm.Conv2D).apply(null,arguments)},c._Conv2DBackpropInput=function(){return(c._Conv2DBackpropInput=c.asm.Conv2DBackpropInput).apply(null,arguments)},c._Cos=function(){return(c._Cos=c.asm.Cos).apply(null,arguments)},c._Cosh=function(){return(c._Cosh=c.asm.Cosh).apply(null,arguments)},c._CropAndResize=function(){return(c._CropAndResize=c.asm.CropAndResize).apply(null,arguments)},c._Cumprod=function(){return(c._Cumprod=c.asm.Cumprod).apply(null,arguments)},c._Cumsum=function(){return(c._Cumsum=c.asm.Cumsum).apply(null,arguments)},c._DepthToSpace=function(){return(c._DepthToSpace=c.asm.DepthToSpace).apply(null,arguments)},c._DepthwiseConv2dNative=function(){return(c._DepthwiseConv2dNative=c.asm.DepthwiseConv2dNative).apply(null,arguments)},c._Elu=function(){return(c._Elu=c.asm.Elu).apply(null,arguments)},c._Equal=function(){return(c._Equal=c.asm.Equal).apply(null,arguments)},c._Exp=function(){return(c._Exp=c.asm.Exp).apply(null,arguments)},c._FlipLeftRight=function(){return(c._FlipLeftRight=c.asm.FlipLeftRight).apply(null,arguments)},c._Floor=function(){return(c._Floor=c.asm.Floor).apply(null,arguments)},c._FloorDiv=function(){return(c._FloorDiv=c.asm.FloorDiv).apply(null,arguments)},c._FusedBatchNorm=function(){return(c._FusedBatchNorm=c.asm.FusedBatchNorm).apply(null,arguments)},c._FusedConv2D=function(){return(c._FusedConv2D=c.asm.FusedConv2D).apply(null,arguments)},c._FusedDepthwiseConv2D=function(){return(c._FusedDepthwiseConv2D=c.asm.FusedDepthwiseConv2D).apply(null,arguments)},c._Gather=function(){return(c._Gather=c.asm.Gather).apply(null,arguments)},c._GatherNd=function(){return(c._GatherNd=c.asm.GatherNd).apply(null,arguments)},c._Greater=function(){return(c._Greater=c.asm.Greater).apply(null,arguments)},c._GreaterEqual=function(){return(c._GreaterEqual=c.asm.GreaterEqual).apply(null,arguments)},c._LeakyRelu=function(){return(c._LeakyRelu=c.asm.LeakyRelu).apply(null,arguments)},c._Less=function(){return(c._Less=c.asm.Less).apply(null,arguments)},c._LessEqual=function(){return(c._LessEqual=c.asm.LessEqual).apply(null,arguments)},c._Log=function(){return(c._Log=c.asm.Log).apply(null,arguments)},c._LogicalAnd=function(){return(c._LogicalAnd=c.asm.LogicalAnd).apply(null,arguments)},c._LogicalNot=function(){return(c._LogicalNot=c.asm.LogicalNot).apply(null,arguments)},c._LogicalOr=function(){return(c._LogicalOr=c.asm.LogicalOr).apply(null,arguments)},c._LogicalXor=function(){return(c._LogicalXor=c.asm.LogicalXor).apply(null,arguments)},c._Max=function(){return(c._Max=c.asm.Max).apply(null,arguments)},c._MaxPool=function(){return(c._MaxPool=c.asm.MaxPool).apply(null,arguments)},c._Maximum=function(){return(c._Maximum=c.asm.Maximum).apply(null,arguments)},c._Mean=function(){return(c._Mean=c.asm.Mean).apply(null,arguments)},c._Min=function(){return(c._Min=c.asm.Min).apply(null,arguments)},c._Minimum=function(){return(c._Minimum=c.asm.Minimum).apply(null,arguments)},c._MirrorPad=function(){return(c._MirrorPad=c.asm.MirrorPad).apply(null,arguments)},c._Multiply=function(){return(c._Multiply=c.asm.Multiply).apply(null,arguments)},c._Neg=function(){return(c._Neg=c.asm.Neg).apply(null,arguments)},c._NonMaxSuppressionV3=function(){return(c._NonMaxSuppressionV3=c.asm.NonMaxSuppressionV3).apply(null,arguments)},c._NonMaxSuppressionV4=function(){return(c._NonMaxSuppressionV4=c.asm.NonMaxSuppressionV4).apply(null,arguments)},c._NonMaxSuppressionV5=function(){return(c._NonMaxSuppressionV5=c.asm.NonMaxSuppressionV5).apply(null,arguments)},c._NotEqual=function(){return(c._NotEqual=c.asm.NotEqual).apply(null,arguments)},c._OneHot=function(){return(c._OneHot=c.asm.OneHot).apply(null,arguments)},c._PadV2=function(){return(c._PadV2=c.asm.PadV2).apply(null,arguments)},c._Pow=function(){return(c._Pow=c.asm.Pow).apply(null,arguments)},c._Prelu=function(){return(c._Prelu=c.asm.Prelu).apply(null,arguments)},c._Prod=function(){return(c._Prod=c.asm.Prod).apply(null,arguments)},c._RealDiv=function(){return(c._RealDiv=c.asm.RealDiv).apply(null,arguments)},c._Relu=function(){return(c._Relu=c.asm.Relu).apply(null,arguments)},c._Relu6=function(){return(c._Relu6=c.asm.Relu6).apply(null,arguments)},c._ResizeBilinear=function(){return(c._ResizeBilinear=c.asm.ResizeBilinear).apply(null,arguments)},c._ResizeNearestNeighbor=function(){return(c._ResizeNearestNeighbor=c.asm.ResizeNearestNeighbor).apply(null,arguments)},c._Reverse=function(){return(c._Reverse=c.asm.Reverse).apply(null,arguments)},c._RotateWithOffset=function(){return(c._RotateWithOffset=c.asm.RotateWithOffset).apply(null,arguments)},c._Round=function(){return(c._Round=c.asm.Round).apply(null,arguments)},c._Rsqrt=function(){return(c._Rsqrt=c.asm.Rsqrt).apply(null,arguments)},c._ScatterNd=function(){return(c._ScatterNd=c.asm.ScatterNd).apply(null,arguments)},c._SelectV2=function(){return(c._SelectV2=c.asm.SelectV2).apply(null,arguments)},c._Sigmoid=function(){return(c._Sigmoid=c.asm.Sigmoid).apply(null,arguments)},c._Sin=function(){return(c._Sin=c.asm.Sin).apply(null,arguments)},c._Softmax=function(){return(c._Softmax=c.asm.Softmax).apply(null,arguments)},c._SparseFillEmptyRows=function(){return(c._SparseFillEmptyRows=c.asm.SparseFillEmptyRows).apply(null,arguments)},c._SparseReshape=function(){return(c._SparseReshape=c.asm.SparseReshape).apply(null,arguments)},c._SparseSegmentReduction=function(){return(c._SparseSegmentReduction=c.asm.SparseSegmentReduction).apply(null,arguments)},c._Sqrt=function(){return(c._Sqrt=c.asm.Sqrt).apply(null,arguments)},c._Square=function(){return(c._Square=c.asm.Square).apply(null,arguments)},c._SquaredDifference=function(){return(c._SquaredDifference=c.asm.SquaredDifference).apply(null,arguments)},c._Step=function(){return(c._Step=c.asm.Step).apply(null,arguments)},c._StridedSlice=function(){return(c._StridedSlice=c.asm.StridedSlice).apply(null,arguments)},c._Sub=function(){return(c._Sub=c.asm.Sub).apply(null,arguments)},c._Sum=function(){return(c._Sum=c.asm.Sum).apply(null,arguments)},c._Tan=function(){return(c._Tan=c.asm.Tan).apply(null,arguments)},c._Tanh=function(){return(c._Tanh=c.asm.Tanh).apply(null,arguments)},c._Tile=function(){return(c._Tile=c.asm.Tile).apply(null,arguments)},c._TopK=function(){return(c._TopK=c.asm.TopK).apply(null,arguments)},c._Transform=function(){return(c._Transform=c.asm.Transform).apply(null,arguments)},c._Transpose=function(){return(c._Transpose=c.asm.Transpose).apply(null,arguments)},c.__FusedMatMul=function(){return(c.__FusedMatMul=c.asm._FusedMatMul).apply(null,arguments)},c._malloc=function(){return(c._malloc=c.asm.malloc).apply(null,arguments)},c._free=function(){return(c._free=c.asm.free).apply(null,arguments)},c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm._emscripten_tls_init).apply(null,arguments)};var _e=c._pthread_self=function(){return(_e=c._pthread_self=c.asm.pthread_self).apply(null,arguments)};c.___errno_location=function(){return(c.___errno_location=c.asm.__errno_location).apply(null,arguments)};var $e=c.__emscripten_thread_init=function(){return($e=c.__emscripten_thread_init=c.asm._emscripten_thread_init).apply(null,arguments)};c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm._emscripten_thread_crashed).apply(null,arguments)},c._emscripten_main_thread_process_queued_calls=function(){return(c._emscripten_main_thread_process_queued_calls=c.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},c._emscripten_main_browser_thread_id=function(){return(c._emscripten_main_browser_thread_id=c.asm.emscripten_main_browser_thread_id).apply(null,arguments)};var Me=c._emscripten_run_in_main_runtime_thread_js=function(){return(Me=c._emscripten_run_in_main_runtime_thread_js=c.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)};c._emscripten_dispatch_to_thread_=function(){return(c._emscripten_dispatch_to_thread_=c.asm.emscripten_dispatch_to_thread_).apply(null,arguments)};var Oe,Ae,Le,Pe=c.__emscripten_proxy_execute_task_queue=function(){return(Pe=c.__emscripten_proxy_execute_task_queue=c.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)},De=c.__emscripten_thread_free_data=function(){return(De=c.__emscripten_thread_free_data=c.asm._emscripten_thread_free_data).apply(null,arguments)},Fe=c.__emscripten_thread_exit=function(){return(Fe=c.__emscripten_thread_exit=c.asm._emscripten_thread_exit).apply(null,arguments)},ze=c._emscripten_stack_set_limits=function(){return(ze=c._emscripten_stack_set_limits=c.asm.emscripten_stack_set_limits).apply(null,arguments)},Be=c.stackSave=function(){return(Be=c.stackSave=c.asm.stackSave).apply(null,arguments)},je=c.stackRestore=function(){return(je=c.stackRestore=c.asm.stackRestore).apply(null,arguments)},We=c.stackAlloc=function(){return(We=c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)};function Ve(e){if(!(Q>0)){if(y)return s(c),K(),void postMessage({cmd:"loaded"});!function(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)e=c.preRun.shift(),U.unshift(e);var e;ce(U)}(),Q>0||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),t()}),1)):t())}function t(){Oe||(Oe=!0,c.calledRun=!0,z||(K(),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),function(){if(!y){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)e=c.postRun.shift(),q.unshift(e);var e;ce(q)}}()))}}if(c.dynCall_iijjiiii=function(){return(c.dynCall_iijjiiii=c.asm.dynCall_iijjiiii).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.dynCall_jiji).apply(null,arguments)},c.keepRuntimeAlive=Y,c.wasmMemory=R,c.cwrap=function(e,t,n,r){var o=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&o&&!r?Ie(e):function(){return Ne(e,t,n,arguments)}},c.ExitStatus=oe,c.PThread=ue,Z=function e(){Oe||Ve(),Oe||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();if(Ve(),u&&(Ae={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!u.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!u.unhandledRejection.indexOf(e)>-1}))}),"undefined"!=typeof WasmBackendModule)Le=WasmBackendModule;else{if(void 0===e)throw new Error("Could not find wasm module in post.js");Le=e}if(Ae){var He=Le._dispose;Le._dispose=function(){He(),Ae.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Ae.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=r}(xme);var wme=xme.exports;const kme=n(wme),Sme=e({__proto__:null,default:kme},[wme]);var Cme='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8"))},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};',Eme={exports:{}};!function(e){var t,n=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(t=t||__filename),function(e){var n,r,o,a=void 0!==(e=e||{})?e:{};a.ready=new Promise((function(e,t){n=e,r=t})),"undefined"!=typeof process&&process.listeners&&(o={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var i,s,l,u,c,d=Object.assign({},a),p="object"==typeof window,f="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";h?(m=f?w9.dirname(m)+"/":__dirname+"/",u=w9,c=w9,i=(e,t)=>(e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")),l=e=>{var t=i(e,!0);return t.buffer||(t=new Uint8Array(t)),t},s=(e,t,n)=>{e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof z))throw e})),process.on("unhandledRejection",(function(e){throw e})),a.inspect=function(){return"[Emscripten Module object]"}):(p||f)&&(f?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),t&&(m=t),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var g,v,b=a.print||console.log.bind(console),y=a.printErr||console.warn.bind(console);Object.assign(a,d),d=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&a.quit,a.wasmBinary&&(g=a.wasmBinary),a.noExitRuntime,"object"!=typeof WebAssembly&&L("no native wasm support detected");var x,w,k,S,C=!1,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&E)return E.decode(e.subarray(t,o));for(var a="";t<o;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var u=i-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function N(e){x=e,a.HEAP8=w=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=new Int32Array(e),a.HEAPU8=k=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=S=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}a.INITIAL_MEMORY;var T,R,_=[],$=[],M=[],O=0,A=null;function L(e){a.onAbort&&a.onAbort(e),y(e="Aborted("+e+")"),C=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function P(e){return e.startsWith("data:application/octet-stream;base64,")}function D(e){return e.startsWith("file://")}function F(e){try{if(e==T&&g)return new Uint8Array(g);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(t){L(t)}}function z(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function B(e){for(;e.length>0;)e.shift()(a)}function j(e){try{return v.grow(e-x.byteLength+65535>>>16),N(v.buffer),1}catch(kxe){}}P(T="tfjs-backend-wasm.wasm")||(R=T,T=a.locateFile?a.locateFile(R,m):m+R);var W=[null,[],[]];function V(e){return a["_"+e]}function H(e,t,n,r,o){var a={string:e=>{var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);!function(e,t,n){!function(e,t,n,r){if(!(r>0))return 0;for(var o=n+r-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(n>=o)break;t[n++]=i}else if(i<=2047){if(n+1>=o)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=o)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=o)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}t[n]=0}(e,k,t,n)}(e,t=Q(n),n)}return t},array:e=>{var t,n,r=Q(e.length);return t=e,n=r,w.set(t,n),r}};function i(e){return"string"===t?(n=e)?I(k,n,r):"":"boolean"===t?Boolean(e):e;var n,r}var s=V(e),l=[],u=0;if(r)for(var c=0;c<r.length;c++){var d=a[n[c]];d?(0===u&&(u=K()),l[c]=d(r[c])):l[c]=r[c]}var p,f=s.apply(null,l);return p=f,0!==u&&X(u),f=i(p)}var U={abort:function(){L("")},emscripten_get_heap_max:function(){return 2147483648},emscripten_memcpy_big:function(e,t,n){k.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t,n,r=k.length,o=2147483648;if((e>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=r*(1+.2/a);if(i=Math.min(i,e+100663296),j(Math.min(o,(t=Math.max(e,i))+((n=65536)-t%n)%n)))return!0}return!1},fd_close:function(e){return 52},fd_seek:function(e,t,n,r,o){return 70},fd_write:function(e,t,n,r){for(var o,a,i,s=0,l=0;l<n;l++){var u=S[t>>2],c=S[t+4>>2];t+=8;for(var d=0;d<c;d++)o=e,a=k[u+d],i=void 0,i=W[o],0===a||10===a?((1===o?b:y)(I(i,0)),i.length=0):i.push(a);s+=c}return S[r>>2]=s,0}};!function(){var e={env:U,wasi_snapshot_preview1:U};function t(e,t){var n,r=e.exports;a.asm=r,N((v=a.asm.memory).buffer),a.asm.__indirect_function_table,n=a.asm.__wasm_call_ctors,$.unshift(n),function(){if(O--,a.monitorRunDependencies&&a.monitorRunDependencies(O),0==O&&A){var e=A;A=null,e()}}()}function n(e){t(e.instance)}function o(t){return function(){if(!g&&(p||f)){if("function"==typeof fetch&&!D(T))return fetch(T,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+T+"'";return e.arrayBuffer()})).catch((function(){return F(T)}));if(s)return new Promise((function(e,t){s(T,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return F(T)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){y("failed to asynchronously prepare wasm: "+e),L(e)}))}if(O++,a.monitorRunDependencies&&a.monitorRunDependencies(O),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(kxe){y("Module.instantiateWasm callback failed with error: "+kxe),r(kxe)}(g||"function"!=typeof WebAssembly.instantiateStreaming||P(T)||D(T)||h||"function"!=typeof fetch?o(n):fetch(T,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return y("wasm streaming compile failed: "+e),y("falling back to ArrayBuffer instantiation"),o(n)}))}))).catch(r)}(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)},a._init=function(){return(a._init=a.asm.init).apply(null,arguments)},a._init_with_threads_count=function(){return(a._init_with_threads_count=a.asm.init_with_threads_count).apply(null,arguments)},a._get_threads_count=function(){return(a._get_threads_count=a.asm.get_threads_count).apply(null,arguments)},a._register_tensor=function(){return(a._register_tensor=a.asm.register_tensor).apply(null,arguments)},a._dispose_data=function(){return(a._dispose_data=a.asm.dispose_data).apply(null,arguments)},a._dispose=function(){return(a._dispose=a.asm.dispose).apply(null,arguments)},a._Abs=function(){return(a._Abs=a.asm.Abs).apply(null,arguments)},a._Add=function(){return(a._Add=a.asm.Add).apply(null,arguments)},a._AddN=function(){return(a._AddN=a.asm.AddN).apply(null,arguments)},a._All=function(){return(a._All=a.asm.All).apply(null,arguments)},a._Any=function(){return(a._Any=a.asm.Any).apply(null,arguments)},a._ArgMax=function(){return(a._ArgMax=a.asm.ArgMax).apply(null,arguments)},a._AvgPool=function(){return(a._AvgPool=a.asm.AvgPool).apply(null,arguments)},a._BatchMatMul=function(){return(a._BatchMatMul=a.asm.BatchMatMul).apply(null,arguments)},a._Ceil=function(){return(a._Ceil=a.asm.Ceil).apply(null,arguments)},a._ClipByValue=function(){return(a._ClipByValue=a.asm.ClipByValue).apply(null,arguments)},a._Conv2D=function(){return(a._Conv2D=a.asm.Conv2D).apply(null,arguments)},a._Conv2DBackpropInput=function(){return(a._Conv2DBackpropInput=a.asm.Conv2DBackpropInput).apply(null,arguments)},a._Cos=function(){return(a._Cos=a.asm.Cos).apply(null,arguments)},a._Cosh=function(){return(a._Cosh=a.asm.Cosh).apply(null,arguments)},a._CropAndResize=function(){return(a._CropAndResize=a.asm.CropAndResize).apply(null,arguments)},a._Cumprod=function(){return(a._Cumprod=a.asm.Cumprod).apply(null,arguments)},a._Cumsum=function(){return(a._Cumsum=a.asm.Cumsum).apply(null,arguments)},a._DepthToSpace=function(){return(a._DepthToSpace=a.asm.DepthToSpace).apply(null,arguments)},a._DepthwiseConv2dNative=function(){return(a._DepthwiseConv2dNative=a.asm.DepthwiseConv2dNative).apply(null,arguments)},a._Elu=function(){return(a._Elu=a.asm.Elu).apply(null,arguments)},a._Equal=function(){return(a._Equal=a.asm.Equal).apply(null,arguments)},a._Exp=function(){return(a._Exp=a.asm.Exp).apply(null,arguments)},a._FlipLeftRight=function(){return(a._FlipLeftRight=a.asm.FlipLeftRight).apply(null,arguments)},a._Floor=function(){return(a._Floor=a.asm.Floor).apply(null,arguments)},a._FloorDiv=function(){return(a._FloorDiv=a.asm.FloorDiv).apply(null,arguments)},a._FusedBatchNorm=function(){return(a._FusedBatchNorm=a.asm.FusedBatchNorm).apply(null,arguments)},a._FusedConv2D=function(){return(a._FusedConv2D=a.asm.FusedConv2D).apply(null,arguments)},a._FusedDepthwiseConv2D=function(){return(a._FusedDepthwiseConv2D=a.asm.FusedDepthwiseConv2D).apply(null,arguments)},a._Gather=function(){return(a._Gather=a.asm.Gather).apply(null,arguments)},a._GatherNd=function(){return(a._GatherNd=a.asm.GatherNd).apply(null,arguments)},a._Greater=function(){return(a._Greater=a.asm.Greater).apply(null,arguments)},a._GreaterEqual=function(){return(a._GreaterEqual=a.asm.GreaterEqual).apply(null,arguments)},a._LeakyRelu=function(){return(a._LeakyRelu=a.asm.LeakyRelu).apply(null,arguments)},a._Less=function(){return(a._Less=a.asm.Less).apply(null,arguments)},a._LessEqual=function(){return(a._LessEqual=a.asm.LessEqual).apply(null,arguments)},a._Log=function(){return(a._Log=a.asm.Log).apply(null,arguments)},a._LogicalAnd=function(){return(a._LogicalAnd=a.asm.LogicalAnd).apply(null,arguments)},a._LogicalNot=function(){return(a._LogicalNot=a.asm.LogicalNot).apply(null,arguments)},a._LogicalOr=function(){return(a._LogicalOr=a.asm.LogicalOr).apply(null,arguments)},a._LogicalXor=function(){return(a._LogicalXor=a.asm.LogicalXor).apply(null,arguments)},a._Max=function(){return(a._Max=a.asm.Max).apply(null,arguments)},a._MaxPool=function(){return(a._MaxPool=a.asm.MaxPool).apply(null,arguments)},a._Maximum=function(){return(a._Maximum=a.asm.Maximum).apply(null,arguments)},a._Mean=function(){return(a._Mean=a.asm.Mean).apply(null,arguments)},a._Min=function(){return(a._Min=a.asm.Min).apply(null,arguments)},a._Minimum=function(){return(a._Minimum=a.asm.Minimum).apply(null,arguments)},a._MirrorPad=function(){return(a._MirrorPad=a.asm.MirrorPad).apply(null,arguments)},a._Multiply=function(){return(a._Multiply=a.asm.Multiply).apply(null,arguments)},a._Neg=function(){return(a._Neg=a.asm.Neg).apply(null,arguments)},a._NonMaxSuppressionV3=function(){return(a._NonMaxSuppressionV3=a.asm.NonMaxSuppressionV3).apply(null,arguments)},a._NonMaxSuppressionV4=function(){return(a._NonMaxSuppressionV4=a.asm.NonMaxSuppressionV4).apply(null,arguments)},a._NonMaxSuppressionV5=function(){return(a._NonMaxSuppressionV5=a.asm.NonMaxSuppressionV5).apply(null,arguments)},a._NotEqual=function(){return(a._NotEqual=a.asm.NotEqual).apply(null,arguments)},a._OneHot=function(){return(a._OneHot=a.asm.OneHot).apply(null,arguments)},a._PadV2=function(){return(a._PadV2=a.asm.PadV2).apply(null,arguments)},a._Pow=function(){return(a._Pow=a.asm.Pow).apply(null,arguments)},a._Prelu=function(){return(a._Prelu=a.asm.Prelu).apply(null,arguments)},a._Prod=function(){return(a._Prod=a.asm.Prod).apply(null,arguments)},a._RealDiv=function(){return(a._RealDiv=a.asm.RealDiv).apply(null,arguments)},a._Relu=function(){return(a._Relu=a.asm.Relu).apply(null,arguments)},a._Relu6=function(){return(a._Relu6=a.asm.Relu6).apply(null,arguments)},a._ResizeBilinear=function(){return(a._ResizeBilinear=a.asm.ResizeBilinear).apply(null,arguments)},a._ResizeNearestNeighbor=function(){return(a._ResizeNearestNeighbor=a.asm.ResizeNearestNeighbor).apply(null,arguments)},a._Reverse=function(){return(a._Reverse=a.asm.Reverse).apply(null,arguments)},a._RotateWithOffset=function(){return(a._RotateWithOffset=a.asm.RotateWithOffset).apply(null,arguments)},a._Round=function(){return(a._Round=a.asm.Round).apply(null,arguments)},a._Rsqrt=function(){return(a._Rsqrt=a.asm.Rsqrt).apply(null,arguments)},a._ScatterNd=function(){return(a._ScatterNd=a.asm.ScatterNd).apply(null,arguments)},a._SelectV2=function(){return(a._SelectV2=a.asm.SelectV2).apply(null,arguments)},a._Sigmoid=function(){return(a._Sigmoid=a.asm.Sigmoid).apply(null,arguments)},a._Sin=function(){return(a._Sin=a.asm.Sin).apply(null,arguments)},a._Softmax=function(){return(a._Softmax=a.asm.Softmax).apply(null,arguments)},a._SparseFillEmptyRows=function(){return(a._SparseFillEmptyRows=a.asm.SparseFillEmptyRows).apply(null,arguments)},a._SparseReshape=function(){return(a._SparseReshape=a.asm.SparseReshape).apply(null,arguments)},a._SparseSegmentReduction=function(){return(a._SparseSegmentReduction=a.asm.SparseSegmentReduction).apply(null,arguments)},a._Sqrt=function(){return(a._Sqrt=a.asm.Sqrt).apply(null,arguments)},a._Square=function(){return(a._Square=a.asm.Square).apply(null,arguments)},a._SquaredDifference=function(){return(a._SquaredDifference=a.asm.SquaredDifference).apply(null,arguments)},a._Step=function(){return(a._Step=a.asm.Step).apply(null,arguments)},a._StridedSlice=function(){return(a._StridedSlice=a.asm.StridedSlice).apply(null,arguments)},a._Sub=function(){return(a._Sub=a.asm.Sub).apply(null,arguments)},a._Sum=function(){return(a._Sum=a.asm.Sum).apply(null,arguments)},a._Tan=function(){return(a._Tan=a.asm.Tan).apply(null,arguments)},a._Tanh=function(){return(a._Tanh=a.asm.Tanh).apply(null,arguments)},a._Tile=function(){return(a._Tile=a.asm.Tile).apply(null,arguments)},a._TopK=function(){return(a._TopK=a.asm.TopK).apply(null,arguments)},a._Transform=function(){return(a._Transform=a.asm.Transform).apply(null,arguments)},a._Transpose=function(){return(a._Transpose=a.asm.Transpose).apply(null,arguments)},a.__FusedMatMul=function(){return(a.__FusedMatMul=a.asm._FusedMatMul).apply(null,arguments)},a._malloc=function(){return(a._malloc=a.asm.malloc).apply(null,arguments)},a._free=function(){return(a._free=a.asm.free).apply(null,arguments)},a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)};var G,q,Y,K=a.stackSave=function(){return(K=a.stackSave=a.asm.stackSave).apply(null,arguments)},X=a.stackRestore=function(){return(X=a.stackRestore=a.asm.stackRestore).apply(null,arguments)},Q=a.stackAlloc=function(){return(Q=a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)};function Z(e){function t(){G||(G=!0,a.calledRun=!0,C||(B($),n(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),M.unshift(e);var e;B(M)}()))}O>0||(function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),_.unshift(e);var e;B(_)}(),O>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}if(a.dynCall_iijjiiii=function(){return(a.dynCall_iijjiiii=a.asm.dynCall_iijjiiii).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.cwrap=function(e,t,n,r){var o=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&o&&!r?V(e):function(){return H(e,t,n,arguments)}},A=function e(){G||Z(),G||(A=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();if(Z(),o&&(q={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!o.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!o.unhandledRejection.indexOf(e)>-1}))}),void 0!==e)Y=e;else{if("undefined"==typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");Y=WasmBackendModuleThreadedSimd}if(q){var J=Y._dispose;Y._dispose=function(){J(),q.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),q.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=n}(Eme);var Ime=Eme.exports;const Nme=n(Ime),Tme=kme||Sme,Rme=Nme||e({__proto__:null,default:Nme},[Ime]);class _me extends nZ{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(zme),this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new tZ(this,F4())}write(e,t,n){const r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=_2();e();return{kernelMs:_2()-t}}move(e,t,n,r,o){const a=this.dataIdNextNumber++;if("string"===r){const i=t;return void this.dataIdMap.set(e,{id:a,stringBytes:i,shape:n,dtype:r,memoryOffset:null,refCount:o})}const i=dZ(n),s=i*SZ(r),l=this.wasm._malloc(s);this.dataIdMap.set(e,{id:a,memoryOffset:l,shape:n,dtype:r,refCount:o}),this.wasm.tfjs.registerTensor(a,i,l),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,s),l)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:r,dtype:o,shape:a,stringBytes:i}=this.dataIdMap.get(e);if("string"===o)return null!=t&&0!==t||!(null==n||n>=i.length)?i.slice(t,n):i;t=t||0,n=n||dZ(a);const s=SZ(o);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}(this.wasm.HEAPU8.slice(r+t*s,r+n*s).buffer,o)}disposeData(e,t=!1){if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n){let r;if(null==n)r=this.write(null,e,t);else{const o=this.dataIdNextNumber++;r={id:o},this.dataIdMap.set(r,{id:o,memoryOffset:n,shape:e,dtype:t,refCount:1});const a=dZ(e);this.wasm.tfjs.registerTensor(o,a,n)}return{dataId:r,shape:e,dtype:t}}typedArrayFromHeap({shape:e,dtype:t,dataId:n}){const r=this.wasm.HEAPU8.buffer,{memoryOffset:o}=this.dataIdMap.get(n),a=dZ(e);switch(t){case"float32":return new Float32Array(r,o,a);case"int32":return new Int32Array(r,o,a);case"bool":return new Uint8Array(r,o,a);default:throw new Error(`Unknown dtype ${t}`)}}}function $me(e,t,n){let r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),null!=Pme&&null!=Pme[r]?Pme[r]:n+r}async function Mme(){const[e,t]=await Promise.all([BZ().getAsync("WASM_HAS_SIMD_SUPPORT"),BZ().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((n,r)=>{const o={};var a;o.locateFile=(n,r)=>{if(n.endsWith(".worker.js")){const e=Cme.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return n.endsWith(".wasm")?$me(e,t,null!=Lme?Lme:r):r+n},Fme&&(o.instantiateWasm=(a=$me(e,t,null!=Lme?Lme:""),(e,t)=>($2(a,{credentials:"same-origin"}).then((n=>{n.ok||e.env.a(`failed to load wasm binary file at '${a}'`),n.arrayBuffer().then((n=>{WebAssembly.instantiate(n,e).then((e=>{t(e.instance,e.module)}))}))})),{})));let i,s=!1;o.onAbort=()=>{if(s)return;if(Dme)return;Dme=!0;r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"})},t&&e&&null==Ame?(o.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+Tme.toString()],{type:"text/javascript"}),i=Tme(o)):i=Rme(o),i.then((e=>{s=!0,Dme=!1;e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})})).catch(r)}))}const Ome=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let Ame=null,Lme=null,Pme={},Dme=!1,Fme=!1;let zme=-1;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Bme;W4("wasm",(async()=>{const{wasm:e}=await Mme();return new _me(e)}),2),function(e,t=!1){if(Dme)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)Lme=e;else{Pme=e;const t=Ome.filter((e=>null==Pme[e]));if(t.length>0)throw new Error(`There were no entries found for the following binaries: ${t.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}Fme=t}("/wasm/"),Bme="webgl",f3.setBackend(Bme),BZ().set("PROD",!0);var jme={exports:{}};jme.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",a="minute",i="hour",s="day",l="week",u="month",c="quarter",d="year",p="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,u),a=n-o<0,i=t.clone().add(r+(a?-1:1),u);return+(-(r+(n-o)/(a?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:s,D:p,h:i,m:a,s:o,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",x={};x[y]=g;var w=function(e){return e instanceof E},k=function e(t,n,r){var o;if(!t)return y;if("string"==typeof t){var a=t.toLowerCase();x[a]&&(o=a),n&&(x[a]=n,o=a);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var s=t.name;x[s]=t,o=s}return!r&&o&&(y=o),o||!r&&y},S=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new E(n)},C=b;C.l=k,C.i=w,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var o=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!C.u(t)||t,c=C.p(e),f=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(s)},h=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(c){case d:return r?f(1,0):f(31,11);case u:return r?f(1,g):f(0,g+1);case l:var y=this.$locale().weekStart||0,x=(m<y?m+7:m)-y;return f(r?v-x:v+(6-x),g);case s:case p:return h(b+"Hours",0);case i:return h(b+"Minutes",1);case a:return h(b+"Seconds",2);case o:return h(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=C.p(e),c="set"+(this.$u?"UTC":""),f=(n={},n[s]=c+"Date",n[p]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[i]=c+"Hours",n[a]=c+"Minutes",n[o]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],h=l===s?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(p,1);m.$d[f](h),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[C.p(e)]()},v.add=function(r,c){var p,f=this;r=Number(r);var h=C.p(c),m=function(e){var t=S(f);return C.w(t.date(t.date()+Math.round(e*r)),f)};if(h===u)return this.set(u,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return m(1);if(h===l)return m(7);var g=(p={},p[a]=t,p[i]=n,p[o]=e,p)[h]||1,v=this.$d.getTime()+r*g;return C.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),a=this.$H,i=this.$m,s=this.$M,l=n.weekdays,u=n.months,c=function(e,n,o,a){return e&&(e[n]||e(t,r))||o[n].slice(0,a)},d=function(e){return C.s(a%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:C.s(s+1,2,"0"),MMM:c(n.monthsShort,s,u,3),MMMM:c(u,s),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,l,2),ddd:c(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:C.s(a,2,"0"),h:d(1),hh:d(2),a:p(a,i,!0),A:p(a,i,!1),m:String(i),mm:C.s(i,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:o};return r.replace(m,(function(e,t){return t||h[e]||o.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,p,f){var h,m=C.p(p),g=S(r),v=(g.utcOffset()-this.utcOffset())*t,b=this-g,y=C.m(this,g);return y=(h={},h[d]=y/12,h[u]=y,h[c]=y/3,h[l]=(b-v)/6048e5,h[s]=(b-v)/864e5,h[i]=b/n,h[a]=b/t,h[o]=b/e,h)[m]||b,f?y:C.a(y)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),I=E.prototype;return S.prototype=I,[["$ms",r],["$s",o],["$m",a],["$H",i],["$W",s],["$M",u],["$y",d],["$D",p]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,E,S),e.$i=!0),S},S.locale=k,S.isDayjs=w,S.unix=function(e){return S(1e3*e)},S.en=x[y],S.Ls=x,S.p={},S}();const Wme=n(jme.exports);var Vme={exports:{}};Vme.exports=function(){var e="week",t="year";return function(n,r,o){var a=r.prototype;a.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var a=o(this).startOf(t).add(1,t).date(r),i=o(this).endOf(e);if(a.isBefore(i))return 1}var s=o(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(s,e,!0);return l<0?o(this).startOf("week").week():Math.ceil(l)},a.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}();const Hme=n(Vme.exports);var Ume={exports:{}};Ume.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},i=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(e,t){var n,r=a.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=c(e,!1)}],a:[o,function(e){this.afternoon=c(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[o,function(e){var t=a.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[o,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function p(n){var r,o;r=n,o=a&&a.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var a=r&&r.toUpperCase();return n||o[r]||e[r]||o[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=i.length,l=0;l<s;l+=1){var u=i[l],c=d[u],p=c&&c[0],f=c&&c[1];i[l]=f?{regex:p,parser:f}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var o=i[n];if("string"==typeof o)r+=o.length;else{var a=o.regex,l=o.parser,u=e.slice(r),c=a.exec(u)[0];l.call(t,c),e=e.replace(c,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var s=i[1];if("string"==typeof s){var l=!0===i[2],u=!0===i[3],c=l||u,d=i[2];u&&(d=i[2]),a=this.$locale(),!l&&d&&(a=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=p(t)(e),o=r.year,a=r.month,i=r.day,s=r.hours,l=r.minutes,u=r.seconds,c=r.milliseconds,d=r.zone,f=new Date,h=i||(o||a?1:f.getDate()),m=o||f.getFullYear(),g=0;o&&!a||(g=a>0?a-1:f.getMonth());var v=s||0,b=l||0,y=u||0,x=c||0;return d?new Date(Date.UTC(m,g,h,v,b,y,x+60*d.offset*1e3)):n?new Date(Date.UTC(m,g,h,v,b,y,x)):new Date(m,g,h,v,b,y,x)}catch(w){return new Date("")}}(t,s,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),c&&t!=this.format(s)&&(this.$d=new Date("")),a={}}else if(s instanceof Array)for(var f=s.length,h=1;h<=f;h+=1){i[1]=s[h-1];var m=n.apply(this,i);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}h===f&&(this.$d=new Date(""))}else o.call(this,e)}}}();const Gme=n(Ume.exports);var qme={exports:{}};qme.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var o=n.prototype,a=o.format;r.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n,r=this.$locale().formats,o=(n=void 0===r?{}:r,t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,o){var a=o&&o.toUpperCase();return r||n[o]||e[o]||n[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))})));return a.call(this,o)}}}();const Yme=n(qme.exports);var Kme={exports:{}};Kme.exports=function(e,t,n){t.prototype.isBetween=function(e,t,r,o){var a=n(e),i=n(t),s="("===(o=o||"()")[0],l=")"===o[1];return(s?this.isAfter(a,r):!this.isBefore(a,r))&&(l?this.isBefore(i,r):!this.isAfter(i,r))||(s?this.isBefore(a,r):!this.isAfter(a,r))&&(l?this.isAfter(i,r):!this.isBefore(i,r))}};const Xme=n(Kme.exports);Wme.extend(Gme),Wme.extend(Yme),Wme.extend(Xme);const Qme=((e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join("\n"):e;return()=>{n||(n=!0,"error"===t?console.error(r):console.warn(r))}})(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),Zme={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Jme={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",fullDateWithWeekday:"dddd, LL",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",monthAndYear:"MMMM YYYY",monthAndDate:"MMMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},ege=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join("\n"),tge=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join("\n");const nge=["localeText"],rge=W.createContext(null),oge=function(e){var t;const{localeText:n}=e,r=ke(e,nge),{utils:o,localeText:a}=null!=(t=W.useContext(rge))?t:{utils:void 0,localeText:void 0},i=Ya({props:r,name:"MuiLocalizationProvider"}),{children:s,dateAdapter:l,dateFormats:u,dateLibInstance:c,adapterLocale:d,localeText:p}=i,f=W.useMemo((()=>we({},p,a,n)),[p,a,n]),h=W.useMemo((()=>{if(!l)return o||null;const e=new l({locale:d,formats:u,instance:c});if(!e.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[l,d,u,c,o]),m=W.useMemo((()=>h?{minDate:h.date("1900-01-01T00:00:00.000"),maxDate:h.date("2099-12-31T00:00:00.000")}:null),[h]),g=W.useMemo((()=>({utils:h,defaultDates:m,localeText:f})),[m,h,f]);return Z.jsx(rge.Provider,{value:g,children:s})},age=Ua({breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}},components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"unset"}}}},palette:{mode:"dark",primary:{main:"#3F51B5"},secondary:{main:"#F5F8FF"},success:{dark:"#2F6b39",light:"#5fc16d",main:"#38b249"},warning:{dark:"#8D682d",light:"#f7bb57",main:"#f6ab2e"},info:{dark:"#1D4580",light:"#4483df",main:"#1664d8"},error:{dark:"#85372b",light:"#eb6d57",main:"#e6492d"},text:{primary:"#fff",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},background:{default:"#111318",paper:"#1d1f24"}}});var ige,sge=vy;ige=sge.createRoot,sge.hydrateRoot;const lge=gS(Z.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),uge=gS(Z.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),cge=gS(Z.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),dge=gS(Z.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),pge=gS(Z.jsx("path",{d:"M18 2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H9V4h9v12zM3 15v-2h2v2H3zm0-5.5h2v2H3v-2zM10 20h2v2h-2v-2zm-7-1.5v-2h2v2H3zM5 22c-1.1 0-2-.9-2-2h2v2zm3.5 0h-2v-2h2v2zm5 0v-2h2c0 1.1-.9 2-2 2zM5 6v2H3c0-1.1.9-2 2-2z"}),"CopyAll"),fge=gS(Z.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7zm17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4h-1z"}),"DataObject"),hge=gS(Z.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),mge=gS(Z.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),gge=gS(Z.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),vge=gS(Z.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8l-6-6zm-1 7V3.5L18.5 9H13zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen"),bge=gS(Z.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),yge=gS(Z.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft"),xge=gS(Z.jsx("path",{d:"M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"}),"MoveToInbox"),wge=gS(Z.jsx("path",{d:"M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zM8 11h2v3h4v-3h2l-4-4-4 4z"}),"Outbox"),kge=gS(Z.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh"),Sge=gS(Z.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save"),Cge=gS(Z.jsx("path",{d:"M21 12.4V7l-4-4H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h7.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"}),"SaveAs"),Ege=gS(Z.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),Ige=MK("jsonl_tune"),Nge=nL();function Tge(e){return e.map((e=>{const t=function(e){const t=[Rge(e.history.message1),Rge(e.history.message2),Rge(e.history.message3),Rge(e.history.message4),Rge(e.history.message5),{role:e.input.role,content:e.input.content}].filter((e=>null!==e&&(e.content||"tool_calls"in e&&e.tool_calls.length>0))),n=[e.input.tool1,e.input.tool2,e.input.tool3,e.input.tool4,e.input.tool5].filter((e=>!!(null==e?void 0:e.name))).map((e=>({type:"function",function:$ge(e)})));return{messages:t,tools:n.length>0?n:[],parallel_tool_calls:!0}}(e),n=_ge(e.preferred_output),r=_ge(e.non_preferred_output),o={input:t,preferred_output:n,non_preferred_output:r};return t.messages.length&&n.length&&r.length?JSON.stringify(o):null})).filter((e=>e)).join("\n")}function Rge(e){var t;return(null==e?void 0:e.role)?{role:e.role,content:e.content,..."assistant"===e.role&&(null==(t=e.tool1)?void 0:t.name)?{tool_calls:[Oge(e.tool1)]}:{}}:null}function _ge(e){const t=[e.tool1,e.tool2,e.tool3,e.tool4,e.tool5].filter((e=>!!(null==e?void 0:e.name))).map((e=>Oge(e)));return[{role:e.role,content:e.content,...t.length>0?{tool_calls:t}:{}}].filter((e=>e.content||"tool_calls"in e&&e.tool_calls.length>0))}function $ge(e){var t,n,r,o,a;const i={},s=[];return(null==(t=e.arg1)?void 0:t.name)&&(i[e.arg1.name]=Mge(e.arg1),e.arg1.required&&s.push(e.arg1.name)),(null==(n=e.arg2)?void 0:n.name)&&(i[e.arg2.name]=Mge(e.arg2),e.arg2.required&&s.push(e.arg2.name)),(null==(r=e.arg3)?void 0:r.name)&&(i[e.arg3.name]=Mge(e.arg3),e.arg3.required&&s.push(e.arg3.name)),(null==(o=e.arg4)?void 0:o.name)&&(i[e.arg4.name]=Mge(e.arg4),e.arg4.required&&s.push(e.arg4.name)),(null==(a=e.arg5)?void 0:a.name)&&(i[e.arg5.name]=Mge(e.arg5),e.arg5.required&&s.push(e.arg5.name)),{name:e.name,description:e.description,parameters:{type:"object",properties:i,required:s.length>0?s:void 0}}}function Mge(e){const t={type:e.type,description:e.description};return e.enum&&(t.enum=e.enum),t}function Oge(e){var t,n,r,o,a;const i={};(null==(t=e.arg1)?void 0:t.key)&&""!==e.arg1.key.trim()&&(i[e.arg1.key]=e.arg1.value),(null==(n=e.arg2)?void 0:n.key)&&""!==e.arg2.key.trim()&&(i[e.arg2.key]=e.arg2.value),(null==(r=e.arg3)?void 0:r.key)&&""!==e.arg3.key.trim()&&(i[e.arg3.key]=e.arg3.value),(null==(o=e.arg4)?void 0:o.key)&&""!==e.arg4.key.trim()&&(i[e.arg4.key]=e.arg4.value),(null==(a=e.arg5)?void 0:a.key)&&""!==e.arg5.key.trim()&&(i[e.arg5.key]=e.arg5.value);return{id:`call_${Math.random().toString(36).substr(2,9)}`,type:"function",function:{name:e.name,arguments:JSON.stringify(i)}}}function Age(e,t){var n;const r={role:e.role,content:e.content||"",tool1:t};if("assistant"===e.role&&(null==(n=e.tool_calls)?void 0:n.length)){const t=e.tool_calls[0];r.tool1=Dge(t)}return r}function Lge(e,t){var n,r,o,a,i,s,l,u,c,d,p;const f=(null==(n=e.parameters)?void 0:n.properties)||{},h=Object.keys(f),m=Object.values(f);return{name:e.name||"",description:e.description||"",arg1:Pge(m[0],h[0],null==(o=null==(r=e.parameters)?void 0:r.required)?void 0:o.includes(h[0])),arg2:Pge(m[1],h[1],null==(i=null==(a=e.parameters)?void 0:a.required)?void 0:i.includes(h[1])),arg3:Pge(m[2],h[2],null==(l=null==(s=e.parameters)?void 0:s.required)?void 0:l.includes(h[2])),arg4:Pge(m[3],h[3],null==(c=null==(u=e.parameters)?void 0:u.required)?void 0:c.includes(h[3])),arg5:Pge(m[4],h[4],null==(p=null==(d=e.parameters)?void 0:d.required)?void 0:p.includes(h[4]))}}function Pge(e,t,n=!1){return{name:t||"",type:(null==e?void 0:e.type)||"",description:(null==e?void 0:e.description)||"",enum:(null==e?void 0:e.enum)||null,required:n}}function Dge(e){const t=e.function.arguments?JSON.parse(e.function.arguments):{},n=Object.entries(t).slice(0,5),r=[{key:"",value:""},{key:"",value:""},{key:"",value:""},{key:"",value:""},{key:"",value:""}];return n.forEach((([e,t],n)=>{r[n]={key:e,value:String(t)}})),{name:e.function.name||"",arg1:r[0],arg2:r[1],arg3:r[2],arg4:r[3],arg5:r[4]}}const Fge="object"==typeof global&&global&&global.Object===Object&&global;var zge="object"==typeof self&&self&&self.Object===Object&&self;const Bge=Fge||zge||Function("return this")();const jge=Bge.Symbol;var Wge=Object.prototype,Vge=Wge.hasOwnProperty,Hge=Wge.toString,Uge=jge?jge.toStringTag:void 0;var Gge=Object.prototype.toString;var qge=jge?jge.toStringTag:void 0;function Yge(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":qge&&qge in Object(e)?function(e){var t=Vge.call(e,Uge),n=e[Uge];try{e[Uge]=void 0;var r=!0}catch(kxe){}var o=Hge.call(e);return r&&(t?e[Uge]=n:delete e[Uge]),o}(e):function(e){return Gge.call(e)}(e)}function Kge(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==Yge(e)}const Xge=Array.isArray;var Qge=jge?jge.prototype:void 0,Zge=Qge?Qge.toString:void 0;function Jge(e){if("string"==typeof e)return e;if(Xge(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,Jge)+"";if(Kge(e))return Zge?Zge.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function eve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}const tve=Bge["__core-js_shared__"];var nve,rve=(nve=/[^.]+$/.exec(tve&&tve.keys&&tve.keys.IE_PROTO||""))?"Symbol(src)_1."+nve:"";var ove=Function.prototype.toString;var ave=/^\[object .+?Constructor\]$/,ive=Function.prototype,sve=Object.prototype,lve=ive.toString,uve=sve.hasOwnProperty,cve=RegExp("^"+lve.call(uve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dve(e){if(!eve(e)||(t=e,rve&&rve in t))return!1;var t,n=function(e){if(!eve(e))return!1;var t=Yge(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)?cve:ave;return n.test(function(e){if(null!=e){try{return ove.call(e)}catch(kxe){}try{return e+""}catch(kxe){}}return""}(e))}function pve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return dve(n)?n:void 0}var fve=function(){try{var e=pve(Object,"defineProperty");return e({},"",{}),e}catch(kxe){}}();const hve=fve;var mve=/^(?:0|[1-9]\d*)$/;function gve(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&mve.test(e))&&e>-1&&e%1==0&&e<t}function vve(e,t){return e===t||e!=e&&t!=t}var bve=Object.prototype.hasOwnProperty;function yve(e,t,n){var r=e[t];bve.call(e,t)&&vve(r,n)&&(void 0!==n||t in e)||function(e,t,n){"__proto__"==t&&hve?hve(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)}var xve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wve=/^\w*$/;const kve=pve(Object,"create");var Sve=Object.prototype.hasOwnProperty;var Cve=Object.prototype.hasOwnProperty;function Eve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ive(e,t){for(var n=e.length;n--;)if(vve(e[n][0],t))return n;return-1}Eve.prototype.clear=function(){this.__data__=kve?kve(null):{},this.size=0},Eve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Eve.prototype.get=function(e){var t=this.__data__;if(kve){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Sve.call(t,e)?t[e]:void 0},Eve.prototype.has=function(e){var t=this.__data__;return kve?void 0!==t[e]:Cve.call(t,e)},Eve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kve&&void 0===t?"__lodash_hash_undefined__":t,this};var Nve=Array.prototype.splice;function Tve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tve.prototype.clear=function(){this.__data__=[],this.size=0},Tve.prototype.delete=function(e){var t=this.__data__,n=Ive(t,e);return!(n<0)&&(n==t.length-1?t.pop():Nve.call(t,n,1),--this.size,!0)},Tve.prototype.get=function(e){var t=this.__data__,n=Ive(t,e);return n<0?void 0:t[n][1]},Tve.prototype.has=function(e){return Ive(this.__data__,e)>-1},Tve.prototype.set=function(e,t){var n=this.__data__,r=Ive(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const Rve=pve(Bge,"Map");function _ve(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function $ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$ve.prototype.clear=function(){this.size=0,this.__data__={hash:new Eve,map:new(Rve||Tve),string:new Eve}},$ve.prototype.delete=function(e){var t=_ve(this,e).delete(e);return this.size-=t?1:0,t},$ve.prototype.get=function(e){return _ve(this,e).get(e)},$ve.prototype.has=function(e){return _ve(this,e).has(e)},$ve.prototype.set=function(e,t){var n=_ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Mve(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(Mve.Cache||$ve),n}Mve.Cache=$ve;var Ove,Ave,Lve,Pve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dve=/\\(\\)?/g,Fve=(Ove=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pve,(function(e,n,r,o){t.push(r?o.replace(Dve,"$1"):n||e)})),t},Ave=Mve(Ove,(function(e){return 500===Lve.size&&Lve.clear(),e})),Lve=Ave.cache,Ave);const zve=Fve;function Bve(e,t){return Xge(e)?e:function(e,t){if(Xge(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Kge(e))||wve.test(e)||!xve.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:zve(function(e){return null==e?"":Jge(e)}(e))}function jve(e){if("string"==typeof e||Kge(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wve(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=Bve(t,e)).length;null!=e&&n<r;)e=e[jve(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r}function Vve(e,t,n){return null==e?e:function(e,t,n,r){if(!eve(e))return e;for(var o=-1,a=(t=Bve(t,e)).length,i=a-1,s=e;null!=s&&++o<a;){var l=jve(t[o]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=i){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=eve(c)?c:gve(t[o+1])?[]:{})}yve(s,l,u),s=s[l]}return e}(e,t,n)}function Hve(e){const t=[],n=function(e,t){const n=new Map;return[e.tool1,e.tool2,e.tool3,e.tool4,e.tool5].forEach(((e,r)=>{if(!(null==e?void 0:e.name))return;const o=`tool${r+1}`,a=new Set;[e.arg1,e.arg2,e.arg3,e.arg4,e.arg5].filter((e=>null==e?void 0:e.name)).forEach(((e,n)=>{a.has(e.name)&&t.push(`input.${o}.arg${n+1}: Duplicate parameter name '${e.name}'`),a.add(e.name)})),n.has(e.name)?t.push(`input.${o}: Duplicate tool name '${e.name}'`):n.set(e.name,e)})),n}(e.input,t);return Gve(Uve(e.preferred_output),n,"preferred_output",t),Gve(Uve(e.non_preferred_output),n,"non_preferred_output",t),{valid:0===t.length,errors:t}}function Uve(e){return[e.tool1,e.tool2,e.tool3,e.tool4,e.tool5]}function Gve(e,t,n,r){e.forEach(((e,o)=>{if(!(null==e?void 0:e.name))return;const a=`tool${o+1}`,i=t.get(e.name);if(!i)return void r.push(`${n}.${a}: Tool '${e.name}' not defined in input`);const s=[e.arg1,e.arg2,e.arg3,e.arg4,e.arg5].filter((e=>null==e?void 0:e.key)),l=[i.arg1,i.arg2,i.arg3,i.arg4,i.arg5].filter((e=>null==e?void 0:e.name)),u=new Map(s.map((e=>[e.key,e]))),c=new Map(l.map((e=>[e.name,e])));if(s.length!==new Set(s.map((e=>e.key))).size){(function(e){const t=new Set,n=new Set;return e.forEach((e=>{t.has(e)&&n.add(e),t.add(e)})),Array.from(n)})(s.map((e=>e.key))).forEach((e=>{r.push(`${n}.${a}: Duplicate argument key '${e}'`)}))}l.forEach((e=>{const t=u.get(e.name);!e.required||t?!e.required||(null==t?void 0:t.value)?t&&(t.key!==e.name&&r.push(`${n}.${a}: Argument key '${t.key}' doesn't match definition '${e.name}'`),function(e,t,n,r,o){var a;(null==(a=e.enum)?void 0:a.length)&&!e.enum.includes(t.value)&&o.push(`${n}.${r}.${t.key}: Value '${t.value}' not in [${e.enum.join(", ")}]`);"number"===e.type&&isNaN(Number(t.value))?o.push(`${n}.${r}.${t.key}: '${t.value}' is not a number`):"boolean"!==e.type||["true","false"].includes(t.value.toLowerCase())||o.push(`${n}.${r}.${t.key}: '${t.value}' is not a boolean`)}(e,t,n,a,r)):r.push(`${n}.${a}: Required argument '${e.name}' is empty`):r.push(`${n}.${a}: Required argument '${e.name}' is missing`)})),u.forEach(((t,o)=>{c.has(o)||r.push(`${n}.${a}: Argument '${o}' not defined in tool '${e.name}'`)}))}))}const qve=MK("jsonl_tune_draft");function Yve(e){const t=[],n=[{message:e.history.message1,position:"message1"},{message:e.history.message2,position:"message2"},{message:e.history.message3,position:"message3"},{message:e.history.message4,position:"message4"},{message:e.history.message5,position:"message5"}],r=[e.input.tool1,e.input.tool2,e.input.tool3,e.input.tool4,e.input.tool5],o=new Map;return r.forEach(((e,n)=>{const r=`tool${n+1}`;if(!e)return;const a=new Set;for(let o=1;o<=5;o++){const n=`arg${o}`,i=e[n];"string"!=typeof i&&((null==i?void 0:i.name)&&(a.has(i.name)?t.push(`input.${r}.${n}: Duplicate parameter name '${i.name}'`):a.add(i.name)))}e.name&&(o.has(e.name)&&t.push(`input.${r}: Tool name '${e.name}' is not unique`),o.set(e.name,e))})),function(e,t,n){let r=null;const o=[];if(e.forEach((({message:e,position:a})=>{if("tool"===e.role&&(o.push(a),e.content||n.push(`history.${a}: Tool response requires content`)),"assistant"===e.role&&e.tool1.name){if(r)return void n.push(`history.${a}: Multiple assistant tool calls found`);r={position:a,tool:e.tool1},Gve([e.tool1],t,`history.${a}`,n)}})),o.length>0){if(!r)return void n.push(`history.${o[0]}: Tool response without corresponding tool call`);o.length>1&&o.slice(1).forEach((e=>{n.push(`history.${e}: Only one tool response allowed`)}));const e=parseInt(r.position.replace("message",""));o.forEach((t=>{parseInt(t.replace("message",""))<=e&&n.push(`history.${t}: Tool response must come after tool call`)}))}r&&1!==o.length&&n.push(`history.${r.position}: Tool call requires exactly one tool response`)}(n,o,t),{valid:0===t.length,errors:t}}const Kve=(e,t)=>({type:$P.Outline,isVisible:t=>!!Wve(t,`${e}.name`),fieldBottomMargin:"2",fields:[{type:$P.Text,name:`${e}.arg${t}.name`,labelShrink:!0,title:`Argument ${t} name`,placeholder:"Start to type to expand"},{type:$P.Fragment,isVisible:n=>!!Wve(n,`${e}.arg${t}.name`),fields:[{type:$P.Combo,itemList:["string"],isVisible:n=>!!Wve(n,`${e}.arg${t}.name`),isIncorrect:n=>Wve(n,`${e}.arg${t}.type`)?null:"Required",dirty:!0,name:`${e}.arg${t}.type`,title:"Type",defaultValue:"string"},{type:$P.Text,isVisible:n=>!!Wve(n,`${e}.arg${t}.name`),isIncorrect:n=>Wve(n,`${e}.arg${t}.description`)?null:"Required",dirty:!0,inputRows:3,name:`${e}.arg${t}.description`,title:"Description"},{type:$P.Items,isVisible:n=>!!Wve(n,`${e}.arg${t}.name`),name:`${e}.arg${t}.enum`,title:"Enum",freeSolo:!0},{type:$P.Checkbox,isVisible:n=>!!Wve(n,`${e}.arg${t}.name`),name:`${e}.arg${t}.required`,title:"Required"}]}]}),Xve=(e,t)=>({type:$P.Group,fields:[{type:$P.Text,outlined:!0,labelShrink:!0,name:`${e}.name`,title:`Tool ${t} name`,placeholder:"Start to type to expand"},{type:$P.Text,outlined:!0,isVisible:t=>!!Wve(t,`${e}.name`),dirty:!0,isIncorrect:t=>Wve(t,`${e}.description`)?null:"Required",inputRows:5,name:`${e}.description`,title:"Tool description"},{type:$P.Group,fieldBottomMargin:"4",isVisible:t=>!!Wve(t,`${e}.name`),fields:[Kve(e,1),Kve(e,2),Kve(e,3),Kve(e,4),Kve(e,5)]}]}),Qve=(e,t)=>[{type:$P.Combo,itemList:t=>{const n=Wve(t,`${e}.name`);if(!n)return[];const r=new Map([[t.input.tool1.name,t.input.tool1],[t.input.tool2.name,t.input.tool2],[t.input.tool3.name,t.input.tool3],[t.input.tool4.name,t.input.tool4],[t.input.tool5.name,t.input.tool5]].filter((([e])=>e))).get(n);return r?Object.values(r).map((e=>null==e?void 0:e.name)).filter(Boolean):[]},isVisible:t=>!!Wve(t,`${e}.name`),columns:"4",name:`${e}.arg${t}.key`,title:`Argument ${t} Key`,labelShrink:!0,placeholder:"Type a name to unlock the value"},{type:$P.Text,isVisible:n=>{const r=Wve(n,`${e}.name`),o=Wve(n,`${e}.arg${t}.key`);if(!r||!o)return!1;const a=new Map([[n.input.tool1.name,n.input.tool1],[n.input.tool2.name,n.input.tool2],[n.input.tool3.name,n.input.tool3],[n.input.tool4.name,n.input.tool4],[n.input.tool5.name,n.input.tool5]].filter((([e])=>e))).get(r);return a&&!Object.values(a).some((e=>(null==e?void 0:e.name)===o&&e.enum))},columns:"8",name:`${e}.arg${t}.value`,title:"",placeholder:`Argument ${t} Value`},{type:$P.Combo,freeSolo:!0,itemList:n=>{const r=Wve(n,`${e}.name`),o=Wve(n,`${e}.arg${t}.key`);if(!r||!o)return[];const a=new Map([[n.input.tool1.name,n.input.tool1],[n.input.tool2.name,n.input.tool2],[n.input.tool3.name,n.input.tool3],[n.input.tool4.name,n.input.tool4],[n.input.tool5.name,n.input.tool5]].filter((([e])=>e))).get(r);if(!a)return[];const i=Object.values(a).find((e=>(null==e?void 0:e.name)===o));return(null==i?void 0:i.enum)||[]},isVisible:n=>{var r;const o=Wve(n,`${e}.name`),a=Wve(n,`${e}.arg${t}.key`);if(!o||!a)return!1;const i=new Map([[n.input.tool1.name,n.input.tool1],[n.input.tool2.name,n.input.tool2],[n.input.tool3.name,n.input.tool3],[n.input.tool4.name,n.input.tool4],[n.input.tool5.name,n.input.tool5]].filter((([e])=>e))).get(o);return i&&!!(null==(r=Object.values(i).find((e=>(null==e?void 0:e.name)===a)))?void 0:r.enum)},columns:"8",name:`${e}.arg${t}.value`,title:"",placeholder:`Argument ${t} Value`}],Zve=(e,t)=>({type:$P.Group,fields:[{type:$P.Combo,outlined:!0,labelShrink:!0,name:`${e}.name`,itemList:e=>Object.values({tool1:e.input.tool1.name,tool2:e.input.tool2.name,tool3:e.input.tool3.name,tool4:e.input.tool4.name,tool5:e.input.tool5.name}).filter(Boolean),title:`Tool name ${t}`,placeholder:"Start to type to expand"},{type:$P.Outline,fieldBottomMargin:"5",isVisible:t=>!!Wve(t,`${e}.name`),fields:[{type:$P.Group,fields:Qve(e,1)},{type:$P.Group,fields:Qve(e,2)},{type:$P.Group,fields:Qve(e,3)},{type:$P.Group,fields:Qve(e,4)},{type:$P.Group,fields:Qve(e,5)}]}]}),Jve=(e,t)=>({type:$P.Outline,fieldBottomMargin:"3",fields:[{type:$P.Box,sx:{display:"grid",alignItems:"center",gridTemplateColumns:"1fr auto auto"},fields:[{type:$P.Combo,fieldBottomMargin:"5",name:`${e}.message${t}.role`,labelShrink:!0,title:`Message ${t} role`,description:"Select to unlock the content",itemList:["user","assistant","system","tool"]},{type:$P.Icon,icon:cge,isDisabled:()=>t<2||t>5,click({},{},e,{},{},n){n(function(e,t){if(t<2||t>5)throw new Error("Position must be between 2 and 5");const n={...e},r={...n.history},o=`message${t}`,a="message"+(t-1),i=r[a];return r[a]=r[o],r[o]=i,n.history=r,n}(e,t))}},{type:$P.Icon,icon:uge,isDisabled:()=>t<1||t>4,click({},{},e,{},{},n){n(function(e,t){if(t<1||t>4)throw new Error("Position must be between 1 and 4");const n={...e},r={...n.history},o=`message${t}`,a=`message${t+1}`,i=r[a];return r[a]=r[o],r[o]=i,n.history=r,n}(e,t))}}]},{type:$P.Text,fieldBottomMargin:"2",inputRows:5,name:`${e}.message${t}.content`,isVisible:n=>"user"===Wve(n,`${e}.message${t}.role`),title:"",placeholder:`Message ${t} content (user)`},{type:$P.Text,fieldBottomMargin:"4",inputRows:5,name:`${e}.message${t}.content`,isVisible:n=>"assistant"===Wve(n,`${e}.message${t}.role`),title:"",placeholder:`Message ${t} content (assistant)`},{type:$P.Fragment,isVisible:n=>"assistant"===Wve(n,`${e}.message${t}.role`),fields:[Zve(`${e}.message${t}.tool1`,1)]},{type:$P.Text,fieldBottomMargin:"2",inputRows:5,name:`${e}.message${t}.content`,isVisible:n=>"system"===Wve(n,`${e}.message${t}.role`),title:"",placeholder:`Message ${t} content (system)`},{type:$P.Text,fieldBottomMargin:"2",inputRows:5,name:`${e}.message${t}.content`,isVisible:n=>"tool"===Wve(n,`${e}.message${t}.role`),title:"",placeholder:`Message ${t} content (tool)`}]}),ebe=[{type:$P.Init,name:"preferred_output.role",defaultValue:"assistant"},{type:$P.Init,name:"non_preferred_output.role",defaultValue:"assistant"},{type:$P.Init,name:"input.parallel_tool_calls",defaultValue:!0},{type:$P.Init,name:"input.role",defaultValue:"user"},{type:$P.Line,title:"Conversation context"},{type:$P.Expansion,title:"Chat history",description:"Several chat messages to get the model to Context",fields:[Jve("history",1),Jve("history",2),Jve("history",3),Jve("history",4),Jve("history",5)]},{type:$P.Line,title:"User input"},{type:$P.Paper,fieldBottomMargin:"1",fields:[{type:$P.Text,fieldBottomMargin:"2",readonly:!0,name:"input.role",title:"Message Role",description:"Select the role of the message sender"},{type:$P.Text,fieldBottomMargin:"5",name:"input.content",title:"Message Content",description:"Enter the message content",inputRows:3,placeholder:"Type the message here..."}]},{type:$P.Expansion,fieldBottomMargin:"3",title:"Input Tools",description:"List of tools available",fields:[Xve("input.tool1",1),Xve("input.tool2",2),Xve("input.tool3",3),Xve("input.tool4",4),Xve("input.tool5",5)]},{type:$P.Line,title:"Preferred Output"},{type:$P.Paper,fieldBottomMargin:"1",fields:[{type:$P.Text,fieldBottomMargin:"5",readonly:!0,name:"preferred_output.role",title:"Preferred Response Role",description:"Select the role of the preferred response"},{type:$P.Text,fieldBottomMargin:"5",labelShrink:!0,name:"preferred_output.content",title:"Preferred Response Content",description:"Enter the preferred response content",inputRows:3,placeholder:"Type the preferred response here..."}]},{type:$P.Expansion,fieldBottomMargin:"3",title:"Preferred Output Tools",description:"List of tools in prefered output",fields:[Zve("preferred_output.tool1",1),Zve("preferred_output.tool2",2),Zve("preferred_output.tool3",3),Zve("preferred_output.tool4",4),Zve("preferred_output.tool5",5)]},{type:$P.Line,title:"Non-Preferred Output"},{type:$P.Paper,fieldBottomMargin:"1",fields:[{type:$P.Text,fieldBottomMargin:"5",readonly:!0,name:"non_preferred_output.role",title:"Preferred Response Role",description:"Select the role of the preferred response"},{type:$P.Text,fieldBottomMargin:"5",name:"non_preferred_output.content",labelShrink:!0,title:"Non-Preferred Response Content",description:"Enter the non-preferred response content",inputRows:3,placeholder:"Type the non-preferred response here..."}]},{type:$P.Expansion,fieldBottomMargin:"3",title:"Non-Preferred Output Tools",description:"List of tools in non-prefered output",fields:[Zve("non_preferred_output.tool1",1),Zve("non_preferred_output.tool2",2),Zve("non_preferred_output.tool3",3),Zve("non_preferred_output.tool4",4),Zve("non_preferred_output.tool5",5)]}],tbe=[{type:eZ.Component,element:()=>Z.jsxs(Y_,{direction:"row",alignItems:"center",onClick:()=>Nge.push("/"),children:[Z.jsxs(gE,{sx:{cursor:"pointer",height:"100%"},children:[Z.jsx(yge,{sx:{display:"flex",alignItems:"center"}}),Z.jsx(cT,{underline:"hover",color:"inherit",children:"Back"}),Z.jsx(cT,{underline:"hover",color:"inherit",children:"Fine tune"}),Z.jsx(Ii,{sx:{minWidth:"24px"}})]}),Z.jsx(Ii,{sx:{flex:1}})]})},{type:eZ.Button,label:"Save",icon:Sge,action:"save-action"}],nbe=[{action:"draft-action",icon:Cge,label:"Save as draft"}],rbe=hG(ebe),obe=async e=>{const t={},{visible:n,hidden:r}=await function(e,t,n,r){var o,a,i=(a=o=r,"function"==typeof o&&(a=o()),a&&!Array.isArray(a)&&(a=Object.entries(a).map((function(e){var t=NP(e,2),n=t[0];return t[1]?n:null})).filter((function(e){return!!e}))),a);return function(e,t,n){var r=new Set,o=function(e,t,n,a){var i,s;void 0===a&&(a=!1);var l=e.isVisible,u=void 0===l?function(){return!0}:l;if(("function"==typeof e.hidden?e.hidden(n):e.hidden)&&(a=!0),u(t,n)||(a=!0),a&&r.add(e),e.fields)try{for(var c=IP(e.fields),d=c.next();!d.done;d=c.next()){var p=d.value;o(p,t,n,a)}}catch(f){i={error:f}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}e.child&&o(e.child,t,n,a)};(e=AD(e)).forEach((function(e){return o(e,t,n)})),e=e.filter((function(e){return!r.has(e)}));var a=TP([],NP(r),!1).filter((function(t){var n=t.name;return!e.some((function(e){return e.name===n}))}));return{visible:e,hidden:a}}(e.filter((function(e){return!i||!e.features||e.features.some((function(e){return i.includes(e)}))})),t,n)}(ebe,e,{});return n.forEach((({name:n})=>{if(n){const r=Wve(e,n);Vve(t,n,r)}})),r.forEach((({name:e})=>{e&&Vve(t,e,Wve(rbe,e))})),t.id=e.id,t};function abe(e){const t=[e.input.tool1,e.input.tool2,e.input.tool3,e.input.tool4,e.input.tool5].filter((e=>!!(null==e?void 0:e.name))).map((e=>({type:"function",function:sbe(e)})));return{role:e.input.role,content:e.input.content,...t.length>0?{tools:t}:{}}}function ibe(e){const t=[e.preferred_output.tool1,e.preferred_output.tool2,e.preferred_output.tool3,e.preferred_output.tool4,e.preferred_output.tool5].filter((e=>!!(null==e?void 0:e.name))).map((e=>ube(e)));return{role:e.preferred_output.role,content:e.preferred_output.content,...t.length>0?{tool_calls:t}:{}}}function sbe(e){var t,n,r,o,a;const i={},s=[];return(null==(t=e.arg1)?void 0:t.name)&&(i[e.arg1.name]=lbe(e.arg1),e.arg1.required&&s.push(e.arg1.name)),(null==(n=e.arg2)?void 0:n.name)&&(i[e.arg2.name]=lbe(e.arg2),e.arg2.required&&s.push(e.arg2.name)),(null==(r=e.arg3)?void 0:r.name)&&(i[e.arg3.name]=lbe(e.arg3),e.arg3.required&&s.push(e.arg3.name)),(null==(o=e.arg4)?void 0:o.name)&&(i[e.arg4.name]=lbe(e.arg4),e.arg4.required&&s.push(e.arg4.name)),(null==(a=e.arg5)?void 0:a.name)&&(i[e.arg5.name]=lbe(e.arg5),e.arg5.required&&s.push(e.arg5.name)),{name:e.name,description:e.description,parameters:{type:"object",properties:i,required:s.length>0?s:void 0}}}function lbe(e){const t={type:e.type,description:e.description};return e.enum&&(t.enum=e.enum),t}function ube(e){var t,n,r,o,a;const i={};(null==(t=e.arg1)?void 0:t.key)&&""!==e.arg1.key.trim()&&(i[e.arg1.key]=e.arg1.value),(null==(n=e.arg2)?void 0:n.key)&&""!==e.arg2.key.trim()&&(i[e.arg2.key]=e.arg2.value),(null==(r=e.arg3)?void 0:r.key)&&""!==e.arg3.key.trim()&&(i[e.arg3.key]=e.arg3.value),(null==(o=e.arg4)?void 0:o.key)&&""!==e.arg4.key.trim()&&(i[e.arg4.key]=e.arg4.value),(null==(a=e.arg5)?void 0:a.key)&&""!==e.arg5.key.trim()&&(i[e.arg5.key]=e.arg5.value);return{id:`call_${Math.random().toString(36).substr(2,9)}`,type:"function",function:{name:e.name,arguments:JSON.stringify(i)}}}function cbe(e,t,n=`finetune.${(new Date).toISOString()}.jsonl`){if(!e)return;"cohere"===t&&(e=(e=>e.map((e=>({...e,preferred_output:{...e.preferred_output,role:"Chatbot",tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},non_preferred_output:{...e.non_preferred_output,role:"Chatbot",tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},input:{...e.input,role:"User",tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},history:{message1:e.history.message1?{...e.history.message1,role:"system"===e.history.message1.role?"System":"user"===e.history.message1.role?"User":"Chatbot",tool1:void 0}:void 0,message2:e.history.message2?{...e.history.message2,role:"system"===e.history.message2.role?"System":"user"===e.history.message2.role?"User":"Chatbot",tool1:void 0}:void 0,message3:e.history.message3?{...e.history.message3,role:"system"===e.history.message3.role?"System":"user"===e.history.message3.role?"User":"Chatbot",tool1:void 0}:void 0,message4:e.history.message4?{...e.history.message4,role:"system"===e.history.message4.role?"System":"user"===e.history.message4.role?"User":"Chatbot",tool1:void 0}:void 0,message5:e.history.message5?{...e.history.message5,role:"system"===e.history.message5.role?"System":"user"===e.history.message5.role?"User":"Chatbot",tool1:void 0}:void 0}}))))(e)),"openai"===t&&(e=(e=>e.map((e=>({...e,preferred_output:{...e.preferred_output,tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},non_preferred_output:{...e.non_preferred_output,tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},input:{...e.input,tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},history:{message1:e.history.message1?{...e.history.message1,tool1:void 0}:void 0,message2:e.history.message2?{...e.history.message2,tool1:void 0}:void 0,message3:e.history.message3?{...e.history.message3,tool1:void 0}:void 0,message4:e.history.message4?{...e.history.message4,tool1:void 0}:void 0,message5:e.history.message5?{...e.history.message5,tool1:void 0}:void 0}}))))(e));const r=function(e){return e.map((e=>{var t,n,r,o,a,i,s,l,u,c;const d={messages:[(null==(t=e.history.message1)?void 0:t.role)?{role:e.history.message1.role,content:e.history.message1.content,..."assistant"===e.history.message1.role&&(null==(n=e.history.message1.tool1)?void 0:n.name)?{tool_calls:[ube(e.history.message1.tool1)]}:{}}:null,(null==(r=e.history.message2)?void 0:r.role)?{role:e.history.message2.role,content:e.history.message2.content,..."assistant"===e.history.message2.role&&(null==(o=e.history.message2.tool1)?void 0:o.name)?{tool_calls:[ube(e.history.message2.tool1)]}:{}}:null,(null==(a=e.history.message3)?void 0:a.role)?{role:e.history.message3.role,content:e.history.message3.content,..."assistant"===e.history.message3.role&&(null==(i=e.history.message3.tool1)?void 0:i.name)?{tool_calls:[ube(e.history.message3.tool1)]}:{}}:null,(null==(s=e.history.message4)?void 0:s.role)?{role:e.history.message4.role,content:e.history.message4.content,..."assistant"===e.history.message4.role&&(null==(l=e.history.message4.tool1)?void 0:l.name)?{tool_calls:[ube(e.history.message4.tool1)]}:{}}:null,(null==(u=e.history.message5)?void 0:u.role)?{role:e.history.message5.role,content:e.history.message5.content,..."assistant"===e.history.message5.role&&(null==(c=e.history.message5.tool1)?void 0:c.name)?{tool_calls:[ube(e.history.message5.tool1)]}:{}}:null,abe(e),ibe(e)].filter((e=>{var t;return null!==e&&(e.content||"tool_calls"in e&&(null==(t=e.tool_calls)?void 0:t.length)>0)}))};return d.messages.length?JSON.stringify(d):null})).filter((e=>e)).join("\n")}(e),o=new Blob([r],{type:"text/plain;charset=utf-8"}),a=window.URL.createObjectURL(o),i=document.createElement("a");i.href=a,i.download=n,i.target="_blank",i.click(),setTimeout((()=>window.URL.revokeObjectURL(a)))}function dbe(e,t){var n;const r={role:e.role,content:e.content||"",tool1:t};if("assistant"===e.role&&(null==(n=e.tool_calls)?void 0:n.length)){const t=e.tool_calls[0];r.tool1=hbe(t)}return r}function pbe(e,t){var n,r,o,a,i,s,l,u,c,d,p;const f=(null==(n=e.parameters)?void 0:n.properties)||{},h=Object.keys(f),m=Object.values(f);return{name:e.name||"",description:e.description||"",arg1:fbe(m[0],h[0],null==(o=null==(r=e.parameters)?void 0:r.required)?void 0:o.includes(h[0])),arg2:fbe(m[1],h[1],null==(i=null==(a=e.parameters)?void 0:a.required)?void 0:i.includes(h[1])),arg3:fbe(m[2],h[2],null==(l=null==(s=e.parameters)?void 0:s.required)?void 0:l.includes(h[2])),arg4:fbe(m[3],h[3],null==(c=null==(u=e.parameters)?void 0:u.required)?void 0:c.includes(h[3])),arg5:fbe(m[4],h[4],null==(p=null==(d=e.parameters)?void 0:d.required)?void 0:p.includes(h[4]))}}function fbe(e,t,n=!1){return{name:t||"",type:(null==e?void 0:e.type)||"",description:(null==e?void 0:e.description)||"",enum:(null==e?void 0:e.enum)||null,required:n}}function hbe(e){const t=e.function.arguments?JSON.parse(e.function.arguments):{},n=Object.entries(t).slice(0,5),r=[{key:"",value:""},{key:"",value:""},{key:"",value:""},{key:"",value:""},{key:"",value:""}];return n.forEach((([e,t],n)=>{r[n]={key:e,value:String(t)}})),{name:e.function.name||"",arg1:r[0],arg2:r[1],arg3:r[2],arg4:r[3],arg5:r[4]}}const mbe={non_prefered_output:"",prefered_output:"",user_input:"",vector_search:""},[gbe,vbe]=sj();class bbe{constructor(){this.items=[]}push(e,t){const n={item:e,score:t};let r=0,o=this.items.length-1;for(;r<=o;){const e=Math.floor((r+o)/2);if(this.items[e].score===t){r=e;break}this.items[e].score>t?r=e+1:o=e-1}this.items.splice(r,0,n)}pop(e){const t=this.items.findIndex((t=>t.item===e));return-1!==t&&(this.items.splice(t,1),!0)}getItems(){return this.items.map((e=>e.item))}getEntries(){return this.items}take(e,t=Number.POSITIVE_INFINITY){const n=[];let r=0;for(const{item:o,score:a}of this.items){if(a<t)break;if(r>=e)break;n.push(o),r++}return n}[Symbol.iterator](){let e=0;const t=this.items||[];return{next:()=>e<t.length?{value:t[e++].item,done:!1}:{done:!0}}}get length(){return this.items.length}}
/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
var ybe,xbe,wbe,kbe,Sbe;BZ().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),(xbe=ybe||(ybe={}))[xbe.DT_INVALID=0]="DT_INVALID",xbe[xbe.DT_FLOAT=1]="DT_FLOAT",xbe[xbe.DT_DOUBLE=2]="DT_DOUBLE",xbe[xbe.DT_INT32=3]="DT_INT32",xbe[xbe.DT_UINT8=4]="DT_UINT8",xbe[xbe.DT_INT16=5]="DT_INT16",xbe[xbe.DT_INT8=6]="DT_INT8",xbe[xbe.DT_STRING=7]="DT_STRING",xbe[xbe.DT_COMPLEX64=8]="DT_COMPLEX64",xbe[xbe.DT_INT64=9]="DT_INT64",xbe[xbe.DT_BOOL=10]="DT_BOOL",xbe[xbe.DT_QINT8=11]="DT_QINT8",xbe[xbe.DT_QUINT8=12]="DT_QUINT8",xbe[xbe.DT_QINT32=13]="DT_QINT32",xbe[xbe.DT_BFLOAT16=14]="DT_BFLOAT16",xbe[xbe.DT_QINT16=15]="DT_QINT16",xbe[xbe.DT_QUINT16=16]="DT_QUINT16",xbe[xbe.DT_UINT16=17]="DT_UINT16",xbe[xbe.DT_COMPLEX128=18]="DT_COMPLEX128",xbe[xbe.DT_HALF=19]="DT_HALF",xbe[xbe.DT_RESOURCE=20]="DT_RESOURCE",xbe[xbe.DT_VARIANT=21]="DT_VARIANT",xbe[xbe.DT_UINT32=22]="DT_UINT32",xbe[xbe.DT_UINT64=23]="DT_UINT64",xbe[xbe.DT_FLOAT_REF=101]="DT_FLOAT_REF",xbe[xbe.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",xbe[xbe.DT_INT32_REF=103]="DT_INT32_REF",xbe[xbe.DT_UINT8_REF=104]="DT_UINT8_REF",xbe[xbe.DT_INT16_REF=105]="DT_INT16_REF",xbe[xbe.DT_INT8_REF=106]="DT_INT8_REF",xbe[xbe.DT_STRING_REF=107]="DT_STRING_REF",xbe[xbe.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",xbe[xbe.DT_INT64_REF=109]="DT_INT64_REF",xbe[xbe.DT_BOOL_REF=110]="DT_BOOL_REF",xbe[xbe.DT_QINT8_REF=111]="DT_QINT8_REF",xbe[xbe.DT_QUINT8_REF=112]="DT_QUINT8_REF",xbe[xbe.DT_QINT32_REF=113]="DT_QINT32_REF",xbe[xbe.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",xbe[xbe.DT_QINT16_REF=115]="DT_QINT16_REF",xbe[xbe.DT_QUINT16_REF=116]="DT_QUINT16_REF",xbe[xbe.DT_UINT16_REF=117]="DT_UINT16_REF",xbe[xbe.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",xbe[xbe.DT_HALF_REF=119]="DT_HALF_REF",xbe[xbe.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",xbe[xbe.DT_VARIANT_REF=121]="DT_VARIANT_REF",xbe[xbe.DT_UINT32_REF=122]="DT_UINT32_REF",xbe[xbe.DT_UINT64_REF=123]="DT_UINT64_REF",kbe=wbe||(wbe={}),(Sbe=kbe.CheckpointFormatVersion||(kbe.CheckpointFormatVersion={}))[Sbe.LEGACY=0]="LEGACY",Sbe[Sbe.V1=1]="V1",Sbe[Sbe.V2=2]="V2";
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const Cbe={};function Ebe(e){return Cbe[e]}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ibe(e,t,n,r,o){const a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){const e=a.inputIndexStart,i=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?e+1:a.inputIndexEnd;if("tensor"===a.type)return Nbe(t.inputNames[a.inputIndexStart],n,r,o);if("tensors"===a.type){return t.inputNames.slice(e,i).map((e=>Nbe(e,n,r,o)))}const s=Nbe(t.inputNames.slice(e)[0],n,r,o),l=s.dataSync();return"number"===a.type?l[0]:_Z(s.shape,l)}const i=t.attrParams[e];return i&&i.value}function Nbe(e,t,n,r){const[o,a]=_be(e);if(null!=r){const e=r.getHashTableHandleByName(o);if(null!=e)return e}const i=n.currentContextIds.find((e=>!!t[Rbe(o,e)]));return void 0!==i?t[Rbe(o,i)][a]:void 0}function Tbe(e,t){const[n,r,o]=_be(e);return[Rbe(n,t&&t.currentContextId),r,o]}function Rbe(e,t){return t?`${e}-${t}`:e}function _be(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function $be(e,t,n){let r=Ibe("pad",e,t,n);if("explicit"===r){r=Ibe("explicitPaddings",e,t,n);const o=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)o[e][0]=r[2*e],o[e][1]=r[2*e+1];return o}return r}function Mbe(e){return e.kept?e:y4(e)}
/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Obe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"})),Abe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"})),Lbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},Symbol.toStringTag,{value:"Module"})),Pbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},Symbol.toStringTag,{value:"Module"})),Dbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},Symbol.toStringTag,{value:"Module"})),Fbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"})),zbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},Symbol.toStringTag,{value:"Module"})),Bbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},Symbol.toStringTag,{value:"Module"})),jbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"})),Wbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},Symbol.toStringTag,{value:"Module"})),Vbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"})),Hbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}]},Symbol.toStringTag,{value:"Module"})),Ube=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"})),Gbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},Symbol.toStringTag,{value:"Module"})),qbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"})),Ybe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"})),Kbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"})),Xbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},Symbol.toStringTag,{value:"Module"})),Qbe=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Zbe{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[Obe,Abe,Lbe,Pbe,Dbe,Fbe,zbe,Bbe,jbe,Wbe,Vbe,Hbe,Ube,Gbe,qbe,Ybe,Kbe,Xbe,Qbe].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,r=[],o=[],a=[],i=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?o.push(e[t.name]):null!=t.input&&0!==t.input.length||a.push(e[t.name]),e)),{});let s=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(i);d.forEach((e=>{const t=i[e];t.inputNames.forEach(((e,n)=>{const[r,,o]=Tbe(e),a=i[r];if(null!=a.outputs){const e=a.outputs.indexOf(o);if(-1!==e){const o=`${r}:${e}`;t.inputNames[n]=o}}t.inputs.push(a),a.children.push(t)}))})),0===Object.keys(c).length?d.forEach((e=>{const t=i[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=Tbe(e),n=i[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=Tbe(e),n=i[t];n&&(n.signatureKey=u[e],s.push(n))})):s=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const f={nodes:i,inputs:s,outputs:l,weights:o,placeholders:r,signature:t,functions:p};return a.length>0&&(f.initNodes=a),f}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=Ebe(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let o;switch(n.type){case"string":o=eye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=eye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":o=cye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=cye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":o=nye(e.attr,n.tfName,n.defaultValue||0),void 0===o&&n.tfDeprecatedName&&(o=nye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":o=uye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=uye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":o=tye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=tye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":o=pye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=pye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":o=lye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=lye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":o=dye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=dye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":o=aye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=aye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":o=iye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=iye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":o=oye(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=oye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:o,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const o=[],a=[];e.signature.inputArg.forEach((e=>{const[t]=Tbe(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:rye(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,o.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[o,,a]=Tbe(e),i=r[o];if(null!=i.outputs){const e=i.outputs.indexOf(a);if(-1!==e){const r=`${o}:${e}`;t.inputNames[n]=r}}t.inputs.push(i),i.children.push(t)}))}));const i=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=Tbe(i[e.name]),o=r[t];null!=o&&(o.defaultOutput=n,a.push(o))}));const s=this.mapArgsToSignature(e);return{nodes:r,inputs:o,outputs:a,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function Jbe(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=BZ().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function eye(e,t,n,r=!1){const o=e[t];return null!=o?Jbe(o.s,r):n}function tye(e,t,n){const r=e[t];return r?r.b:n}function nye(e,t,n){const r=e[t]||{},o=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof o?o:parseInt(o,10)}function rye(e){switch("string"==typeof e&&(e=ybe[e]),e){case ybe.DT_FLOAT:case ybe.DT_HALF:return"float32";case ybe.DT_INT32:case ybe.DT_INT64:case ybe.DT_INT8:case ybe.DT_UINT8:return"int32";case ybe.DT_BOOL:return"bool";case ybe.DT_DOUBLE:return"float32";case ybe.DT_STRING:return"string";default:return null}}function oye(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function aye(e,t,n){const r=e[t];return r&&r.type?rye(r.type):n}function iye(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>rye(e))):n}function sye(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function lye(e,t,n){const r=e[t];return r&&r.shape?sye(r.shape):n}function uye(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function cye(e,t,n,r=!1){const o=e[t];return o&&o.list&&o.list.s?o.list.s.map((e=>Jbe(e,r))):n}function dye(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>sye(e))):n}function pye(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fye{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return Nbe(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Nbe(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return nye(this.node.rawAttrs,e,t);if(null!=n.s)return eye(this.node.rawAttrs,e,t);if(null!=n.b)return tye(this.node.rawAttrs,e,t);if(null!=n.shape)return lye(this.node.rawAttrs,e,t);if(null!=n.type)return aye(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return uye(this.node.rawAttrs,e,t);if(null!=n.list.s)return cye(this.node.rawAttrs,e,t);if(null!=n.list.shape)return dye(this.node.rawAttrs,e,t);if(null!=n.list.b)return pye(this.node.rawAttrs,e,t);if(null!=n.list.type)return iye(this.node.rawAttrs,e,t)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hye=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:S3,abs:x5,acos:w5,acosh:k5,add:g5,addN:S5,all:C5,any:E5,argMax:I5,argMin:N5,asin:T5,asinh:R5,atan:_5,atan2:$5,atanh:M5,avgPool:Y5,avgPool3d:K5,basicLSTMCell:e6,batchNorm:n6,batchNorm2d:r6,batchNorm3d:o6,batchNorm4d:a6,batchToSpaceND:t6,bincount:i6,booleanMaskAsync:E7,broadcastArgs:s6,broadcastTo:l6,buffer:v4,cast:b4,ceil:u6,clipByValue:d6,clone:y4,complex:E3,concat:X5,concat1d:p6,concat2d:f6,concat3d:h6,concat4d:m6,conv1d:v6,conv2d:g6,conv2dTranspose:y6,conv3d:x6,conv3dTranspose:k6,cos:S6,cosh:C6,cosineWindow:M7,cumprod:E6,cumsum:I6,denseBincount:N6,depthToSpace:T6,depthwiseConv2d:R6,diag:_6,dilation2d:$6,div:b5,divNoNan:L6,dot:P6,dropout:_7,einsum:D6,elu:F6,enclosingPowerOfTwo:$7,equal:M6,erf:z6,euclideanNorm:r8,exp:o8,expandDims:a8,expm1:i8,eye:l8,fft:a7,fill:c6,floor:u8,floorDiv:v5,fused:H7,gather:c8,gatherND:R7,greater:d8,greaterEqual:p8,ifft:i7,imag:V4,image:Vee,inTopKAsync:O7,irfft:s7,isFinite:f8,isInf:h8,isNaN:m8,leakyRelu:g8,less:v8,lessEqual:b8,linalg:Hee,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return f3.runKernel(a0,{},r)},localResponseNormalization:y8,log:x8,log1p:w8,logSigmoid:C8,logSoftmax:I8,logSumExp:N8,logicalAnd:T8,logicalNot:R8,logicalOr:_8,logicalXor:$8,losses:Uee,lowerBound:function(e,t){return O8(e,t,"left")},matMul:P4,max:Y6,maxPool:A8,maxPool3d:L8,maxPoolWithArgmax:P8,maximum:D8,mean:F8,meshgrid:function(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=w3(e,"x","meshgrid",e instanceof U2?e.dtype:"float32");if(void 0===t)return[r];let o=w3(t,"y","meshgrid",t instanceof U2?t.dtype:"float32");const a=dZ(r.shape),i=dZ(o.shape);return"xy"===n?(r=q5(r,[1,-1]),o=q5(o,[-1,1]),[P4(B8([i,1],r.dtype),r),P4(o,B8([1,a],o.dtype))]):(r=q5(r,[-1,1]),o=q5(o,[1,-1]),[P4(r,B8([1,i],r.dtype)),P4(B8([a,1],o.dtype),o)])},min:K6,minimum:j8,mirrorPad:W8,mod:V8,moments:H8,movingAverage:I7,mul:y5,multiRNNCell:U8,multinomial:G8,neg:H4,norm:n8,notEqual:q8,oneHot:D4,ones:B8,onesLike:Y8,op:C3,outerProduct:K8,pad:X8,pad1d:Q8,pad2d:Z8,pad3d:J8,pad4d:e9,pool:n9,pow:X6,prelu:r9,print:x4,prod:o9,raggedGather:a9,raggedTensorToTensor:i9,rand:s9,randomGamma:O9,randomNormal:A9,randomStandardNormal:L9,randomUniform:P9,range:D9,real:U4,reciprocal:F9,relu:z9,relu6:B9,reshape:q5,reverse:j9,reverse1d:W9,reverse2d:V9,reverse3d:H9,reverse4d:U9,rfft:u7,round:G9,rsqrt:q9,scalar:Q6,scatterND:N7,searchSorted:O8,selu:Y9,separableConv2d:K9,setdiff1dAsync:X9,sigmoid:Q5,sign:Q9,signal:Wee,sin:Z9,sinh:J9,slice:Z5,slice1d:e7,slice2d:t7,slice3d:n7,slice4d:r7,softmax:o7,softplus:S8,spaceToBatchND:t9,sparse:Gee,sparseToDense:T7,spectral:jee,split:l7,sqrt:Z6,square:J6,squaredDifference:c7,squeeze:d7,stack:p7,step:f7,stridedSlice:h7,string:qee,sub:E8,sum:e8,tan:m7,tanh:J5,tensor:N3,tensor1d:g7,tensor2d:v7,tensor3d:function(e,t,n){if(uZ(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=b3(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return I3(e,t,r,n)},tensor4d:function(e,t,n){if(uZ(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=b3(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return I3(e,t,r,n)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,tensor5d:function(e,t,n){if(uZ(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=b3(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return I3(e,t,r,n)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,tensor6d:function(e,t,n){if(uZ(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=b3(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return I3(e,t=t||r,r,n)},tile:s8,topk:b7,transpose:G4,truncatedNormal:y7,unique:x7,unsortedSegmentSum:w7,unstack:k7,upperBound:function(e,t){return O8(e,t,"right")}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */,variable:function(e,t=!0,n,r){return f3.makeVariable(e,t,n,r)},where:O6,whereAsync:C7,zeros:z8,zerosLike:A6},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function mye(e,t,n=""){if("number"!=typeof e&&"number"!=typeof t){sZ(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const o=e[r],a=t[r];sZ(o<0||a<0||o===a,(()=>n+` Shapes ${e} and ${t} must match`))}}}function gye(e){return"number"!=typeof e&&!e.some((e=>e<0))}function vye(e,t,n){let r=bye(e,n);const o=!gye(r);if(o&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(o&&t.forEach((e=>{r=bye(e.shape,r)})),!gye(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function bye(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const o=e[r],a=t[r];if(o>=0&&a>=0&&o!==a)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=o>=0?o:a}return n}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yye{constructor(e,t,n,r,o,a,i){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=a,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=Q6(0),B4(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),mye(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,B4(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return N3([],[0].concat(this.elementShape));const n=this.readMany(e);return mye(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),p7(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return N3([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return mye(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),X5(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,k7(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=0===n?0:t.size/n,a=[];z4((()=>{t=q5(t,[1,n,o]);for(let n=0;n<e.length;++n){const i=[0,0===n?0:r[n-1],0],s=[1,e[n],o];a[n]=q5(Z5(t,i,s),this.elementShape)}return a}));const i=[];for(let s=0;s<e.length;s++)i[s]=s;this.writeMany(i,a)}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xye{constructor(e,t,n,r=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);mye(t,e.shape,"TensorList shape mismatch: "),B4(e)})),this.idTensor=Q6(0),this.maxNumElements=r,B4(this.idTensor)}get id(){return this.idTensor.id}copy(){return new xye([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);mye(e,this.elementShape,"TensorList shape mismatch: ");const r=vye(this.elementShape,this.tensors,e);return z4((()=>{const e=this.tensors.map((e=>q5(e,r)));return p7(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=vye(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,mye(r.shape,e,"TensorList shape mismatch: "),q5(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(mye(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");B4(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new xye([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);mye(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=vye(this.elementShape,this.tensors,t);return q5(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);mye(this.elementShape,t.shape,"TensorList shape mismatch: "),B4(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);mye(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=vye(this.elementShape,this.tensors,n);return 0===e.length?N3([],[0].concat(r)):z4((()=>{const t=e.map((e=>q5(this.tensors[e],r)));return p7(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);mye(this.elementShape,t,"TensorList shape mismatch: ");const n=vye(this.elementShape,this.tensors,t);return 0===this.size()?N3([],[0].concat(n)):z4((()=>{const e=this.tensors.map((e=>q5(e,n)));return X5(e,0)}))}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const wye=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Ibe("thenBranch",e,t,n),o=Ibe("elseBranch",e,t,n),a=Ibe("cond",e,t,n),i=Ibe("args",e,t,n);return(await a.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[o].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Ibe("body",e,t,n),o=Ibe("cond",e,t,n),a=Ibe("args",e,t,n),i=await n.functionMap[o].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),s=a.map((e=>e.id));let l=await i[0].data();i.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let u=a;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const a=await n.functionMap[o].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await a[0].data(),a.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[Mbe(Ibe("pred",e,t,n))];case"Switch":{const r=Ibe("pred",e,t,n);let o=Ibe("data",e,t,n);return o.kept||(o=Mbe(o)),(await r.data())[0]?[void 0,o]:[o,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==Nbe(e,t,n)));if(r){return[Mbe(Nbe(r,t,n))]}return}case"Enter":{const r=Ibe("frameName",e,t,n),o=Ibe("tensor",e,t,n);return n.enterFrame(r),[Mbe(o)]}case"Exit":{const r=Ibe("tensor",e,t,n);return n.exitFrame(),[Mbe(r)]}case"NextIteration":{const r=Ibe("tensor",e,t,n);return n.nextIteration(),[Mbe(r)]}case"TensorArrayV3":{const r=Ibe("size",e,t,n),o=Ibe("dtype",e,t,n),a=Ibe("elementShape",e,t,n),i=Ibe("dynamicSize",e,t,n),s=Ibe("clearAfterRead",e,t,n),l=Ibe("identicalElementShapes",e,t,n),u=Ibe("name",e,t,n),c=new yye(u,o,r,a,l,i,s);return n.addTensorArray(c),[c.idTensor,Q6(1)]}case"TensorArrayWriteV3":{const r=Ibe("tensorArrayId",e,t,n),o=Ibe("index",e,t,n),a=Ibe("tensor",e,t,n),i=n.getTensorArray(r.id);return i.write(o,a),[i.idTensor]}case"TensorArrayReadV3":{const r=Ibe("tensorArrayId",e,t,n),o=Ibe("index",e,t,n);return[n.getTensorArray(r.id).read(o)]}case"TensorArrayGatherV3":{const r=Ibe("tensorArrayId",e,t,n),o=Ibe("indices",e,t,n),a=Ibe("dtype",e,t,n);return[n.getTensorArray(r.id).gather(o,a)]}case"TensorArrayScatterV3":{const r=Ibe("tensorArrayId",e,t,n),o=Ibe("indices",e,t,n),a=Ibe("tensor",e,t,n),i=n.getTensorArray(r.id);return i.scatter(o,a),[i.idTensor]}case"TensorArrayConcatV3":{const r=Ibe("tensorArrayId",e,t,n),o=n.getTensorArray(r.id),a=Ibe("dtype",e,t,n);return[o.concat(a)]}case"TensorArraySplitV3":{const r=Ibe("tensorArrayId",e,t,n),o=Ibe("tensor",e,t,n),a=Ibe("lengths",e,t,n),i=n.getTensorArray(r.id);return i.split(a,o),[i.idTensor]}case"TensorArraySizeV3":{const r=Ibe("tensorArrayId",e,t,n);return[Q6(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=Ibe("tensorArrayId",e,t,n),o=n.getTensorArray(r.id);return o.clearAndClose(),[o.idTensor]}case"TensorListSetItem":{const r=Ibe("tensorListId",e,t,n),o=Ibe("index",e,t,n),a=Ibe("tensor",e,t,n),i=n.getTensorList(r.id);return i.setItem(o,a),[i.idTensor]}case"TensorListGetItem":{const r=Ibe("tensorListId",e,t,n),o=Ibe("index",e,t,n),a=Ibe("elementShape",e,t,n),i=Ibe("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(o,a,i)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Ibe("indices",e,t,n),o=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const o=Math.max(...t);if(null!=r&&-1!==r&&o>=r)throw new Error(`Max index must be < array size (${o}  vs. ${r})`);const a=new xye([],n,e.dtype,r),i=k7(e,0);return t.forEach(((e,t)=>{a.setItem(e,i[t])})),a}(Ibe("tensor",e,t,n),r,Ibe("elementShape",e,t,n),Ibe("numElements",e,t,n));return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Ibe("elementShape",e,t,n),o=Ibe("elementDType",e,t,n);let a;a="TensorListReserve"===e.op?"numElements":"maxNumElements";const i=Ibe(a,e,t,n),s=function(e,t,n,r){return new xye([],e,t,r)}(r,o,0,"TensorListReserve"===e.op?-1:i);return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const r=Ibe("tensorListId",e,t,n),o=Ibe("indices",e,t,n),a=Ibe("elementShape",e,t,n),i=Ibe("elementDType",e,t,n);return[n.getTensorList(r.id).gather(o,i,a)]}case"TensorListStack":{const r=Ibe("tensorListId",e,t,n),o=Ibe("elementShape",e,t,n),a=Ibe("elementDType",e,t,n),i=Ibe("numElements",e,t,n);return[n.getTensorList(r.id).stack(o,a,i)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);mye(e.shape.slice(1),t,"TensorList shape mismatch: ");const o=k7(e);return new xye(o,t,r)}(Ibe("tensor",e,t,n),Ibe("elementShape",e,t,n),Ibe("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Ibe("tensorListId",e,t,n),o=n.getTensorList(r.id),a=Ibe("dtype",e,t,n),i=Ibe("elementShape",e,t,n);return[o.concat(a,i)]}case"TensorListPushBack":{const r=Ibe("tensorListId",e,t,n),o=Ibe("tensor",e,t,n),a=n.getTensorList(r.id);return a.pushBack(o),[a.idTensor]}case"TensorListPopBack":{const r=Ibe("tensorListId",e,t,n),o=Ibe("elementShape",e,t,n),a=Ibe("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(o,a)]}case"TensorListSplit":{const r=Ibe("tensor",e,t,n),o=Ibe("elementShape",e,t,n),a=function(e,t,n){let r=0;const o=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const a=bye(e.shape.slice(1),n),i=0===r?0:e.size/r,s=z4((()=>{const n=[];e=q5(e,[1,r,i]);for(let r=0;r<t.length;++r){const s=[0,0===r?0:o[r-1],0],l=[1,t[r],i];n[r]=q5(Z5(e,s,l),a)}return e.dispose(),n})),l=new xye([],n,e.dtype,t.length);for(let u=0;u<s.length;u++)l.setItem(u,s[u]);return l}(r,Ibe("lengths",e,t,n),o);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const r=Ibe("tensorListId",e,t,n);return[Q6(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=Ibe("tensorListId",e,t,n),o=Ibe("size",e,t,n),a=n.getTensorList(r.id).resize(o);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kye(e,t,n){const[r,o]=Ibe("fusedOps",e,t,n),a="biasadd"===r,i=!a,s="prelu"===o,l="fusedbatchnorm"===r,u=Ibe("numArgs",e,t,n);if(a){if(s&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&a&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=Ibe("strides",e,t,n),d=$be(e,t,n),p=Ibe("dataFormat",e,t,n).toUpperCase(),f=Ibe("dilations",e,t,n);let[h,m]=Ibe("args",e,t,n);i&&(m=h,h=void 0);return{stride:c,pad:d,dataFormat:p,dilations:f,biasArg:h,preluArg:m,activationFunc:o,leakyreluAlpha:Ibe("leakyreluAlpha",e,t,n)}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Sye(e,t,n){return{boxes:Ibe("boxes",e,t,n),scores:Ibe("scores",e,t,n),maxOutputSize:Ibe("maxOutputSize",e,t,n),iouThreshold:Ibe("iouThreshold",e,t,n),scoreThreshold:Ibe("scoreThreshold",e,t,n),softNmsSigma:Ibe("softNmsSigma",e,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Cye{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Q6(0),this.tensorMap=new Map,B4(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Q6(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),z4((()=>{const e=k7(t),r=n.length,o=e.length;sZ(r===o,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${o} elements.`));for(let t=0;t<r;t++){const r=n[t],o=e[t];B4(o),this.tensorMap.set(r,o)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return z4((()=>{const e=[];for(let r=0;r<n.length;r++){const o=n[r],a=this.findWithDefault(o,t);e.push(a)}return p7(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Eye(e,t,n,r,o=z4){const a=((e,t,n)=>{switch(e.category){case"arithmetic":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"AddN":return[r.addN(Ibe("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Mul":return[r.mul(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Sub":return[r.sub(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Minimum":return[r.minimum(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Maximum":return[r.maximum(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Pow":return[r.pow(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Ibe("a",e,t,n),Ibe("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Ibe("x",e,t,n))];case"Acos":return[r.acos(Ibe("x",e,t,n))];case"Acosh":return[r.acosh(Ibe("x",e,t,n))];case"Asin":return[r.asin(Ibe("x",e,t,n))];case"Asinh":return[r.asinh(Ibe("x",e,t,n))];case"Atan":return[r.atan(Ibe("x",e,t,n))];case"Atan2":return[r.atan2(Ibe("x",e,t,n),Ibe("y",e,t,n))];case"Atanh":return[r.atanh(Ibe("x",e,t,n))];case"Ceil":return[r.ceil(Ibe("x",e,t,n))];case"Complex":return[r.complex(Ibe("real",e,t,n),Ibe("imag",e,t,n))];case"Cos":return[r.cos(Ibe("x",e,t,n))];case"Cosh":return[r.cosh(Ibe("x",e,t,n))];case"Elu":return[r.elu(Ibe("x",e,t,n))];case"Erf":return[r.erf(Ibe("x",e,t,n))];case"Exp":return[r.exp(Ibe("x",e,t,n))];case"Expm1":return[r.expm1(Ibe("x",e,t,n))];case"Floor":return[r.floor(Ibe("x",e,t,n))];case"Log":return[r.log(Ibe("x",e,t,n))];case"Log1p":return[r.log1p(Ibe("x",e,t,n))];case"Imag":return[r.imag(Ibe("x",e,t,n))];case"Neg":return[r.neg(Ibe("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Ibe("x",e,t,n))];case"Real":return[r.real(Ibe("x",e,t,n))];case"Relu":return[r.relu(Ibe("x",e,t,n))];case"Round":return[r.round(Ibe("x",e,t,n))];case"Selu":return[r.selu(Ibe("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Ibe("x",e,t,n))];case"Sin":return[r.sin(Ibe("x",e,t,n))];case"Sign":return[r.sign(Ibe("x",e,t,n))];case"Sinh":return[r.sinh(Ibe("x",e,t,n))];case"Softplus":return[r.softplus(Ibe("x",e,t,n))];case"Sqrt":return[r.sqrt(Ibe("x",e,t,n))];case"Square":return[r.square(Ibe("x",e,t,n))];case"Tanh":return[r.tanh(Ibe("x",e,t,n))];case"Tan":return[r.tan(Ibe("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Ibe("x",e,t,n),Ibe("clipValueMin",e,t,n),Ibe("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Ibe("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Nbe(e.inputNames[0],t,n))];case"Prod":return[r.prod(Ibe("x",e,t,n),Ibe("axes",e,t,n))];case"LeakyRelu":return[r.leakyRelu(Ibe("x",e,t,n),Ibe("alpha",e,t,n))];case"Prelu":return[r.prelu(Ibe("x",e,t,n),Ibe("alpha",e,t,n))];case"IsNan":return[r.isNaN(Nbe(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return wye(e,t,n);case"convolution":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"Conv1D":{const o=Ibe("stride",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("dataFormat",e,t,n).toUpperCase(),s=Ibe("dilation",e,t,n);return[r.conv1d(Ibe("x",e,t,n),Ibe("filter",e,t,n),o,a,i,s)]}case"Conv2D":{const o=Ibe("strides",e,t,n),a=$be(e,t,n),i=Ibe("dataFormat",e,t,n).toUpperCase(),s=Ibe("dilations",e,t,n);return[r.conv2d(Ibe("x",e,t,n),Ibe("filter",e,t,n),[o[1],o[2]],a,i,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:o,pad:a,dataFormat:i,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=kye(e,t,n);return[r.fused.conv2d({x:Ibe("x",e,t,n),filter:Ibe("filter",e,t,n),strides:[o[1],o[2]],pad:a,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:o,pad:a,dataFormat:i,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=kye(e,t,n);return[r.fused.depthwiseConv2d({x:Ibe("x",e,t,n),filter:Ibe("filter",e,t,n),strides:[o[1],o[2]],pad:a,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const o=Ibe("outputShape",e,t,n),a=Ibe("strides",e,t,n),i=$be(e,t,n);return[r.conv2dTranspose(Ibe("x",e,t,n),Ibe("filter",e,t,n),o,[a[1],a[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const o=Ibe("strides",e,t,n),a=$be(e,t,n),i=Ibe("dilations",e,t,n),s=Ibe("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Ibe("input",e,t,n),Ibe("filter",e,t,n),[o[1],o[2]],a,s,[i[1],i[2]])]}case"Conv3D":{const o=Ibe("strides",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("dataFormat",e,t,n).toUpperCase(),s=Ibe("dilations",e,t,n);return[r.conv3d(Ibe("x",e,t,n),Ibe("filter",e,t,n),[o[1],o[2],o[3]],a,i,[s[1],s[2],s[3]])]}case"AvgPool":{const o=Ibe("strides",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("kernelSize",e,t,n);return[r.avgPool(Ibe("x",e,t,n),[i[1],i[2]],[o[1],o[2]],a)]}case"MaxPool":{const o=Ibe("strides",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("kernelSize",e,t,n);return[r.maxPool(Ibe("x",e,t,n),[i[1],i[2]],[o[1],o[2]],a)]}case"MaxPoolWithArgmax":{const o=Ibe("strides",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("kernelSize",e,t,n),s=Ibe("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(Ibe("x",e,t,n),[i[1],i[2]],[o[1],o[2]],a,s);return[l,u]}case"AvgPool3D":{const o=Ibe("strides",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("kernelSize",e,t,n);return[r.avgPool3d(Ibe("x",e,t,n),[i[1],i[2],i[3]],[o[1],o[2],o[3]],a)]}case"MaxPool3D":{const o=Ibe("strides",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("kernelSize",e,t,n);return[r.maxPool3d(Ibe("x",e,t,n),[i[1],i[2],i[3]],[o[1],o[2],o[3]],a)]}case"Dilation2D":{const o=Ibe("strides",e,t,n),a=Ibe("pad",e,t,n),i=Ibe("dilations",e,t,n),s=o[1],l=o[2],u=i[1],c=i[2];return[r.dilation2d(Ibe("x",e,t,n),Ibe("filter",e,t,n),[s,l],a,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"Fill":{const o=Ibe("shape",e,t,n),a=Ibe("dtype",e,t,n),i=Ibe("value",e,t,n);return[r.fill(o,i,a)]}case"LinSpace":{const o=Ibe("start",e,t,n),a=Ibe("stop",e,t,n),i=Ibe("num",e,t,n);return[r.linspace(o,a,i)]}case"Multinomial":{const o=Ibe("logits",e,t,n),a=Ibe("numSamples",e,t,n),i=Ibe("seed",e,t,n);return[r.multinomial(o,a,i)]}case"OneHot":{const o=Ibe("indices",e,t,n),a=Ibe("depth",e,t,n),i=Ibe("onValue",e,t,n),s=Ibe("offValue",e,t,n),l=Ibe("dtype",e,t,n);return[r.oneHot(o,a,i,s,l)]}case"Ones":return[r.ones(Ibe("shape",e,t,n),Ibe("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Ibe("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Ibe("shape",e,t,n),Ibe("dtype",e,t,n),Ibe("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Ibe("shape",e,t,n),Ibe("minval",e,t,n),Ibe("maxval",e,t,n),Ibe("dtype",e,t,n))];case"Range":{const o=Ibe("start",e,t,n),a=Ibe("stop",e,t,n),i=Ibe("step",e,t,n);return[r.range(o,a,i,Ibe("dtype",e,t,n))]}case"TruncatedNormal":{const o=Ibe("shape",e,t,n),a=Ibe("mean",e,t,n),i=Ibe("stdDev",e,t,n),s=Ibe("seed",e,t,n);return[r.truncatedNormal(o,a,i,Ibe("dtype",e,t,n),s)]}case"Zeros":return[r.zeros(Ibe("shape",e,t,n),Ibe("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Ibe("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n,r,o=hye)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=Sye(e,t,n),c=await o.image.nonMaxSuppressionWithScoreAsync(r,a,i,s,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=Sye(e,t,n),u=Ibe("padToMaxOutputSize",e,t,n),c=await o.image.nonMaxSuppressionPaddedAsync(r,a,i,s,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=Sye(e,t,n);return[await o.image.nonMaxSuppressionAsync(r,a,i,s,l)]}case"Where":{const r=o.cast(Ibe("condition",e,t,n),"bool"),a=[await o.whereAsync(r)];return r.dispose(),a}case"ListDiff":return o.setdiff1dAsync(Ibe("x",e,t,n),Ibe("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"LowerBound":{const o=Ibe("sortedSequence",e,t,n),a=Ibe("values",e,t,n);return[r.lowerBound(o,a)]}case"TopKV2":{const o=Ibe("x",e,t,n),a=Ibe("k",e,t,n),i=Ibe("sorted",e,t,n),s=r.topk(o,a,i);return[s.values,s.indices]}case"UpperBound":{const o=Ibe("sortedSequence",e,t,n),a=Ibe("values",e,t,n);return[r.upperBound(o,a)]}case"Unique":{const o=Ibe("x",e,t,n),a=r.unique(o);return[a.values,a.indices]}case"UniqueV2":{const o=Ibe("x",e,t,n),a=Ibe("axis",e,t,n),i=r.unique(o,a);return[i.values,i.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"ResizeBilinear":{const o=Ibe("images",e,t,n),a=Ibe("size",e,t,n),i=Ibe("alignCorners",e,t,n),s=Ibe("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(o,[a[0],a[1]],i,s)]}case"ResizeNearestNeighbor":{const o=Ibe("images",e,t,n),a=Ibe("size",e,t,n),i=Ibe("alignCorners",e,t,n),s=Ibe("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(o,[a[0],a[1]],i,s)]}case"CropAndResize":{const o=Ibe("image",e,t,n),a=Ibe("boxes",e,t,n),i=Ibe("boxInd",e,t,n),s=Ibe("cropSize",e,t,n),l=Ibe("method",e,t,n),u=Ibe("extrapolationValue",e,t,n);return[r.image.cropAndResize(o,a,i,s,l,u)]}case"ImageProjectiveTransformV3":{const o=Ibe("images",e,t,n),a=Ibe("transforms",e,t,n),i=Ibe("outputShape",e,t,n),s=Ibe("fillValue",e,t,n),l=Ibe("interpolation",e,t,n),u=Ibe("fillMode",e,t,n);return[r.image.transform(o,a,l.toLowerCase(),u.toLowerCase(),s,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const o=Ibe("default",e,t,n);return[Nbe(e.name,t,n)||o];case"Placeholder":return[Nbe(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Mbe(Ibe("x",e,t,n))];case"IdentityN":return Ibe("x",e,t,n).map((e=>Mbe(e)));case"Shape":return[r.tensor1d(Ibe("x",e,t,n).shape,"int32")];case"ShapeN":return Ibe("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(Ibe("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Ibe("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const a=Ibe("x",e,t,n),i=Ibe("data",e,t,n),s=Ibe("message",e,t,n),l=Ibe("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<i.length;e++)console.log(Array.prototype.slice.call(i[e].dataSync()).slice(0,l));return[a];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"Equal":return[r.equal(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"NotEqual":return[r.notEqual(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Greater":return[r.greater(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Less":return[r.less(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"LessEqual":return[r.lessEqual(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Ibe("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Ibe("a",e,t,n),Ibe("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Ibe("condition",e,t,n),Ibe("a",e,t,n),Ibe("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Ibe("a",e,t,n),Ibe("b",e,t,n),Ibe("transposeA",e,t,n),Ibe("transposeB",e,t,n))];case"Einsum":return[r.einsum(Ibe("equation",e,t,n),...Ibe("tensors",e,t,n))];case"Transpose":return[r.transpose(Ibe("x",e,t,n),Ibe("perm",e,t,n))];case"_FusedMatMul":const[o,a]=Ibe("fusedOps",e,t,n),i="biasadd"===o,s="prelu"===a,l=Ibe("numArgs",e,t,n),u=Ibe("leakyreluAlpha",e,t,n);if(i){if(s&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=Ibe("args",e,t,n);return[r.fused.matMul({a:Ibe("a",e,t,n),b:Ibe("b",e,t,n),transposeA:Ibe("transposeA",e,t,n),transposeB:Ibe("transposeB",e,t,n),bias:c,activation:a,preluActivationWeights:d,leakyreluAlpha:u})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Ibe("x",e,t,n),Ibe("axis",e,t,n),Ibe("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Ibe("x",e,t,n),Ibe("mean",e,t,n),Ibe("variance",e,t,n),Ibe("offset",e,t,n),Ibe("scale",e,t,n),Ibe("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Ibe("x",e,t,n),Ibe("radius",e,t,n),Ibe("bias",e,t,n),Ibe("alpha",e,t,n),Ibe("beta",e,t,n))];case"Softmax":return[r.softmax(Ibe("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Ibe("x",e,t,n))];case"SparseToDense":return[r.sparseToDense(Ibe("sparseIndices",e,t,n),Ibe("outputShape",e,t,n),Ibe("sparseValues",e,t,n),Ibe("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"Max":{const o=Ibe("axis",e,t,n),a=Ibe("keepDims",e,t,n);return[r.max(Ibe("x",e,t,n),o,a)]}case"Mean":{const o=Ibe("axis",e,t,n),a=Ibe("keepDims",e,t,n);return[r.mean(Ibe("x",e,t,n),o,a)]}case"Min":{const o=Ibe("axis",e,t,n),a=Ibe("keepDims",e,t,n);return[r.min(Ibe("x",e,t,n),o,a)]}case"Sum":{const o=Ibe("axis",e,t,n),a=Ibe("keepDims",e,t,n);return[r.sum(Ibe("x",e,t,n),o,a)]}case"All":{const o=Ibe("axis",e,t,n),a=Ibe("keepDims",e,t,n);return[r.all(Ibe("x",e,t,n),o,a)]}case"Any":{const o=Ibe("axis",e,t,n),a=Ibe("keepDims",e,t,n);return[r.any(Ibe("x",e,t,n),o,a)]}case"ArgMax":{const o=Ibe("axis",e,t,n);return[r.argMax(Ibe("x",e,t,n),o)]}case"ArgMin":{const o=Ibe("axis",e,t,n);return[r.argMin(Ibe("x",e,t,n),o)]}case"Prod":{const o=Ibe("axis",e,t,n),a=Ibe("keepDims",e,t,n);return[r.prod(Ibe("x",e,t,n),o,a)]}case"Cumprod":{const o=Ibe("axis",e,t,n),a=Ibe("exclusive",e,t,n),i=Ibe("reverse",e,t,n);return[r.cumprod(Ibe("x",e,t,n),o,a,i)]}case"Cumsum":{const o=Ibe("axis",e,t,n),a=Ibe("exclusive",e,t,n),i=Ibe("reverse",e,t,n);return[r.cumsum(Ibe("x",e,t,n),o,a,i)]}case"Bincount":const o=Ibe("x",e,t,n),a=Ibe("weights",e,t,n),i=Ibe("size",e,t,n);return[r.bincount(o,a,i)];case"DenseBincount":{const o=Ibe("x",e,t,n),a=Ibe("weights",e,t,n),i=Ibe("size",e,t,n),s=Ibe("binaryOutput",e,t,n);return[r.denseBincount(o,a,i,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"ConcatV2":case"Concat":{const o=Ibe("n",e,t,n),a=Ibe("axis",e,t,n);let i=Ibe("tensors",e,t,n);return i=i.slice(0,o),[r.concat(i,a)]}case"Gather":{const o=Ibe("x",e,t,n),a=Ibe("indices",e,t,n);return[r.gather(o,r.cast(a,"int32"),0)]}case"GatherV2":{const o=Ibe("axis",e,t,n),a=Ibe("batchDims",e,t,n),i=Ibe("x",e,t,n),s=Ibe("indices",e,t,n);return[r.gather(i,r.cast(s,"int32"),o,a)]}case"Reverse":{const o=Ibe("dims",e,t,n),a=[];for(let e=0;e<o.length;e++)o[e]&&a.push(e);const i=Ibe("x",e,t,n);return[r.reverse(i,a)]}case"ReverseV2":{const o=Ibe("axis",e,t,n),a=Ibe("x",e,t,n);return[r.reverse(a,o)]}case"Slice":{const o=Ibe("begin",e,t,n),a=Ibe("size",e,t,n);return[r.slice(Ibe("x",e,t,n),o,a)]}case"StridedSlice":{const o=Ibe("begin",e,t,n),a=Ibe("end",e,t,n),i=Ibe("strides",e,t,n),s=Ibe("beginMask",e,t,n),l=Ibe("endMask",e,t,n),u=Ibe("ellipsisMask",e,t,n),c=Ibe("newAxisMask",e,t,n),d=Ibe("shrinkAxisMask",e,t,n),p=Ibe("x",e,t,n);return[r.stridedSlice(p,o,a,i,s,l,u,c,d)]}case"Pack":return z4((()=>{const o=Ibe("axis",e,t,n),a=Ibe("tensors",e,t,n),i=a[0].shape,s=r.squeeze(a[0]).shape,l=a.map((e=>{const t=pZ(e.shape,i);if(!t&&!pZ(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,i)}));return[r.stack(l,o)]}));case"Unpack":{const o=Ibe("axis",e,t,n),a=Ibe("tensor",e,t,n);return r.unstack(a,o)}case"Tile":{const o=Ibe("reps",e,t,n);return[r.tile(Ibe("x",e,t,n),o)]}case"Split":case"SplitV":{const o=Ibe("axis",e,t,n),a=Ibe("numOrSizeSplits",e,t,n),i=Ibe("x",e,t,n);return r.split(i,a,o)}case"ScatterNd":{const o=Ibe("indices",e,t,n),a=Ibe("values",e,t,n),i=Ibe("shape",e,t,n);return[r.scatterND(o,a,i)]}case"GatherNd":{const o=Ibe("x",e,t,n),a=Ibe("indices",e,t,n);return[r.gatherND(o,a)]}case"SparseToDense":{const o=Ibe("sparseIndices",e,t,n),a=Ibe("outputShape",e,t,n),i=Ibe("sparseValues",e,t,n),s=Ibe("defaultValue",e,t,n);return[r.sparseToDense(o,i,a,i.dtype===s.dtype?s:r.cast(s,i.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:o,outputValues:a,emptyRowIndicator:i,reverseIndexMap:s}=r.sparse.sparseFillEmptyRows(Ibe("indices",e,t,n),Ibe("values",e,t,n),Ibe("denseShape",e,t,n),Ibe("defaultValue",e,t,n));return[o,a,i,s]}case"SparseReshape":{const{outputIndices:o,outputShape:a}=r.sparse.sparseReshape(Ibe("inputIndices",e,t,n),Ibe("inputShape",e,t,n),Ibe("newShape",e,t,n));return[o,a]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Ibe("data",e,t,n),Ibe("indices",e,t,n),Ibe("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Ibe("data",e,t,n),Ibe("indices",e,t,n),Ibe("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"FFT":return[r.fft(Ibe("x",e,t,n))];case"IFFT":return[r.ifft(Ibe("x",e,t,n))];case"RFFT":return[r.rfft(Ibe("x",e,t,n))];case"IRFFT":return[r.irfft(Ibe("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"StringNGrams":{const{nGrams:o,nGramsSplits:a}=r.string.stringNGrams(Ibe("data",e,t,n),Ibe("dataSplits",e,t,n),Ibe("separator",e,t,n),Ibe("nGramWidths",e,t,n),Ibe("leftPad",e,t,n),Ibe("rightPad",e,t,n),Ibe("padWidth",e,t,n),Ibe("preserveShortSequences",e,t,n));return[o,a]}case"StringSplit":{const{indices:o,values:a,shape:i}=r.string.stringSplit(Ibe("input",e,t,n),Ibe("delimiter",e,t,n),Ibe("skipEmpty",e,t,n));return[o,a,i]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Ibe("input",e,t,n),Ibe("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return o((()=>((e,t,n,r=hye)=>{switch(e.op){case"Cast":return[r.cast(Ibe("x",e,t,n),Ibe("dtype",e,t,n))];case"ExpandDims":{const o=Ibe("axis",e,t,n);return[r.expandDims(Ibe("x",e,t,n),o)]}case"Squeeze":{const o=Ibe("axis",e,t,n);return[r.squeeze(Ibe("x",e,t,n),o)]}case"Reshape":return[r.reshape(Ibe("x",e,t,n),Ibe("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Ibe("x",e,t,n),Ibe("padding",e,t,n),Ibe("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Ibe("x",e,t,n),Ibe("padding",e,t,n),Ibe("constantValue",e,t,n))];case"SpaceToBatchND":{const o=Ibe("blockShape",e,t,n),a=Ibe("paddings",e,t,n);return[r.spaceToBatchND(Ibe("x",e,t,n),o,a)]}case"BatchToSpaceND":{const o=Ibe("blockShape",e,t,n),a=Ibe("crops",e,t,n);return[r.batchToSpaceND(Ibe("x",e,t,n),o,a)]}case"DepthToSpace":{const o=Ibe("blockSize",e,t,n),a=Ibe("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Ibe("x",e,t,n),o,a)]}case"BroadcastTo":return[r.broadcastTo(Ibe("x",e,t,n),Ibe("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Ibe("s0",e,t,n),Ibe("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const o=Ibe("keyDType",e,t,n),a=Ibe("valueDType",e,t,n),i=new Cye(o,a);return r.addHashTable(e.name,i),[i.handle]}case"LookupTableImport":case"LookupTableImportV2":{const o=Ibe("tableHandle",e,t,n,r),a=Ibe("keys",e,t,n),i=Ibe("values",e,t,n),s=r.getHashTableById(o.id);return[await s.import(a,i)]}case"LookupTableFind":case"LookupTableFindV2":{const o=Ibe("tableHandle",e,t,n,r),a=Ibe("keys",e,t,n),i=Ibe("defaultValue",e,t,n),s=r.getHashTableById(o.id);return[await s.find(a,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const o=Ibe("tableHandle",e,t,n,r);return[r.getHashTableById(o.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const a=Ebe(e.op);if(a&&a.customExecutor)return a.customExecutor(new fye(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return PZ(a)?a.then((e=>[].concat(e))):[].concat(a)}class Iye{constructor(e={},t={},n={},r={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nye(e,t,n,r){const o=new Set,a=[];let i=null,s=null;const l=new Set,u=Object.keys(e).map((e=>_be(e)[0]));let c=[];null!=r&&(c=r.map((e=>_be(e.name)[0])));const d=[...t];for(;d.length>0;){const e=d.pop();($ye(e)||Mye(e)||Oye(e))&&null==i&&(i=e,s=i.children.map((e=>e.name)).filter((e=>o.has(e)))),o.add(e.name),null==n[e.name]&&(-1===u.indexOf(e.name)&&-1===c.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):a.push(e.name)))}return{inputs:e,outputs:t,usedNodes:o,missingInputs:a,dynamicNode:i,syncInputs:s}}const Tye=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Rye=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],_ye=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function $ye(e){return Tye.indexOf(e.op)>=0}function Mye(e){return Rye.indexOf(e.op)>=0}function Oye(e){return _ye.indexOf(e.op)>=0}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Aye{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Aye(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,t){const n=Nye(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:a}=n;if(null!=o)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(r.length>0){const n=t.map((e=>e.name)),o=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${o}]. Missing the following inputs: [${r}]`)}return function(e,t,n){const{usedNodes:r,inputs:o}=n,a=[],i=Object.keys(o).map((e=>_be(e)[0])).map((t=>e.nodes[t])),s=e.initNodes;i.forEach((e=>{r.has(e.name)&&a.push(e)})),e.weights.forEach((e=>{r.has(e.name)&&a.push(e)})),null!=s&&s.forEach((e=>{r.has(e.name)&&a.push(e)}));const l=new Set,u=[];for(;a.length>0;){const e=a.pop();l.add(e.name),t[e.name]||u.push(e),e.children.forEach((e=>{!l.has(e.name)&&r.has(e.name)&&e.inputs.every((e=>l.has(e.name)))&&a.push(e)}))}return u}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[_be(e)[0]])),o=t.map((e=>_be(e)[0]));let a=o.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===a.length&&(a=this._outputs);const i=this.getCompilationKey(r,a);let s=this.compiledMap.get(i);null==s&&(s=this.compile(e,a),this.compiledMap.set(i,s));const l={},u={};return z4((()=>{const n=new Iye(this.weightMap,l,u,this.functionExecutorMap),r=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,o]=_be(t),a=[];a[o]=e[t],r[n]=a}));const a=this.getFrozenTensorIds(r),i={};for(let e=0;e<s.length;e++){const t=s[e];if(!r[t.name]){const e=Eye(t,r,n,this._resourceManager);if(PZ(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);r[t.name]=e,this.checkTensorForDisposal(t.name,t,r,n,a,o,i)}}return null==this.parent&&n.dispose(a),t.map((e=>Nbe(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,o,a,i){"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(i[e.id]=(i[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const a=function(e,t,n){return t[Rbe(e,n.currentContextId)]}(e.name,n,r);null!=a&&a.forEach((e=>{if(e&&!e.kept&&!o.has(e.id)){const n=i[e.id];if(1===n){if(this.keepTensorForDebug){const[n,o]=Tbe(t.name,r);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][o]=e}else e.dispose();delete i[e.id]}else null!=n&&i[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t,n=!1,r={},o={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=BZ().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(kxe){console.warn(kxe.message)}this.resetIntermediateTensors();const a=new Iye(this.weightMap,r,o,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,a,t,n);const i=t.map((e=>Nbe(e,this.tensorsMap,a))),s=i.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...s,...l,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&a.dispose(this.keepIds),i}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const o=Object.keys(e),a=o.map((e=>this.graph.nodes[_be(e)[0]])),i=n.map((e=>_be(e)[0]));let s=i.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const{usedNodes:l,missingInputs:u,dynamicNode:c,syncInputs:d}=Nye(e,s,this.weightMap,this._initNodes),p=[...a,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=_be(t),o=[];o[r]=e[t],f[n]=o}));const h={},m=this.getFrozenTensorIds(f),g={};for(;p.length>0;){const e=this.processStack(a,p,t,f,g,m,i,h,l);await Promise.all(e)}null!=c||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=s.filter((e=>!$ye(e)&&!Nbe(e.name,f,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=c&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${o}]. Consider providing the following inputs: [${u}]. ${e}`)}return f}processStack(e,t,n,r,o,a,i,s,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&Ibe("isConstant",e.node,r,n)&&([c]=Tbe(e.node.name,n)),null==r[e.node.name]){const d=Eye(e.node,r,n,this._resourceManager);c||([c]=Tbe(e.node.name,n));const p=n.currentContext;PZ(d)?u.push(d.then((u=>(r[c]=u,n.currentContext=p,this.checkTensorForDisposal(c,e.node,r,n,a,i,s),this.processChildNodes(e.node,t,n,r,o,l),u)))):(r[c]=d,this.checkTensorForDisposal(c,e.node,r,n,a,i,s),this.processChildNodes(e.node,t,n,r,o,l))}else this.processChildNodes(e.node,t,n,r,o,l)}return u}processChildNodes(e,t,n,r,o,a){e.children.forEach((e=>{const[i]=Tbe(e.name,n);!o[i]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!Nbe(e,r,n)))&&(o[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!Nbe(e,r,n)))&&(o[i]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=_be(t),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){const e=o.attrParams.shape.value;sZ(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}o.attrParams.dtype&&o.attrParams.dtype.value&&sZ(n.dtype===o.attrParams.dtype.value,(()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=_be(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=_be(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class Lye{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pye="?tfjs-format=file",Dye="model.json";class Fye{constructor(e,t={},n=L4){this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=n,null==t&&(this.loadOptions={}),this.resourceManager=new Lye}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return PZ(e)?e.then((e=>this.loadSync(e))):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(n=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Aye(Zbe.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=Zbe.Instance.transformGraph(e.modelInitializer);this.initializer=new Aye(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"==typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){const n=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const e={};return(n instanceof U2?[n]:n).forEach(((t,n)=>e[this.structuredOutputKeys[n]]=t)),e}return n}normalizeInputs(e){if(!(e instanceof U2||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,r)=>(t[n]=e[r],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function zye(e,t={},n=L4){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"==typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}${Dye}${Pye}`}
/**
    * @license
    * Copyright 2021 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */(e));const r=new Fye(e,t,n);return await r.load(),r}function Bye(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function jye(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var Wye=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];t.push(o)}return t},Vye=function(){this.parent=null,this.children={},this.end=!1,this.word=[[],0,0]},Hye=function(){function e(){this.root=new Vye}return e.prototype.insert=function(e,t,n){for(var r=this.root,o=Wye(e),a=0;a<o.length;a++)r.children[o[a]]||(r.children[o[a]]=new Vye,r.children[o[a]].parent=r,r.children[o[a]].word[0]=r.word[0].concat(o[a])),r=r.children[o[a]],a===o.length-1&&(r.end=!0,r.word[1]=t,r.word[2]=n)},e.prototype.commonPrefixSearch=function(e){for(var t=[],n=this.root.children[e[0]],r=0;r<e.length&&n;r++)n.end&&t.push(n.word),n=n.children[e[r+1]];return t.length||t.push([[e[0]],0,0]),t},e}();var Uye=function(){function e(e,t){void 0===t&&(t=6),this.vocabulary=e,this.reservedSymbolsCount=t,this.trie=new Hye;for(var n=this.reservedSymbolsCount;n<this.vocabulary.length;n++)this.trie.insert(this.vocabulary[n][0],this.vocabulary[n][1],n)}return e.prototype.encode=function(e){var t=[],n=[],r=[];e=function(e){var t=e.normalize("NFKC");return t.length>0?""+t.replace(/ /g,""):t}(e);for(var o=Wye(e),a=0;a<=o.length;a++)t.push({}),n.push(0),r.push(0);for(a=0;a<o.length;a++)for(var i=this.trie.commonPrefixSearch(o.slice(a)),s=0;s<i.length;s++){var l=i[s],u={key:l[0],score:l[1],index:l[2]};null==t[a+(c=l[0].length)][a]&&(t[a+c][a]=[]),t[a+c][a].push(u)}for(var c=0;c<=o.length;c++)for(var d in t[c]){var p=t[c][d];for(s=0;s<p.length;s++){var f=p[s],h=f.score+r[c-f.key.length];(0===r[c]||h>=r[c])&&(r[c]=h,n[c]=p[s].index)}}for(var m=[],g=n.length-1;g>0;)m.push(n[g]),g-=this.vocabulary[n[g]][0].length;var v=[],b=!1;for(a=0;a<m.length;a++){var y=m[a];b&&0===y||v.push(y),b=0===y}return v.reverse()},e}();function Gye(e){return Bye(this,void 0,void 0,(function(){return jye(this,(function(t){switch(t.label){case 0:return[4,$2(e)];case 1:return[2,t.sent().json()]}}))}))}var qye=function(){function e(){}return e.prototype.loadModel=function(e){return Bye(this,void 0,void 0,(function(){return jye(this,(function(t){return[2,e?zye(e):zye("https://tfhub.dev/tensorflow/tfjs-model/universal-sentence-encoder-lite/1/default/1",{fromTFHub:!0})]}))}))},e.prototype.load=function(e){return void 0===e&&(e={}),Bye(this,void 0,void 0,(function(){var t,n,r;return jye(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.loadModel(e.modelUrl),Gye(e.vocabUrl||"https://storage.googleapis.com/tfjs-models/savedmodel/universal_sentence_encoder/vocab.json")])];case 1:return t=o.sent(),n=t[0],r=t[1],this.model=n,this.tokenizer=new Uye(r),[2]}}))}))},e.prototype.embed=function(e){return Bye(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,l,u=this;return jye(this,(function(c){switch(c.label){case 0:for("string"==typeof e&&(e=[e]),t=e.map((function(e){return u.tokenizer.encode(e)})),n=t.map((function(e,t){return e.map((function(e,n){return[t,n]}))})),r=[],o=0;o<n.length;o++)r=r.concat(n[o]);return a=v7(r,[r.length,2],"int32"),i=g7(cZ(t),"int32"),s={indices:a,values:i},[4,this.model.executeAsync(s)];case 1:return l=c.sent(),a.dispose(),i.dispose(),[2,l]}}))}))},e}();const Yye=pF((()=>{var e;return(null==(e=qve.getValue())?void 0:e.id)??null})),Kye=(e,t)=>{const n=String(e||"").toLowerCase().split(" "),r=String(t||"").toLowerCase().split(" ");return n.every((function(e){return r.some((t=>t.includes(e)))}))},Xye=pF((async()=>await function(e){return Bye(this,void 0,void 0,(function(){var t;return jye(this,(function(n){switch(n.label){case 0:return[4,(t=new qye).load(e)];case 1:return n.sent(),[2,t]}}))}))}()));async function Qye(e){await j4();const t=await Xye(),n=e.trim(),r=await t.embed([n]),o=await r.array(),a=new Float32Array(o[0]);return r.dispose(),Array.from(a)}j4().then(Xye);const Zye=async(e,t)=>{await j4();const n=g7(e),r=g7(t),o=e8(y5(n,r)),a=n8(n),i=n8(r),s=y5(a,i),l=b5(o,s),[u]=await l.data();return n.dispose(),r.dispose(),o.dispose(),a.dispose(),i.dispose(),s.dispose(),l.dispose(),u},Jye=[{label:"Draft",field:"draft",align:"left",width:()=>85,format:e=>Z.jsx(fI,{checked:e.id===Yye()})},{label:"User input",field:"input_content",width:e=>.33*(e-85),minWidth:175,format:e=>{var t;return(null==(t=null==e?void 0:e.input)?void 0:t.content)||"Empty"}},{label:"Prefered output",field:"prefered_output",width:e=>.33*(e-85),minWidth:175,format:e=>{var t;return(null==(t=null==e?void 0:e.preferred_output)?void 0:t.content)||"Empty"}},{label:"Non-Prefered output",field:"non_prefered_output",width:e=>.33*(e-85),minWidth:175,format:e=>{var t;return(null==(t=null==e?void 0:e.non_preferred_output)?void 0:t.content)||"Empty"}}],exe=[{action:"copy-action",label:"Make a copy",icon:pge},{action:"edit-action",label:"Edit",icon:gge},{action:"remove-action",label:"Remove",icon:hge}],txe=[{type:eZ.Component,element:()=>{const[e,t]=vbe(),[n,r]=W.useState(e.vector_search),o=_z((e=>{t((t=>({...t,vector_search:e})))}),1e3,{trailing:!0});return Z.jsxs(Y_,{direction:"row",alignItems:"center",gap:1,children:[Z.jsx(eO,{variant:"standard",value:n,onChange:({target:e})=>{o.callback(e.value),r(e.value)},InputProps:{endAdornment:Z.jsx(LN,{position:"end",children:Z.jsx(qS,{edge:"end",onClick:()=>{o.callback(""),r("")},children:e.vector_search?Z.jsx(dge,{}):Z.jsx(Ege,{})})})},placeholder:"Fulltext search"}),Z.jsx(Ii,{sx:{flex:1}}),Z.jsx(vG,{variant:"outlined",oneSx:{background:"#000c"},waitForChangesDelay:0,startIcon:Z.jsx(bge,{}),handler:()=>({non_prefered_output:e.non_prefered_output,prefered_output:e.prefered_output,user_input:e.user_input}),fields:rxe,onChange:(e,n)=>{n||t((({vector_search:t})=>({...e,vector_search:t})))},children:"Filters"})]})}},{type:eZ.Button,label:"Create",icon:lge,action:"create-action"},{type:eZ.Button,label:"Save",icon:Sge,action:"save-action"}],nxe=[{label:"Refresh",icon:kge,action:"refresh-action"},{label:"Save",icon:Sge,action:"save-action"},{label:"Load",icon:vge,action:"load-action"},{divider:!0},{action:"code-action",label:"Tool builder",icon:fge},{divider:!0},{action:"export-action-sft",label:"Export to jsonl (SFT)",icon:wge},{label:"Import from jsonl (SFT)",icon:xge,action:"import-action-sft"},{divider:!0},{action:"export-action",label:"Export to jsonl (DPO)",icon:wge},{label:"Import from jsonl (DPO)",icon:xge,action:"import-action"},{divider:!0},{label:"Remove all",icon:mge,action:"remove-all-action"}],rxe=[{type:$P.Box,sx:{pr:1,pl:1},fields:[{type:$P.Box,sx:{display:"grid",gridTemplateColumns:"auto 1fr auto",alignItems:"center"},fields:[{type:$P.Typography,typoVariant:"h6",placeholder:"Row filters"},{type:$P.Div},{type:$P.Button,fieldRightMargin:"0",buttonVariant:"text",title:"Clear",click({},{},{},{},{},e){e({user_input:"",prefered_output:"",non_prefered_output:""})}}]},{type:$P.Text,fieldRightMargin:"0",outlined:!0,name:"user_input",title:"User input",placeholder:"Text for fulltext search",trailingIcon:dge,trailingIconClick({},{},{},e){e("")}},{type:$P.Text,fieldRightMargin:"0",outlined:!0,name:"prefered_output",title:"Prefered output",placeholder:"Text for fulltext search",trailingIcon:dge,trailingIconClick({},{},{},e){e("")}},{type:$P.Text,fieldRightMargin:"0",outlined:!0,name:"non_prefered_output",title:"Non-Prefered output",placeholder:"Text for fulltext search",trailingIcon:dge,trailingIconClick({},{},{},e){e("")}}]}],oxe=[{type:$P.Radio,name:"format",radioValue:"hf",title:"HuggingFace format",defaultValue:"hf"},{type:$P.Typography,sx:{opacity:.6},typoVariant:"body2",click({},{},{},{},{},e){e({format:"hf"})},placeholder:'HuggingFace format means the next standart role fields will be user: "system", "user" and "assistant". Tools are included in this type of export'},{type:$P.Radio,name:"format",radioValue:"openai",title:"OpenAI format",isDisabled:({},{isHfOnly:e})=>e||!1},{type:$P.Typography,sx:{opacity:.6},typoVariant:"body2",click({},{},{},{isHfOnly:e},{},t){e||t({format:"openai"})},placeholder:'OpenAI format means the next standart role fields will be user: "system", "user" and "assistant". Tool calls are not being exported with that method'},{type:$P.Radio,name:"format",radioValue:"cohere",title:"Cohere format",isDisabled:({},{isHfOnly:e})=>e||!1},{type:$P.Typography,fieldBottomMargin:"5",sx:{opacity:.6},typoVariant:"body2",click({},{},{},{isHfOnly:e},{},t){e||t({format:"cohere"})},placeholder:'Cohere format means the next role field values will be user: "System", "User" and "Chatbot". Tool calls are not being exported with that method'}];function axe(e){const t=e.input.tool1,n={[t.arg1.name]:{type:t.arg1.type,description:t.arg1.description,...t.arg1.enum&&{enum:t.arg1.enum}},[t.arg2.name]:{type:t.arg2.type,description:t.arg2.description,...t.arg2.enum&&{enum:t.arg2.enum}},[t.arg3.name]:{type:t.arg3.type,description:t.arg3.description,...t.arg3.enum&&{enum:t.arg3.enum}},[t.arg4.name]:{type:t.arg4.type,description:t.arg4.description,...t.arg4.enum&&{enum:t.arg4.enum}},[t.arg5.name]:{type:t.arg5.type,description:t.arg5.description,...t.arg5.enum&&{enum:t.arg5.enum}}};delete n[""];const r=[t.arg1.required?t.arg1.name:null,t.arg2.required?t.arg2.name:null,t.arg3.required?t.arg3.name:null,t.arg4.required?t.arg4.name:null,t.arg5.required?t.arg5.name:null].filter(Boolean);return{type:"function",function:{name:t.name,description:t.description,parameters:{type:"object",properties:n,required:r}}}}const ixe=(e,t)=>({type:$P.Outline,fieldBottomMargin:"2",fields:[{type:$P.Text,name:`${e}.arg${t}.name`,dirty:!0,validation:{required:!0},labelShrink:!0,title:`Argument ${t} Name`},{type:$P.Combo,itemList:["string","number","boolean"],validation:{required:!0},dirty:!0,name:`${e}.arg${t}.type`,title:"Type",defaultValue:"string"},{type:$P.Text,validation:{required:!0},dirty:!0,inputRows:3,name:`${e}.arg${t}.description`,title:"Description"},{type:$P.Items,name:`${e}.arg${t}.enum`,title:"Enum (optional)",freeSolo:!0},{type:$P.Checkbox,name:`${e}.arg${t}.required`,title:"Required",defaultValue:!1}]}),sxe=[{type:$P.Paper,sx:{overflow:"hidden"},innerPadding:"0px",desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",fieldBottomMargin:"1",fieldRightMargin:"1",child:{type:$P.Box,sx:{minHeight:"calc(100vh - 100px)",maxHeight:"calc(100vh - 100px)",overflowX:"hidden",overflowY:"auto",p:1},child:(lxe="input.tool1",uxe=1,{type:$P.Group,fields:[{type:$P.Text,validation:{required:!0},dirty:!0,outlined:!0,labelShrink:!0,name:`${lxe}.name`,title:`Tool ${uxe} Name`,placeholder:"Start typing to expand"},{type:$P.Text,outlined:!0,validation:{required:!0},dirty:!0,inputRows:3,name:`${lxe}.description`,title:"Tool Description"},ixe(lxe,1),ixe(lxe,2),ixe(lxe,3),ixe(lxe,4),ixe(lxe,5)]})}},{type:$P.Paper,sx:{minHeight:"calc(100vh - 100px)",maxHeight:"calc(100vh - 100px)",overflowX:"hidden",overflowY:"auto"},desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",fieldBottomMargin:"1",fieldRightMargin:"1",child:{type:$P.Component,fieldBottomMargin:"3",element:({_fieldData:e})=>Z.jsx("pre",{children:JSON.stringify(axe(e),null,2)})}}];var lxe,uxe;const cxe=[{type:eZ.Link,action:"back-action",label:"Fine tune"},{type:eZ.Link,action:"back-action",label:"Tool builder"}],dxe=[{path:"/",element:()=>{const[e]=vbe(),t=function(e){var t=e.fields,n=e.large,r=e.canCancel,o=e.title,a=e.handler,i=e.payload,s=e.waitForChangesDelay,l=e.readTransform,u=e.writeTransform,c=e.incomingTransform,d=e.outgoingTransform,p=e.isBaseline,f=e.isBaselineForRoot,h=e.features,m=W.useRef(),g=rF((function(){return{currentHandler:a,currentPayload:i,currentTitle:o,open:!1}})),v=NP(aF(g),2),b=v[0],y=v[1];W.useEffect((function(){b.current.open||y((function(e){return kP(kP({},e),{currentHandler:a})}))}),[a]),W.useEffect((function(){b.current.open||y((function(e){return kP(kP({},e),{currentPayload:i})}))}),[i]),W.useEffect((function(){b.current.open||y((function(e){return kP(kP({},e),{currentTitle:o})}))}),[o]);var x=function(e){var t=m.current;t&&t(e),y(g),S()},w=uG((function(){return W.createElement(YQ,{open:!0,large:n,canCancel:r,waitForChangesDelay:s,fields:t,title:b.current.currentTitle,handler:b.current.currentHandler,payload:b.current.currentPayload,readTransform:l,writeTransform:u,incomingTransform:c,outgoingTransform:d,onChange:x,isBaseline:p,isBaselineForRoot:f,features:h})}),[]),k=w.showModal,S=w.hideModal;return function(e){var t=void 0===e?{}:e,n=t.handler,r=t.payload,o=t.title;return new function(){var e=this;this.then=function(e){m.current=e},this.toPromise=function(){return CP(e,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return e=new uD,this.then(e.next),[4,e.toPromise()];case 1:return[2,t.sent()]}}))}))},y((function(e){return{currentHandler:void 0!==n?n:e.currentHandler,currentPayload:void 0!==r?r:e.currentPayload,currentTitle:void 0!==o?o:e.currentTitle,open:!0}})),k()}}}({title:"Pick finetune format",fields:oxe,canCancel:!0}),n=fG({title:"The unsaved draft found",msg:"Looks like there is unsaved draft. Would you like to open it?",canCancel:!0}),r=fG({title:"Are you sure?",msg:"This action will remove everything from the card. Continue?",canCancel:!0}),[o,{loading:a,execute:i}]=mW((async()=>{var t,n,r;Yye.clear();const o=Ige.getValue(),a=[];if(o){const i=new bbe;if(e.vector_search){console.log("[TFJS] Building search vector");const s=await Qye(e.vector_search);for(const e of o){console.log(`[TFJS] Calculating vector for ${e.id}`);const o=await Qye((null==(t=null==e?void 0:e.input)?void 0:t.content)||""),a=await Qye((null==(n=null==e?void 0:e.preferred_output)?void 0:n.content)||""),l=await Qye((null==(r=null==e?void 0:e.preferred_output)?void 0:r.content)||"");console.log(`[TFJS] Calculating similarity for ${e.id}`);const[u,c,d]=await Promise.all([await Zye(s,o),await Zye(s,a),await Zye(s,l)]),p=Math.max(u,c,d);console.log(`[TFJS] Calculating similarity for ${e.id} similarity=${p}`),p>.2&&i.push(e,p)}for(const e of i)a.push(e)}else o.forEach((e=>a.push(e)))}return a.filter((t=>{var n,r,o;let a=!0;return e.user_input&&(a=a&&Kye(e.user_input,null==(n=null==t?void 0:t.input)?void 0:n.content)),e.prefered_output&&(a=a&&Kye(e.prefered_output,null==(r=null==t?void 0:t.preferred_output)?void 0:r.content)),e.non_prefered_output&&(a=a&&Kye(e.non_prefered_output,null==(o=null==t?void 0:t.non_preferred_output)?void 0:o.content)),a}))}),{deps:[e]});Oq((async()=>{(async()=>{const e=qve.getValue();e&&(await mq(n().toPromise())||(Ige.getValue().some((t=>t.id===e.id))||Ige.setValue([...Ige.getValue()||[],e]),Nge.push(`/${e.id}`)))})(),(async()=>{null===Ige.getValue()&&u()})()}));const s=async()=>{if(!(await t({title:"Pick finetune import format",payload:{isHfOnly:!0}}).toPromise()))return;const e=await dW("*.jsonl");if(!e)return;const n=function(e){const t=e.trim().split("\n"),n=[];for(const r of t){if(!r.trim())continue;const e=JSON.parse(r),{input:t,preferred_output:o,non_preferred_output:a}=e;if(!(null==t?void 0:t.messages)||!o||!a)continue;const i=t.messages.slice(0,-1),s=t.messages[t.messages.length-1];if(!s)continue;const l=(t.tools||[]).map(((e,t)=>Lge(e.function))),u=o[0]||{},c=a[0]||{},d=(u.tool_calls||[]).map((e=>Dge(e))),p=(c.tool_calls||[]).map((e=>Dge(e))),f={name:"",arg1:{key:"",value:""},arg2:{key:"",value:""},arg3:{key:"",value:""},arg4:{key:"",value:""},arg5:{key:"",value:""}},h={name:"",description:"",arg1:{name:"",type:"",description:"",enum:null,required:!1},arg2:{name:"",type:"",description:"",enum:null,required:!1},arg3:{name:"",type:"",description:"",enum:null,required:!1},arg4:{name:"",type:"",description:"",enum:null,required:!1},arg5:{name:"",type:"",description:"",enum:null,required:!1}},m={role:null,content:"",tool1:f},g={message1:i[0]?Age(i[0],f):m,message2:i[1]?Age(i[1],f):m,message3:i[2]?Age(i[2],f):m,message4:i[3]?Age(i[3],f):m,message5:i[4]?Age(i[4],f):m},v={id:QD(),input:{role:s.role,content:s.content||"",tool1:l[0]||h,tool2:l[1]||h,tool3:l[2]||h,tool4:l[3]||h,tool5:l[4]||h},preferred_output:{role:u.role||"assistant",content:u.content||"",tool1:d[0]||f,tool2:d[1]||f,tool3:d[2]||f,tool4:d[3]||f,tool5:d[4]||f},non_preferred_output:{role:c.role||"assistant",content:c.content||"",tool1:p[0]||f,tool2:p[1]||f,tool3:p[2]||f,tool4:p[3]||f,tool5:p[4]||f},history:g};n.push(v)}return n}(await e.text());Ige.setValue(n),i()},l=async()=>{if(!(await t({title:"Pick finetune import format",payload:{isHfOnly:!0}}).toPromise()))return;const e=await dW("*.jsonl");if(!e)return;const n=function(e){const t=e.trim().split("\n"),n=[];for(const r of t){if(!r.trim())continue;const e=JSON.parse(r).messages;if(!e||e.length<2)continue;const t=e.slice(0,-2),o=e[e.length-2],a=e[e.length-1];if(!o||!a)continue;const i=(o.tools||[]).map(((e,t)=>pbe(e.function))),s=(a.tool_calls||[]).map((e=>hbe(e))),l={name:"",arg1:{key:"",value:""},arg2:{key:"",value:""},arg3:{key:"",value:""},arg4:{key:"",value:""},arg5:{key:"",value:""}},u={name:"",description:"",arg1:{name:"",type:"",description:"",enum:null,required:!1},arg2:{name:"",type:"",description:"",enum:null,required:!1},arg3:{name:"",type:"",description:"",enum:null,required:!1},arg4:{name:"",type:"",description:"",enum:null,required:!1},arg5:{name:"",type:"",description:"",enum:null,required:!1}},c={role:null,content:"",tool1:l},d={message1:t[0]?dbe(t[0],l):c,message2:t[1]?dbe(t[1],l):c,message3:t[2]?dbe(t[2],l):c,message4:t[3]?dbe(t[3],l):c,message5:t[4]?dbe(t[4],l):c},p={id:QD(),input:{role:o.role,content:o.content||"",tool1:i[0]||u,tool2:i[1]||u,tool3:i[2]||u,tool4:i[3]||u,tool5:i[4]||u},preferred_output:{role:a.role,content:a.content||"",tool1:s[0]||l,tool2:s[1]||l,tool3:s[2]||l,tool4:s[3]||l,tool5:s[4]||l},non_preferred_output:{role:a.role,content:"",tool1:l,tool2:l,tool3:l,tool4:l,tool5:l},history:d};n.push(p)}return n}(await e.text());Ige.setValue(n),i()},u=()=>{const e={id:QD(),...hG(ebe)};Ige.setValue([e,...Ige.getValue()??[]]),Nge.push(`/${e.id}`)},c=async()=>{const e=await t({title:"Pick finetune export format"}).toPromise();e&&function(e,t,n=`finetune.${(new Date).toISOString()}.jsonl`){if(!e)return;"cohere"===t&&(e=(e=>e.map((e=>({...e,preferred_output:{...e.preferred_output,role:"System",tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},non_preferred_output:{...e.non_preferred_output,role:"System",tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},input:{...e.input,role:"User",tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},history:{message1:e.history.message1?{...e.history.message1,role:"system"===e.history.message1.role?"System":"user"===e.history.message1.role?"User":"Chatbot",tool1:void 0}:void 0,message2:e.history.message2?{...e.history.message2,role:"system"===e.history.message2.role?"System":"user"===e.history.message2.role?"User":"Chatbot",tool1:void 0}:void 0,message3:e.history.message3?{...e.history.message3,role:"system"===e.history.message3.role?"System":"user"===e.history.message3.role?"User":"Chatbot",tool1:void 0}:void 0,message4:e.history.message4?{...e.history.message4,role:"system"===e.history.message4.role?"System":"user"===e.history.message4.role?"User":"Chatbot",tool1:void 0}:void 0,message5:e.history.message5?{...e.history.message5,role:"system"===e.history.message5.role?"System":"user"===e.history.message5.role?"User":"Chatbot",tool1:void 0}:void 0}}))))(e)),"openai"===t&&(e=(e=>e.map((e=>({...e,preferred_output:{...e.preferred_output,tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},non_preferred_output:{...e.non_preferred_output,tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},input:{...e.input,tool1:void 0,tool2:void 0,tool3:void 0,tool4:void 0,tool5:void 0},history:{message1:e.history.message1?{...e.history.message1,tool1:void 0}:void 0,message2:e.history.message2?{...e.history.message2,tool1:void 0}:void 0,message3:e.history.message3?{...e.history.message3,tool1:void 0}:void 0,message4:e.history.message4?{...e.history.message4,tool1:void 0}:void 0,message5:e.history.message5?{...e.history.message5,tool1:void 0}:void 0}}))))(e));const r=Tge(e),o=new Blob([r],{type:"text/plain;charset=utf-8"}),a=window.URL.createObjectURL(o),i=document.createElement("a");i.href=a,i.download=n,i.target="_blank",i.click(),setTimeout((()=>window.URL.revokeObjectURL(a)))}(Ige.getValue(),e.format)};return o?Z.jsxs(hI,{children:[Z.jsx(dX,{items:txe,actions:nxe,onAction:async e=>{"remove-all-action"===e&&(async()=>{await r().toPromise()&&(Ige.setValue([]),i())})(),"save-action"===e&&function(e,t=`storage.${(new Date).toISOString()}.json`){if(!e)return;const n=JSON.stringify(e),r=new Blob([n],{type:"text/plain;charset=utf-8"}),o=window.URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=t,a.target="_blank",a.click(),setTimeout((()=>window.URL.revokeObjectURL(o)))}(Ige.getValue()),"load-action"===e&&(async()=>{const e=await dW("*.json");if(!e)return;const t=await e.text(),n=JSON.parse(t);Ige.setValue(n),i()})(),"refresh-action"===e&&i(),"create-action"===e&&u(),"export-action"===e&&c(),"import-action-sft"===e&&l(),"export-action-sft"===e&&(async()=>{const e=await t({title:"Pick finetune export format"}).toPromise();e&&cbe(Ige.getValue(),e.format)})(),"import-action"===e&&s(),"code-action"===e&&Nge.push("/tool")}}),Z.jsx(uk,{children:Z.jsx(NB,{sx:{height:"calc(100vh - 100px)"},data:o,loading:a,rowActions:exe,columns:Jye,onRowAction:(e,t)=>{if("copy-action"===e){const e=Ige.getValue();Ige.setValue([...e,{...t,id:QD()}]),i()}if("remove-action"===e){const e=Ige.getValue();Ige.setValue(e.filter((({id:e})=>e!==t.id))),i()}"edit-action"===e&&Nge.push(`/${t.id}`)},onRowClick:({id:e})=>{Ige.getValue().some((t=>t.id===e))?Nge.push(`/${e}`):i()}})}),Z.jsxs(Kx,{variant:"body2",sx:{opacity:.5,mt:.5},children:["Total: ",o.length]})]}):null}},{path:"/tool",element:()=>Z.jsxs(hI,{children:[Z.jsx(dX,{items:cxe,onAction:e=>{"back-action"===e&&Nge.push("/")}}),Z.jsx(rG,{fields:sxe})]})},{path:"/:id",element:({id:e})=>{const[t,n]=DD(null),r=wX(),o=fG({title:"Are you sure?",msg:"You are going to leave the page without saving changes. Continue?",canCancel:!0}),a=function(e){var t=void 0===e?{}:e,n=t.title,r=void 0===n?"Alert":n,o=t.description,a=void 0===o?"":o,i=t.large,s=void 0!==i&&i,l=W.useRef(),u=rF((function(){return{currentDescription:a,currentTitle:r,open:!1}})),c=NP(aF(u),2),d=c[0],p=c[1];W.useEffect((function(){d.current.open||p((function(e){return kP(kP({},e),{currentTitle:r})}))}),[r]),W.useEffect((function(){d.current.open||p((function(e){return kP(kP({},e),{currentDescription:a})}))}),[a]);var f=function(){var e=l.current;e&&e(),p(u),g()},h=uG((function(){return W.createElement(qQ,{open:!0,large:s,title:d.current.currentTitle,description:d.current.currentDescription,onOk:f})}),[]),m=h.showModal,g=h.hideModal;return function(e){var t=void 0===e?{}:e,n=t.description,r=t.title;return new function(){var e=this;this.then=function(e){l.current=e},this.toPromise=function(){return CP(e,void 0,void 0,(function(){var e;return EP(this,(function(t){switch(t.label){case 0:return e=new uD,this.then(e.next),[4,e.toPromise()];case 1:return[2,t.sent()]}}))}))},p((function(e){return{currentTitle:void 0!==r?r:e.currentTitle,currentDescription:void 0!==n?n:e.currentDescription,open:!0}})),m()}}}({title:"Validation error",large:!0}),i=rF((()=>{t.current?(qve.setValue({...t.current,id:e}),r("Changes saved as draft")):r("There are no changes to make a draft")})),s=rF((async()=>{if(!t.current)return void r("There are no changes to save");const o=await obe(t.current);{const{errors:e,valid:t}=Hve(o);if(!t)return void a({title:"The invalid tool calls",description:e.map(((e,t)=>`${t+1}) ${e}`)).join("\n\n")})}{const{errors:e,valid:t}=function(e){const t=[],n=[{message:e.history.message1,position:"message1"},{message:e.history.message2,position:"message2"},{message:e.history.message3,position:"message3"},{message:e.history.message4,position:"message4"},{message:e.history.message5,position:"message5"}];let r=!1,o=!0,a=null;return n.forEach((({message:e,position:n})=>{const i=e.role;null!==i?(r&&t.push(`history.${n}: Messages must be contiguous without gaps`),"system"===i?o||t.push(`history.${n}: System messages must be at the beginning`):(o=!1,"assistant"===i&&"user"!==a&&t.push(`history.${n}: Assistant message must be preceded by a user message`),a=i)):r=!0})),{valid:0===t.length,errors:t}}(o);if(!t)return void a({title:"The invalid chat history order",description:e.map(((e,t)=>`${t+1}) ${e}`)).join("\n\n")})}{const{errors:e,valid:t}=Yve(o);if(!t)return void a({title:"The invalid chat history tool calls",description:e.map(((e,t)=>`${t+1}) ${e}`)).join("\n\n")})}const i=Ige.getValue();Ige.setValue(i.map((t=>t.id===e?{...o,id:e}:t)));{const t=qve.getValue();(null==t?void 0:t.id)===e&&qve.setValue(null)}n(null),r("Changes saved")}));return Z.jsxs(hI,{children:[Z.jsx(dX,{items:tbe,actions:nbe,onAction:async e=>{"draft-action"===e&&i(),"back-action"===e&&(async()=>{t.current?await o().toPromise()&&Nge.push("/"):Nge.push("/")})(),"save-action"===e&&await KP(2e3).then(s)}}),Z.jsx(rG,{handler:()=>{const t=qve.getValue();return(null==t?void 0:t.id)===e?t:Ige.getValue().find((t=>t.id===e))??null},fields:ebe,onChange:(e,t)=>{t||n(e)}})]})}}],pxe=()=>Z.jsx(gbe,{initialState:mbe,children:Z.jsx(tX,{items:dxe,history:Nge})}),fxe=()=>Z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",height:64,width:64,viewBox:"0 0 128 128",children:[Z.jsx("path",{d:"M111.81 64.6s11.48-1.47 11.83-.66c.56 1.31-7.79 10.14-7.79 10.14z",style:{fill:"#5c6063"}}),Z.jsx("path",{d:"M70.05 68.08s6.01-7.13 17.18-9.57S112 60.57 115 68.17c3.24 8.21 2.07 17.42-3.38 24.03-5.73 6.95-14.55 14.36-29.38 13.23-11.77-.89-15.49-5.82-15.49-5.82z",style:{fill:"#fcd41e"}}),Z.jsx("path",{d:"M99.05 76.34c2.94 7.73 3.57 15.39 3.47 19.24-.09 3.85-.38 5.16-.38 5.16s3.94-2.53 6.38-4.88c2.11-2.03 3.66-4.22 3.66-4.22s1.03-11.17-3-20.55-12.38-13.1-12.38-13.1-2.86-.61-6.1-.23c-3.2.37-7.13 1.78-7.13 1.78s10.69 4.22 15.48 16.8M74.83 63.85s6.85 3.66 11.26 14.08c4.69 11.07 3.75 27.41 3.75 27.41s-2.91.45-6.1.38c-2.06-.05-5.73-.8-5.73-.8S79.06 91.73 75.3 83c-1.67-3.87-5.91-8.73-5.91-8.73L70 67.7z",style:{fill:"#414340"}}),Z.jsx("path",{d:"M39.92 89.57s-4.97 2.16-9.48 3.1c-4.5.94-8.26 1.03-9.57 1.13-1.31.09-3 .66-2.72 3.57.24 2.53 3.94 2.27 6.19 2.16 3.66-.19 8.82-1.13 13.33-2.72s9.1-4.04 9.1-4.04z",style:{fill:"#5a6066"}}),Z.jsx("path",{d:"M66.25 65.26s21.68-27.59 24.64-31.53 7.32-10.98 12.25-11.12 9.43 4.36 11.68 10.98 2.39 13.29-1.13 17.74c-4.79 6.05-18.02 15.35-28.44 18.02s-16.47 3.38-16.47 3.38z",style:{opacity:.7,fill:"#6da3af"}}),Z.jsx("path",{d:"M65.4 63.29s15.2-26.47 18.44-32.8c3.24-6.34 6.19-12.25 5.35-16.26-.68-3.22-7.04-6.55-15.77-5.28S57.17 13.79 56.11 21.9c-1.13 8.59-.56 33.22-.56 33.22l-1.27 12.11 11.26 1.69z",style:{opacity:.7,fill:"#a1c5cb"}}),Z.jsx("path",{d:"M14.09 47.45s-5.84-4.08-7.95 4.65c-2.45 10.09 5.06 8.3 5.06 8.3z"}),Z.jsx("path",{d:"M30.91 37.53s-1.41-6.97-3.8-11.9-5.62-8.26-7.18-9.08c-1.62-.84-5.95-1.35-10.21-1.48-2.89-.09-5.7-.14-5.7 2.04 0 2.54 3.24 2.87 5.49 3.1 3.24.33 6.67.75 7.88 1.06 2.25.56 5.14 6.19 6.05 8.73.92 2.53 2.6 9.08 2.6 9.08z",style:{fill:"#848484"}}),Z.jsx("path",{d:"m58.64 59.21 2.53 4.36s4.22-3.52 4.86-3.45c.63.07 1.76 5.91 1.76 5.91s3.94-.99 4.5-.63c.56.35.28 4.58.28 4.58s4.93.28 5.07.7-2.18 4.36-2.18 4.36 3.94 2.39 3.87 3.03c-.07.63-3.38 3.24-3.38 3.24s3.1 3.52 2.82 4.43-4.72 1.13-4.72 1.13 1.06 4.58.77 5c-.28.42-5.21.35-5.21.35s2.39 3.87 2.04 4.29-7.63 1.92-7.63 1.92-3.66 4.08-6.31 4.62c-2.62.53-3.82-.07-3.82-.07l-3.07-3.03s-6.83.63-7.46.21-.77-8.45-.77-8.45-4.36.33-4.65-.21.63-5 .63-5l11.4-18.16z",style:{fill:"#fe8d00"}}),Z.jsx("path",{d:"M49.42 94.54c-2.72-1.93-5.85 1.86-7.53 3.17-2.53 1.97-4.93 5.42-13.16 7.6-4.84 1.28-4.58 3.03-4.08 4.65.62 2.04 3.59 1.83 7.18.84s7.77-3.23 9.43-4.43c2.04-1.48 6.9-6.05 7.81-6.9.92-.84 2.53-3.38.35-4.93m7.6 2.18c-2.29-.93-3.8.7-5 4.08s-3.45 9.64-4.5 12.04c-1.06 2.39-3.77 6.88-.77 8.38 3.24 1.62 4.72-1.27 5.63-3.24s3.66-8.52 4.43-11.12 1.2-4.01 1.55-5c.35-.98 1.27-4.08-1.34-5.14m7.82-.35c-3.2.43-2.6 4.22-2.39 6.97s.63 11.61.49 13.44 0 4.93 3.24 4.86 3.1-3.66 3.17-4.79-.49-11.97-.56-13.66c-.08-1.68.2-7.38-3.95-6.82",style:{fill:"#848484"}}),Z.jsx("path",{d:"M15.71 43.51c-5.04 5.23-8.46 20.64-5.28 29.63 3.24 9.15 9.85 15.42 21.68 15.91s22.17-6.9 25.9-19.64c3.57-12.2-.97-27.23-13.94-31.82-10.34-3.65-20.9-1.82-28.36 5.92",style:{fill:"#febb00"}}),Z.jsx("path",{d:"M44.57 59.35c0 5.33-4.19 9.65-9.36 9.65s-9.36-3.38-9.36-9.65c0-5.33 4.19-9.71 9.36-9.65 5.77.07 9.36 4.32 9.36 9.65"}),Z.jsx("path",{d:"M13.24 74.67c.74-.74 2.46-3.45 4.22-1.62s-1.34 4.15-1.9 4.65c-.75.66-2.25 1.06-3.03-.07-.53-.78-.2-2.05.71-2.96",style:{fill:"#fe8d00"}}),Z.jsx("path",{d:"M27.25 12.75c-.26 1.95.73 2.55 3.31 3.24 2.34.62 7.1 1.75 8.24 2.53.92.63 3.17 6.41 3.73 13.51.29 3.68.14 7.18 0 9.92-.12 2.28.35 3.8 2.18 4.08 1.66.26 3-.87 3.24-4.08.28-3.87.5-5.94 0-10.98-.38-3.83-1.03-6.99-2.25-11.12-1-3.38-2.57-5.19-4.15-6.34-1.91-1.37-6.05-2.18-9.43-2.53-2.84-.28-4.59-.32-4.87 1.77",style:{fill:"#848484"}})]}),hxe=MK("AGENT_TUNE_FIRST_SWARM"),mxe=Ua(),gxe=()=>{const[e,t]=W.useState(!1),n=BD(),r=XD(e);Oq((()=>{let e=0;document.addEventListener("click",(()=>{hxe.getValue()||15==++e&&(t(!0),hxe.setValue(!0))})),r.debounce(100).connect((()=>{n.next(iX.Abort)}))}));return Z.jsx(fa,{theme:mxe,children:e?Z.jsx(vX,{transparentPaper:!0,stateSubject:n,sx:{position:"fixed",top:"8px",right:"8px",pl:1,zIndex:999},onAnimationEnd:e=>{e===iX.Abort&&n.next(iX.Initial)},children:Z.jsxs(AE,{sx:{position:"relative"},children:[Z.jsx(qS,{size:"large",sx:{position:"absolute",top:"2px",right:"2px"},onClick:()=>t(!1),children:Z.jsx(dge,{})}),Z.jsx(XE,{avatar:Z.jsx(fxe,{}),title:Z.jsx(Kx,{variant:"h5",component:"div",children:"The Agent Swarm Kit"}),subheader:Z.jsx(Kx,{sx:{color:"text.secondary",mb:1.5},children:"Unleash the power of collaborative AI"})}),Z.jsx(WE,{children:Z.jsxs(Kx,{variant:"body2",children:["This library empowers you to create intelligent, modular agent networks that work together  ",Z.jsx("br",{}),"Perfect for automating workflows, solving complex problems, or designing next-gen AI systems "]})}),Z.jsx(FE,{children:Z.jsx(EE,{size:"small",onClick:()=>{hW("https://github.com/tripolskypetr/agent-swarm-kit"),t(!1)},children:"Continue"})})]})}):null})},vxe=document.getElementById("root"),bxe=Nt({key:"mui",prepend:!0}),yxe=Nt({key:"tss"}),xxe=Z.jsx(bn,{value:bxe,children:Z.jsx(pi,{value:yxe,children:Z.jsx(fa,{theme:age,children:Z.jsx(oge,{dateAdapter:class{constructor({locale:e,formats:t,instance:n}={}){var r,o,a;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.rawDayJsInstance=void 0,this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Zme,this.setLocaleToValue=e=>{const t=this.getCurrentLocaleCode();return t===e.locale()?e:e.locale(t)},this.hasUTCPlugin=()=>void 0!==Wme.utc,this.hasTimezonePlugin=()=>void 0!==Wme.tz,this.isSame=(e,t,n)=>{const r=this.setTimezone(t,this.getTimezone(e));return e.format(n)===r.format(n)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return Wme.tz.guess();default:return e}},this.createSystemDate=e=>{if(this.rawDayJsInstance)return this.rawDayJsInstance(e);if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const t=Wme.tz.guess();return"UTC"!==t?Wme.tz(e,t):Wme(e)}return Wme(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(ege);return Wme.utc(e)},this.createTZDate=(e,t)=>{if(!this.hasUTCPlugin())throw new Error(ege);if(!this.hasTimezonePlugin())throw new Error(tge);const n=void 0!==e&&!e.endsWith("Z");return Wme(e).tz(this.cleanTimezone(t),n)},this.getLocaleFormats=()=>{const e=Wme.Ls;let t=e[this.locale||"en"];return void 0===t&&(Qme(),t=e.en),t.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const t=this.getTimezone(e);if("UTC"!==t){var n,r;const o=e.tz(this.cleanTimezone(t),!0);return(null!=(n=o.$offset)?n:0)===(null!=(r=e.$offset)?r:0)?e:o}return e},this.date=e=>null===e?null:this.dayjs(e),this.dateWithTimezone=(e,t)=>{if(null===e)return null;let n;return n="UTC"===t?this.createUTCDate(e):"system"===t||"default"===t&&!this.hasTimezonePlugin()?this.createSystemDate(e):this.createTZDate(e,t),void 0===this.locale?n:n.locale(this.locale)},this.getTimezone=e=>{if(this.hasTimezonePlugin()){var t;const n=null==(t=e.$x)?void 0:t.$timezone;if(n)return n}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,t)=>{if(this.getTimezone(e)===t)return e;if("UTC"===t){if(!this.hasUTCPlugin())throw new Error(ege);return e.utc()}if("system"===t)return e.local();if(!this.hasTimezonePlugin()){if("default"===t)return e;throw new Error(tge)}return Wme.tz(e,this.cleanTimezone(t))},this.toJsDate=e=>e.toDate(),this.parseISO=e=>this.dayjs(e),this.toISO=e=>e.toISOString(),this.parse=(e,t)=>""===e?null:this.dayjs(e,t,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const t=this.getLocaleFormats();return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,((e,n,r)=>{const o=r&&r.toUpperCase();return n||t[r]||t[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,((e,t,n)=>t||n.slice(1)))}))},this.getFormatHelperText=e=>this.expandFormat(e).replace(/a/gi,"(a|p)m").toLocaleLowerCase(),this.isNull=e=>null===e,this.isValid=e=>this.dayjs(e).isValid(),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>this.dayjs(e).format(t),this.formatNumber=e=>e,this.getDiff=(e,t,n)=>e.diff(t,n),this.isEqual=(e,t)=>null===e&&null===t||this.dayjs(e).toDate().getTime()===this.dayjs(t).toDate().getTime(),this.isSameYear=(e,t)=>this.isSame(e,t,"YYYY"),this.isSameMonth=(e,t)=>this.isSame(e,t,"YYYY-MM"),this.isSameDay=(e,t)=>this.isSame(e,t,"YYYY-MM-DD"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.isAfter=(e,t)=>e>t,this.isAfterYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()>t.utc():e.isAfter(t,"year"),this.isAfterDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()>t.utc():e.isAfter(t,"day"),this.isBefore=(e,t)=>e<t,this.isBeforeYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()<t.utc():e.isBefore(t,"year"),this.isBeforeDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()<t.utc():e.isBefore(t,"day"),this.isWithinRange=(e,[t,n])=>e>=t&&e<=n,this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(e.startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(e.endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"year"):e.add(t,"year")),this.addMonths=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"month"):e.add(t,"month")),this.addWeeks=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"week"):e.add(t,"week")),this.addDays=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"day"):e.add(t,"day")),this.addHours=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"hour"):e.add(t,"hour")),this.addMinutes=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"minute"):e.add(t,"minute")),this.addSeconds=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"second"):e.add(t,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,t)=>this.adjustOffset(e.set("year",t)),this.setMonth=(e,t)=>this.adjustOffset(e.set("month",t)),this.setDate=(e,t)=>this.adjustOffset(e.set("date",t)),this.setHours=(e,t)=>this.adjustOffset(e.set("hour",t)),this.setMinutes=(e,t)=>this.adjustOffset(e.set("minute",t)),this.setSeconds=(e,t)=>this.adjustOffset(e.set("second",t)),this.setMilliseconds=(e,t)=>this.adjustOffset(e.set("millisecond",t)),this.getDaysInMonth=e=>e.daysInMonth(),this.getNextMonth=e=>this.addMonths(e,1),this.getPreviousMonth=e=>this.addMonths(e,-1),this.getMonthArray=e=>{const t=[e.startOf("year")];for(;t.length<12;){const e=t[t.length-1];t.push(this.addMonths(e,1))}return t},this.mergeDateAndTime=(e,t)=>e.hour(t.hour()).minute(t.minute()).second(t.second()),this.getWeekdays=()=>{const e=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map((t=>this.formatByString(this.addDays(e,t),"dd")))},this.getWeekArray=e=>{const t=this.setLocaleToValue(e),n=t.startOf("month").startOf("week"),r=t.endOf("month").endOf("week");let o=0,a=n;const i=[];for(;a<r;){const e=Math.floor(o/7);i[e]=i[e]||[],i[e].push(a),a=this.addDays(a,1),o+=1}return i},this.getWeekNumber=e=>e.week(),this.getYearRange=(e,t)=>{const n=e.startOf("year"),r=t.endOf("year"),o=[];let a=n;for(;a<r;)o.push(a),a=this.addYears(a,1);return o},this.getMeridiemText=e=>"am"===e?"AM":"PM",this.rawDayJsInstance=n,this.dayjs=(o=null!=(r=this.rawDayJsInstance)?r:Wme,(a=e)?(...e)=>o(...e).locale(a):o),this.locale=e,this.formats=we({},Jme,t),Wme.extend(Hme)}},adapterLocale:"en-gb",children:Z.jsx(kX,{children:Z.jsxs(lG,{children:[Z.jsx(vI,{}),Z.jsx(pxe,{}),Z.jsx(gxe,{})]})})})})})}),wxe=ige(vxe);PF.setValue({WITH_DIRTY_CLICK_LISTENER:!0,WITH_MOBILE_READONLY_FALLBACK:!0,WITH_WAIT_FOR_MOVE_LISTENER:!0,WITH_WAIT_FOR_TOUCH_LISTENER:!0,WITH_DISMOUNT_LISTENER:!0,WITH_SYNC_COMPUTE:!0,CUSTOM_FIELD_DEBOUNCE:800,FIELD_BLUR_DEBOUNCE:50}),AQ.setAdjustHeight(25),document.addEventListener("wheel",(()=>{const e=document.activeElement;e&&"number"===e.type&&e.blur()})),wxe.render(xxe);
